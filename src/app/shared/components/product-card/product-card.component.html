<div class="product-card" *ngIf="product.id; else loader">
  <a
    [routerLink]="[product.category + '/' + product.nameProduct]"
    [queryParams]="{ id: product.id }"
  >
    <div class="product-image">
      <img src="{{ product.image }}" alt="" />
    </div>

    <div class="product-title">
      <h3 class="product-name">{{ product.nameProduct }}</h3>
      <p class="product-ingredients">{{ product.ingredients.join(", ") }}</p>
    </div>
  </a>

  <form
    class="container-rating"
    [formGroup]="ratingForm"
    [style.color]="theme.get('background')"
  >
    <p-rating formControlName="rating" [cancel]="false"></p-rating>
    <i
      class="pi pi-check"
      (click)="saveRating()"
      *ngIf="ratingForm.get('rating')?.value"
    ></i>
  </form>

  <div class="container-price-fav">
    <span class="product-price">{{ product.price | currency }}</span>

    <button
      matRipple
      [matRippleUnbounded]="true"
      [matRippleCentered]="true"
      [matRippleRadius]="15"
      class="button-fav"
      (click)="toogleFav(product)"
    >
      <i
        class="fav"
        [ngClass]="
          compareFav(product) ? 'fa-solid fa-heart fav-active' : ' fa-regular fa-heart'
        "
      ></i>
    </button>
  </div>
</div>

<ng-template #loader>
  <p-skeleton
    width="100%"
    height="130px"
    borderRadius="15px"
    styleClass="mb-2"
  ></p-skeleton>
  <p-skeleton styleClass="mb-2" borderRadius="5px"></p-skeleton>
  <p-skeleton width="50%" styleClass="mb-2" borderRadius="5px"></p-skeleton>
</ng-template>
