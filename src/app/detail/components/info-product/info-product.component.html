<div class="container-info relative ">

    <div *ngIf="!modePreview" [@fadeIn] class="w-full header-detail z-5 transition-duration-100 transition-all container"
        [ngClass]="fixedControls ? ['bg-white shadow-3'] : ''">
        
        <a *ngIf="!fullGalery" (click)="redirectBack()"  class="d-flex cursor-pointer">
            <i mat-ripple [ngClass]="[fixedControls ? 'text-base bg-gray-200' : 'text-white bg-black-alpha-90']"
                class="pi pi-arrow-left p-2 border-round bg-blur mr-3" ></i>
            <h1 class="title" *ngIf="fixedName">{{product.name}}</h1>
        </a>

    </div>

    <div class="data-product bg-white">

            <div [ngClass]="fullGalery ? 'h-full z-4 fixed top-0 left-0 bg-black-alpha-70 bg-blur' : 'container' " class="swiper container-image  px-0" #galery>

                <div class="swiper-wrapper d-flex flex-row w-full h-full overflow-x-auto snap-x snap-mandatory   ">
                    <div class="swiper-slide min-w-full min-h-full md:w-full md:min-w-0 h-full snap-center"  *ngFor="let i of product.galery">
                        <img appImageFallback src="{{i}}" class="w-full h-full object-contain " alt="">
                    </div>
                </div>
    
                <!-- <div class="index-galery d-flex justify-content-center gap-1" 
                    *ngIf="product.galery?.length">
                    <span>
                        {{indexGalery}}
                    </span>
                    /
                    <span>
                        {{product.galery!.length}}
                    </span>
                </div> -->

                <div *ngIf="fullGalery" class="btn-close-galery ">
                    <button (click)="closeFullGalery()" mat-ripple class="h-2rem w-2rem d-flex justify-content-center border-round bg-gray-200">
                        <i class="pi pi-times"></i>
                    </button>
                </div>
    
                <div *ngIf="!fullGalery" class="btn-zoom-image ">
                    <button (click)="viewFullGalery()"  mat-ripple class="h-2rem w-2rem d-flex justify-content-center border-round bg-gray-200">
                        <i class="pi pi-search-plus"></i>
                    </button>
                </div>
    
                <div class="swiper-pagination"></div>
        </div>

        <div class="container-text container pt-2 z-2" #data>
            <div class="padding-details bg-white mb-1 shadow-1">
                <div class="d-flex justify-content-between align-items-start">
                    
                    <h2 class="product-name pr-4 font-semibold text-lg">{{product.name}}</h2>
                    
                    <button [class.clicked]="favClicked" class="flex fav-btn" (click)="toogleFav()">
                        <i [ngClass]="favClicked?'pi-heart-fill':'pi-heart'" class="pi icon-fav"></i>
                    </button>
                </div>
                <h3 class="product-price font-semibold text-2xl">{{getRangePrice(product)}}</h3>
                <p class="product-description">{{product.description}}</p>

                <div class="container-ingredients" *ngIf="product.ingredients">
                    <ul class="list-ingredients">
                        <li class="chip text-nowrap ingredient text-white" [style.background]="theme.get('background')"
                            *ngFor="let ingredient of product.ingredients">
                            {{ingredient}}
                        </li>
                    </ul>
                </div>
            </div>

            <div class="" #optionsDisplay>
                <app-add-product-cart *ngIf="product" [modePreview]="modePreview" [product]="product">

                </app-add-product-cart>
            </div>

        </div>

    </div>


</div>