<div class="card data-local">
  <div class="mb-3">
    <h1 class="text-lg">Datos del la tienda</h1>
    <p>Configura los datos de tu tienda, esta información sera visible para tus clientes</p>
  </div>

  <button [disabled]="processForm" mat-raised-button color="primary"
    (click)="editing ? saveDataLocal() : editDataLocal()">
    <span class="d-flex gap-2">
      {{editing ? 'Guardar' : 'Editar'}}
      <i *ngIf="processForm" class="pi pi-spinner pi-spin "></i>
      <i *ngIf="!processForm" [ngClass]="editing ? 'fa-solid fa-floppy-disk' :'fa-solid fa-pen-to-square'"></i>
    </span>
  </button>


  <div class="mt-3 container-form-local">
    <form [formGroup]="form">

      <div class="flex justify-content-start align-items-center flex-column md:flex-row wrap gap-3">
        <mat-form-field class="h-fit input-field w-full md:w-fit">
          <mat-label> Nombre </mat-label>
          <input matInput formControlName="name" type="text" />
          <mat-error>Este campo es requerido</mat-error>
        </mat-form-field>

        <mat-form-field class="h-fit  input-field w-full md:w-fit mb-4 md:mb-0">
          <mat-label> Teléfono </mat-label>

          <input matInput formControlName="phone" type="number" />
          <mat-hint>Numero de WhatsApp al que llegaran los pedidos</mat-hint>
          <mat-error>Este campo es requerido</mat-error>

        </mat-form-field>
 
        <mat-form-field class="h-fit input-field w-full md:w-fit">
          <mat-label> Dirección </mat-label>
          <input matInput formControlName="location" type="text" />
          <mat-error>Este campo es requerido</mat-error>

        </mat-form-field>



 
      </div>
        
        
      <div class="w-fit mt-5 border-1 border-round border-700 p-2 relative mt-2" [ngClass]="editing ? '' : 'opacity-70'" >

        <div class="mb-2">
          <h4 class="text-xl text-900">Logo</h4>
          <p *ngIf="!previewImageLocal" class="text-800">Carga tu imagen</p>
        </div>

        <img class="w-full max-w-25rem" [src]="previewImageLocal ||'./assets/images/placeholder-logo-local.png'" alt="">

        <div class="absolute top-0 left-0 h-full w-full opacity-0">
          <input [disabled]="!editing" type="file" class="h-full w-full cursor-pointer" (change)="uploadImage($event)">
        </div>

        <div *ngIf="previewImageLocal && editing" class="button-remove-image-local">
          <button (click)="removePreviewImage()" color="warn" mat-button>Eliminar imagen</button>
        </div>

      </div>

    </form>
  </div>

  
</div>