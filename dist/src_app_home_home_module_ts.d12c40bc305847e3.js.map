{"version":3,"file":"src_app_home_home_module_ts.d12c40bc305847e3.js","mappings":"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","names":["RatingService","constructor","http","getVotes","productId","local","this","get","addVote","userId","stars","post","user_id","product_id","core","factory","FavoritesService","routeData","data","localStorage","getItem","favorites","JSON","parse","toogleFavorite","product","getOrigin","console","log","isProductInFavorites","length","setItem","stringify","push","index","findIndex","e","id","splice","some","p","compareFavorite","getFavorites","LowestPricePipe","transform","lowestPrice","Infinity","existType1","variations","v","typePrice","option","options","price","active","i0","pure","ProductCardComponent","theme","localService","formBuilder","ratingService","favService","ngOnInit","getOptionWithLowestPrice","selectors","ProductsByCategoryComponent","route","routeService","backHome","navigate","ctx","MainCategoryComponent","category","snapshot","params","scrollTo","setCurrent","url","initDataLocal","path","getProducts","subscribe","products","filter","category_name","toLowerCase","fadeIn","CardCategoryComponent","previewCategory","emitCategory","event","setCategory","target","scrollIntoView","selectedCategory","category_id","ngOnDestroy","NewselterBoxComponent","pwaInstaller","install","canInstall","promptInstall","setPromt","ProductsSetComponent","PreviewCategoryComponent","productsByCategory","SearchProductsComponent","fb","minPrice","maxPrice","tags","formSearch","group","query","pulse","getAll","subscriptionForm","allProducts","groupedProducts","groupByCategories","forEach","ingredients","i","allTags","includes","valueChanges","value","fixedSearch","filtredProducts","filterByQuery","filterByPrice","filters","filterByTags","result","item","name","queryNormalized","toogleFilters","activeFilters","visibleFilters","closeSearch","reset","undefined","toogleTag","tag","indexOf","unshift","setValue","t","clearFilterPrices","clearTags","trigger","transition","style","animate","MainHomeComponent","layoutStateService","cartService","isPwaMode","state","header","navigation","updateState","clearCart","categories$","categories","getThemeState","themeLoaded","menuMobile","decls","routes","component","animation","page","RoutesHomeModule","RouterModule","HomeModule","CommonModule","SharedModule","MatSnackBarModule","MatRippleModule","SkeletonModule","FormsModule","ReactiveFormsModule","LoaderFullComponent","themeService","getTheme","_angular_core__WEBPACK_IMPORTED_MODULE_1__"],"sourceRoot":"webpack:///","sources":["./src/app/services/rating/rating.service.ts","./src/app/services/favorites/favorites.service.ts","./src/app/pipes/getLowestPrice.ts","./src/app/shared/components/product-card/product-card.component.html","./src/app/shared/components/product-card/product-card.component.ts","./src/app/category/components/products-by-category/products-by-category.component.html","./src/app/category/components/products-by-category/products-by-category.component.ts","./src/app/category/components/main-category/main-category.component.html","./src/app/category/components/main-category/main-category.component.ts","./src/app/home/components/card-category/card-category.component.html","./src/app/home/components/card-category/card-category.component.ts","./src/app/home/components/newselter-box/newselter-box.component.html","./src/app/home/components/newselter-box/newselter-box.component.ts","./src/app/home/components/products-set/products-set.component.html","./src/app/home/components/products-set/products-set.component.ts","./src/app/home/components/preview-category/preview-category.component.html","./src/app/home/components/preview-category/preview-category.component.ts","./src/app/home/components/search-products/search-products.component.html","./src/app/home/components/search-products/search-products.component.ts","./src/app/home/components/main-home/main-home.component.html","./src/app/home/components/main-home/main-home.component.ts","./src/app/home/routes-home.module.ts","./src/app/home/home.module.ts","./src/app/shared/components/loader-full/loader-full.component.ts","./src/app/shared/components/loader-full/loader-full.component.html"],"sourcesContent":["import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class RatingService {\r\n\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  getVotes(productId: number, local:string): Observable<any> {\r\n\r\n    return this.http.get(`localhost:3001/vote/${local}/${productId}`);\r\n\r\n  }\r\n\r\n  addVote(userId: number, productId: number, stars: number, local:string): Observable<any> {\r\n    const data = { user_id: userId, product_id: productId, stars, local };\r\n    return this.http.post('localhost:3001/vote', data);\r\n  }\r\n\r\n  \r\n\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { LocalDataService } from '../localData/local-data.service';\r\nimport { RouteDataService } from '../routeData/route-data-service.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class FavoritesService {\r\n\r\n  constructor(private routeData:RouteDataService) {\r\n    const data = localStorage.getItem('favorites')\r\n    if (data) {\r\n      this.favorites = JSON.parse(data)\r\n    }\r\n\r\n  }\r\n\r\n  favorites:any[]=[]\r\n\r\n  toogleFavorite(product: any) {\r\n    const data = {...product, local:this.routeData.getOrigin()}\r\n    console.log(data);\r\n    console.log(this.favorites);\r\n    \r\n\r\n    if (product && !this.isProductInFavorites(data)) {\r\n      if (this.favorites.length === 0) {\r\n        localStorage.setItem('favorites', JSON.stringify([data]))\r\n      }\r\n\r\n      this.favorites.push(data);\r\n      localStorage.setItem('favorites', JSON.stringify(this.favorites))\r\n\r\n    } else if (data) {\r\n      console.log(data);\r\n      \r\n      console.log(this.favorites);\r\n      const index = this.favorites.findIndex(e => e.id === data.id && e.local === data.local );\r\n      console.log(index);\r\n      \r\n      this.favorites.splice(index, 1);\r\n      localStorage.setItem('favorites', JSON.stringify(this.favorites))\r\n    }\r\n  }\r\n\r\n  isProductInFavorites(product: any) {\r\n    return this.favorites.some(p => p.id === product.id && p.local === product.local);\r\n  }\r\n\r\n  compareFavorite(product:any){\r\n    return this.favorites.some(p => p.id === product.id && p.local === product.local);\r\n  }\r\n\r\n\r\n  getFavorites() {\r\n    return this.favorites;\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { Product } from '../interfaces/product-interface';\r\n\r\n\r\n@Pipe({\r\n  name: 'lowestPrice'\r\n})\r\nexport class LowestPricePipe implements PipeTransform {\r\n  transform(product: Product): number | null {\r\n    let lowestPrice: number = Infinity;\r\n    const existType1 = product.variations?.findIndex((v) => v.typePrice === 1);\r\n\r\n    if (!existType1 || existType1 === -1) return null;\r\n\r\n    for (const option of product.variations[existType1].options) {\r\n      if (option.price < lowestPrice && option.active) {\r\n        lowestPrice = option.price;\r\n      }\r\n    }\r\n\r\n    return lowestPrice === Infinity ? null : lowestPrice;\r\n  }\r\n}\r\n","<a class=\"\"\r\n  [routerLink]=\"[linkMode === 'name' ? product.name : product.category_name?.toLowerCase() + '/' + product.name]\"\r\n  [queryParams]=\"{ id: product.id }\"\r\n>\r\n<div class=\"product-card border-round bg-white shadow-3\" *ngIf=\"product.id; else loader\">\r\n\r\n  <div class=\"flex flex-row gap-3\">\r\n\r\n      <div class=\"product-image\">\r\n        <img src=\"{{ product.image }}\" class=\"border-round \" alt=\"\" />\r\n      </div>\r\n\r\n    <div class=\"product-info flex flex-column w-full h-full\">\r\n      <span class=\"product-name mb-1 text-base\">{{ product.name }}</span>\r\n      <span *ngIf=\"!product.ingredients?.length\" class=\"product-ingredients\">\r\n        {{product.description}}\r\n      </span>\r\n\r\n      <span *ngIf=\"product.ingredients\" class=\"product-ingredients\">{{ product.ingredients.join(\", \") }}</span>\r\n \r\n      <div class=\"mt-2 text-base product-price\" *ngIf=\"product|lowestPrice; else singlePrice\">\r\n        Desde\r\n        <span class=\"font-bold\">\r\n          {{ (product|lowestPrice) | currency }}\r\n        </span>\r\n        <i class=\"pi\"></i>\r\n      </div>\r\n\r\n      <ng-template #singlePrice>\r\n        <div class=\"container-price mt-2\">\r\n          <span class=\"product-price font-bold text-base\">{{ product.price | currency }}</span>\r\n        </div>\r\n      </ng-template>\r\n      \r\n    </div>\r\n    \r\n  </div>\r\n\r\n  \r\n</div>\r\n</a>\r\n\r\n<ng-template #loader>\r\n  <p-skeleton\r\n    width=\"100%\"\r\n    height=\"130px\"\r\n    borderRadius=\"15px\"\r\n    styleClass=\"mb-2\"\r\n  ></p-skeleton>\r\n  <p-skeleton styleClass=\"mb-2\" borderRadius=\"5px\"></p-skeleton>\r\n  <p-skeleton width=\"50%\" styleClass=\"mb-2\" borderRadius=\"5px\"></p-skeleton>\r\n</ng-template>\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup } from '@angular/forms';\r\nimport { Product } from 'src/app/interfaces/product-interface';\r\nimport { FavoritesService } from 'src/app/services/favorites/favorites.service';\r\nimport { LocalDataService } from 'src/app/services/localData/local-data.service';\r\nimport { RatingService } from 'src/app/services/rating/rating.service';\r\nimport { RouteDataService } from 'src/app/services/routeData/route-data-service.service';\r\nimport { ThemesService } from 'src/app/services/themes/themes.service';\r\n\r\n@Component({\r\n  selector: 'app-product-card',\r\n  templateUrl: './product-card.component.html',\r\n  styleUrls: ['./product-card.component.scss'],\r\n})\r\nexport class ProductCardComponent implements OnInit {\r\n  constructor(\r\n    public theme: ThemesService,\r\n    private localService: LocalDataService,\r\n    private formBuilder: FormBuilder,\r\n    private ratingService: RatingService,\r\n    private routeData: RouteDataService,\r\n    private favService: FavoritesService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  @Input() product: Product | any;\r\n  @Input() linkMode?: 'name' | 'category-name';\r\n\r\n  getOptionWithLowestPrice(product: Product): any | null {\r\n    let lowestPrice: number = Infinity;\r\n    const existType1 = product.variations?.findIndex((v) => v.typePrice === 1);\r\n\r\n    if (existType1 === -1) return 0; \r\n\r\n    for (const option of product.variations[existType1].options) {\r\n      if (option.price < lowestPrice && option.active) {\r\n        lowestPrice = option.price;\r\n      }\r\n    }\r\n\r\n    console.log(lowestPrice);\r\n    return lowestPrice === Infinity ? 0 : lowestPrice;\r\n  }\r\n}\r\n","<section class=\"\">\r\n\r\n    <div class=\"\">\r\n        \r\n        <div class=\"d-flex gap-2\">\r\n\r\n            <button (click)=\"backHome()\" class=\"chip border-round bg-bluegray-800 cursor-pointer hover:bg-black-alpha-90\">\r\n                    <i class=\"pi pi-chevron-left text-white\" style=\"margin-top: 2px;\"></i>\r\n            </button>\r\n\r\n            <h2 *ngIf=\"products\" class=\"chip my-3 w-full\" [ngStyle]=\"{'background':theme.get('background'), color:theme.get('colorTextSecondary')}\">\r\n                {{products[0].category_name}}\r\n            </h2>\r\n        </div>\r\n        \r\n        <div class=\"flex justify-content-center gap-3 wrap\">\r\n            <div class=\"w-full md:w-5\" *ngFor=\"let product of products\">\r\n                <app-product-card [linkMode]=\"'name'\"  [product]=\"product\"></app-product-card>\r\n            </div>\r\n        </div>  \r\n\r\n    </div>\r\n\r\n</section>","import { HttpClient } from '@angular/common/http';\r\nimport { Component, OnInit,Input } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { Product } from 'src/app/interfaces/product-interface';\r\nimport { LocalDataService } from 'src/app/services/localData/local-data.service';\r\nimport { RouteDataService } from 'src/app/services/routeData/route-data-service.service';\r\nimport { ThemesService } from 'src/app/services/themes/themes.service';\r\n\r\n@Component({\r\n  selector: 'app-products-by-category',\r\n  templateUrl: './products-by-category.component.html',\r\n  styleUrls: ['./products-by-category.component.scss']\r\n})\r\nexport class ProductsByCategoryComponent implements OnInit {\r\n  constructor(public theme:ThemesService, private localService:LocalDataService, private route:Router, private routeService:RouteDataService){\r\n\r\n\r\n  } \r\n\r\n  ngOnInit(): void {\r\n   \r\n    \r\n    \r\n  }\r\n\r\n\r\n  backHome(){\r\n    this.route.navigate([this.routeService.getOrigin()])\r\n  }\r\n\r\n\r\n  @Input() products?:Product[]\r\n\r\n\r\n}\r\n","<div class=\"container\">\r\n\r\n    <div class=\"content \">\r\n\r\n        <div class=\" \">\r\n\r\n            <app-loader-full *ngIf=\"!products\"></app-loader-full>\r\n\r\n            <div [@fadeIn] *ngIf=\"products\">\r\n                <app-products-by-category [products]=\"products\">\r\n\r\n                </app-products-by-category>\r\n\r\n\r\n\r\n            </div>\r\n\r\n\r\n        </div>\r\n    </div>\r\n\r\n</div>","  import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { fadeIn } from 'src/app/animations/main-detail-animations';\r\nimport { Product } from 'src/app/interfaces/product-interface';\r\nimport { LocalDataService } from 'src/app/services/localData/local-data.service';\r\nimport { RouteDataService } from 'src/app/services/routeData/route-data-service.service';\r\nimport { ThemesService } from 'src/app/services/themes/themes.service';\r\n\r\n\r\n@Component({\r\n  selector: 'app-main-category',\r\n  templateUrl: './main-category.component.html',\r\n  styleUrls: ['./main-category.component.scss'],\r\n  animations:[\r\n    fadeIn\r\n  ]\r\n})\r\n\r\n\r\nexport class MainCategoryComponent implements OnInit {\r\n  category:string = ''\r\n  products?: Product[];\r\n\r\n  \r\n  constructor(\r\n    public theme: ThemesService,\r\n    private routeService: RouteDataService,\r\n    private localService: LocalDataService,\r\n    private route: ActivatedRoute\r\n  ) \r\n  {\r\n    this.category = this.route.snapshot.params['category']\r\n    scrollTo(0,0) \r\n  }\r\n\r\n\r\n  ngOnInit(): void {\r\n    this.routeService.setCurrent('categories');\r\n    console.log(this.route.snapshot.url);\r\n    this.localService.initDataLocal(this.route.snapshot.url[0].path)\r\n\r\n    this.localService.getProducts().subscribe((data)=>{\r\n      console.log(data);\r\n      if (!data.length) return \r\n      this.products = data.filter(e => e.category_name.toLowerCase() === this.category)\r\n    })\r\n \r\n    \r\n\r\n  }\r\n\r\n\r\n}\r\n","    <div\r\n    *ngIf=\"category; else loader\"\r\n    (click)=\"emitCategory(category, $event)\"\r\n      [style.background-image]=\"'url(' + category.image + ')'\"\r\n      [style.border-color]=\"selectedCategory(category.id) ? theme.get('background') : '#000000d1' \"\r\n      matRipple\r\n      [matRippleColor]=\"'#00000012'\"\r\n      class=\"category-card border-round-2xl shadow-3 border-2\"\r\n      [ngStyle]=\"{'background-image':category.image}\">\r\n\r\n        <h5 class=\"card-title w-full\"\r\n          [style.background]=\"selectedCategory(category.id) ? theme.get('background') : '#000000d1'\"\r\n          [style.color]=\"selectedCategory(category.id) ? theme.get('colorTextSecondary') : '' \"\r\n          >\r\n        {{ category.name }}\r\n      </h5>\r\n        \r\n      </div>\r\n      \r\n\r\n<ng-template #loader>\r\n  <p-skeleton size=\"100px\" borderRadius=\"30px\"></p-skeleton>\r\n</ng-template>\r\n\r\n ","import { Component,EventEmitter,Input, OnDestroy, OnInit, Output } from '@angular/core';\r\nimport { Category } from 'src/app/interfaces/category-interfaz';\r\nimport { PreviewCategoryService } from 'src/app/services/preview-category/preview-category.service';\r\nimport { ThemesService } from 'src/app/services/themes/themes.service';\r\n\r\n@Component({\r\n  selector: 'app-card-category',\r\n  templateUrl: './card-category.component.html',\r\n  styleUrls: ['./card-category.component.scss']\r\n})\r\n\r\n\r\n\r\nexport class CardCategoryComponent implements OnInit, OnDestroy  {\r\n\r\n  constructor(public theme:ThemesService, public previewCategory:PreviewCategoryService){\r\n\r\n\r\n  }\r\n\r\n  ngOnInit(): void {\r\n\r\n\r\n  }\r\n\r\n  \r\n  @Input() category?:any\r\n\r\n  emitCategory(category:any, event:any){\r\n      this.previewCategory.setCategory(category.id)\r\n      event.target.scrollIntoView()\r\n  }\r\n\r\n  selectedCategory(id:number){\r\n    return this.previewCategory.category_id === id\r\n  }\r\n\r\n\r\n  ngOnDestroy(): void {\r\n    \r\n    \r\n  }\r\n\r\n\r\n}","\r\n<div class=\"container-newselter border-round-2xl mt-3\" (click)=\"install()\">\r\n    <div class=\"container-text\">\r\n\r\n\r\n        <img class=\"logo-newselter\" src=\"./assets/logos/logo-de.png\"  width=\"50px\" alt=\"\">\r\n        <h4 class=\"title-newselter\">\r\n            Descarga nuestra aplicación <br>\r\n            <span style=\"font-size: 12px;\">Ofertas exclusivas y mas</span>\r\n        </h4>\r\n\r\n        <!-- <p class=\"subtitle\">\r\n            Con la aplicación, tendrás acceso a descuentos especiales y recibirás alertas en tiempo real sobrenuevas promociones. Además, podrás disfrutar de una experiencia de compra más rápida y cómoda desde tu teléfono móvil.\r\n        </p> -->\r\n        <div  class=\"arrow-wrapper\">\r\n            <button class=\"btn-arrow\" >\r\n                <i matRipple class=\"pi-download pi arrow\"></i>\r\n            </button>\r\n        </div>\r\n\r\n    </div>\r\n        \r\n    <div *ngFor=\"let circle of [1,2,3,4]; let i\" [style.background]=\"theme.get('background')\" class=\"circle btn-arrow circle-{{i}}\"></div>\r\n\r\n</div>","import { Component,OnInit } from '@angular/core';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { PwaInstallerService } from 'src/app/services/pwa-installer/pwa-installer.service';\r\nimport { ThemesService } from 'src/app/services/themes/themes.service';\r\n\r\n@Component({\r\n  selector: 'app-newselter-box',\r\n  templateUrl: './newselter-box.component.html',\r\n  styleUrls: ['./newselter-box.component.scss']\r\n})\r\nexport class NewselterBoxComponent implements OnInit {\r\n  constructor(\r\n    public theme:ThemesService,\r\n    private pwaInstaller:PwaInstallerService\r\n  ){}\r\n\r\n\r\n\r\n  ngOnInit(): void {\r\n\r\n      \r\n  }\r\n\r\n  install(): void {\r\n    if (this.pwaInstaller.canInstall()) {\r\n      this.pwaInstaller.promptInstall()\r\n    }\r\n \r\n  }\r\n\r\n  setPromt(event:Event){\r\n\r\n  }\r\n\r\n}\r\n","<section class=\"products-set mt-3\">\r\n\r\n    <div class=\"container-chip mb-2\">\r\n        <h2 class=\"title\">\r\n            {{title}}\r\n        </h2>\r\n\r\n        <a [style.color]=\"theme.get('backgroundSec')\" class=\"link-category py-1 px-2 border-1 border-round\" *ngIf=\"title\" [routerLink]=\"title.toLowerCase()\">\r\n            <span class=\"d-flex gap-2\">\r\n                Lista \r\n                <i class=\"pi pi-arrow-right\"></i>\r\n            </span>\r\n        </a>\r\n    </div>\r\n\r\n    <div class=\"container-products\">\r\n        <div class=\"container-grid mb-3\">\r\n \r\n            <app-product-card [linkMode]=\"'category-name'\" [style.width]=\"'100%'\" *ngFor=\"let product of products\" [product]=\"product\"></app-product-card>           \r\n              \r\n         \r\n        </div>  \r\n    </div>\r\n        \r\n\r\n</section>","import { Component, Input, OnInit } from '@angular/core';\r\nimport { Product } from 'src/app/interfaces/product-interface';\r\nimport { LocalDataService } from 'src/app/services/localData/local-data.service';\r\nimport { ThemesService } from 'src/app/services/themes/themes.service';\r\n\r\n@Component({\r\n  selector: 'app-products-set',\r\n  templateUrl: './products-set.component.html',\r\n  styleUrls: ['./products-set.component.scss']\r\n})\r\nexport class ProductsSetComponent implements OnInit {\r\n  \r\n  @Input() products?:Product[]\r\n\r\n  @Input() title:string = ''\r\n  \r\n  constructor(public theme:ThemesService, private localService:LocalDataService){\r\n\r\n  }\r\n\r\n  ngOnInit(): void { \r\n    \r\n    \r\n    \r\n  }\r\n\r\n  \r\n\r\n\r\n\r\n}\r\n","<app-products-set *ngIf=\"products\" [title]=\"products[0]?.category_name\" [products]=\"products\"> </app-products-set>","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { Product } from 'src/app/interfaces/product-interface';\r\nimport { PreviewCategoryService } from 'src/app/services/preview-category/preview-category.service';\r\n\r\n@Component({\r\n  selector: 'app-preview-category',\r\n  templateUrl: './preview-category.component.html',\r\n  styleUrls: ['./preview-category.component.scss']\r\n})\r\nexport class PreviewCategoryComponent implements OnInit, OnDestroy  {\r\n\r\n  products?:Product[]|any = [1,2,3,4]\r\n  \r\n  constructor(private previewCategory:PreviewCategoryService, ){\r\n    \r\n  }\r\n  \r\n  ngOnInit(): void {\r\n    \r\n    console.log(this.previewCategory.category_id);\r\n    \r\n    this.previewCategory.productsByCategory.subscribe((data) =>{\r\n      if (data.length) this.products = data\r\n      \r\n    })\r\n      \r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    \r\n  }\r\n\r\n}\r\n","<div [ngClass]=\"fixedSearch ? ['fixed-search', 'overflow-auto' ] : 'pt-3' \">\n\n\n    <div class=\"w-full input-search \"\n        [ngClass]=\"fixedSearch ? ['fixed-input', 'p-3','relative bg-gray-400 top-0 left-0'  ] : 'sticky'\">\n\n        <form [formGroup]=\"formSearch\">\n            <div class=\"flex flex-column\">\n                <div class=\"d-flex gap-2 w-full\">\n                    <div class=\"relative flex-1 p-3 \">\n                        <i class=\"pi pi-search icon-search text-800 relative z-1\"></i>\n\n                        <input formControlName=\"query\" [class.bg-gray-200]=\"fixedSearch\"\n                            class=\"w-full text-base absolute w-full h-full top-0 left-0 pl-6 pr-2 border-none border-round-xl font-bold\"\n                            placeholder=\"Buscar productos\" type=\"text\">\n                    </div>\n\n                    <button type=\"button\" mat-ripple class=\"border-1 border-transparent flex p-3 border-round-xl\" (click)=\"toogleFilters()\"\n                        [style.background]=\"theme.get('backgroundSec')\">\n                        <i class=\"pi pi-sliders-v text-white\"></i>\n                    </button>\n\n                    <button  type=\"button\" *ngIf=\"fixedSearch\" class=\"border-1 border-transparent flex p-3 border-round-xl bg-gray-200\"\n                        (click)=\"closeSearch()\">\n                        <i class=\"pi pi-times text-800\"></i>\n                    </button>\n\n                </div>\n\n                <div class=\"w-full\" *ngIf=\"visibleFilters\" [@fadeIn]>\n                    <div class=\"pt-2\">\n                        <div class=\"mb-2\">\n                            <span class=\"text-base font-semibold\">Precio</span>\n                            <div class=\"d-flex gap-2 mt-1\">\n                                <input placeholder=\"Máximo\" formControlName=\"maxPrice\"\n                                    class=\"w-full text-base md:max-w-8rem border-none py-3 p-2 bg-gray-200 border-round-xl\" type=\"number\">\n                                <input placeholder=\"Mínimo\" formControlName=\"minPrice\"\n                                class=\"w-full text-sm  md:max-w-8rem  border-none py-3 p-2 bg-gray-200 border-round-xl\" type=\"number\">\n                                \n                                <button *ngIf=\"formSearch.get('minPrice')?.value||formSearch.get('maxPrice')?.value\" (click)=\"clearFilterPrices()\" class=\"w-fit text-sm font-bold text-white md:max-w-8rem border-none py-3 p-2 border-round-xl\" [style.background]=\"theme.get('backgroundSec')\">Limpiar</button>\n\n                            </div>\n                        </div>\n                    \n                        <div class=\"pb-3\">\n                            <span class=\"text-base font-semibold\">Filtros</span>\n                            <div class=\"flex wrap gap-1 overflow-auto mt-1\">\n                                <button (click)=\"toogleTag(tag)\" [class.bg-green-500]=\"filters.tags.includes(tag)\" [class.fadeinleft]=\"filters.tags.includes(tag)\" class=\"p-2 border-round text-white flex-1 text-nowrap  text-overflow-elipsis max-w-10rem\" [style.background]=\"theme.get('background')\" *ngFor=\"let tag of allTags \">\n                                    {{tag}}\n                                </button>\n                            </div>\n\n                            <button *ngIf=\"filters.tags.length\" (click)=\"clearTags()\" class=\"w-fit text-sm font-bold text-white md:max-w-8rem border-none  mt-2 p-2 border-round-xl\" [style.background]=\"theme.get('backgroundSec')\">Limpiar</button>\n\n                        </div>\n                    </div>\n                </div>\n                    \n        \n                     \n                    \n                    \n\n            </div>\n        </form>\n\n\n\n\n    </div>\n\n\n    <div class=\"p-3  flex flex-column w-full gap-2\" *ngIf=\"fixedSearch\">\n\n        <div class=\"text-center w-full pt-4\" *ngIf=\"!groupedProducts?.length\">\n            <h4 class=\"text-xl\">No se encontraron resultados...</h4>\n\n            <button class=\"text-semibold underline mt-3\" (click)=\"closeSearch()\">\n                Volver atras\n            </button>\n        </div>\n\n        <div class=\"\" *ngFor=\"let category of groupedProducts\">\n            <h3 class=\"mb-2 mt-1 text-semibold text-2xl\">{{category.name}}</h3>\n\n            <div class=\"flex flex-column w-full gap-2\">\n                <app-product-card *ngFor=\"let product of category.products\" [product]=\"product\"></app-product-card>\n            </div>\n        </div>\n\n    </div>\n\n\n</div>","import { trigger, transition, style, animate } from '@angular/animations';\nimport { Component } from '@angular/core';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport { fadeIn } from 'src/app/animations/main-detail-animations';\nimport { Product } from 'src/app/interfaces/product-interface';\nimport { LocalDataService } from 'src/app/services/localData/local-data.service';\nimport { ThemesService } from 'src/app/services/themes/themes.service';\n\n@Component({\n  selector: 'app-search-products',\n  templateUrl: './search-products.component.html',\n  styleUrls: ['./search-products.component.scss'],\n  animations:[fadeIn,  trigger('moveAnimation', [\n    transition(':enter', [\n      style({ transform: 'translateY(-100%)' }),\n      animate('0.5s')\n    ]),\n    transition(':leave', [\n      animate('0.5s', style({ transform: 'translateY(-100%)' }))\n    ])\n  ])]\n})\nexport class SearchProductsComponent {\n  fixedSearch: boolean = false;\n  allProducts?: Product[];\n  groupedProducts?: { name: string; products: Product[] }[];\n  filtredProducts?: Product[];\n  activeFilters = false\n  filters:{minPrice:number,maxPrice:number,tags:string[]} = {\n    minPrice:0,\n    maxPrice:0,\n    tags:[]\n  }\n  \n  formSearch:FormGroup\n\n  allTags:any[] = []\n  visibleFilters:boolean = false\n\n\n\n  constructor(\n    private fb:FormBuilder,\n    public theme: ThemesService,\n    private localService: LocalDataService\n  ) {\n    this.formSearch = this.fb.group({\n      query:[null],\n      maxPrice:[null],\n      minPrice:[null],\n      pulse:[null]\n    })\n    this.getAll();\n    console.log(this.formSearch);\n    this.subscriptionForm()\n  }\n\n  getAll() {\n    this.localService.getProducts().subscribe((products) => {\n      this.allProducts = products;\n      this.groupedProducts = this.groupByCategories(products)\n\n\n      products.forEach(p=>{\n        p.ingredients.forEach(i=>{\n          if (this.allTags.includes(i))return \n          this.allTags.push(i)\n          console.log(this.allTags);\n        })\n      })\n\n    });\n  }\n\n  subscriptionForm(){\n    this.formSearch.valueChanges.subscribe(value=>{\n      let { minPrice, maxPrice, query } = value;\n      console.log(value);\n      \n      // if (!query && this.allTags.length !== 0 && query.length <= 2 && !this.fixedSearch){\n      //   this.groupedProducts = this.groupByCategories(this.allProducts!);\n      //   return;\n      // } \n\n      this.fixedSearch = true;\n      this.filtredProducts = this.filterByQuery(query);\n      console.log(this.filtredProducts);\n      \n      \n      if (minPrice || maxPrice) {\n        this.filtredProducts = this.filterByPrice(this.filtredProducts!)\n      }\n\n      if (this.filters.tags.length) {\n        this.filtredProducts = this.filterByTags(this.filtredProducts!)\n      }\n        \n      console.log(this.filtredProducts);\n      \n      this.groupedProducts = this.groupByCategories(this.filtredProducts!);\n      console.log(this.groupedProducts);\n      \n    })\n  }\n\n\n\n  groupByCategories(products: Product[]) {\n    const result: { name: string; products: Product[] }[] = [];\n    products.forEach((product) => {\n      const index = result.findIndex(\n        (item) => item.name === product.category_name\n      );\n      if (index !== -1) {\n        result[index].products.push(product);\n      } else {\n        result.push({ name: product.category_name, products: [product] });\n      }\n    });\n\n    return result;\n  }\n\n  filterByQuery(query: string) {\n    if (!query) {\n      return this.allProducts\n    }\n\n    const queryNormalized = query?.toLowerCase();\n    const products = this.allProducts!.filter(\n      (p) =>\n        p.name.toLowerCase().includes(queryNormalized) ||\n        p.category_name.toLowerCase().includes(queryNormalized)\n    );\n\n    return products\n  }\n\n  filterByPrice(products:Product[]):Product[]{\n\n    let { minPrice, maxPrice } = this.formSearch.value;\n    \n    console.log(minPrice, maxPrice);\n    if (minPrice && maxPrice) {\n      return products.filter(p => p.price >= minPrice && p.price <= maxPrice);\n    }\n    if(minPrice){\n      return products.filter(p => p.price >= minPrice)\n    } \n    if(maxPrice){\n      return products.filter(p => p.price <= maxPrice)\n    }\n    return products\n  }\n\n \n\n  toogleFilters(){\n\n    if (!this.fixedSearch) {\n      this.fixedSearch = true\n    }      \n\n\n    this.activeFilters = true\n    this.visibleFilters = !this.visibleFilters\n  }\n\n  closeSearch(){\n    this.formSearch.reset()\n    this.filters.tags = []\n    this.activeFilters = false\n    this.visibleFilters = false\n    this.groupedProducts = undefined\n    this.fixedSearch = false\n    this.groupedProducts = this.groupByCategories(this.allProducts!)\n\n  }\n\n  toogleTag(tag:string){\n\n    if (this.filters.tags.includes(tag)) {\n      this.filters.tags.splice(this.filters.tags.indexOf(tag), 1);\n      this.allTags.splice(this.allTags.indexOf(tag), 1)\n      this.allTags.push(tag)\n    } else {\n      this.filters.tags.push(tag);\n      this.allTags.splice(this.allTags.indexOf(tag), 1)\n      this.allTags.unshift(tag)\n    }\n\n    this.formSearch.get('pulse')?.setValue(true)\n  }\n\n  filterByTags(products:Product[]){\n    return products.filter(p => \n      this.filters.tags.some(t => \n        p.ingredients.includes(t)\n      )\n    );\n  }\n\n  clearFilterPrices(){\n    this.formSearch.get('maxPrice')?.reset()\n    this.formSearch.get('minPrice')?.reset()\n  }\n\n  clearTags(){\n    this.filters.tags = []\n    this.formSearch.get('pulse')?.reset(true)\n  }\n}","\r\n<div *ngIf=\"themeLoaded else loader\" class=\"container\">\r\n    \r\n    <div class=\"content\">\r\n\r\n        <div class=\"\">\r\n\r\n            <app-newselter-box *ngIf=\"!appInstalled\"></app-newselter-box>\r\n            \r\n            <app-search-products>\r\n\r\n            </app-search-products>\r\n\r\n\r\n            <!-- <app-promotions-local>  </app-promotions-local> -->\r\n\r\n            \r\n            <section class=\"categories mt-3\">\r\n    \r\n                <h2 class=\"title mb-2\">Categorías</h2>\r\n        \r\n                <div class=\"container-categories py-2\" *ngIf=\"categories\">\r\n                    <app-card-category *ngFor=\"let category of categories || [1,2,3,4]\" [category]=\"category\"> </app-card-category>\r\n                  \r\n                </div>\r\n            \r\n            </section>  \r\n            \r\n            <app-preview-category></app-preview-category>\r\n            \r\n        </div>\r\n\r\n        \r\n\r\n    </div>\r\n\r\n\r\n\r\n</div>\r\n\r\n<ng-template #loader>\r\n\r\n <app-loader-full></app-loader-full>\r\n\r\n</ng-template>","import { Component, OnDestroy, OnInit, AfterContentChecked } from '@angular/core';\r\nimport { ActivatedRoute, Params } from '@angular/router';\r\nimport { fadeIn } from 'src/app/animations/main-detail-animations';\r\nimport { Category } from 'src/app/interfaces/category-interfaz';\r\nimport { CartService } from 'src/app/services/cartData/cart.service';\r\nimport { LayoutStateService } from 'src/app/services/layoutState/layout-state.service';\r\nimport { LocalDataService } from 'src/app/services/localData/local-data.service';\r\nimport { PreviewCategoryService } from 'src/app/services/preview-category/preview-category.service';\r\nimport { PwaInstallerService } from 'src/app/services/pwa-installer/pwa-installer.service';\r\nimport { RecentsService } from 'src/app/services/recents/recents.service';\r\nimport { RouteDataService } from 'src/app/services/routeData/route-data-service.service';\r\nimport { ThemesService } from 'src/app/services/themes/themes.service';\r\n@Component({\r\n  selector: 'app-main-home',\r\n  templateUrl: './main-home.component.html',\r\n  styleUrls: ['./main-home.component.scss'],\r\n  animations: [fadeIn],\r\n  providers: [],\r\n})\r\nexport class MainHomeComponent implements OnInit, OnDestroy{\r\n  appInstalled: boolean = this.pwaInstaller.isPwaMode();\r\n  categories?: Category[]; //INTERFACE\r\n  local: string | null = null;\r\n  themeLoaded: boolean = false;\r\n\r\n  constructor(\r\n    public theme: ThemesService,\r\n    private routeService: RouteDataService,\r\n    private localService: LocalDataService,\r\n    private pwaInstaller: PwaInstallerService,\r\n    private route: ActivatedRoute,\r\n    private layoutStateService:LayoutStateService,\r\n    private cartService:CartService,\r\n    \r\n  ) {\r\n\r\n    this.layoutStateService.state.header = true\r\n    this.layoutStateService.state.navigation = true\r\n    this.layoutStateService.updateState()\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    //SETING RUTA\r\n    this.routeService.setCurrent('home');\r\n    \r\n    //SETING PETICIONES DEL LOCAL\r\n    this.local = this.route.snapshot.params['local'];\r\n    this.localService.initDataLocal(this.local);\r\n\r\n    if (this.local !== this.routeService.getOrigin()) {\r\n      this.cartService.clearCart()\r\n    }\r\n\r\n    //SETING ORIGIN\r\n\r\n    //SETEANDO EL PRELOADER DE LAS CATEGORIAS SI NO EXISTE ID SETEADO\r\n\r\n    //OBTENIENDO LAS CATEGORIAS\r\n    this.localService.categories$.subscribe((data) => {\r\n      if (!data.length) return\r\n      this.categories = data\r\n    });\r\n    \r\n    //CHECK QUE EL TEMA ESTE CARGADO CUANDO SETLOCAL()\r\n    this.theme.getThemeState().subscribe((state) => (this.themeLoaded = state));\r\n  }\r\n\r\n\r\n\r\n  ngOnDestroy(): void {\r\n    this.layoutStateService.state.menuMobile = false\r\n    this.layoutStateService.updateState()\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { MainCategoryComponent } from '../category/components/main-category/main-category.component';\r\nimport { MainDetailComponent } from '../detail/components/main-detail/main-detail.component';\r\nimport { MainHomeComponent } from './components/main-home/main-home.component';\r\nimport { MainLandingComponent } from '../landing/components/main-landing/main-landing.component';\r\n\r\nconst routes: Routes = [\r\n  \r\n      {\r\n        path: ':local',\r\n        component: MainHomeComponent,\r\n        data: {\r\n          animation:'home',\r\n          page:'home'\r\n        },\r\n      },\r\n      {\r\n        path: ':local/:category',\r\n        component: MainCategoryComponent,\r\n        data: { page: '' },\r\n      },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class RoutesHomeModule {}\r\n","//MODULES\r\nimport { NgModule } from '@angular/core';\r\nimport { RoutesHomeModule } from './routes-home.module';\r\nimport { SharedModule } from '../shared/shared.module';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule } from '@angular/router';\r\nimport {MatSnackBarModule } from '@angular/material/snack-bar';\r\nimport {MatRippleModule} from '@angular/material/core';\r\n//COMPONENTS\r\nimport { CardCategoryComponent } from './components/card-category/card-category.component';\r\nimport { MainHomeComponent } from './components/main-home/main-home.component';\r\nimport { NewselterBoxComponent } from './components/newselter-box/newselter-box.component';\r\nimport { PromotionsLocalComponent } from './components/promotions-local/promotions-local.component';\r\nimport { ProductsSetComponent } from './components/products-set/products-set.component';\r\nimport { PreviewCategoryComponent } from './components/preview-category/preview-category.component';\r\nimport { SkeletonModule } from 'primeng/skeleton';\r\nimport { LandingModule } from '../landing/landing.module';\r\nimport { SearchProductsComponent } from './components/search-products/search-products.component';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\n@NgModule({ \r\n  declarations: [\r\n    MainHomeComponent,\r\n    CardCategoryComponent,\r\n    PromotionsLocalComponent,\r\n    ProductsSetComponent,\r\n    NewselterBoxComponent,\r\n    PreviewCategoryComponent,\r\n    SearchProductsComponent\r\n    \r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    SharedModule,\r\n    RoutesHomeModule,\r\n    RouterModule,\r\n    MatSnackBarModule,\r\n    MatRippleModule,\r\n    SkeletonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule\r\n  ] ,\r\n  exports:[\r\n    NewselterBoxComponent,\r\n    ProductsSetComponent\r\n  ]\r\n})\r\nexport class HomeModule { }\r\n","import { Component,OnInit } from '@angular/core';\r\nimport { Theme } from 'src/app/interfaces/theme-interface';\r\nimport { ThemesService } from 'src/app/services/themes/themes.service';\r\n\r\n@Component({\r\n  selector: 'app-loader-full',\r\n  templateUrl: './loader-full.component.html',\r\n  styleUrls: ['./loader-full.component.scss']\r\n})\r\nexport class LoaderFullComponent implements OnInit {\r\n  theme?:Theme\r\n  \r\n  constructor(public themeService:ThemesService){\r\n\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.theme = this.themeService.getTheme(1)\r\n  }\r\n    \r\n    \r\n\r\n}\r\n","<div class=\"container-loader\">\r\n    \r\n    <div class=\"lds-ripple\">\r\n      <div [style.border-color]=\"theme?.background\"></div>\r\n      <div [style.border-color]=\"theme?.background\"></div>\r\n      <div [style.border-color]=\"theme?.background\"></div>\r\n        \r\n    </div>\r\n\r\n</div>\r\n"],"x_google_ignoreList":[]}