(self.webpackChunkapp_delivery_ng=self.webpackChunkapp_delivery_ng||[]).push([["default-src_app_services_tomtom-service_tomtom_service_ts-src_app_utils_validators_ts-node_mo-3337a8"],{8522:(CA,Zi,nr)=>{"use strict";nr.d(Zi,{G:()=>v});var he=nr(1670),vn=nr(9380),x=nr(7146),d=nr(2957),w=nr(2560),i=nr(3242);class v{constructor(C){this.localService=C,this.apiKey="FdbTpt17gvVEENxeGcSajuhizlC5BKt6",this.localService.local$.subscribe(F=>{console.log(F),this.local=F})}getSuggestions(C){var F=this;return(0,he.Z)(function*(){const P=yield vn.services.fuzzySearch({key:F.apiKey,query:C,limit:5,countrySet:"AR",idxSet:"PAD,Addr,POI,Str"});return console.log(P),P})()}getLocationDetails(C){var F=this;return(0,he.Z)(function*(){return yield vn.services.placeById({key:F.apiKey,entityId:C})})()}getMap(C){var F=this;return(0,he.Z)(function*(){return x.map({key:F.apiKey,container:C,center:[-64.3223312,-31.1568939],zoom:12})})()}addMarker(C,F,P){return(new x.Marker).setLngLat([C,F]).addTo(P)}reverseSearch(C){var F=this;return(0,he.Z)(function*(){return yield vn.services.reverseGeocode({key:F.apiKey,position:[C.lng,C.lat],view:"AR"})})()}calculateRoute(C){const F=this.local?.cords;console.log(this.local);const P=vn.services.calculateRoute({key:this.apiKey,locations:`${F}:${C?.lng},${C?.lat}`});return(0,d.D)(P)}MetersToKilometers(C){return C/1e3}}v.\u0275fac=function(C){return new(C||v)(w.LFG(i.T))},v.\u0275prov=w.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})},895:(CA,Zi,nr)=>{"use strict";nr.d(Zi,{Cv:()=>m,Gp:()=>x,fW:()=>d,h0:()=>vn,tH:()=>s});var he=nr(745);function vn(){return w=>{const i=w.value;return i&&(/<\s*\/?\s*[a-z][^>]*?>/gi.test(i)||/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi.test(i)||/[\{\}\[\]\(\)\+\-\*\/%&\|\^!<>=~,\.:;_'\?\@\#\$\u20ac\xa3\xa5\u20b9]/.test(i))?(0,he.of)({scriptInjection:!0}):(0,he.of)(null)}}const m=w=>{const i=w.get("password")?.value,v=w.get("confirmPassword")?.value;return i===v?null:{passwordsDoNotMatch:!0}};function x(w){return i=>{const v=i.value;return console.log(v),v&&v<w?{minValue:!0}:null}}function s(){return w=>w.value&&!/^(?:(?:00)?549?)?0?(?:11|[2368]\d)(?:(?=\d{0,2}15)\d{2})??\d{8}$/.test(w.value)?{invalidPhone:!0}:null}function d(){return w=>{if(!w.value)return null;console.log(w.value);const i=w.value.replace(/[^a-zA-Z0-9]/g,"").toLowerCase();return i!==w.value&&(w.setValue(i,{emitEvent:!1}),w.updateValueAndValidity()),null}}},7146:CA=>{self,CA.exports=function(){var Zi=[,function(m,x,s){"use strict";var d=s(2),w=s(5),i=s(3),v=s(15),g=s(14),C=s(19).f,F=s(32),P=i.Symbol;if(w&&"function"==typeof P&&(!("description"in P.prototype)||void 0!==P().description)){var B={},S=function(){var N=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),pe=this instanceof S?new P(N):void 0===N?P():P(N);return""===N&&(B[pe]=!0),pe};F(S,P);var I=S.prototype=P.prototype;I.constructor=S;var T=I.toString,L="Symbol(test)"==String(P("test")),M=/^Symbol\((.*)\)[^)]+$/;C(I,"description",{configurable:!0,get:function(){var N=g(this)?this.valueOf():this,pe=T.call(N);if(v(B,N))return"";var ve=L?pe.slice(7,-1):pe.replace(M,"$1");return""===ve?void 0:ve}}),d({global:!0,forced:!0},{Symbol:S})}},function(m,x,s){var d=s(3),w=s(4).f,i=s(18),v=s(21),g=s(22),C=s(32),F=s(44);m.exports=function(P,B){var S,I,T,L,M,N=P.target,pe=P.global,ve=P.stat;if(S=pe?d:ve?d[N]||g(N,{}):(d[N]||{}).prototype)for(I in B){if(L=B[I],T=P.noTargetGet?(M=w(S,I))&&M.value:S[I],!F(pe?I:N+(ve?".":"#")+I,P.forced)&&void 0!==T){if(typeof L==typeof T)continue;C(L,T)}(P.sham||T&&T.sham)&&i(L,"sham",!0),v(S,I,L,P)}}},function(m,x,s){var d=function(w){return w&&w.Math==Math&&w};m.exports=d("object"==typeof globalThis&&globalThis)||d("object"==typeof window&&window)||d("object"==typeof self&&self)||d("object"==typeof s.g&&s.g)||Function("return this")()},function(m,x,s){var d=s(5),w=s(7),i=s(8),v=s(9),g=s(13),C=s(15),F=s(16),P=Object.getOwnPropertyDescriptor;x.f=d?P:function(B,S){if(B=v(B),S=g(S,!0),F)try{return P(B,S)}catch{}if(C(B,S))return i(!w.f.call(B,S),B[S])}},function(m,x,s){var d=s(6);m.exports=!d(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},function(m){m.exports=function(x){try{return!!x()}catch{return!0}}},function(m,x){"use strict";var s={}.propertyIsEnumerable,d=Object.getOwnPropertyDescriptor,w=d&&!s.call({1:2},1);x.f=w?function(i){var v=d(this,i);return!!v&&v.enumerable}:s},function(m){m.exports=function(x,s){return{enumerable:!(1&x),configurable:!(2&x),writable:!(4&x),value:s}}},function(m,x,s){var d=s(10),w=s(12);m.exports=function(i){return d(w(i))}},function(m,x,s){var d=s(6),w=s(11),i="".split;m.exports=d(function(){return!Object("z").propertyIsEnumerable(0)})?function(v){return"String"==w(v)?i.call(v,""):Object(v)}:Object},function(m){var x={}.toString;m.exports=function(s){return x.call(s).slice(8,-1)}},function(m){m.exports=function(x){if(null==x)throw TypeError("Can't call method on "+x);return x}},function(m,x,s){var d=s(14);m.exports=function(w,i){if(!d(w))return w;var v,g;if(i&&"function"==typeof(v=w.toString)&&!d(g=v.call(w))||"function"==typeof(v=w.valueOf)&&!d(g=v.call(w))||!i&&"function"==typeof(v=w.toString)&&!d(g=v.call(w)))return g;throw TypeError("Can't convert object to primitive value")}},function(m){m.exports=function(x){return"object"==typeof x?null!==x:"function"==typeof x}},function(m){var x={}.hasOwnProperty;m.exports=function(s,d){return x.call(s,d)}},function(m,x,s){var d=s(5),w=s(6),i=s(17);m.exports=!d&&!w(function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a})},function(m,x,s){var d=s(3),w=s(14),i=d.document,v=w(i)&&w(i.createElement);m.exports=function(g){return v?i.createElement(g):{}}},function(m,x,s){var d=s(5),w=s(19),i=s(8);m.exports=d?function(v,g,C){return w.f(v,g,i(1,C))}:function(v,g,C){return v[g]=C,v}},function(m,x,s){var d=s(5),w=s(16),i=s(20),v=s(13),g=Object.defineProperty;x.f=d?g:function(C,F,P){if(i(C),F=v(F,!0),i(P),w)try{return g(C,F,P)}catch{}if("get"in P||"set"in P)throw TypeError("Accessors not supported");return"value"in P&&(C[F]=P.value),C}},function(m,x,s){var d=s(14);m.exports=function(w){if(!d(w))throw TypeError(String(w)+" is not an object");return w}},function(m,x,s){var d=s(3),w=s(18),i=s(15),v=s(22),g=s(23),C=s(25),F=C.get,P=C.enforce,B=String(String).split("String");(m.exports=function(S,I,T,L){var M=!!L&&!!L.unsafe,N=!!L&&!!L.enumerable,pe=!!L&&!!L.noTargetGet;"function"==typeof T&&("string"!=typeof I||i(T,"name")||w(T,"name",I),P(T).source=B.join("string"==typeof I?I:"")),S!==d?(M?!pe&&S[I]&&(N=!0):delete S[I],N?S[I]=T:w(S,I,T)):N?S[I]=T:v(I,T)})(Function.prototype,"toString",function(){return"function"==typeof this&&F(this).source||g(this)})},function(m,x,s){var d=s(3),w=s(18);m.exports=function(i,v){try{w(d,i,v)}catch{d[i]=v}return v}},function(m,x,s){var d=s(24),w=Function.toString;"function"!=typeof d.inspectSource&&(d.inspectSource=function(i){return w.call(i)}),m.exports=d.inspectSource},function(m,x,s){var d=s(3),w=s(22),i="__core-js_shared__",v=d[i]||w(i,{});m.exports=v},function(m,x,s){var d,w,i,v=s(26),g=s(3),C=s(14),F=s(18),P=s(15),B=s(27),S=s(31);if(v){var T=new(0,g.WeakMap),L=T.get,M=T.has,N=T.set;d=function(ve,Fe){return N.call(T,ve,Fe),Fe},w=function(ve){return L.call(T,ve)||{}},i=function(ve){return M.call(T,ve)}}else{var pe=B("state");S[pe]=!0,d=function(ve,Fe){return F(ve,pe,Fe),Fe},w=function(ve){return P(ve,pe)?ve[pe]:{}},i=function(ve){return P(ve,pe)}}m.exports={set:d,get:w,has:i,enforce:function(ve){return i(ve)?w(ve):d(ve,{})},getterFor:function(ve){return function(Fe){var Be;if(!C(Fe)||(Be=w(Fe)).type!==ve)throw TypeError("Incompatible receiver, "+ve+" required");return Be}}}},function(m,x,s){var d=s(3),w=s(23),i=d.WeakMap;m.exports="function"==typeof i&&/native code/.test(w(i))},function(m,x,s){var d=s(28),w=s(30),i=d("keys");m.exports=function(v){return i[v]||(i[v]=w(v))}},function(m,x,s){var d=s(29),w=s(24);(m.exports=function(i,v){return w[i]||(w[i]=void 0!==v?v:{})})("versions",[]).push({version:"3.6.2",mode:d?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})},function(m){m.exports=!1},function(m){var x=0,s=Math.random();m.exports=function(d){return"Symbol("+String(void 0===d?"":d)+")_"+(++x+s).toString(36)}},function(m){m.exports={}},function(m,x,s){var d=s(15),w=s(33),i=s(4),v=s(19);m.exports=function(g,C){for(var F=w(C),P=v.f,B=i.f,S=0;S<F.length;S++){var I=F[S];d(g,I)||P(g,I,B(C,I))}}},function(m,x,s){var d=s(34),w=s(36),i=s(43),v=s(20);m.exports=d("Reflect","ownKeys")||function(g){var C=w.f(v(g)),F=i.f;return F?C.concat(F(g)):C}},function(m,x,s){var d=s(35),w=s(3),i=function(v){return"function"==typeof v?v:void 0};m.exports=function(v,g){return arguments.length<2?i(d[v])||i(w[v]):d[v]&&d[v][g]||w[v]&&w[v][g]}},function(m,x,s){var d=s(3);m.exports=d},function(m,x,s){var d=s(37),w=s(42).concat("length","prototype");x.f=Object.getOwnPropertyNames||function(i){return d(i,w)}},function(m,x,s){var d=s(15),w=s(9),i=s(38).indexOf,v=s(31);m.exports=function(g,C){var F,P=w(g),B=0,S=[];for(F in P)!d(v,F)&&d(P,F)&&S.push(F);for(;C.length>B;)d(P,F=C[B++])&&(~i(S,F)||S.push(F));return S}},function(m,x,s){var d=s(9),w=s(39),i=s(41),v=function(g){return function(C,F,P){var B,S=d(C),I=w(S.length),T=i(P,I);if(g&&F!=F){for(;I>T;)if((B=S[T++])!=B)return!0}else for(;I>T;T++)if((g||T in S)&&S[T]===F)return g||T||0;return!g&&-1}};m.exports={includes:v(!0),indexOf:v(!1)}},function(m,x,s){var d=s(40),w=Math.min;m.exports=function(i){return i>0?w(d(i),9007199254740991):0}},function(m){var x=Math.ceil,s=Math.floor;m.exports=function(d){return isNaN(d=+d)?0:(d>0?s:x)(d)}},function(m,x,s){var d=s(40),w=Math.max,i=Math.min;m.exports=function(v,g){var C=d(v);return C<0?w(C+g,0):i(C,g)}},function(m){m.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(m,x){x.f=Object.getOwnPropertySymbols},function(m,x,s){var d=s(6),w=/#|\.prototype\./,i=function(P,B){var S=g[v(P)];return S==F||S!=C&&("function"==typeof B?d(B):!!B)},v=i.normalize=function(P){return String(P).replace(w,".").toLowerCase()},g=i.data={},C=i.NATIVE="N",F=i.POLYFILL="P";m.exports=i},function(m,x,s){s(46)("asyncIterator")},function(m,x,s){var d=s(35),w=s(15),i=s(47),v=s(19).f;m.exports=function(g){var C=d.Symbol||(d.Symbol={});w(C,g)||v(C,g,{value:i.f(g)})}},function(m,x,s){var d=s(48);x.f=d},function(m,x,s){var d=s(3),w=s(28),i=s(15),v=s(30),g=s(49),C=s(50),F=w("wks"),P=d.Symbol,B=C?P:P&&P.withoutSetter||v;m.exports=function(S){return i(F,S)||(F[S]=g&&i(P,S)?P[S]:B("Symbol."+S)),F[S]}},function(m,x,s){var d=s(6);m.exports=!!Object.getOwnPropertySymbols&&!d(function(){return!String(Symbol())})},function(m,x,s){var d=s(49);m.exports=d&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(m,x,s){s(46)("match")},function(m,x,s){s(46)("replace")},function(m,x,s){s(46)("search")},function(m,x,s){s(46)("split")},function(m,x,s){"use strict";var d=s(2),w=s(56),i=s(60),v=s(39),g=s(40),C=s(61);d({target:"Array",proto:!0},{flat:function(){var F=arguments.length?arguments[0]:void 0,P=i(this),B=v(P.length),S=C(P,0);return S.length=w(S,P,P,B,0,void 0===F?1:g(F)),S}})},function(m,x,s){"use strict";var d=s(57),w=s(39),i=s(58),v=function(g,C,F,P,B,S,I,T){for(var L,M=B,N=0,pe=!!I&&i(I,T,3);N<P;){if(N in F){if(L=pe?pe(F[N],N,C):F[N],S>0&&d(L))M=v(g,C,L,w(L.length),M,S-1)-1;else{if(M>=9007199254740991)throw TypeError("Exceed the acceptable array length");g[M]=L}M++}N++}return M};m.exports=v},function(m,x,s){var d=s(11);m.exports=Array.isArray||function(w){return"Array"==d(w)}},function(m,x,s){var d=s(59);m.exports=function(w,i,v){if(d(w),void 0===i)return w;switch(v){case 0:return function(){return w.call(i)};case 1:return function(g){return w.call(i,g)};case 2:return function(g,C){return w.call(i,g,C)};case 3:return function(g,C,F){return w.call(i,g,C,F)}}return function(){return w.apply(i,arguments)}}},function(m){m.exports=function(x){if("function"!=typeof x)throw TypeError(String(x)+" is not a function");return x}},function(m,x,s){var d=s(12);m.exports=function(w){return Object(d(w))}},function(m,x,s){var d=s(14),w=s(57),i=s(48)("species");m.exports=function(v,g){var C;return w(v)&&("function"!=typeof(C=v.constructor)||C!==Array&&!w(C.prototype)?d(C)&&null===(C=C[i])&&(C=void 0):C=void 0),new(void 0===C?Array:C)(0===g?0:g)}},function(m,x,s){"use strict";var d=s(2),w=s(56),i=s(60),v=s(39),g=s(59),C=s(61);d({target:"Array",proto:!0},{flatMap:function(F){var P,B=i(this),S=v(B.length);return g(F),(P=C(B,0)).length=w(P,B,B,S,0,1,F,arguments.length>1?arguments[1]:void 0),P}})},function(m,x,s){"use strict";var d=s(2),w=s(64).left,i=s(65),v=s(66),g=i("reduce"),C=v("reduce",{1:0});d({target:"Array",proto:!0,forced:!g||!C},{reduce:function(F){return w(this,F,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(m,x,s){var d=s(59),w=s(60),i=s(10),v=s(39),g=function(C){return function(F,P,B,S){d(P);var I=w(F),T=i(I),L=v(I.length),M=C?L-1:0,N=C?-1:1;if(B<2)for(;;){if(M in T){S=T[M],M+=N;break}if(M+=N,C?M<0:L<=M)throw TypeError("Reduce of empty array with no initial value")}for(;C?M>=0:L>M;M+=N)M in T&&(S=P(S,T[M],M,I));return S}};m.exports={left:g(!1),right:g(!0)}},function(m,x,s){"use strict";var d=s(6);m.exports=function(w,i){var v=[][w];return!!v&&d(function(){v.call(null,i||function(){throw 1},1)})}},function(m,x,s){var d=s(5),w=s(6),i=s(15),v=Object.defineProperty,g=function(C){throw C};m.exports=function(C,F){F||(F={});var P=[][C],B=!!i(F,"ACCESSORS")&&F.ACCESSORS,S=i(F,0)?F[0]:g,I=i(F,1)?F[1]:void 0;return!!P&&!w(function(){if(B&&!d)return!0;var T={length:-1},L=function(M){B?v(T,M,{enumerable:!0,get:g}):T[M]=1};L(1),L(2147483646),L(4294967294),P.call(T,S,I)})}},function(m,x,s){"use strict";var d=s(2),w=s(64).right,i=s(65),v=s(66),g=i("reduceRight"),C=v("reduceRight",{1:0});d({target:"Array",proto:!0,forced:!g||!C},{reduceRight:function(F){return w(this,F,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(m,x,s){"use strict";var d=s(2),w=s(57),i=[].reverse,v=[1,2];d({target:"Array",proto:!0,forced:String(v)===String(v.reverse())},{reverse:function(){return w(this)&&(this.length=this.length),i.call(this)}})},function(m,x,s){s(70)("flat")},function(m,x,s){var d=s(48),w=s(71),i=s(19),v=d("unscopables"),g=Array.prototype;null==g[v]&&i.f(g,v,{configurable:!0,value:w(null)}),m.exports=function(C){g[v][C]=!0}},function(m,x,s){var d,w=s(20),i=s(72),v=s(42),g=s(31),C=s(74),F=s(17),B=s(27)("IE_PROTO"),S=function(){},I=function(L){return"<script>"+L+"<\/script>"},T=function(){try{d=document.domain&&new ActiveXObject("htmlfile")}catch{}var L,M;T=d?function(pe){pe.write(I("")),pe.close();var ve=pe.parentWindow.Object;return pe=null,ve}(d):((M=F("iframe")).style.display="none",C.appendChild(M),M.src=String("javascript:"),(L=M.contentWindow.document).open(),L.write(I("document.F=Object")),L.close(),L.F);for(var N=v.length;N--;)delete T.prototype[v[N]];return T()};g[B]=!0,m.exports=Object.create||function(L,M){var N;return null!==L?(S.prototype=w(L),N=new S,S.prototype=null,N[B]=L):N=T(),void 0===M?N:i(N,M)}},function(m,x,s){var d=s(5),w=s(19),i=s(20),v=s(73);m.exports=d?Object.defineProperties:function(g,C){i(g);for(var F,P=v(C),B=P.length,S=0;B>S;)w.f(g,F=P[S++],C[F]);return g}},function(m,x,s){var d=s(37),w=s(42);m.exports=Object.keys||function(i){return d(i,w)}},function(m,x,s){var d=s(34);m.exports=d("document","documentElement")},function(m,x,s){s(70)("flatMap")},function(m,x,s){"use strict";var d=s(2),w=s(6),i=s(77),v=s(20),g=s(41),C=s(39),F=s(89),P=i.ArrayBuffer,B=i.DataView,S=P.prototype.slice;d({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:w(function(){return!new P(2).slice(1,void 0).byteLength})},{slice:function(I,T){if(void 0!==S&&void 0===T)return S.call(v(this),I);for(var L=v(this).byteLength,M=g(I,L),N=g(void 0===T?L:T,L),pe=new(F(this,P))(C(N-M)),ve=new B(this),Fe=new B(pe),Be=0;M<N;)Fe.setUint8(Be++,ve.getUint8(M++));return pe}})},function(m,x,s){"use strict";var d=s(3),w=s(5),i=s(78),v=s(18),g=s(79),C=s(6),F=s(80),P=s(40),B=s(39),S=s(81),I=s(82),T=s(83),L=s(85),M=s(36).f,N=s(19).f,pe=s(87),ve=s(88),Fe=s(25),Be=Fe.get,Se=Fe.set,Ee="ArrayBuffer",Ue="DataView",We="Wrong index",Ve=d.ArrayBuffer,Ke=Ve,De=d.DataView,tt=De&&De.prototype,dt=Object.prototype,Je=d.RangeError,xt=I.pack,Xe=I.unpack,jt=function(ye){return[255&ye]},At=function(ye){return[255&ye,ye>>8&255]},tr=function(ye){return[255&ye,ye>>8&255,ye>>16&255,ye>>24&255]},Oe=function(ye){return ye[3]<<24|ye[2]<<16|ye[1]<<8|ye[0]},ct=function(ye){return xt(ye,23,4)},vt=function(ye){return xt(ye,52,8)},je=function(ye,rt){N(ye.prototype,rt,{get:function(){return Be(this)[rt]}})},fr=function(ye,rt,Dt,Wt){var Rt=S(Dt),Ht=Be(ye);if(Rt+rt>Ht.byteLength)throw Je(We);var kr=Be(Ht.buffer).bytes,Br=Rt+Ht.byteOffset,Mr=kr.slice(Br,Br+rt);return Wt?Mr:Mr.reverse()},dr=function(ye,rt,Dt,Wt,Rt,Ht){var kr=S(Dt),Br=Be(ye);if(kr+rt>Br.byteLength)throw Je(We);for(var Mr=Be(Br.buffer).bytes,jr=kr+Br.byteOffset,vr=Wt(+Rt),Qt=0;Qt<rt;Qt++)Mr[jr+Qt]=vr[Ht?Qt:rt-Qt-1]};if(i){if(!C(function(){Ve(1)})||!C(function(){new Ve(-1)})||C(function(){return new Ve,new Ve(1.5),new Ve(NaN),Ve.name!=Ee})){for(var Fr,Nt=(Ke=function(ye){return F(this,Ke),new Ve(S(ye))}).prototype=Ve.prototype,kt=M(Ve),ze=0;kt.length>ze;)(Fr=kt[ze++])in Ke||v(Ke,Fr,Ve[Fr]);Nt.constructor=Ke}L&&T(tt)!==dt&&L(tt,dt);var _t=new De(new Ke(2)),fe=tt.setInt8;_t.setInt8(0,2147483648),_t.setInt8(1,2147483649),!_t.getInt8(0)&&_t.getInt8(1)||g(tt,{setInt8:function(ye,rt){fe.call(this,ye,rt<<24>>24)},setUint8:function(ye,rt){fe.call(this,ye,rt<<24>>24)}},{unsafe:!0})}else Ke=function(ye){F(this,Ke,Ee);var rt=S(ye);Se(this,{bytes:pe.call(new Array(rt),0),byteLength:rt}),w||(this.byteLength=rt)},De=function(ye,rt,Dt){F(this,De,Ue),F(ye,Ke,Ue);var Wt=Be(ye).byteLength,Rt=P(rt);if(Rt<0||Rt>Wt)throw Je("Wrong offset");if(Rt+(Dt=void 0===Dt?Wt-Rt:B(Dt))>Wt)throw Je("Wrong length");Se(this,{buffer:ye,byteLength:Dt,byteOffset:Rt}),w||(this.buffer=ye,this.byteLength=Dt,this.byteOffset=Rt)},w&&(je(Ke,"byteLength"),je(De,"buffer"),je(De,"byteLength"),je(De,"byteOffset")),g(De.prototype,{getInt8:function(ye){return fr(this,1,ye)[0]<<24>>24},getUint8:function(ye){return fr(this,1,ye)[0]},getInt16:function(ye){var rt=fr(this,2,ye,arguments.length>1?arguments[1]:void 0);return(rt[1]<<8|rt[0])<<16>>16},getUint16:function(ye){var rt=fr(this,2,ye,arguments.length>1?arguments[1]:void 0);return rt[1]<<8|rt[0]},getInt32:function(ye){return Oe(fr(this,4,ye,arguments.length>1?arguments[1]:void 0))},getUint32:function(ye){return Oe(fr(this,4,ye,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(ye){return Xe(fr(this,4,ye,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(ye){return Xe(fr(this,8,ye,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(ye,rt){dr(this,1,ye,jt,rt)},setUint8:function(ye,rt){dr(this,1,ye,jt,rt)},setInt16:function(ye,rt){dr(this,2,ye,At,rt,arguments.length>2?arguments[2]:void 0)},setUint16:function(ye,rt){dr(this,2,ye,At,rt,arguments.length>2?arguments[2]:void 0)},setInt32:function(ye,rt){dr(this,4,ye,tr,rt,arguments.length>2?arguments[2]:void 0)},setUint32:function(ye,rt){dr(this,4,ye,tr,rt,arguments.length>2?arguments[2]:void 0)},setFloat32:function(ye,rt){dr(this,4,ye,ct,rt,arguments.length>2?arguments[2]:void 0)},setFloat64:function(ye,rt){dr(this,8,ye,vt,rt,arguments.length>2?arguments[2]:void 0)}});ve(Ke,Ee),ve(De,Ue),m.exports={ArrayBuffer:Ke,DataView:De}},function(m){m.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},function(m,x,s){var d=s(21);m.exports=function(w,i,v){for(var g in i)d(w,g,i[g],v);return w}},function(m){m.exports=function(x,s,d){if(!(x instanceof s))throw TypeError("Incorrect "+(d?d+" ":"")+"invocation");return x}},function(m,x,s){var d=s(40),w=s(39);m.exports=function(i){if(void 0===i)return 0;var v=d(i),g=w(v);if(v!==g)throw RangeError("Wrong length or index");return g}},function(m){var x=1/0,s=Math.abs,d=Math.pow,w=Math.floor,i=Math.log,v=Math.LN2;m.exports={pack:function(g,C,F){var P,B,S,I=new Array(F),T=8*F-C-1,L=(1<<T)-1,M=L>>1,N=23===C?d(2,-24)-d(2,-77):0,pe=g<0||0===g&&1/g<0?1:0,ve=0;for((g=s(g))!=g||g===x?(B=g!=g?1:0,P=L):(P=w(i(g)/v),g*(S=d(2,-P))<1&&(P--,S*=2),(g+=P+M>=1?N/S:N*d(2,1-M))*S>=2&&(P++,S/=2),P+M>=L?(B=0,P=L):P+M>=1?(B=(g*S-1)*d(2,C),P+=M):(B=g*d(2,M-1)*d(2,C),P=0));C>=8;I[ve++]=255&B,B/=256,C-=8);for(P=P<<C|B,T+=C;T>0;I[ve++]=255&P,P/=256,T-=8);return I[--ve]|=128*pe,I},unpack:function(g,C){var F,P=g.length,B=8*P-C-1,S=(1<<B)-1,I=S>>1,T=B-7,L=P-1,M=g[L--],N=127&M;for(M>>=7;T>0;N=256*N+g[L],L--,T-=8);for(F=N&(1<<-T)-1,N>>=-T,T+=C;T>0;F=256*F+g[L],L--,T-=8);if(0===N)N=1-I;else{if(N===S)return F?NaN:M?-1/0:x;F+=d(2,C),N-=I}return(M?-1:1)*F*d(2,N-C)}}},function(m,x,s){var d=s(15),w=s(60),i=s(27),v=s(84),g=i("IE_PROTO"),C=Object.prototype;m.exports=v?Object.getPrototypeOf:function(F){return F=w(F),d(F,g)?F[g]:"function"==typeof F.constructor&&F instanceof F.constructor?F.constructor.prototype:F instanceof Object?C:null}},function(m,x,s){var d=s(6);m.exports=!d(function(){function w(){}return w.prototype.constructor=null,Object.getPrototypeOf(new w)!==w.prototype})},function(m,x,s){var d=s(20),w=s(86);m.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var i,v=!1,g={};try{(i=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(g,[]),v=g instanceof Array}catch{}return function(C,F){return d(C),w(F),v?i.call(C,F):C.__proto__=F,C}}():void 0)},function(m,x,s){var d=s(14);m.exports=function(w){if(!d(w)&&null!==w)throw TypeError("Can't set "+String(w)+" as a prototype");return w}},function(m,x,s){"use strict";var d=s(60),w=s(41),i=s(39);m.exports=function(v){for(var g=d(this),C=i(g.length),F=arguments.length,P=w(F>1?arguments[1]:void 0,C),B=F>2?arguments[2]:void 0,S=void 0===B?C:w(B,C);S>P;)g[P++]=v;return g}},function(m,x,s){var d=s(19).f,w=s(15),i=s(48)("toStringTag");m.exports=function(v,g,C){v&&!w(v=C?v:v.prototype,i)&&d(v,i,{configurable:!0,value:g})}},function(m,x,s){var d=s(20),w=s(59),i=s(48)("species");m.exports=function(v,g){var C,F=d(v).constructor;return void 0===F||null==(C=d(F)[i])?g:w(C)}},function(m,x,s){var d=s(2),w=Math.hypot,i=Math.abs,v=Math.sqrt;d({target:"Math",stat:!0,forced:!!w&&w(1/0,NaN)!==1/0},{hypot:function(g,C){for(var F,P,B=0,S=0,I=arguments.length,T=0;S<I;)T<(F=i(arguments[S++]))?(B=B*(P=T/F)*P+1,T=F):B+=F>0?(P=F/T)*P:F;return T===1/0?1/0:T*v(B)}})},function(m,x,s){"use strict";var d=s(2),w=s(40),i=s(92),v=s(93),g=s(6),C=1..toFixed,F=Math.floor,P=function(B,S,I){return 0===S?I:S%2==1?P(B,S-1,I*B):P(B*B,S/2,I)};d({target:"Number",proto:!0,forced:C&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!g(function(){C.call({})})},{toFixed:function(B){var S,I,T,L,M=i(this),N=w(B),pe=[0,0,0,0,0,0],ve="",Fe="0",Be=function(Ue,We){for(var Ve=-1,Ke=We;++Ve<6;)pe[Ve]=(Ke+=Ue*pe[Ve])%1e7,Ke=F(Ke/1e7)},Se=function(Ue){for(var We=6,Ve=0;--We>=0;)pe[We]=F((Ve+=pe[We])/Ue),Ve=Ve%Ue*1e7},Ee=function(){for(var Ue=6,We="";--Ue>=0;)if(""!==We||0===Ue||0!==pe[Ue]){var Ve=String(pe[Ue]);We=""===We?Ve:We+v.call("0",7-Ve.length)+Ve}return We};if(N<0||N>20)throw RangeError("Incorrect fraction digits");if(M!=M)return"NaN";if(M<=-1e21||M>=1e21)return String(M);if(M<0&&(ve="-",M=-M),M>1e-21)if(I=(S=function(Ue){for(var We=0,Ve=Ue;Ve>=4096;)We+=12,Ve/=4096;for(;Ve>=2;)We+=1,Ve/=2;return We}(M*P(2,69,1))-69)<0?M*P(2,-S,1):M/P(2,S,1),I*=4503599627370496,(S=52-S)>0){for(Be(0,I),T=N;T>=7;)Be(1e7,0),T-=7;for(Be(P(10,T,1),0),T=S-1;T>=23;)Se(8388608),T-=23;Se(1<<T),Be(1,1),Se(2),Fe=Ee()}else Be(0,I),Be(1<<-S,0),Fe=Ee()+v.call("0",N);return N>0?ve+((L=Fe.length)<=N?"0."+v.call("0",N-L)+Fe:Fe.slice(0,L-N)+"."+Fe.slice(L-N)):ve+Fe}})},function(m,x,s){var d=s(11);m.exports=function(w){if("number"!=typeof w&&"Number"!=d(w))throw TypeError("Incorrect invocation");return+w}},function(m,x,s){"use strict";var d=s(40),w=s(12);m.exports="".repeat||function(i){var v=String(w(this)),g="",C=d(i);if(C<0||C==1/0)throw RangeError("Wrong number of repetitions");for(;C>0;(C>>>=1)&&(v+=v))1&C&&(g+=v);return g}},function(m,x,s){var d=s(2),w=s(95);d({target:"Object",stat:!0,forced:Object.assign!==w},{assign:w})},function(m,x,s){"use strict";var d=s(5),w=s(6),i=s(73),v=s(43),g=s(7),C=s(60),F=s(10),P=Object.assign,B=Object.defineProperty;m.exports=!P||w(function(){if(d&&1!==P({b:1},P(B({},"a",{enumerable:!0,get:function(){B(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var S={},I={},T=Symbol(),L="abcdefghijklmnopqrst";return S[T]=7,L.split("").forEach(function(M){I[M]=M}),7!=P({},S)[T]||i(P({},I)).join("")!=L})?function(S,I){for(var T=C(S),L=arguments.length,M=1,N=v.f,pe=g.f;L>M;)for(var ve,Fe=F(arguments[M++]),Be=N?i(Fe).concat(N(Fe)):i(Fe),Se=Be.length,Ee=0;Se>Ee;)ve=Be[Ee++],d&&!pe.call(Fe,ve)||(T[ve]=Fe[ve]);return T}:P},function(m,x,s){var d=s(2),w=s(97),i=s(104);d({target:"Object",stat:!0},{fromEntries:function(v){var g={};return w(v,function(C,F){i(g,C,F)},void 0,!0),g}})},function(m,x,s){var d=s(20),w=s(98),i=s(39),v=s(58),g=s(100),C=s(103),F=function(P,B){this.stopped=P,this.result=B};(m.exports=function(P,B,S,I,T){var L,M,N,pe,ve,Fe,Be,Se=v(B,S,I?2:1);if(T)L=P;else{if("function"!=typeof(M=g(P)))throw TypeError("Target is not iterable");if(w(M)){for(N=0,pe=i(P.length);pe>N;N++)if((ve=I?Se(d(Be=P[N])[0],Be[1]):Se(P[N]))&&ve instanceof F)return ve;return new F(!1)}L=M.call(P)}for(Fe=L.next;!(Be=Fe.call(L)).done;)if("object"==typeof(ve=C(L,Se,Be.value,I))&&ve&&ve instanceof F)return ve;return new F(!1)}).stop=function(P){return new F(!0,P)}},function(m,x,s){var d=s(48),w=s(99),i=d("iterator"),v=Array.prototype;m.exports=function(g){return void 0!==g&&(w.Array===g||v[i]===g)}},function(m){m.exports={}},function(m,x,s){var d=s(101),w=s(99),i=s(48)("iterator");m.exports=function(v){if(null!=v)return v[i]||v["@@iterator"]||w[d(v)]}},function(m,x,s){var d=s(102),w=s(11),i=s(48)("toStringTag"),v="Arguments"==w(function(){return arguments}());m.exports=d?w:function(g){var C,F,P;return void 0===g?"Undefined":null===g?"Null":"string"==typeof(F=function(B,S){try{return B[S]}catch{}}(C=Object(g),i))?F:v?w(C):"Object"==(P=w(C))&&"function"==typeof C.callee?"Arguments":P}},function(m,x,s){var d={};d[s(48)("toStringTag")]="z",m.exports="[object z]"===String(d)},function(m,x,s){var d=s(20);m.exports=function(w,i,v,g){try{return g?i(d(v)[0],v[1]):i(v)}catch(F){var C=w.return;throw void 0!==C&&d(C.call(w)),F}}},function(m,x,s){"use strict";var d=s(13),w=s(19),i=s(8);m.exports=function(v,g,C){var F=d(g);F in v?w.f(v,F,i(0,C)):v[F]=C}},function(m,x,s){"use strict";var d,w,i,v,g=s(2),C=s(29),F=s(3),P=s(34),B=s(106),S=s(21),I=s(79),T=s(88),L=s(107),M=s(14),N=s(59),pe=s(80),ve=s(11),Fe=s(23),Be=s(97),Se=s(108),Ee=s(89),Ue=s(109).set,We=s(112),Ve=s(113),Ke=s(115),De=s(114),tt=s(116),dt=s(25),Je=s(44),xt=s(48),Xe=s(117),jt=xt("species"),At="Promise",tr=dt.get,Oe=dt.set,ct=dt.getterFor(At),vt=B,je=F.TypeError,fr=F.document,dr=F.process,Fr=P("fetch"),Nt=De.f,kt=Nt,ze="process"==ve(dr),_t=!!(fr&&fr.createEvent&&F.dispatchEvent),fe="unhandledrejection",ye=Je(At,function(){if(Fe(vt)===String(vt)&&(66===Xe||!ze&&"function"!=typeof PromiseRejectionEvent)||C&&!vt.prototype.finally)return!0;if(Xe>=51&&/native code/.test(vt))return!1;var Qt=vt.resolve(1),It=function(ar){ar(function(){},function(){})};return(Qt.constructor={})[jt]=It,!(Qt.then(function(){})instanceof It)}),rt=ye||!Se(function(Qt){vt.all(Qt).catch(function(){})}),Dt=function(Qt){var It;return!(!M(Qt)||"function"!=typeof(It=Qt.then))&&It},Wt=function(Qt,It,ar){if(!It.notified){It.notified=!0;var ir=It.reactions;We(function(){for(var gr=It.value,Lr=1==It.state,an=0;ir.length>an;){var $r,qr,en,fn=ir[an++],Pn=Lr?fn.ok:fn.fail,Rr=fn.resolve,tn=fn.reject,zr=fn.domain;try{Pn?(Lr||(2===It.rejection&&Br(Qt,It),It.rejection=1),!0===Pn?$r=gr:(zr&&zr.enter(),$r=Pn(gr),zr&&(zr.exit(),en=!0)),$r===fn.promise?tn(je("Promise-chain cycle")):(qr=Dt($r))?qr.call($r,Rr,tn):Rr($r)):tn(gr)}catch(si){zr&&!en&&zr.exit(),tn(si)}}It.reactions=[],It.notified=!1,ar&&!It.rejection&&Ht(Qt,It)})}},Rt=function(Qt,It,ar){var ir,gr;_t?((ir=fr.createEvent("Event")).promise=It,ir.reason=ar,ir.initEvent(Qt,!1,!0),F.dispatchEvent(ir)):ir={promise:It,reason:ar},(gr=F["on"+Qt])?gr(ir):Qt===fe&&Ke("Unhandled promise rejection",ar)},Ht=function(Qt,It){Ue.call(F,function(){var ar,ir=It.value;if(kr(It)&&(ar=tt(function(){ze?dr.emit("unhandledRejection",ir,Qt):Rt(fe,Qt,ir)}),It.rejection=ze||kr(It)?2:1,ar.error))throw ar.value})},kr=function(Qt){return 1!==Qt.rejection&&!Qt.parent},Br=function(Qt,It){Ue.call(F,function(){ze?dr.emit("rejectionHandled",Qt):Rt("rejectionhandled",Qt,It.value)})},Mr=function(Qt,It,ar,ir){return function(gr){Qt(It,ar,gr,ir)}},jr=function(Qt,It,ar,ir){It.done||(It.done=!0,ir&&(It=ir),It.value=ar,It.state=2,Wt(Qt,It,!0))},vr=function(Qt,It,ar,ir){if(!It.done){It.done=!0,ir&&(It=ir);try{if(Qt===ar)throw je("Promise can't be resolved itself");var gr=Dt(ar);gr?We(function(){var Lr={done:!1};try{gr.call(ar,Mr(vr,Qt,Lr,It),Mr(jr,Qt,Lr,It))}catch(an){jr(Qt,Lr,an,It)}}):(It.value=ar,It.state=1,Wt(Qt,It,!1))}catch(Lr){jr(Qt,{done:!1},Lr,It)}}};ye&&(vt=function(Qt){pe(this,vt,At),N(Qt),d.call(this);var It=tr(this);try{Qt(Mr(vr,this,It),Mr(jr,this,It))}catch(ar){jr(this,It,ar)}},(d=function(Qt){Oe(this,{type:At,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=I(vt.prototype,{then:function(Qt,It){var ar=ct(this),ir=Nt(Ee(this,vt));return ir.ok="function"!=typeof Qt||Qt,ir.fail="function"==typeof It&&It,ir.domain=ze?dr.domain:void 0,ar.parent=!0,ar.reactions.push(ir),0!=ar.state&&Wt(this,ar,!1),ir.promise},catch:function(Qt){return this.then(void 0,Qt)}}),w=function(){var Qt=new d,It=tr(Qt);this.promise=Qt,this.resolve=Mr(vr,Qt,It),this.reject=Mr(jr,Qt,It)},De.f=Nt=function(Qt){return Qt===vt||Qt===i?new w(Qt):kt(Qt)},C||"function"!=typeof B||(v=B.prototype.then,S(B.prototype,"then",function(Qt,It){var ar=this;return new vt(function(ir,gr){v.call(ar,ir,gr)}).then(Qt,It)},{unsafe:!0}),"function"==typeof Fr&&g({global:!0,enumerable:!0,forced:!0},{fetch:function(Qt){return Ve(vt,Fr.apply(F,arguments))}}))),g({global:!0,wrap:!0,forced:ye},{Promise:vt}),T(vt,At,!1,!0),L(At),i=P(At),g({target:At,stat:!0,forced:ye},{reject:function(Qt){var It=Nt(this);return It.reject.call(void 0,Qt),It.promise}}),g({target:At,stat:!0,forced:C||ye},{resolve:function(Qt){return Ve(C&&this===i?vt:this,Qt)}}),g({target:At,stat:!0,forced:rt},{all:function(Qt){var It=this,ar=Nt(It),ir=ar.resolve,gr=ar.reject,Lr=tt(function(){var an=N(It.resolve),$r=[],qr=0,en=1;Be(Qt,function(fn){var Pn=qr++,Rr=!1;$r.push(void 0),en++,an.call(It,fn).then(function(tn){Rr||(Rr=!0,$r[Pn]=tn,--en||ir($r))},gr)}),--en||ir($r)});return Lr.error&&gr(Lr.value),ar.promise},race:function(Qt){var It=this,ar=Nt(It),ir=ar.reject,gr=tt(function(){var Lr=N(It.resolve);Be(Qt,function(an){Lr.call(It,an).then(ar.resolve,ir)})});return gr.error&&ir(gr.value),ar.promise}})},function(m,x,s){var d=s(3);m.exports=d.Promise},function(m,x,s){"use strict";var d=s(34),w=s(19),i=s(48),v=s(5),g=i("species");m.exports=function(C){var F=d(C);v&&F&&!F[g]&&(0,w.f)(F,g,{configurable:!0,get:function(){return this}})}},function(m,x,s){var d=s(48)("iterator"),w=!1;try{var i=0,v={next:function(){return{done:!!i++}},return:function(){w=!0}};v[d]=function(){return this},Array.from(v,function(){throw 2})}catch{}m.exports=function(g,C){if(!C&&!w)return!1;var F=!1;try{var P={};P[d]=function(){return{next:function(){return{done:F=!0}}}},g(P)}catch{}return F}},function(m,x,s){var d,w,i,v=s(3),g=s(6),C=s(11),F=s(58),P=s(74),B=s(17),S=s(110),I=v.location,T=v.setImmediate,L=v.clearImmediate,M=v.process,N=v.MessageChannel,pe=v.Dispatch,ve=0,Fe={},Se=function(Ve){if(Fe.hasOwnProperty(Ve)){var Ke=Fe[Ve];delete Fe[Ve],Ke()}},Ee=function(Ve){return function(){Se(Ve)}},Ue=function(Ve){Se(Ve.data)},We=function(Ve){v.postMessage(Ve+"",I.protocol+"//"+I.host)};T&&L||(T=function(Ve){for(var Ke=[],De=1;arguments.length>De;)Ke.push(arguments[De++]);return Fe[++ve]=function(){("function"==typeof Ve?Ve:Function(Ve)).apply(void 0,Ke)},d(ve),ve},L=function(Ve){delete Fe[Ve]},"process"==C(M)?d=function(Ve){M.nextTick(Ee(Ve))}:pe&&pe.now?d=function(Ve){pe.now(Ee(Ve))}:N&&!S?(i=(w=new N).port2,w.port1.onmessage=Ue,d=F(i.postMessage,i,1)):!v.addEventListener||"function"!=typeof postMessage||v.importScripts||g(We)?d="onreadystatechange"in B("script")?function(Ve){P.appendChild(B("script")).onreadystatechange=function(){P.removeChild(this),Se(Ve)}}:function(Ve){setTimeout(Ee(Ve),0)}:(d=We,v.addEventListener("message",Ue,!1))),m.exports={set:T,clear:L}},function(m,x,s){var d=s(111);m.exports=/(iphone|ipod|ipad).*applewebkit/i.test(d)},function(m,x,s){var d=s(34);m.exports=d("navigator","userAgent")||""},function(m,x,s){var d,w,i,v,g,C,F,P,B=s(3),S=s(4).f,I=s(11),T=s(109).set,L=s(110),M=B.MutationObserver||B.WebKitMutationObserver,N=B.process,pe=B.Promise,ve="process"==I(N),Fe=S(B,"queueMicrotask"),Be=Fe&&Fe.value;Be||(d=function(){var Se,Ee;for(ve&&(Se=N.domain)&&Se.exit();w;){Ee=w.fn,w=w.next;try{Ee()}catch(Ue){throw w?v():i=void 0,Ue}}i=void 0,Se&&Se.enter()},ve?v=function(){N.nextTick(d)}:M&&!L?(g=!0,C=document.createTextNode(""),new M(d).observe(C,{characterData:!0}),v=function(){C.data=g=!g}):pe&&pe.resolve?(F=pe.resolve(void 0),P=F.then,v=function(){P.call(F,d)}):v=function(){T.call(B,d)}),m.exports=Be||function(Se){var Ee={fn:Se,next:void 0};i&&(i.next=Ee),w||(w=Ee,v()),i=Ee}},function(m,x,s){var d=s(20),w=s(14),i=s(114);m.exports=function(v,g){if(d(v),w(g)&&g.constructor===v)return g;var C=i.f(v);return(0,C.resolve)(g),C.promise}},function(m,x,s){"use strict";var d=s(59),w=function(i){var v,g;this.promise=new i(function(C,F){if(void 0!==v||void 0!==g)throw TypeError("Bad Promise constructor");v=C,g=F}),this.resolve=d(v),this.reject=d(g)};m.exports.f=function(i){return new w(i)}},function(m,x,s){var d=s(3);m.exports=function(w,i){var v=d.console;v&&v.error&&(1===arguments.length?v.error(w):v.error(w,i))}},function(m){m.exports=function(x){try{return{error:!1,value:x()}}catch(s){return{error:!0,value:s}}}},function(m,x,s){var d,w,i=s(3),v=s(111),g=i.process,C=g&&g.versions,F=C&&C.v8;F?w=(d=F.split("."))[0]+d[1]:v&&(!(d=v.match(/Edge\/(\d+)/))||d[1]>=74)&&(d=v.match(/Chrome\/(\d+)/))&&(w=d[1]),m.exports=w&&+w},function(m,x,s){"use strict";var d=s(2),w=s(29),i=s(106),v=s(6),g=s(34),C=s(89),F=s(113),P=s(21);d({target:"Promise",proto:!0,real:!0,forced:!!i&&v(function(){i.prototype.finally.call({then:function(){}},function(){})})},{finally:function(B){var S=C(this,g("Promise")),I="function"==typeof B;return this.then(I?function(T){return F(S,B()).then(function(){return T})}:B,I?function(T){return F(S,B()).then(function(){throw T})}:B)}}),w||"function"!=typeof i||i.prototype.finally||P(i.prototype,"finally",g("Promise").prototype.finally)},function(m,x,s){var d=s(2),w=s(20),i=s(14),v=s(15),g=s(6),C=s(19),F=s(4),P=s(83),B=s(8);d({target:"Reflect",stat:!0,forced:g(function(){var S=C.f({},"a",{configurable:!0});return!1!==Reflect.set(P(S),"a",1,S)})},{set:function S(I,T,L){var M,N,pe=arguments.length<4?I:arguments[3],ve=F.f(w(I),T);if(!ve){if(i(N=P(I)))return S(N,T,L,pe);ve=B(0)}if(v(ve,"value")){if(!1===ve.writable||!i(pe))return!1;if(M=F.f(pe,T)){if(M.get||M.set||!1===M.writable)return!1;M.value=L,C.f(pe,T,M)}else C.f(pe,T,B(0,L));return!0}return void 0!==ve.set&&(ve.set.call(pe,L),!0)}})},function(m,x,s){var d=s(5),w=s(3),i=s(44),v=s(121),g=s(19).f,C=s(36).f,F=s(122),P=s(123),B=s(124),S=s(21),I=s(6),T=s(25).set,L=s(107),M=s(48)("match"),N=w.RegExp,pe=N.prototype,ve=/a/g,Fe=/a/g,Be=new N(ve)!==ve,Se=B.UNSUPPORTED_Y;if(d&&i("RegExp",!Be||Se||I(function(){return Fe[M]=!1,N(ve)!=ve||N(Fe)==Fe||"/a/i"!=N(ve,"i")}))){for(var Ee=function(Ke,De){var tt,dt=this instanceof Ee,Je=F(Ke),xt=void 0===De;if(!dt&&Je&&Ke.constructor===Ee&&xt)return Ke;Be?Je&&!xt&&(Ke=Ke.source):Ke instanceof Ee&&(xt&&(De=P.call(Ke)),Ke=Ke.source),Se&&(tt=!!De&&De.indexOf("y")>-1)&&(De=De.replace(/y/g,""));var Xe=v(Be?new N(Ke,De):N(Ke,De),dt?this:pe,Ee);return Se&&tt&&T(Xe,{sticky:tt}),Xe},Ue=function(Ke){Ke in Ee||g(Ee,Ke,{configurable:!0,get:function(){return N[Ke]},set:function(De){N[Ke]=De}})},We=C(N),Ve=0;We.length>Ve;)Ue(We[Ve++]);pe.constructor=Ee,Ee.prototype=pe,S(w,"RegExp",Ee)}L("RegExp")},function(m,x,s){var d=s(14),w=s(85);m.exports=function(i,v,g){var C,F;return w&&"function"==typeof(C=v.constructor)&&C!==g&&d(F=C.prototype)&&F!==g.prototype&&w(i,F),i}},function(m,x,s){var d=s(14),w=s(11),i=s(48)("match");m.exports=function(v){var g;return d(v)&&(void 0!==(g=v[i])?!!g:"RegExp"==w(v))}},function(m,x,s){"use strict";var d=s(20);m.exports=function(){var w=d(this),i="";return w.global&&(i+="g"),w.ignoreCase&&(i+="i"),w.multiline&&(i+="m"),w.dotAll&&(i+="s"),w.unicode&&(i+="u"),w.sticky&&(i+="y"),i}},function(m,x,s){"use strict";var d=s(6);function w(i,v){return RegExp(i,v)}x.UNSUPPORTED_Y=d(function(){var i=w("a","y");return i.lastIndex=2,null!=i.exec("abcd")}),x.BROKEN_CARET=d(function(){var i=w("^r","gy");return i.lastIndex=2,null!=i.exec("str")})},function(m,x,s){var d=s(5),w=s(19),i=s(123),v=s(124).UNSUPPORTED_Y;d&&("g"!=/./g.flags||v)&&w.f(RegExp.prototype,"flags",{configurable:!0,get:i})},function(m,x,s){"use strict";var d=s(21),w=s(20),i=s(6),v=s(123),g="toString",C=RegExp.prototype,F=C.toString;(i(function(){return"/a/b"!=F.call({source:"a",flags:"b"})})||F.name!=g)&&d(RegExp.prototype,g,function(){var S=w(this),I=String(S.source),T=S.flags;return"/"+I+"/"+String(void 0===T&&S instanceof RegExp&&!("flags"in C)?v.call(S):T)},{unsafe:!0})},function(m,x,s){"use strict";var d,w=s(2),i=s(4).f,v=s(39),g=s(128),C=s(12),F=s(129),P=s(29),B="".endsWith,S=Math.min,I=F("endsWith");w({target:"String",proto:!0,forced:!(!P&&!I&&(d=i(String.prototype,"endsWith"),d&&!d.writable)||I)},{endsWith:function(T){var L=String(C(this));g(T);var M=arguments.length>1?arguments[1]:void 0,N=v(L.length),pe=void 0===M?N:S(v(M),N),ve=String(T);return B?B.call(L,ve,pe):L.slice(pe-ve.length,pe)===ve}})},function(m,x,s){var d=s(122);m.exports=function(w){if(d(w))throw TypeError("The method doesn't accept regular expressions");return w}},function(m,x,s){var d=s(48)("match");m.exports=function(w){var i=/./;try{"/./"[w](i)}catch{try{return i[d]=!1,"/./"[w](i)}catch{}}return!1}},function(m,x,s){"use strict";var d=s(2),w=s(128),i=s(12);d({target:"String",proto:!0,forced:!s(129)("includes")},{includes:function(v){return!!~String(i(this)).indexOf(w(v),arguments.length>1?arguments[1]:void 0)}})},function(m,x,s){"use strict";var d=s(132),w=s(20),i=s(39),v=s(12),g=s(135),C=s(137);d("match",1,function(F,P,B){return[function(S){var I=v(this),T=S?.[F];return void 0!==T?T.call(S,I):new RegExp(S)[F](String(I))},function(S){var I=B(P,S,this);if(I.done)return I.value;var T=w(S),L=String(this);if(!T.global)return C(T,L);var M=T.unicode;T.lastIndex=0;for(var N,pe=[],ve=0;null!==(N=C(T,L));){var Fe=String(N[0]);pe[ve]=Fe,""===Fe&&(T.lastIndex=g(L,i(T.lastIndex),M)),ve++}return 0===ve?null:pe}]})},function(m,x,s){"use strict";s(133);var d=s(21),w=s(6),i=s(48),v=s(134),g=s(18),C=i("species"),F=!w(function(){var S=/./;return S.exec=function(){var I=[];return I.groups={a:"7"},I},"7"!=="".replace(S,"$<a>")}),P="$0"==="a".replace(/./,"$0"),B=!w(function(){var S=/(?:)/,I=S.exec;S.exec=function(){return I.apply(this,arguments)};var T="ab".split(S);return 2!==T.length||"a"!==T[0]||"b"!==T[1]});m.exports=function(S,I,T,L){var M=i(S),N=!w(function(){var Ee={};return Ee[M]=function(){return 7},7!=""[S](Ee)}),pe=N&&!w(function(){var Ee=!1,Ue=/a/;return"split"===S&&((Ue={}).constructor={},Ue.constructor[C]=function(){return Ue},Ue.flags="",Ue[M]=/./[M]),Ue.exec=function(){return Ee=!0,null},Ue[M](""),!Ee});if(!N||!pe||"replace"===S&&(!F||!P)||"split"===S&&!B){var ve=/./[M],Fe=T(M,""[S],function(Ee,Ue,We,Ve,Ke){return Ue.exec===v?N&&!Ke?{done:!0,value:ve.call(Ue,We,Ve)}:{done:!0,value:Ee.call(We,Ue,Ve)}:{done:!1}},{REPLACE_KEEPS_$0:P}),Se=Fe[1];d(String.prototype,S,Fe[0]),d(RegExp.prototype,M,2==I?function(Ee,Ue){return Se.call(Ee,this,Ue)}:function(Ee){return Se.call(Ee,this)})}L&&g(RegExp.prototype[M],"sham",!0)}},function(m,x,s){"use strict";var d=s(2),w=s(134);d({target:"RegExp",proto:!0,forced:/./.exec!==w},{exec:w})},function(m,x,s){"use strict";var d,w,i=s(123),v=s(124),g=RegExp.prototype.exec,C=String.prototype.replace,F=g,P=(w=/b*/g,g.call(d=/a/,"a"),g.call(w,"a"),0!==d.lastIndex||0!==w.lastIndex),B=v.UNSUPPORTED_Y||v.BROKEN_CARET,S=void 0!==/()??/.exec("")[1];(P||S||B)&&(F=function(I){var T,L,M,N,pe=this,ve=B&&pe.sticky,Fe=i.call(pe),Be=pe.source,Se=0,Ee=I;return ve&&(-1===(Fe=Fe.replace("y","")).indexOf("g")&&(Fe+="g"),Ee=String(I).slice(pe.lastIndex),pe.lastIndex>0&&(!pe.multiline||pe.multiline&&"\n"!==I[pe.lastIndex-1])&&(Be="(?: "+Be+")",Ee=" "+Ee,Se++),L=new RegExp("^(?:"+Be+")",Fe)),S&&(L=new RegExp("^"+Be+"$(?!\\s)",Fe)),P&&(T=pe.lastIndex),M=g.call(ve?L:pe,Ee),ve?M?(M.input=M.input.slice(Se),M[0]=M[0].slice(Se),M.index=pe.lastIndex,pe.lastIndex+=M[0].length):pe.lastIndex=0:P&&M&&(pe.lastIndex=pe.global?M.index+M[0].length:T),S&&M&&M.length>1&&C.call(M[0],L,function(){for(N=1;N<arguments.length-2;N++)void 0===arguments[N]&&(M[N]=void 0)}),M}),m.exports=F},function(m,x,s){"use strict";var d=s(136).charAt;m.exports=function(w,i,v){return i+(v?d(w,i).length:1)}},function(m,x,s){var d=s(40),w=s(12),i=function(v){return function(g,C){var F,P,B=String(w(g)),S=d(C),I=B.length;return S<0||S>=I?v?"":void 0:(F=B.charCodeAt(S))<55296||F>56319||S+1===I||(P=B.charCodeAt(S+1))<56320||P>57343?v?B.charAt(S):F:v?B.slice(S,S+2):P-56320+(F-55296<<10)+65536}};m.exports={codeAt:i(!1),charAt:i(!0)}},function(m,x,s){var d=s(11),w=s(134);m.exports=function(i,v){var g=i.exec;if("function"==typeof g){var C=g.call(i,v);if("object"!=typeof C)throw TypeError("RegExp exec method returned something other than an Object or null");return C}if("RegExp"!==d(i))throw TypeError("RegExp#exec called on incompatible receiver");return w.call(i,v)}},function(m,x,s){"use strict";var d=s(132),w=s(20),i=s(60),v=s(39),g=s(40),C=s(12),F=s(135),P=s(137),B=Math.max,S=Math.min,I=Math.floor,T=/\$([$&'`]|\d\d?|<[^>]*>)/g,L=/\$([$&'`]|\d\d?)/g;d("replace",2,function(M,N,pe,ve){return[function(Be,Se){var Ee=C(this),Ue=Be?.[M];return void 0!==Ue?Ue.call(Be,Ee,Se):N.call(String(Ee),Be,Se)},function(Be,Se){if(ve.REPLACE_KEEPS_$0||"string"==typeof Se&&-1===Se.indexOf("$0")){var Ee=pe(N,Be,this,Se);if(Ee.done)return Ee.value}var Ue=w(Be),We=String(this),Ve="function"==typeof Se;Ve||(Se=String(Se));var Ke=Ue.global;if(Ke){var De=Ue.unicode;Ue.lastIndex=0}for(var tt=[];;){var dt=P(Ue,We);if(null===dt||(tt.push(dt),!Ke))break;""===String(dt[0])&&(Ue.lastIndex=F(We,v(Ue.lastIndex),De))}for(var Je,xt="",Xe=0,jt=0;jt<tt.length;jt++){dt=tt[jt];for(var At=String(dt[0]),tr=B(S(g(dt.index),We.length),0),Oe=[],ct=1;ct<dt.length;ct++)Oe.push(void 0===(Je=dt[ct])?Je:String(Je));var vt=dt.groups;if(Ve){var je=[At].concat(Oe,tr,We);void 0!==vt&&je.push(vt);var fr=String(Se.apply(void 0,je))}else fr=Fe(At,We,tr,Oe,vt,Se);tr>=Xe&&(xt+=We.slice(Xe,tr)+fr,Xe=tr+At.length)}return xt+We.slice(Xe)}];function Fe(Be,Se,Ee,Ue,We,Ve){var Ke=Ee+Be.length,De=Ue.length,tt=L;return void 0!==We&&(We=i(We),tt=T),N.call(Ve,tt,function(dt,Je){var xt;switch(Je.charAt(0)){case"$":return"$";case"&":return Be;case"`":return Se.slice(0,Ee);case"'":return Se.slice(Ke);case"<":xt=We[Je.slice(1,-1)];break;default:var Xe=+Je;if(0===Xe)return dt;if(Xe>De){var jt=I(Xe/10);return 0===jt?dt:jt<=De?void 0===Ue[jt-1]?Je.charAt(1):Ue[jt-1]+Je.charAt(1):dt}xt=Ue[Xe-1]}return void 0===xt?"":xt})}})},function(m,x,s){"use strict";var d=s(132),w=s(20),i=s(12),v=s(140),g=s(137);d("search",1,function(C,F,P){return[function(B){var S=i(this),I=B?.[C];return void 0!==I?I.call(B,S):new RegExp(B)[C](String(S))},function(B){var S=P(F,B,this);if(S.done)return S.value;var I=w(B),T=String(this),L=I.lastIndex;v(L,0)||(I.lastIndex=0);var M=g(I,T);return v(I.lastIndex,L)||(I.lastIndex=L),null===M?-1:M.index}]})},function(m){m.exports=Object.is||function(x,s){return x===s?0!==x||1/x==1/s:x!=x&&s!=s}},function(m,x,s){"use strict";var d=s(132),w=s(122),i=s(20),v=s(12),g=s(89),C=s(135),F=s(39),P=s(137),B=s(134),S=s(6),I=[].push,T=Math.min,L=4294967295,M=!S(function(){return!RegExp(L,"y")});d("split",2,function(N,pe,ve){var Fe;return Fe="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(Be,Se){var Ee=String(v(this)),Ue=void 0===Se?L:Se>>>0;if(0===Ue)return[];if(void 0===Be)return[Ee];if(!w(Be))return pe.call(Ee,Be,Ue);for(var We,Ve,Ke,De=[],dt=0,Je=new RegExp(Be.source,(Be.ignoreCase?"i":"")+(Be.multiline?"m":"")+(Be.unicode?"u":"")+(Be.sticky?"y":"")+"g");(We=B.call(Je,Ee))&&!((Ve=Je.lastIndex)>dt&&(De.push(Ee.slice(dt,We.index)),We.length>1&&We.index<Ee.length&&I.apply(De,We.slice(1)),Ke=We[0].length,dt=Ve,De.length>=Ue));)Je.lastIndex===We.index&&Je.lastIndex++;return dt===Ee.length?!Ke&&Je.test("")||De.push(""):De.push(Ee.slice(dt)),De.length>Ue?De.slice(0,Ue):De}:"0".split(void 0,0).length?function(Be,Se){return void 0===Be&&0===Se?[]:pe.call(this,Be,Se)}:pe,[function(Be,Se){var Ee=v(this),Ue=Be?.[N];return void 0!==Ue?Ue.call(Be,Ee,Se):Fe.call(String(Ee),Be,Se)},function(Be,Se){var Ee=ve(Fe,Be,this,Se,Fe!==pe);if(Ee.done)return Ee.value;var Ue=i(Be),We=String(this),Ve=g(Ue,RegExp),Ke=Ue.unicode,tt=new Ve(M?Ue:"^(?:"+Ue.source+")",(Ue.ignoreCase?"i":"")+(Ue.multiline?"m":"")+(Ue.unicode?"u":"")+(M?"y":"g")),dt=void 0===Se?L:Se>>>0;if(0===dt)return[];if(0===We.length)return null===P(tt,We)?[We]:[];for(var Je=0,xt=0,Xe=[];xt<We.length;){tt.lastIndex=M?xt:0;var jt,At=P(tt,M?We:We.slice(xt));if(null===At||(jt=T(F(tt.lastIndex+(M?0:xt)),We.length))===Je)xt=C(We,xt,Ke);else{if(Xe.push(We.slice(Je,xt)),Xe.length===dt)return Xe;for(var tr=1;tr<=At.length-1;tr++)if(Xe.push(At[tr]),Xe.length===dt)return Xe;xt=Je=jt}}return Xe.push(We.slice(Je)),Xe}]},!M)},function(m,x,s){"use strict";var d,w=s(2),i=s(4).f,v=s(39),g=s(128),C=s(12),F=s(129),P=s(29),B="".startsWith,S=Math.min,I=F("startsWith");w({target:"String",proto:!0,forced:!(!P&&!I&&(d=i(String.prototype,"startsWith"),d&&!d.writable)||I)},{startsWith:function(T){var L=String(C(this));g(T);var M=v(S(arguments.length>1?arguments[1]:void 0,L.length)),N=String(T);return B?B.call(L,N,M):L.slice(M,M+N.length)===N}})},function(m,x,s){"use strict";var d=s(2),w=s(144).trim;d({target:"String",proto:!0,forced:s(146)("trim")},{trim:function(){return w(this)}})},function(m,x,s){var d=s(12),w="["+s(145)+"]",i=RegExp("^"+w+w+"*"),v=RegExp(w+w+"*$"),g=function(C){return function(F){var P=String(d(F));return 1&C&&(P=P.replace(i,"")),2&C&&(P=P.replace(v,"")),P}};m.exports={start:g(1),end:g(2),trim:g(3)}},function(m){m.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},function(m,x,s){var d=s(6),w=s(145);m.exports=function(i){return d(function(){return!!w[i]()||"\u200b\x85\u180e"!="\u200b\x85\u180e"[i]()||w[i].name!==i})}},function(m,x,s){"use strict";var d=s(2),w=s(144).end,i=s(146)("trimEnd"),v=i?function(){return w(this)}:"".trimEnd;d({target:"String",proto:!0,forced:i},{trimEnd:v,trimRight:v})},function(m,x,s){"use strict";var d=s(2),w=s(144).start,i=s(146)("trimStart"),v=i?function(){return w(this)}:"".trimStart;d({target:"String",proto:!0,forced:i},{trimStart:v,trimLeft:v})},function(m,x,s){s(150)("Float32",function(d){return function(w,i,v){return d(this,w,i,v)}})},function(m,x,s){"use strict";var d=s(2),w=s(3),i=s(5),v=s(151),g=s(152),C=s(77),F=s(80),P=s(8),B=s(18),S=s(39),I=s(81),T=s(153),L=s(13),M=s(15),N=s(101),pe=s(14),ve=s(71),Fe=s(85),Be=s(36).f,Se=s(155),Ee=s(156).forEach,Ue=s(107),We=s(19),Ve=s(4),Ke=s(25),De=s(121),tt=Ke.get,dt=Ke.set,Je=We.f,xt=Ve.f,Xe=Math.round,jt=w.RangeError,At=C.ArrayBuffer,tr=C.DataView,Oe=g.NATIVE_ARRAY_BUFFER_VIEWS,ct=g.TYPED_ARRAY_TAG,vt=g.TypedArray,je=g.TypedArrayPrototype,fr=g.aTypedArrayConstructor,dr=g.isTypedArray,Fr="BYTES_PER_ELEMENT",Nt="Wrong length",kt=function(Dt,Wt){for(var Rt=0,Ht=Wt.length,kr=new(fr(Dt))(Ht);Ht>Rt;)kr[Rt]=Wt[Rt++];return kr},ze=function(Dt,Wt){Je(Dt,Wt,{get:function(){return tt(this)[Wt]}})},_t=function(Dt){var Wt;return Dt instanceof At||"ArrayBuffer"==(Wt=N(Dt))||"SharedArrayBuffer"==Wt},fe=function(Dt,Wt){return dr(Dt)&&"symbol"!=typeof Wt&&Wt in Dt&&String(+Wt)==String(Wt)},ye=function(Dt,Wt){return fe(Dt,Wt=L(Wt,!0))?P(2,Dt[Wt]):xt(Dt,Wt)},rt=function(Dt,Wt,Rt){return!(fe(Dt,Wt=L(Wt,!0))&&pe(Rt)&&M(Rt,"value"))||M(Rt,"get")||M(Rt,"set")||Rt.configurable||M(Rt,"writable")&&!Rt.writable||M(Rt,"enumerable")&&!Rt.enumerable?Je(Dt,Wt,Rt):(Dt[Wt]=Rt.value,Dt)};i?(Oe||(Ve.f=ye,We.f=rt,ze(je,"buffer"),ze(je,"byteOffset"),ze(je,"byteLength"),ze(je,"length")),d({target:"Object",stat:!0,forced:!Oe},{getOwnPropertyDescriptor:ye,defineProperty:rt}),m.exports=function(Dt,Wt,Rt){var Ht=Dt.match(/\d+$/)[0]/8,kr=Dt+(Rt?"Clamped":"")+"Array",Br="get"+Dt,Mr="set"+Dt,jr=w[kr],vr=jr,Qt=vr&&vr.prototype,It={},ar=function(ir,gr){Je(ir,gr,{get:function(){return an=gr,($r=tt(this)).view[Br](an*Ht+$r.byteOffset,!0);var an,$r},set:function(Lr){return $r=gr,qr=Lr,en=tt(this),Rt&&(qr=(qr=Xe(qr))<0?0:qr>255?255:255&qr),void en.view[Mr]($r*Ht+en.byteOffset,qr,!0);var $r,qr,en},enumerable:!0})};Oe?v&&(vr=Wt(function(ir,gr,Lr,an){return F(ir,vr,kr),De(pe(gr)?_t(gr)?void 0!==an?new jr(gr,T(Lr,Ht),an):void 0!==Lr?new jr(gr,T(Lr,Ht)):new jr(gr):dr(gr)?kt(vr,gr):Se.call(vr,gr):new jr(I(gr)),ir,vr)}),Fe&&Fe(vr,vt),Ee(Be(jr),function(ir){ir in vr||B(vr,ir,jr[ir])}),vr.prototype=Qt):(vr=Wt(function(ir,gr,Lr,an){F(ir,vr,kr);var $r,qr,en,fn=0,Pn=0;if(pe(gr)){if(!_t(gr))return dr(gr)?kt(vr,gr):Se.call(vr,gr);$r=gr,Pn=T(Lr,Ht);var Rr=gr.byteLength;if(void 0===an){if(Rr%Ht||(qr=Rr-Pn)<0)throw jt(Nt)}else if((qr=S(an)*Ht)+Pn>Rr)throw jt(Nt);en=qr/Ht}else en=I(gr),$r=new At(qr=en*Ht);for(dt(ir,{buffer:$r,byteOffset:Pn,byteLength:qr,length:en,view:new tr($r)});fn<en;)ar(ir,fn++)}),Fe&&Fe(vr,vt),Qt=vr.prototype=ve(je)),Qt.constructor!==vr&&B(Qt,"constructor",vr),ct&&B(Qt,ct,kr),It[kr]=vr,d({global:!0,forced:vr!=jr,sham:!Oe},It),Fr in vr||B(vr,Fr,Ht),Fr in Qt||B(Qt,Fr,Ht),Ue(kr)}):m.exports=function(){}},function(m,x,s){var d=s(3),w=s(6),i=s(108),v=s(152).NATIVE_ARRAY_BUFFER_VIEWS,g=d.ArrayBuffer,C=d.Int8Array;m.exports=!v||!w(function(){C(1)})||!w(function(){new C(-1)})||!i(function(F){new C,new C(null),new C(1.5),new C(F)},!0)||w(function(){return 1!==new C(new g(2),1,void 0).length})},function(m,x,s){"use strict";var d,w=s(78),i=s(5),v=s(3),g=s(14),C=s(15),F=s(101),P=s(18),B=s(21),S=s(19).f,I=s(83),T=s(85),L=s(48),M=s(30),N=v.Int8Array,pe=N&&N.prototype,ve=v.Uint8ClampedArray,Fe=ve&&ve.prototype,Be=N&&I(N),Se=pe&&I(pe),Ee=Object.prototype,Ue=Ee.isPrototypeOf,We=L("toStringTag"),Ve=M("TYPED_ARRAY_TAG"),Ke=w&&!!T&&"Opera"!==F(v.opera),De=!1,tt={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},dt=function(Je){return g(Je)&&C(tt,F(Je))};for(d in tt)v[d]||(Ke=!1);if((!Ke||"function"!=typeof Be||Be===Function.prototype)&&(Be=function(){throw TypeError("Incorrect invocation")},Ke))for(d in tt)v[d]&&T(v[d],Be);if((!Ke||!Se||Se===Ee)&&(Se=Be.prototype,Ke))for(d in tt)v[d]&&T(v[d].prototype,Se);if(Ke&&I(Fe)!==Se&&T(Fe,Se),i&&!C(Se,We))for(d in De=!0,S(Se,We,{get:function(){return g(this)?this[Ve]:void 0}}),tt)v[d]&&P(v[d],Ve,d);m.exports={NATIVE_ARRAY_BUFFER_VIEWS:Ke,TYPED_ARRAY_TAG:De&&Ve,aTypedArray:function(Je){if(dt(Je))return Je;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(Je){if(T){if(Ue.call(Be,Je))return Je}else for(var xt in tt)if(C(tt,d)){var Xe=v[xt];if(Xe&&(Je===Xe||Ue.call(Xe,Je)))return Je}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(Je,xt,Xe){if(i){if(Xe)for(var jt in tt){var At=v[jt];At&&C(At.prototype,Je)&&delete At.prototype[Je]}Se[Je]&&!Xe||B(Se,Je,Xe?xt:Ke&&pe[Je]||xt)}},exportTypedArrayStaticMethod:function(Je,xt,Xe){var jt,At;if(i){if(T){if(Xe)for(jt in tt)(At=v[jt])&&C(At,Je)&&delete At[Je];if(Be[Je]&&!Xe)return;try{return B(Be,Je,Xe?xt:Ke&&N[Je]||xt)}catch{}}for(jt in tt)!(At=v[jt])||At[Je]&&!Xe||B(At,Je,xt)}},isView:function(Je){var xt=F(Je);return"DataView"===xt||C(tt,xt)},isTypedArray:dt,TypedArray:Be,TypedArrayPrototype:Se}},function(m,x,s){var d=s(154);m.exports=function(w,i){var v=d(w);if(v%i)throw RangeError("Wrong offset");return v}},function(m,x,s){var d=s(40);m.exports=function(w){var i=d(w);if(i<0)throw RangeError("The argument can't be less than 0");return i}},function(m,x,s){var d=s(60),w=s(39),i=s(100),v=s(98),g=s(58),C=s(152).aTypedArrayConstructor;m.exports=function(F){var P,B,S,I,T,L,M=d(F),N=arguments.length,pe=N>1?arguments[1]:void 0,ve=void 0!==pe,Fe=i(M);if(null!=Fe&&!v(Fe))for(L=(T=Fe.call(M)).next,M=[];!(I=L.call(T)).done;)M.push(I.value);for(ve&&N>2&&(pe=g(pe,arguments[2],2)),B=w(M.length),S=new(C(this))(B),P=0;B>P;P++)S[P]=ve?pe(M[P],P):M[P];return S}},function(m,x,s){var d=s(58),w=s(10),i=s(60),v=s(39),g=s(61),C=[].push,F=function(P){var B=1==P,S=2==P,I=3==P,T=4==P,L=6==P,M=5==P||L;return function(N,pe,ve,Fe){for(var Be,Se,Ee=i(N),Ue=w(Ee),We=d(pe,ve,3),Ve=v(Ue.length),Ke=0,De=Fe||g,tt=B?De(N,Ve):S?De(N,0):void 0;Ve>Ke;Ke++)if((M||Ke in Ue)&&(Se=We(Be=Ue[Ke],Ke,Ee),P))if(B)tt[Ke]=Se;else if(Se)switch(P){case 3:return!0;case 5:return Be;case 6:return Ke;case 2:C.call(tt,Be)}else if(T)return!1;return L?-1:I||T?T:tt}};m.exports={forEach:F(0),map:F(1),filter:F(2),some:F(3),every:F(4),find:F(5),findIndex:F(6)}},function(m,x,s){s(150)("Float64",function(d){return function(w,i,v){return d(this,w,i,v)}})},function(m,x,s){s(150)("Int8",function(d){return function(w,i,v){return d(this,w,i,v)}})},function(m,x,s){s(150)("Int16",function(d){return function(w,i,v){return d(this,w,i,v)}})},function(m,x,s){s(150)("Int32",function(d){return function(w,i,v){return d(this,w,i,v)}})},function(m,x,s){s(150)("Uint8",function(d){return function(w,i,v){return d(this,w,i,v)}})},function(m,x,s){s(150)("Uint8",function(d){return function(w,i,v){return d(this,w,i,v)}},!0)},function(m,x,s){s(150)("Uint16",function(d){return function(w,i,v){return d(this,w,i,v)}})},function(m,x,s){s(150)("Uint32",function(d){return function(w,i,v){return d(this,w,i,v)}})},function(m,x,s){"use strict";var d=s(151);(0,s(152).exportTypedArrayStaticMethod)("from",s(155),d)},function(m,x,s){"use strict";var d=s(152),w=s(151),i=d.aTypedArrayConstructor;(0,d.exportTypedArrayStaticMethod)("of",function(){for(var v=0,g=arguments.length,C=new(i(this))(g);g>v;)C[v]=arguments[v++];return C},w)},function(m,x,s){"use strict";var d=s(3),w=s(152),i=s(6),v=d.Int8Array,g=w.aTypedArray,C=w.exportTypedArrayMethod,F=[].toLocaleString,P=[].slice,B=!!v&&i(function(){F.call(new v(1))});C("toLocaleString",function(){return F.apply(B?P.call(g(this)):g(this),arguments)},i(function(){return[1,2].toLocaleString()!=new v([1,2]).toLocaleString()})||!i(function(){v.prototype.toLocaleString.call([1,2])}))},function(m,x,s){"use strict";var d=s(2),w=s(5),i=s(83),v=s(85),g=s(71),C=s(19),F=s(8),P=s(97),B=s(18),S=s(25),I=S.set,T=S.getterFor("AggregateError"),L=function(M,N){var pe=this;if(!(pe instanceof L))return new L(M,N);v&&(pe=v(new Error(N),i(pe)));var ve=[];return P(M,ve.push,ve),w?I(pe,{errors:ve,type:"AggregateError"}):pe.errors=ve,void 0!==N&&B(pe,"message",String(N)),pe};L.prototype=g(Error.prototype,{constructor:F(5,L),message:F(5,""),name:F(5,"AggregateError")}),w&&C.f(L.prototype,"errors",{get:function(){return T(this).errors},configurable:!0}),d({global:!0},{AggregateError:L})},function(m,x,s){"use strict";var d=s(5),w=s(70),i=s(60),v=s(39),g=s(19).f;d&&!("lastIndex"in[])&&(g(Array.prototype,"lastIndex",{configurable:!0,get:function(){var C=i(this),F=v(C.length);return 0==F?0:F-1}}),w("lastIndex"))},function(m,x,s){"use strict";var d=s(5),w=s(70),i=s(60),v=s(39),g=s(19).f;d&&!("lastItem"in[])&&(g(Array.prototype,"lastItem",{configurable:!0,get:function(){var C=i(this),F=v(C.length);return 0==F?void 0:C[F-1]},set:function(C){var F=i(this),P=v(F.length);return F[0==P?0:P-1]=C}}),w("lastItem"))},function(m,x,s){var d=s(2),w=s(172),i=s(34),v=s(71),g=function(){var C=i("Object","freeze");return C?C(v(null)):v(null)};d({global:!0},{compositeKey:function(){return w.apply(Object,arguments).get("object",g)}})},function(m,x,s){var d=s(173),w=s(181),i=s(71),v=s(14),g=function(){this.object=null,this.symbol=null,this.primitives=null,this.objectsByIndex=i(null)};g.prototype.get=function(F,P){return this[F]||(this[F]=P())},g.prototype.next=function(F,P,B){var S=B?this.objectsByIndex[F]||(this.objectsByIndex[F]=new w):this.primitives||(this.primitives=new d),I=S.get(P);return I||S.set(P,I=new g),I};var C=new g;m.exports=function(){var F,P,B=C,S=arguments.length;for(F=0;F<S;F++)v(P=arguments[F])&&(B=B.next(F,P,!0));if(this===Object&&B===C)throw TypeError("Composite keys must contain a non-primitive component");for(F=0;F<S;F++)v(P=arguments[F])||(B=B.next(F,P,!1));return B}},function(m,x,s){"use strict";var d=s(174),w=s(177);m.exports=d("Map",function(i){return function(){return i(this,arguments.length?arguments[0]:void 0)}},w)},function(m,x,s){"use strict";var d=s(2),w=s(3),i=s(44),v=s(21),g=s(175),C=s(97),F=s(80),P=s(14),B=s(6),S=s(108),I=s(88),T=s(121);m.exports=function(L,M,N){var pe=-1!==L.indexOf("Map"),ve=-1!==L.indexOf("Weak"),Fe=pe?"set":"add",Be=w[L],Se=Be&&Be.prototype,Ee=Be,Ue={},We=function(Je){var xt=Se[Je];v(Se,Je,"add"==Je?function(Xe){return xt.call(this,0===Xe?0:Xe),this}:"delete"==Je?function(Xe){return!(ve&&!P(Xe))&&xt.call(this,0===Xe?0:Xe)}:"get"==Je?function(Xe){return ve&&!P(Xe)?void 0:xt.call(this,0===Xe?0:Xe)}:"has"==Je?function(Xe){return!(ve&&!P(Xe))&&xt.call(this,0===Xe?0:Xe)}:function(Xe,jt){return xt.call(this,0===Xe?0:Xe,jt),this})};if(i(L,"function"!=typeof Be||!(ve||Se.forEach&&!B(function(){(new Be).entries().next()}))))Ee=N.getConstructor(M,L,pe,Fe),g.REQUIRED=!0;else if(i(L,!0)){var Ve=new Ee,Ke=Ve[Fe](ve?{}:-0,1)!=Ve,De=B(function(){Ve.has(1)}),tt=S(function(Je){new Be(Je)}),dt=!ve&&B(function(){for(var Je=new Be,xt=5;xt--;)Je[Fe](xt,xt);return!Je.has(-0)});tt||((Ee=M(function(Je,xt){F(Je,Ee,L);var Xe=T(new Be,Je,Ee);return null!=xt&&C(xt,Xe[Fe],Xe,pe),Xe})).prototype=Se,Se.constructor=Ee),(De||dt)&&(We("delete"),We("has"),pe&&We("get")),(dt||Ke)&&We(Fe),ve&&Se.clear&&delete Se.clear}return Ue[L]=Ee,d({global:!0,forced:Ee!=Be},Ue),I(Ee,L),ve||N.setStrong(Ee,L,pe),Ee}},function(m,x,s){var d=s(31),w=s(14),i=s(15),v=s(19).f,g=s(30),C=s(176),F=g("meta"),P=0,B=Object.isExtensible||function(){return!0},S=function(T){v(T,F,{value:{objectID:"O"+ ++P,weakData:{}}})},I=m.exports={REQUIRED:!1,fastKey:function(T,L){if(!w(T))return"symbol"==typeof T?T:("string"==typeof T?"S":"P")+T;if(!i(T,F)){if(!B(T))return"F";if(!L)return"E";S(T)}return T[F].objectID},getWeakData:function(T,L){if(!i(T,F)){if(!B(T))return!0;if(!L)return!1;S(T)}return T[F].weakData},onFreeze:function(T){return C&&I.REQUIRED&&B(T)&&!i(T,F)&&S(T),T}};d[F]=!0},function(m,x,s){var d=s(6);m.exports=!d(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(m,x,s){"use strict";var d=s(19).f,w=s(71),i=s(79),v=s(58),g=s(80),C=s(97),F=s(178),P=s(107),B=s(5),S=s(175).fastKey,I=s(25),T=I.set,L=I.getterFor;m.exports={getConstructor:function(M,N,pe,ve){var Fe=M(function(Ue,We){g(Ue,Fe,N),T(Ue,{type:N,index:w(null),first:void 0,last:void 0,size:0}),B||(Ue.size=0),null!=We&&C(We,Ue[ve],Ue,pe)}),Be=L(N),Se=function(Ue,We,Ve){var Ke,De,tt=Be(Ue),dt=Ee(Ue,We);return dt?dt.value=Ve:(tt.last=dt={index:De=S(We,!0),key:We,value:Ve,previous:Ke=tt.last,next:void 0,removed:!1},tt.first||(tt.first=dt),Ke&&(Ke.next=dt),B?tt.size++:Ue.size++,"F"!==De&&(tt.index[De]=dt)),Ue},Ee=function(Ue,We){var Ve,Ke=Be(Ue),De=S(We);if("F"!==De)return Ke.index[De];for(Ve=Ke.first;Ve;Ve=Ve.next)if(Ve.key==We)return Ve};return i(Fe.prototype,{clear:function(){for(var Ue=Be(this),We=Ue.index,Ve=Ue.first;Ve;)Ve.removed=!0,Ve.previous&&(Ve.previous=Ve.previous.next=void 0),delete We[Ve.index],Ve=Ve.next;Ue.first=Ue.last=void 0,B?Ue.size=0:this.size=0},delete:function(Ue){var Ve=Be(this),Ke=Ee(this,Ue);if(Ke){var De=Ke.next,tt=Ke.previous;delete Ve.index[Ke.index],Ke.removed=!0,tt&&(tt.next=De),De&&(De.previous=tt),Ve.first==Ke&&(Ve.first=De),Ve.last==Ke&&(Ve.last=tt),B?Ve.size--:this.size--}return!!Ke},forEach:function(Ue){for(var We,Ve=Be(this),Ke=v(Ue,arguments.length>1?arguments[1]:void 0,3);We=We?We.next:Ve.first;)for(Ke(We.value,We.key,this);We&&We.removed;)We=We.previous},has:function(Ue){return!!Ee(this,Ue)}}),i(Fe.prototype,pe?{get:function(Ue){var We=Ee(this,Ue);return We&&We.value},set:function(Ue,We){return Se(this,0===Ue?0:Ue,We)}}:{add:function(Ue){return Se(this,Ue=0===Ue?0:Ue,Ue)}}),B&&d(Fe.prototype,"size",{get:function(){return Be(this).size}}),Fe},setStrong:function(M,N,pe){var ve=N+" Iterator",Fe=L(N),Be=L(ve);F(M,N,function(Se,Ee){T(this,{type:ve,target:Se,state:Fe(Se),kind:Ee,last:void 0})},function(){for(var Se=Be(this),Ee=Se.kind,Ue=Se.last;Ue&&Ue.removed;)Ue=Ue.previous;return Se.target&&(Se.last=Ue=Ue?Ue.next:Se.state.first)?"keys"==Ee?{value:Ue.key,done:!1}:"values"==Ee?{value:Ue.value,done:!1}:{value:[Ue.key,Ue.value],done:!1}:(Se.target=void 0,{value:void 0,done:!0})},pe?"entries":"values",!pe,!0),P(N)}}},function(m,x,s){"use strict";var d=s(2),w=s(179),i=s(83),v=s(85),g=s(88),C=s(18),F=s(21),P=s(48),B=s(29),S=s(99),I=s(180),T=I.IteratorPrototype,L=I.BUGGY_SAFARI_ITERATORS,M=P("iterator"),N="keys",pe="values",ve="entries",Fe=function(){return this};m.exports=function(Be,Se,Ee,Ue,We,Ve,Ke){w(Ee,Se,Ue);var De,tt,dt,Je=function(ct){if(ct===We&&tr)return tr;if(!L&&ct in jt)return jt[ct];switch(ct){case N:case pe:case ve:return function(){return new Ee(this,ct)}}return function(){return new Ee(this)}},xt=Se+" Iterator",Xe=!1,jt=Be.prototype,At=jt[M]||jt["@@iterator"]||We&&jt[We],tr=!L&&At||Je(We),Oe="Array"==Se&&jt.entries||At;if(Oe&&(De=i(Oe.call(new Be)),T!==Object.prototype&&De.next&&(B||i(De)===T||(v?v(De,T):"function"!=typeof De[M]&&C(De,M,Fe)),g(De,xt,!0,!0),B&&(S[xt]=Fe))),We==pe&&At&&At.name!==pe&&(Xe=!0,tr=function(){return At.call(this)}),B&&!Ke||jt[M]===tr||C(jt,M,tr),S[Se]=tr,We)if(tt={values:Je(pe),keys:Ve?tr:Je(N),entries:Je(ve)},Ke)for(dt in tt)(L||Xe||!(dt in jt))&&F(jt,dt,tt[dt]);else d({target:Se,proto:!0,forced:L||Xe},tt);return tt}},function(m,x,s){"use strict";var d=s(180).IteratorPrototype,w=s(71),i=s(8),v=s(88),g=s(99),C=function(){return this};m.exports=function(F,P,B){var S=P+" Iterator";return F.prototype=w(d,{next:i(1,B)}),v(F,S,!1,!0),g[S]=C,F}},function(m,x,s){"use strict";var d,w,i,v=s(83),g=s(18),C=s(15),F=s(48),P=s(29),B=F("iterator"),S=!1;[].keys&&("next"in(i=[].keys())?(w=v(v(i)))!==Object.prototype&&(d=w):S=!0),null==d&&(d={}),P||C(d,B)||g(d,B,function(){return this}),m.exports={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:S}},function(m,x,s){"use strict";var d,w=s(3),i=s(79),v=s(175),g=s(174),C=s(182),F=s(14),P=s(25).enforce,B=s(26),S=!w.ActiveXObject&&"ActiveXObject"in w,I=Object.isExtensible,T=function(Be){return function(){return Be(this,arguments.length?arguments[0]:void 0)}},L=m.exports=g("WeakMap",T,C);if(B&&S){d=C.getConstructor(T,"WeakMap",!0),v.REQUIRED=!0;var M=L.prototype,N=M.delete,pe=M.has,ve=M.get,Fe=M.set;i(M,{delete:function(Be){if(F(Be)&&!I(Be)){var Se=P(this);return Se.frozen||(Se.frozen=new d),N.call(this,Be)||Se.frozen.delete(Be)}return N.call(this,Be)},has:function(Be){if(F(Be)&&!I(Be)){var Se=P(this);return Se.frozen||(Se.frozen=new d),pe.call(this,Be)||Se.frozen.has(Be)}return pe.call(this,Be)},get:function(Be){if(F(Be)&&!I(Be)){var Se=P(this);return Se.frozen||(Se.frozen=new d),pe.call(this,Be)?ve.call(this,Be):Se.frozen.get(Be)}return ve.call(this,Be)},set:function(Be,Se){if(F(Be)&&!I(Be)){var Ee=P(this);Ee.frozen||(Ee.frozen=new d),pe.call(this,Be)?Fe.call(this,Be,Se):Ee.frozen.set(Be,Se)}else Fe.call(this,Be,Se);return this}})}},function(m,x,s){"use strict";var d=s(79),w=s(175).getWeakData,i=s(20),v=s(14),g=s(80),C=s(97),F=s(156),P=s(15),B=s(25),S=B.set,I=B.getterFor,T=F.find,L=F.findIndex,M=0,N=function(Fe){return Fe.frozen||(Fe.frozen=new pe)},pe=function(){this.entries=[]},ve=function(Fe,Be){return T(Fe.entries,function(Se){return Se[0]===Be})};pe.prototype={get:function(Fe){var Be=ve(this,Fe);if(Be)return Be[1]},has:function(Fe){return!!ve(this,Fe)},set:function(Fe,Be){var Se=ve(this,Fe);Se?Se[1]=Be:this.entries.push([Fe,Be])},delete:function(Fe){var Be=L(this.entries,function(Se){return Se[0]===Fe});return~Be&&this.entries.splice(Be,1),!!~Be}},m.exports={getConstructor:function(Fe,Be,Se,Ee){var Ue=Fe(function(Ke,De){g(Ke,Ue,Be),S(Ke,{type:Be,id:M++,frozen:void 0}),null!=De&&C(De,Ke[Ee],Ke,Se)}),We=I(Be),Ve=function(Ke,De,tt){var dt=We(Ke),Je=w(i(De),!0);return!0===Je?N(dt).set(De,tt):Je[dt.id]=tt,Ke};return d(Ue.prototype,{delete:function(Ke){var De=We(this);if(!v(Ke))return!1;var tt=w(Ke);return!0===tt?N(De).delete(Ke):tt&&P(tt,De.id)&&delete tt[De.id]},has:function(Ke){var De=We(this);if(!v(Ke))return!1;var tt=w(Ke);return!0===tt?N(De).has(Ke):tt&&P(tt,De.id)}}),d(Ue.prototype,Se?{get:function(Ke){var De=We(this);if(v(Ke)){var tt=w(Ke);return!0===tt?N(De).get(Ke):tt?tt[De.id]:void 0}},set:function(Ke,De){return Ve(this,Ke,De)}}:{add:function(Ke){return Ve(this,Ke,!0)}}),Ue}}},function(m,x,s){var d=s(2),w=s(172),i=s(34);d({global:!0},{compositeSymbol:function(){return 1===arguments.length&&"string"==typeof arguments[0]?i("Symbol").for(arguments[0]):w.apply(null,arguments).get("symbol",i("Symbol"))}})},function(m,x,s){s(185)},function(m,x,s){s(2)({global:!0},{globalThis:s(3)})},function(m,x,s){"use strict";var d=s(2),w=s(29),i=s(187);d({target:"Map",proto:!0,real:!0,forced:w},{deleteAll:function(){return i.apply(this,arguments)}})},function(m,x,s){"use strict";var d=s(20),w=s(59);m.exports=function(){for(var i,v=d(this),g=w(v.delete),C=!0,F=0,P=arguments.length;F<P;F++)i=g.call(v,arguments[F]),C=C&&i;return!!C}},function(m,x,s){"use strict";var d=s(2),w=s(29),i=s(20),v=s(58),g=s(189),C=s(97);d({target:"Map",proto:!0,real:!0,forced:w},{every:function(F){var P=i(this),B=g(P),S=v(F,arguments.length>1?arguments[1]:void 0,3);return!C(B,function(I,T){if(!S(T,I,P))return C.stop()},void 0,!0,!0).stopped}})},function(m,x,s){var d=s(29),w=s(190);m.exports=d?w:function(i){return Map.prototype.entries.call(i)}},function(m,x,s){var d=s(20),w=s(100);m.exports=function(i){var v=w(i);if("function"!=typeof v)throw TypeError(String(i)+" is not iterable");return d(v.call(i))}},function(m,x,s){"use strict";var d=s(2),w=s(29),i=s(34),v=s(20),g=s(59),C=s(58),F=s(89),P=s(189),B=s(97);d({target:"Map",proto:!0,real:!0,forced:w},{filter:function(S){var I=v(this),T=P(I),L=C(S,arguments.length>1?arguments[1]:void 0,3),M=new(F(I,i("Map"))),N=g(M.set);return B(T,function(pe,ve){L(ve,pe,I)&&N.call(M,pe,ve)},void 0,!0,!0),M}})},function(m,x,s){"use strict";var d=s(2),w=s(29),i=s(20),v=s(58),g=s(189),C=s(97);d({target:"Map",proto:!0,real:!0,forced:w},{find:function(F){var P=i(this),B=g(P),S=v(F,arguments.length>1?arguments[1]:void 0,3);return C(B,function(I,T){if(S(T,I,P))return C.stop(T)},void 0,!0,!0).result}})},function(m,x,s){"use strict";var d=s(2),w=s(29),i=s(20),v=s(58),g=s(189),C=s(97);d({target:"Map",proto:!0,real:!0,forced:w},{findKey:function(F){var P=i(this),B=g(P),S=v(F,arguments.length>1?arguments[1]:void 0,3);return C(B,function(I,T){if(S(T,I,P))return C.stop(I)},void 0,!0,!0).result}})},function(m,x,s){s(2)({target:"Map",stat:!0},{from:s(195)})},function(m,x,s){"use strict";var d=s(59),w=s(58),i=s(97);m.exports=function(v){var g,C,F,P,B=arguments.length,S=B>1?arguments[1]:void 0;return d(this),(g=void 0!==S)&&d(S),null==v?new this:(C=[],g?(F=0,P=w(S,B>2?arguments[2]:void 0,2),i(v,function(I){C.push(P(I,F++))})):i(v,C.push,C),new this(C))}},function(m,x,s){"use strict";var d=s(2),w=s(97),i=s(59);d({target:"Map",stat:!0},{groupBy:function(v,g){var C=new this;i(g);var F=i(C.has),P=i(C.get),B=i(C.set);return w(v,function(S){var I=g(S);F.call(C,I)?P.call(C,I).push(S):B.call(C,I,[S])}),C}})},function(m,x,s){"use strict";var d=s(2),w=s(29),i=s(20),v=s(189),g=s(198),C=s(97);d({target:"Map",proto:!0,real:!0,forced:w},{includes:function(F){return C(v(i(this)),function(P,B){if(g(B,F))return C.stop()},void 0,!0,!0).stopped}})},function(m){m.exports=function(x,s){return x===s||x!=x&&s!=s}},function(m,x,s){"use strict";var d=s(2),w=s(97),i=s(59);d({target:"Map",stat:!0},{keyBy:function(v,g){var C=new this;i(g);var F=i(C.set);return w(v,function(P){F.call(C,g(P),P)}),C}})},function(m,x,s){"use strict";var d=s(2),w=s(29),i=s(20),v=s(189),g=s(97);d({target:"Map",proto:!0,real:!0,forced:w},{keyOf:function(C){return g(v(i(this)),function(F,P){if(P===C)return g.stop(F)},void 0,!0,!0).result}})},function(m,x,s){"use strict";var d=s(2),w=s(29),i=s(34),v=s(20),g=s(59),C=s(58),F=s(89),P=s(189),B=s(97);d({target:"Map",proto:!0,real:!0,forced:w},{mapKeys:function(S){var I=v(this),T=P(I),L=C(S,arguments.length>1?arguments[1]:void 0,3),M=new(F(I,i("Map"))),N=g(M.set);return B(T,function(pe,ve){N.call(M,L(ve,pe,I),ve)},void 0,!0,!0),M}})},function(m,x,s){"use strict";var d=s(2),w=s(29),i=s(34),v=s(20),g=s(59),C=s(58),F=s(89),P=s(189),B=s(97);d({target:"Map",proto:!0,real:!0,forced:w},{mapValues:function(S){var I=v(this),T=P(I),L=C(S,arguments.length>1?arguments[1]:void 0,3),M=new(F(I,i("Map"))),N=g(M.set);return B(T,function(pe,ve){N.call(M,pe,L(ve,pe,I))},void 0,!0,!0),M}})},function(m,x,s){"use strict";var d=s(2),w=s(29),i=s(20),v=s(59),g=s(97);d({target:"Map",proto:!0,real:!0,forced:w},{merge:function(C){for(var F=i(this),P=v(F.set),B=0;B<arguments.length;)g(arguments[B++],P,F,!0);return F}})},function(m,x,s){s(2)({target:"Map",stat:!0},{of:s(205)})},function(m){"use strict";m.exports=function(){for(var x=arguments.length,s=new Array(x);x--;)s[x]=arguments[x];return new this(s)}},function(m,x,s){"use strict";var d=s(2),w=s(29),i=s(20),v=s(59),g=s(189),C=s(97);d({target:"Map",proto:!0,real:!0,forced:w},{reduce:function(F){var P=i(this),B=g(P),S=arguments.length<2,I=S?void 0:arguments[1];if(v(F),C(B,function(T,L){S?(S=!1,I=L):I=F(I,L,T,P)},void 0,!0,!0),S)throw TypeError("Reduce of empty map with no initial value");return I}})},function(m,x,s){"use strict";var d=s(2),w=s(29),i=s(20),v=s(58),g=s(189),C=s(97);d({target:"Map",proto:!0,real:!0,forced:w},{some:function(F){var P=i(this),B=g(P),S=v(F,arguments.length>1?arguments[1]:void 0,3);return C(B,function(I,T){if(S(T,I,P))return C.stop()},void 0,!0,!0).stopped}})},function(m,x,s){"use strict";var d=s(2),w=s(29),i=s(20),v=s(59);d({target:"Map",proto:!0,real:!0,forced:w},{update:function(g,C){var F=i(this),P=arguments.length;v(C);var B=F.has(g);if(!B&&P<3)throw TypeError("Updating absent value");var S=B?F.get(g):v(P>2?arguments[2]:void 0)(g,F);return F.set(g,C(S,g,F)),F}})},function(m,x,s){var d=s(2),w=Math.min,i=Math.max;d({target:"Math",stat:!0},{clamp:function(v,g,C){return w(C,i(g,v))}})},function(m,x,s){s(2)({target:"Math",stat:!0},{DEG_PER_RAD:Math.PI/180})},function(m,x,s){var d=s(2),w=180/Math.PI;d({target:"Math",stat:!0},{degrees:function(i){return i*w}})},function(m,x,s){var d=s(2),w=s(213),i=s(214);d({target:"Math",stat:!0},{fscale:function(v,g,C,F,P){return i(w(v,g,C,F,P))}})},function(m){m.exports=Math.scale||function(x,s,d,w,i){return 0===arguments.length||x!=x||s!=s||d!=d||w!=w||i!=i?NaN:x===1/0||x===-1/0?x:(x-s)*(i-w)/(d-s)+w}},function(m,x,s){var d=s(215),w=Math.abs,i=Math.pow,v=i(2,-52),g=i(2,-23),C=i(2,127)*(2-g),F=i(2,-126);m.exports=Math.fround||function(P){var B,S,I=w(P),T=d(P);return I<F?T*(I/F/g+1/v-1/v)*F*g:(S=(B=(1+g/v)*I)-(B-I))>C||S!=S?T*(1/0):T*S}},function(m){m.exports=Math.sign||function(x){return 0==(x=+x)||x!=x?x:x<0?-1:1}},function(m,x,s){s(2)({target:"Math",stat:!0},{iaddh:function(d,w,i,v){var g=d>>>0,C=i>>>0;return(w>>>0)+(v>>>0)+((g&C|(g|C)&~(g+C>>>0))>>>31)|0}})},function(m,x,s){s(2)({target:"Math",stat:!0},{imulh:function(d,w){var i=65535,v=+d,g=+w,C=v&i,F=g&i,P=v>>16,B=g>>16,S=(P*F>>>0)+(C*F>>>16);return P*B+(S>>16)+((C*B>>>0)+(S&i)>>16)}})},function(m,x,s){s(2)({target:"Math",stat:!0},{isubh:function(d,w,i,v){var g=d>>>0,C=i>>>0;return(w>>>0)-(v>>>0)-((~g&C|~(g^C)&g-C>>>0)>>>31)|0}})},function(m,x,s){s(2)({target:"Math",stat:!0},{RAD_PER_DEG:180/Math.PI})},function(m,x,s){var d=s(2),w=Math.PI/180;d({target:"Math",stat:!0},{radians:function(i){return i*w}})},function(m,x,s){s(2)({target:"Math",stat:!0},{scale:s(213)})},function(m,x,s){var d=s(2),w=s(20),i=s(223),v=s(179),g=s(25),F="Seeded Random Generator",P=g.set,B=g.getterFor(F),S=v(function(I){P(this,{type:F,seed:I%2147483647})},"Seeded Random",function(){var I=B(this);return{value:(1073741823&(I.seed=(1103515245*I.seed+12345)%2147483647))/1073741823,done:!1}});d({target:"Math",stat:!0,forced:!0},{seededPRNG:function(I){var T=w(I).seed;if(!i(T))throw TypeError('Math.seededPRNG() argument should have a "seed" field with a finite value.');return new S(T)}})},function(m,x,s){var d=s(3).isFinite;m.exports=Number.isFinite||function(w){return"number"==typeof w&&d(w)}},function(m,x,s){s(2)({target:"Math",stat:!0},{signbit:function(d){return(d=+d)==d&&0==d?1/d==-1/0:d<0}})},function(m,x,s){s(2)({target:"Math",stat:!0},{umulh:function(d,w){var i=65535,v=+d,g=+w,C=v&i,F=g&i,P=v>>>16,B=g>>>16,S=(P*F>>>0)+(C*F>>>16);return P*B+(S>>>16)+((C*B>>>0)+(S&i)>>>16)}})},function(m,x,s){"use strict";var d=s(2),w=s(40),i=s(227),v="Invalid number representation",g=/^[\da-z]+$/;d({target:"Number",stat:!0},{fromString:function(C,F){var P,B,S=1;if("string"!=typeof C)throw TypeError(v);if(!C.length||"-"==C.charAt(0)&&(S=-1,!(C=C.slice(1)).length))throw SyntaxError(v);if((P=void 0===F?10:w(F))<2||P>36)throw RangeError("Invalid radix");if(!g.test(C)||(B=i(C,P)).toString(P)!==C)throw SyntaxError(v);return S*B}})},function(m,x,s){var d=s(3),w=s(144).trim,i=s(145),v=d.parseInt,g=/^[+-]?0[Xx]/,C=8!==v(i+"08")||22!==v(i+"0x16");m.exports=C?function(F,P){var B=w(String(F));return v(B,P>>>0||(g.test(B)?16:10))}:v},function(m,x,s){"use strict";var d=s(2),w=s(5),i=s(107),v=s(59),g=s(20),C=s(14),F=s(80),P=s(19).f,B=s(18),S=s(79),I=s(190),T=s(97),L=s(115),M=s(48),N=s(25),pe=M("observable"),ve=N.get,Fe=N.set,Be=function(De){return null==De?void 0:v(De)},Se=function(De){var tt=De.cleanup;if(tt){De.cleanup=void 0;try{tt()}catch(dt){L(dt)}}},Ee=function(De){return void 0===De.observer},Ue=function(De,tt){if(!w){De.closed=!0;var dt=tt.subscriptionObserver;dt&&(dt.closed=!0)}tt.observer=void 0},We=function(De,tt){var dt,Je=Fe(this,{cleanup:void 0,observer:g(De),subscriptionObserver:void 0});w||(this.closed=!1);try{(dt=Be(De.start))&&dt.call(De,this)}catch(At){L(At)}if(!Ee(Je)){var xt=Je.subscriptionObserver=new Ve(this);try{var Xe=tt(xt),jt=Xe;null!=Xe&&(Je.cleanup="function"==typeof Xe.unsubscribe?function(){jt.unsubscribe()}:v(Xe))}catch(At){return void xt.error(At)}Ee(Je)&&Se(Je)}};We.prototype=S({},{unsubscribe:function(){var De=ve(this);Ee(De)||(Ue(this,De),Se(De))}}),w&&P(We.prototype,"closed",{configurable:!0,get:function(){return Ee(ve(this))}});var Ve=function(De){Fe(this,{subscription:De}),w||(this.closed=!1)};Ve.prototype=S({},{next:function(De){var tt=ve(ve(this).subscription);if(!Ee(tt)){var dt=tt.observer;try{var Je=Be(dt.next);Je&&Je.call(dt,De)}catch(xt){L(xt)}}},error:function(De){var tt=ve(this).subscription,dt=ve(tt);if(!Ee(dt)){var Je=dt.observer;Ue(tt,dt);try{var xt=Be(Je.error);xt?xt.call(Je,De):L(De)}catch(Xe){L(Xe)}Se(dt)}},complete:function(){var De=ve(this).subscription,tt=ve(De);if(!Ee(tt)){var dt=tt.observer;Ue(De,tt);try{var Je=Be(dt.complete);Je&&Je.call(dt)}catch(xt){L(xt)}Se(tt)}}}),w&&P(Ve.prototype,"closed",{configurable:!0,get:function(){return Ee(ve(ve(this).subscription))}});var Ke=function(De){F(this,Ke,"Observable"),Fe(this,{subscriber:v(De)})};S(Ke.prototype,{subscribe:function(De){var tt=arguments.length;return new We("function"==typeof De?{next:De,error:tt>1?arguments[1]:void 0,complete:tt>2?arguments[2]:void 0}:C(De)?De:{},ve(this).subscriber)}}),S(Ke,{from:function(De){var tt="function"==typeof this?this:Ke,dt=Be(g(De)[pe]);if(dt){var Je=g(dt.call(De));return Je.constructor===tt?Je:new tt(function(Xe){return Je.subscribe(Xe)})}var xt=I(De);return new tt(function(Xe){T(xt,function(jt){if(Xe.next(jt),Xe.closed)return T.stop()},void 0,!1,!0),Xe.complete()})},of:function(){for(var De="function"==typeof this?this:Ke,tt=arguments.length,dt=new Array(tt),Je=0;Je<tt;)dt[Je]=arguments[Je++];return new De(function(xt){for(var Xe=0;Xe<tt;Xe++)if(xt.next(dt[Xe]),xt.closed)return;xt.complete()})}}),B(Ke.prototype,pe,function(){return this}),d({global:!0},{Observable:Ke}),i("Observable")},function(m,x,s){s(230)},function(m,x,s){"use strict";var d=s(2),w=s(59),i=s(114),v=s(116),g=s(97);d({target:"Promise",stat:!0},{allSettled:function(C){var F=this,P=i.f(F),B=P.resolve,S=P.reject,I=v(function(){var T=w(F.resolve),L=[],M=0,N=1;g(C,function(pe){var ve=M++,Fe=!1;L.push(void 0),N++,T.call(F,pe).then(function(Be){Fe||(Fe=!0,L[ve]={status:"fulfilled",value:Be},--N||B(L))},function(Be){Fe||(Fe=!0,L[ve]={status:"rejected",reason:Be},--N||B(L))})}),--N||B(L)});return I.error&&S(I.value),P.promise}})},function(m,x,s){"use strict";var d=s(2),w=s(59),i=s(34),v=s(114),g=s(116),C=s(97),F="No one promise resolved";d({target:"Promise",stat:!0},{any:function(P){var B=this,S=v.f(B),I=S.resolve,T=S.reject,L=g(function(){var M=w(B.resolve),N=[],pe=0,ve=1,Fe=!1;C(P,function(Be){var Se=pe++,Ee=!1;N.push(void 0),ve++,M.call(B,Be).then(function(Ue){Ee||Fe||(Fe=!0,I(Ue))},function(Ue){Ee||Fe||(Ee=!0,N[Se]=Ue,--ve||T(new(i("AggregateError"))(N,F)))})}),--ve||T(new(i("AggregateError"))(N,F))});return L.error&&T(L.value),S.promise}})},function(m,x,s){"use strict";var d=s(2),w=s(114),i=s(116);d({target:"Promise",stat:!0},{try:function(v){var g=w.f(this),C=i(v);return(C.error?g.reject:g.resolve)(C.value),g.promise}})},function(m,x,s){var d=s(2),w=s(234),i=s(20),v=w.toKey,g=w.set;d({target:"Reflect",stat:!0},{defineMetadata:function(C,F,P){var B=arguments.length<4?void 0:v(arguments[3]);g(C,F,i(P),B)}})},function(m,x,s){var d=s(173),w=s(181),i=s(28)("metadata"),v=i.store||(i.store=new w),g=function(C,F,P){var B=v.get(C);if(!B){if(!P)return;v.set(C,B=new d)}var S=B.get(F);if(!S){if(!P)return;B.set(F,S=new d)}return S};m.exports={store:v,getMap:g,has:function(C,F,P){var B=g(F,P,!1);return void 0!==B&&B.has(C)},get:function(C,F,P){var B=g(F,P,!1);return void 0===B?void 0:B.get(C)},set:function(C,F,P,B){g(P,B,!0).set(C,F)},keys:function(C,F){var P=g(C,F,!1),B=[];return P&&P.forEach(function(S,I){B.push(I)}),B},toKey:function(C){return void 0===C||"symbol"==typeof C?C:String(C)}}},function(m,x,s){var d=s(2),w=s(234),i=s(20),v=w.toKey,g=w.getMap,C=w.store;d({target:"Reflect",stat:!0},{deleteMetadata:function(F,P){var B=arguments.length<3?void 0:v(arguments[2]),S=g(i(P),B,!1);if(void 0===S||!S.delete(F))return!1;if(S.size)return!0;var I=C.get(P);return I.delete(B),!!I.size||C.delete(P)}})},function(m,x,s){var d=s(2),w=s(234),i=s(20),v=s(83),g=w.has,C=w.get,F=w.toKey,P=function(B,S,I){if(g(B,S,I))return C(B,S,I);var T=v(S);return null!==T?P(B,T,I):void 0};d({target:"Reflect",stat:!0},{getMetadata:function(B,S){var I=arguments.length<3?void 0:F(arguments[2]);return P(B,i(S),I)}})},function(m,x,s){var d=s(2),w=s(238),i=s(234),v=s(20),g=s(83),C=s(97),F=i.keys,P=i.toKey,B=function(S,I){var T=F(S,I),L=g(S);if(null===L)return T;var M,N,pe=B(L,I);return pe.length?T.length?(M=new w(T.concat(pe)),C(M,(N=[]).push,N),N):pe:T};d({target:"Reflect",stat:!0},{getMetadataKeys:function(S){var I=arguments.length<2?void 0:P(arguments[1]);return B(v(S),I)}})},function(m,x,s){"use strict";var d=s(174),w=s(177);m.exports=d("Set",function(i){return function(){return i(this,arguments.length?arguments[0]:void 0)}},w)},function(m,x,s){var d=s(2),w=s(234),i=s(20),v=w.get,g=w.toKey;d({target:"Reflect",stat:!0},{getOwnMetadata:function(C,F){var P=arguments.length<3?void 0:g(arguments[2]);return v(C,i(F),P)}})},function(m,x,s){var d=s(2),w=s(234),i=s(20),v=w.keys,g=w.toKey;d({target:"Reflect",stat:!0},{getOwnMetadataKeys:function(C){var F=arguments.length<2?void 0:g(arguments[1]);return v(i(C),F)}})},function(m,x,s){var d=s(2),w=s(234),i=s(20),v=s(83),g=w.has,C=w.toKey,F=function(P,B,S){if(g(P,B,S))return!0;var I=v(B);return null!==I&&F(P,I,S)};d({target:"Reflect",stat:!0},{hasMetadata:function(P,B){var S=arguments.length<3?void 0:C(arguments[2]);return F(P,i(B),S)}})},function(m,x,s){var d=s(2),w=s(234),i=s(20),v=w.has,g=w.toKey;d({target:"Reflect",stat:!0},{hasOwnMetadata:function(C,F){var P=arguments.length<3?void 0:g(arguments[2]);return v(C,i(F),P)}})},function(m,x,s){var d=s(2),w=s(234),i=s(20),v=w.toKey,g=w.set;d({target:"Reflect",stat:!0},{metadata:function(C,F){return function(P,B){g(C,F,i(P),v(B))}}})},function(m,x,s){"use strict";var d=s(2),w=s(29),i=s(245);d({target:"Set",proto:!0,real:!0,forced:w},{addAll:function(){return i.apply(this,arguments)}})},function(m,x,s){"use strict";var d=s(20),w=s(59);m.exports=function(){for(var i=d(this),v=w(i.add),g=0,C=arguments.length;g<C;g++)v.call(i,arguments[g]);return i}},function(m,x,s){"use strict";var d=s(2),w=s(29),i=s(187);d({target:"Set",proto:!0,real:!0,forced:w},{deleteAll:function(){return i.apply(this,arguments)}})},function(m,x,s){"use strict";var d=s(2),w=s(29),i=s(34),v=s(20),g=s(59),C=s(89),F=s(97);d({target:"Set",proto:!0,real:!0,forced:w},{difference:function(P){var B=v(this),S=new(C(B,i("Set")))(B),I=g(S.delete);return F(P,function(T){I.call(S,T)}),S}})},function(m,x,s){"use strict";var d=s(2),w=s(29),i=s(20),v=s(58),g=s(249),C=s(97);d({target:"Set",proto:!0,real:!0,forced:w},{every:function(F){var P=i(this),B=g(P),S=v(F,arguments.length>1?arguments[1]:void 0,3);return!C(B,function(I){if(!S(I,I,P))return C.stop()},void 0,!1,!0).stopped}})},function(m,x,s){var d=s(29),w=s(190);m.exports=d?w:function(i){return Set.prototype.values.call(i)}},function(m,x,s){"use strict";var d=s(2),w=s(29),i=s(34),v=s(20),g=s(59),C=s(58),F=s(89),P=s(249),B=s(97);d({target:"Set",proto:!0,real:!0,forced:w},{filter:function(S){var I=v(this),T=P(I),L=C(S,arguments.length>1?arguments[1]:void 0,3),M=new(F(I,i("Set"))),N=g(M.add);return B(T,function(pe){L(pe,pe,I)&&N.call(M,pe)},void 0,!1,!0),M}})},function(m,x,s){"use strict";var d=s(2),w=s(29),i=s(20),v=s(58),g=s(249),C=s(97);d({target:"Set",proto:!0,real:!0,forced:w},{find:function(F){var P=i(this),B=g(P),S=v(F,arguments.length>1?arguments[1]:void 0,3);return C(B,function(I){if(S(I,I,P))return C.stop(I)},void 0,!1,!0).result}})},function(m,x,s){s(2)({target:"Set",stat:!0},{from:s(195)})},function(m,x,s){"use strict";var d=s(2),w=s(29),i=s(34),v=s(20),g=s(59),C=s(89),F=s(97);d({target:"Set",proto:!0,real:!0,forced:w},{intersection:function(P){var B=v(this),S=new(C(B,i("Set"))),I=g(B.has),T=g(S.add);return F(P,function(L){I.call(B,L)&&T.call(S,L)}),S}})},function(m,x,s){"use strict";var d=s(2),w=s(29),i=s(20),v=s(59),g=s(97);d({target:"Set",proto:!0,real:!0,forced:w},{isDisjointFrom:function(C){var F=i(this),P=v(F.has);return!g(C,function(B){if(!0===P.call(F,B))return g.stop()}).stopped}})},function(m,x,s){"use strict";var d=s(2),w=s(29),i=s(34),v=s(20),g=s(59),C=s(190),F=s(97);d({target:"Set",proto:!0,real:!0,forced:w},{isSubsetOf:function(P){var B=C(this),S=v(P),I=S.has;return"function"!=typeof I&&(S=new(i("Set"))(P),I=g(S.has)),!F(B,function(T){if(!1===I.call(S,T))return F.stop()},void 0,!1,!0).stopped}})},function(m,x,s){"use strict";var d=s(2),w=s(29),i=s(20),v=s(59),g=s(97);d({target:"Set",proto:!0,real:!0,forced:w},{isSupersetOf:function(C){var F=i(this),P=v(F.has);return!g(C,function(B){if(!1===P.call(F,B))return g.stop()}).stopped}})},function(m,x,s){"use strict";var d=s(2),w=s(29),i=s(20),v=s(249),g=s(97);d({target:"Set",proto:!0,real:!0,forced:w},{join:function(C){var F=i(this),P=v(F),B=void 0===C?",":String(C),S=[];return g(P,S.push,S,!1,!0),S.join(B)}})},function(m,x,s){"use strict";var d=s(2),w=s(29),i=s(34),v=s(20),g=s(59),C=s(58),F=s(89),P=s(249),B=s(97);d({target:"Set",proto:!0,real:!0,forced:w},{map:function(S){var I=v(this),T=P(I),L=C(S,arguments.length>1?arguments[1]:void 0,3),M=new(F(I,i("Set"))),N=g(M.add);return B(T,function(pe){N.call(M,L(pe,pe,I))},void 0,!1,!0),M}})},function(m,x,s){s(2)({target:"Set",stat:!0},{of:s(205)})},function(m,x,s){"use strict";var d=s(2),w=s(29),i=s(20),v=s(59),g=s(249),C=s(97);d({target:"Set",proto:!0,real:!0,forced:w},{reduce:function(F){var P=i(this),B=g(P),S=arguments.length<2,I=S?void 0:arguments[1];if(v(F),C(B,function(T){S?(S=!1,I=T):I=F(I,T,T,P)},void 0,!1,!0),S)throw TypeError("Reduce of empty set with no initial value");return I}})},function(m,x,s){"use strict";var d=s(2),w=s(29),i=s(20),v=s(58),g=s(249),C=s(97);d({target:"Set",proto:!0,real:!0,forced:w},{some:function(F){var P=i(this),B=g(P),S=v(F,arguments.length>1?arguments[1]:void 0,3);return C(B,function(I){if(S(I,I,P))return C.stop()},void 0,!1,!0).stopped}})},function(m,x,s){"use strict";var d=s(2),w=s(29),i=s(34),v=s(20),g=s(59),C=s(89),F=s(97);d({target:"Set",proto:!0,real:!0,forced:w},{symmetricDifference:function(P){var B=v(this),S=new(C(B,i("Set")))(B),I=g(S.delete),T=g(S.add);return F(P,function(L){I.call(S,L)||T.call(S,L)}),S}})},function(m,x,s){"use strict";var d=s(2),w=s(29),i=s(34),v=s(20),g=s(59),C=s(89),F=s(97);d({target:"Set",proto:!0,real:!0,forced:w},{union:function(P){var B=v(this),S=new(C(B,i("Set")))(B);return F(P,g(S.add),S),S}})},function(m,x,s){"use strict";var d=s(2),w=s(136).charAt;d({target:"String",proto:!0},{at:function(i){return w(this,i)}})},function(m,x,s){"use strict";var d=s(2),w=s(179),i=s(12),v=s(25),g=s(136),C=g.codeAt,F=g.charAt,P="String Iterator",B=v.set,S=v.getterFor(P),I=w(function(T){B(this,{type:P,string:T,index:0})},"String",function(){var T,L=S(this),M=L.string,N=L.index;return N>=M.length?{value:void 0,done:!0}:(T=F(M,N),L.index+=T.length,{value:{codePoint:C(T,0),position:N},done:!1})});d({target:"String",proto:!0},{codePoints:function(){return new I(String(i(this)))}})},function(m,x,s){s(267)},function(m,x,s){"use strict";var d=s(2),w=s(179),i=s(12),v=s(39),g=s(59),C=s(20),F=s(11),P=s(122),B=s(123),S=s(18),I=s(6),T=s(48),L=s(89),M=s(135),N=s(25),pe=s(29),ve=T("matchAll"),Be="RegExp String Iterator",Se=N.set,Ee=N.getterFor(Be),Ue=RegExp.prototype,We=Ue.exec,Ve="".matchAll,Ke=!!Ve&&!I(function(){"a".matchAll(/./)}),De=w(function(dt,Je,xt,Xe){Se(this,{type:Be,regexp:dt,string:Je,global:xt,unicode:Xe,done:!1})},"RegExp String",function(){var dt=Ee(this);if(dt.done)return{value:void 0,done:!0};var Je=dt.regexp,xt=dt.string,Xe=function(jt,At){var tr,Oe=jt.exec;if("function"==typeof Oe){if("object"!=typeof(tr=Oe.call(jt,At)))throw TypeError("Incorrect exec result");return tr}return We.call(jt,At)}(Je,xt);return null===Xe?{value:void 0,done:dt.done=!0}:dt.global?(""==String(Xe[0])&&(Je.lastIndex=M(xt,v(Je.lastIndex),dt.unicode)),{value:Xe,done:!1}):(dt.done=!0,{value:Xe,done:!1})}),tt=function(dt){var Je,xt,Xe,jt,At,tr,Oe=C(this),ct=String(dt);return Je=L(Oe,RegExp),void 0===(xt=Oe.flags)&&Oe instanceof RegExp&&!("flags"in Ue)&&(xt=B.call(Oe)),Xe=void 0===xt?"":String(xt),jt=new Je(Je===RegExp?Oe.source:Oe,Xe),At=!!~Xe.indexOf("g"),tr=!!~Xe.indexOf("u"),jt.lastIndex=v(Oe.lastIndex),new De(jt,ct,At,tr)};d({target:"String",proto:!0,forced:Ke},{matchAll:function(dt){var Je,xt,Xe,jt=i(this);if(null!=dt){if(P(dt)&&!~String(i("flags"in Ue?dt.flags:B.call(dt))).indexOf("g"))throw TypeError("`.matchAll` does not allow non-global regexes");if(Ke)return Ve.apply(jt,arguments);if(void 0===(xt=dt[ve])&&pe&&"RegExp"==F(dt)&&(xt=tt),null!=xt)return g(xt).call(dt,jt)}else if(Ke)return Ve.apply(jt,arguments);return Je=String(jt),Xe=new RegExp(dt,"g"),pe?tt.call(Xe,Je):Xe[ve](Je)}}),pe||ve in Ue||S(Ue,ve,tt)},function(m,x,s){"use strict";var d=s(2),w=s(12),i=s(122),v=s(123),g=s(48),C=s(29),F=g("replace"),P=RegExp.prototype;d({target:"String",proto:!0},{replaceAll:function B(S,I){var T,L,M,N,pe,ve,Fe,Be,Se=w(this);if(null!=S){if((T=i(S))&&!~String(w("flags"in P?S.flags:v.call(S))).indexOf("g"))throw TypeError("`.replaceAll` does not allow non-global regexes");if(void 0!==(L=S[F]))return L.call(S,Se,I);if(C&&T)return String(Se).replace(S,I)}if(M=String(Se),""===(N=String(S)))return B.call(M,/(?:)/g,I);if(pe=M.split(N),"function"!=typeof I)return pe.join(String(I));for(Fe=(ve=pe[0]).length,Be=1;Be<pe.length;Be++)ve+=String(I(N,Fe,M)),Fe+=N.length+pe[Be].length,ve+=pe[Be];return ve}})},function(m,x,s){s(46)("dispose")},function(m,x,s){s(46)("observable")},function(m,x,s){s(46)("patternMatch")},function(m,x,s){"use strict";var d=s(2),w=s(29),i=s(187);d({target:"WeakMap",proto:!0,real:!0,forced:w},{deleteAll:function(){return i.apply(this,arguments)}})},function(m,x,s){s(2)({target:"WeakMap",stat:!0},{from:s(195)})},function(m,x,s){s(2)({target:"WeakMap",stat:!0},{of:s(205)})},function(m,x,s){"use strict";var d=s(2),w=s(29),i=s(245);d({target:"WeakSet",proto:!0,real:!0,forced:w},{addAll:function(){return i.apply(this,arguments)}})},function(m,x,s){"use strict";var d=s(2),w=s(29),i=s(187);d({target:"WeakSet",proto:!0,real:!0,forced:w},{deleteAll:function(){return i.apply(this,arguments)}})},function(m,x,s){s(2)({target:"WeakSet",stat:!0},{from:s(195)})},function(m,x,s){s(2)({target:"WeakSet",stat:!0},{of:s(205)})},function(m,x,s){var d=s(3),w=s(280),i=s(281),v=s(18),g=s(48),C=g("iterator"),F=g("toStringTag"),P=i.values;for(var B in w){var S=d[B],I=S&&S.prototype;if(I){if(I[C]!==P)try{v(I,C,P)}catch{I[C]=P}if(I[F]||v(I,F,B),w[B])for(var T in i)if(I[T]!==i[T])try{v(I,T,i[T])}catch{I[T]=i[T]}}}},function(m){m.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(m,x,s){"use strict";var d=s(9),w=s(70),i=s(99),v=s(25),g=s(178),C="Array Iterator",F=v.set,P=v.getterFor(C);m.exports=g(Array,"Array",function(B,S){F(this,{type:C,target:d(B),index:0,kind:S})},function(){var B=P(this),S=B.target,I=B.kind,T=B.index++;return!S||T>=S.length?(B.target=void 0,{value:void 0,done:!0}):"keys"==I?{value:T,done:!1}:"values"==I?{value:S[T],done:!1}:{value:[T,S[T]],done:!1}},"values"),i.Arguments=i.Array,w("keys"),w("values"),w("entries")},function(m,x,s){var d=s(2),w=s(3),i=s(109);d({global:!0,bind:!0,enumerable:!0,forced:!w.setImmediate||!w.clearImmediate},{setImmediate:i.set,clearImmediate:i.clear})},function(m,x,s){var d=s(2),w=s(3),i=s(112),v=s(11),g=w.process,C="process"==v(g);d({global:!0,enumerable:!0,noTargetGet:!0},{queueMicrotask:function(F){var P=C&&g.domain;i(P?P.bind(F):F)}})},function(m,x,s){"use strict";s(285);var d,w=s(2),i=s(5),v=s(286),g=s(3),C=s(72),F=s(21),P=s(80),B=s(15),S=s(95),I=s(287),T=s(136).codeAt,L=s(288),M=s(88),N=s(289),pe=s(25),ve=g.URL,Fe=N.URLSearchParams,Be=N.getState,Se=pe.set,Ee=pe.getterFor("URL"),Ue=Math.floor,We=Math.pow,Ve="Invalid scheme",Ke="Invalid host",De="Invalid port",tt=/[A-Za-z]/,dt=/[\d+\-.A-Za-z]/,Je=/\d/,xt=/^(0x|0X)/,Xe=/^[0-7]+$/,jt=/^\d+$/,At=/^[\dA-Fa-f]+$/,tr=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,Oe=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,ct=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,vt=/[\u0009\u000A\u000D]/g,je=function(ne,de){var Ne,Ie,ot;if("["==de.charAt(0)){if("]"!=de.charAt(de.length-1)||!(Ne=dr(de.slice(1,-1))))return Ke;ne.host=Ne}else if(rt(ne)){if(de=L(de),tr.test(de)||null===(Ne=fr(de)))return Ke;ne.host=Ne}else{if(Oe.test(de))return Ke;for(Ne="",Ie=I(de),ot=0;ot<Ie.length;ot++)Ne+=fe(Ie[ot],Nt);ne.host=Ne}},fr=function(ne){var de,Ne,Ie,ot,He,ht,Gt,Zt=ne.split(".");if(Zt.length&&""==Zt[Zt.length-1]&&Zt.pop(),(de=Zt.length)>4)return ne;for(Ne=[],Ie=0;Ie<de;Ie++){if(""==(ot=Zt[Ie]))return ne;if(He=10,ot.length>1&&"0"==ot.charAt(0)&&(He=xt.test(ot)?16:8,ot=ot.slice(8==He?1:2)),""===ot)ht=0;else{if(!(10==He?jt:8==He?Xe:At).test(ot))return ne;ht=parseInt(ot,He)}Ne.push(ht)}for(Ie=0;Ie<de;Ie++)if(ht=Ne[Ie],Ie==de-1){if(ht>=We(256,5-de))return null}else if(ht>255)return null;for(Gt=Ne.pop(),Ie=0;Ie<Ne.length;Ie++)Gt+=Ne[Ie]*We(256,3-Ie);return Gt},dr=function(ne){var de,Ne,Ie,ot,He,ht,Gt,Zt=[0,0,0,0,0,0,0,0],ut=0,Xt=null,Et=0,Gr=function(){return ne.charAt(Et)};if(":"==Gr()){if(":"!=ne.charAt(1))return;Et+=2,Xt=++ut}for(;Gr();){if(8==ut)return;if(":"!=Gr()){for(de=Ne=0;Ne<4&&At.test(Gr());)de=16*de+parseInt(Gr(),16),Et++,Ne++;if("."==Gr()){if(0==Ne||(Et-=Ne,ut>6))return;for(Ie=0;Gr();){if(ot=null,Ie>0){if(!("."==Gr()&&Ie<4))return;Et++}if(!Je.test(Gr()))return;for(;Je.test(Gr());){if(He=parseInt(Gr(),10),null===ot)ot=He;else{if(0==ot)return;ot=10*ot+He}if(ot>255)return;Et++}Zt[ut]=256*Zt[ut]+ot,2!=++Ie&&4!=Ie||ut++}if(4!=Ie)return;break}if(":"==Gr()){if(Et++,!Gr())return}else if(Gr())return;Zt[ut++]=de}else{if(null!==Xt)return;Et++,Xt=++ut}}if(null!==Xt)for(ht=ut-Xt,ut=7;0!=ut&&ht>0;)Gt=Zt[ut],Zt[ut--]=Zt[Xt+ht-1],Zt[Xt+--ht]=Gt;else if(8!=ut)return;return Zt},Fr=function(ne){var de,Ne,Ie,ot;if("number"==typeof ne){for(de=[],Ne=0;Ne<4;Ne++)de.unshift(ne%256),ne=Ue(ne/256);return de.join(".")}if("object"==typeof ne){for(de="",Ie=function(He){for(var ht=null,Gt=1,Zt=null,ut=0,Xt=0;Xt<8;Xt++)0!==He[Xt]?(ut>Gt&&(ht=Zt,Gt=ut),Zt=null,ut=0):(null===Zt&&(Zt=Xt),++ut);return ut>Gt&&(ht=Zt,Gt=ut),ht}(ne),Ne=0;Ne<8;Ne++)ot&&0===ne[Ne]||(ot&&(ot=!1),Ie===Ne?(de+=Ne?":":"::",ot=!0):(de+=ne[Ne].toString(16),Ne<7&&(de+=":")));return"["+de+"]"}return ne},Nt={},kt=S({},Nt,{" ":1,'"':1,"<":1,">":1,"`":1}),ze=S({},kt,{"#":1,"?":1,"{":1,"}":1}),_t=S({},ze,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),fe=function(ne,de){var Ne=T(ne,0);return Ne>32&&Ne<127&&!B(de,ne)?ne:encodeURIComponent(ne)},ye={ftp:21,file:null,http:80,https:443,ws:80,wss:443},rt=function(ne){return B(ye,ne.scheme)},Dt=function(ne){return""!=ne.username||""!=ne.password},Wt=function(ne){return!ne.host||ne.cannotBeABaseURL||"file"==ne.scheme},Rt=function(ne,de){var Ne;return 2==ne.length&&tt.test(ne.charAt(0))&&(":"==(Ne=ne.charAt(1))||!de&&"|"==Ne)},Ht=function(ne){var de;return ne.length>1&&Rt(ne.slice(0,2))&&(2==ne.length||"/"===(de=ne.charAt(2))||"\\"===de||"?"===de||"#"===de)},kr=function(ne){var de=ne.path,Ne=de.length;!Ne||"file"==ne.scheme&&1==Ne&&Rt(de[0],!0)||de.pop()},Br=function(ne){return"."===ne||"%2e"===ne.toLowerCase()},Mr={},jr={},vr={},Qt={},It={},ar={},ir={},gr={},Lr={},an={},$r={},qr={},en={},fn={},Pn={},Rr={},tn={},zr={},si={},Vn={},pn={},En=function(ne,de,Ne,Ie){var ot,He,ht,Gt,Zt,ut=Ne||Mr,Xt=0,Et="",Gr=!1,Dr=!1,An=!1;for(Ne||(ne.scheme="",ne.username="",ne.password="",ne.host=null,ne.port=null,ne.path=[],ne.query=null,ne.fragment=null,ne.cannotBeABaseURL=!1,de=de.replace(ct,"")),de=de.replace(vt,""),ot=I(de);Xt<=ot.length;){switch(He=ot[Xt],ut){case Mr:if(!He||!tt.test(He)){if(Ne)return Ve;ut=vr;continue}Et+=He.toLowerCase(),ut=jr;break;case jr:if(He&&(dt.test(He)||"+"==He||"-"==He||"."==He))Et+=He.toLowerCase();else{if(":"!=He){if(Ne)return Ve;Et="",ut=vr,Xt=0;continue}if(Ne&&(rt(ne)!=B(ye,Et)||"file"==Et&&(Dt(ne)||null!==ne.port)||"file"==ne.scheme&&!ne.host))return;if(ne.scheme=Et,Ne)return void(rt(ne)&&ye[ne.scheme]==ne.port&&(ne.port=null));Et="","file"==ne.scheme?ut=fn:rt(ne)&&Ie&&Ie.scheme==ne.scheme?ut=Qt:rt(ne)?ut=gr:"/"==ot[Xt+1]?(ut=It,Xt++):(ne.cannotBeABaseURL=!0,ne.path.push(""),ut=si)}break;case vr:if(!Ie||Ie.cannotBeABaseURL&&"#"!=He)return Ve;if(Ie.cannotBeABaseURL&&"#"==He){ne.scheme=Ie.scheme,ne.path=Ie.path.slice(),ne.query=Ie.query,ne.fragment="",ne.cannotBeABaseURL=!0,ut=pn;break}ut="file"==Ie.scheme?fn:ar;continue;case Qt:if("/"!=He||"/"!=ot[Xt+1]){ut=ar;continue}ut=Lr,Xt++;break;case It:if("/"==He){ut=an;break}ut=zr;continue;case ar:if(ne.scheme=Ie.scheme,He==d)ne.username=Ie.username,ne.password=Ie.password,ne.host=Ie.host,ne.port=Ie.port,ne.path=Ie.path.slice(),ne.query=Ie.query;else if("/"==He||"\\"==He&&rt(ne))ut=ir;else if("?"==He)ne.username=Ie.username,ne.password=Ie.password,ne.host=Ie.host,ne.port=Ie.port,ne.path=Ie.path.slice(),ne.query="",ut=Vn;else{if("#"!=He){ne.username=Ie.username,ne.password=Ie.password,ne.host=Ie.host,ne.port=Ie.port,ne.path=Ie.path.slice(),ne.path.pop(),ut=zr;continue}ne.username=Ie.username,ne.password=Ie.password,ne.host=Ie.host,ne.port=Ie.port,ne.path=Ie.path.slice(),ne.query=Ie.query,ne.fragment="",ut=pn}break;case ir:if(!rt(ne)||"/"!=He&&"\\"!=He){if("/"!=He){ne.username=Ie.username,ne.password=Ie.password,ne.host=Ie.host,ne.port=Ie.port,ut=zr;continue}ut=an}else ut=Lr;break;case gr:if(ut=Lr,"/"!=He||"/"!=Et.charAt(Xt+1))continue;Xt++;break;case Lr:if("/"!=He&&"\\"!=He){ut=an;continue}break;case an:if("@"==He){Gr&&(Et="%40"+Et),Gr=!0,ht=I(Et);for(var Sr=0;Sr<ht.length;Sr++){var br=ht[Sr];if(":"!=br||An){var wr=fe(br,_t);An?ne.password+=wr:ne.username+=wr}else An=!0}Et=""}else if(He==d||"/"==He||"?"==He||"#"==He||"\\"==He&&rt(ne)){if(Gr&&""==Et)return"Invalid authority";Xt-=I(Et).length+1,Et="",ut=$r}else Et+=He;break;case $r:case qr:if(Ne&&"file"==ne.scheme){ut=Rr;continue}if(":"!=He||Dr){if(He==d||"/"==He||"?"==He||"#"==He||"\\"==He&&rt(ne)){if(rt(ne)&&""==Et)return Ke;if(Ne&&""==Et&&(Dt(ne)||null!==ne.port))return;if(Gt=je(ne,Et))return Gt;if(Et="",ut=tn,Ne)return;continue}"["==He?Dr=!0:"]"==He&&(Dr=!1),Et+=He}else{if(""==Et)return Ke;if(Gt=je(ne,Et))return Gt;if(Et="",ut=en,Ne==qr)return}break;case en:if(!Je.test(He)){if(He==d||"/"==He||"?"==He||"#"==He||"\\"==He&&rt(ne)||Ne){if(""!=Et){var Kr=parseInt(Et,10);if(Kr>65535)return De;ne.port=rt(ne)&&Kr===ye[ne.scheme]?null:Kr,Et=""}if(Ne)return;ut=tn;continue}return De}Et+=He;break;case fn:if(ne.scheme="file","/"==He||"\\"==He)ut=Pn;else{if(!Ie||"file"!=Ie.scheme){ut=zr;continue}if(He==d)ne.host=Ie.host,ne.path=Ie.path.slice(),ne.query=Ie.query;else if("?"==He)ne.host=Ie.host,ne.path=Ie.path.slice(),ne.query="",ut=Vn;else{if("#"!=He){Ht(ot.slice(Xt).join(""))||(ne.host=Ie.host,ne.path=Ie.path.slice(),kr(ne)),ut=zr;continue}ne.host=Ie.host,ne.path=Ie.path.slice(),ne.query=Ie.query,ne.fragment="",ut=pn}}break;case Pn:if("/"==He||"\\"==He){ut=Rr;break}Ie&&"file"==Ie.scheme&&!Ht(ot.slice(Xt).join(""))&&(Rt(Ie.path[0],!0)?ne.path.push(Ie.path[0]):ne.host=Ie.host),ut=zr;continue;case Rr:if(He==d||"/"==He||"\\"==He||"?"==He||"#"==He){if(!Ne&&Rt(Et))ut=zr;else if(""==Et){if(ne.host="",Ne)return;ut=tn}else{if(Gt=je(ne,Et))return Gt;if("localhost"==ne.host&&(ne.host=""),Ne)return;Et="",ut=tn}continue}Et+=He;break;case tn:if(rt(ne)){if(ut=zr,"/"!=He&&"\\"!=He)continue}else if(Ne||"?"!=He)if(Ne||"#"!=He){if(He!=d&&(ut=zr,"/"!=He))continue}else ne.fragment="",ut=pn;else ne.query="",ut=Vn;break;case zr:if(He==d||"/"==He||"\\"==He&&rt(ne)||!Ne&&("?"==He||"#"==He)){if(".."===(Zt=(Zt=Et).toLowerCase())||"%2e."===Zt||".%2e"===Zt||"%2e%2e"===Zt?(kr(ne),"/"==He||"\\"==He&&rt(ne)||ne.path.push("")):Br(Et)?"/"==He||"\\"==He&&rt(ne)||ne.path.push(""):("file"==ne.scheme&&!ne.path.length&&Rt(Et)&&(ne.host&&(ne.host=""),Et=Et.charAt(0)+":"),ne.path.push(Et)),Et="","file"==ne.scheme&&(He==d||"?"==He||"#"==He))for(;ne.path.length>1&&""===ne.path[0];)ne.path.shift();"?"==He?(ne.query="",ut=Vn):"#"==He&&(ne.fragment="",ut=pn)}else Et+=fe(He,ze);break;case si:"?"==He?(ne.query="",ut=Vn):"#"==He?(ne.fragment="",ut=pn):He!=d&&(ne.path[0]+=fe(He,Nt));break;case Vn:Ne||"#"!=He?He!=d&&("'"==He&&rt(ne)?ne.query+="%27":ne.query+="#"==He?"%23":fe(He,Nt)):(ne.fragment="",ut=pn);break;case pn:He!=d&&(ne.fragment+=fe(He,kt))}Xt++}},Ar=function(ne){var de,Ne,Ie=P(this,Ar,"URL"),ot=arguments.length>1?arguments[1]:void 0,He=String(ne),ht=Se(Ie,{type:"URL"});if(void 0!==ot)if(ot instanceof Ar)de=Ee(ot);else if(Ne=En(de={},String(ot)))throw TypeError(Ne);if(Ne=En(ht,He,null,de))throw TypeError(Ne);var Gt=ht.searchParams=new Fe,Zt=Be(Gt);Zt.updateSearchParams(ht.query),Zt.updateURL=function(){ht.query=String(Gt)||null},i||(Ie.href=G.call(Ie),Ie.origin=Y.call(Ie),Ie.protocol=Z.call(Ie),Ie.username=re.call(Ie),Ie.password=ae.call(Ie),Ie.host=we.call(Ie),Ie.hostname=Ce.call(Ie),Ie.port=ee.call(Ie),Ie.pathname=ue.call(Ie),Ie.search=Le.call(Ie),Ie.searchParams=lt.call(Ie),Ie.hash=mt.call(Ie))},cn=Ar.prototype,G=function(){var ne=Ee(this),de=ne.scheme,Ne=ne.username,Ie=ne.password,ot=ne.host,He=ne.port,ht=ne.path,Gt=ne.query,Zt=ne.fragment,ut=de+":";return null!==ot?(ut+="//",Dt(ne)&&(ut+=Ne+(Ie?":"+Ie:"")+"@"),ut+=Fr(ot),null!==He&&(ut+=":"+He)):"file"==de&&(ut+="//"),ut+=ne.cannotBeABaseURL?ht[0]:ht.length?"/"+ht.join("/"):"",null!==Gt&&(ut+="?"+Gt),null!==Zt&&(ut+="#"+Zt),ut},Y=function(){var ne=Ee(this),de=ne.scheme,Ne=ne.port;if("blob"==de)try{return new URL(de.path[0]).origin}catch{return"null"}return"file"!=de&&rt(ne)?de+"://"+Fr(ne.host)+(null!==Ne?":"+Ne:""):"null"},Z=function(){return Ee(this).scheme+":"},re=function(){return Ee(this).username},ae=function(){return Ee(this).password},we=function(){var ne=Ee(this),de=ne.host,Ne=ne.port;return null===de?"":null===Ne?Fr(de):Fr(de)+":"+Ne},Ce=function(){var ne=Ee(this).host;return null===ne?"":Fr(ne)},ee=function(){var ne=Ee(this).port;return null===ne?"":String(ne)},ue=function(){var ne=Ee(this),de=ne.path;return ne.cannotBeABaseURL?de[0]:de.length?"/"+de.join("/"):""},Le=function(){var ne=Ee(this).query;return ne?"?"+ne:""},lt=function(){return Ee(this).searchParams},mt=function(){var ne=Ee(this).fragment;return ne?"#"+ne:""},Ye=function(ne,de){return{get:ne,set:de,configurable:!0,enumerable:!0}};if(i&&C(cn,{href:Ye(G,function(ne){var de=Ee(this),Ne=String(ne),Ie=En(de,Ne);if(Ie)throw TypeError(Ie);Be(de.searchParams).updateSearchParams(de.query)}),origin:Ye(Y),protocol:Ye(Z,function(ne){var de=Ee(this);En(de,String(ne)+":",Mr)}),username:Ye(re,function(ne){var de=Ee(this),Ne=I(String(ne));if(!Wt(de)){de.username="";for(var Ie=0;Ie<Ne.length;Ie++)de.username+=fe(Ne[Ie],_t)}}),password:Ye(ae,function(ne){var de=Ee(this),Ne=I(String(ne));if(!Wt(de)){de.password="";for(var Ie=0;Ie<Ne.length;Ie++)de.password+=fe(Ne[Ie],_t)}}),host:Ye(we,function(ne){var de=Ee(this);de.cannotBeABaseURL||En(de,String(ne),$r)}),hostname:Ye(Ce,function(ne){var de=Ee(this);de.cannotBeABaseURL||En(de,String(ne),qr)}),port:Ye(ee,function(ne){var de=Ee(this);Wt(de)||(""==(ne=String(ne))?de.port=null:En(de,ne,en))}),pathname:Ye(ue,function(ne){var de=Ee(this);de.cannotBeABaseURL||(de.path=[],En(de,ne+"",tn))}),search:Ye(Le,function(ne){var de=Ee(this);""==(ne=String(ne))?de.query=null:("?"==ne.charAt(0)&&(ne=ne.slice(1)),de.query="",En(de,ne,Vn)),Be(de.searchParams).updateSearchParams(de.query)}),searchParams:Ye(lt),hash:Ye(mt,function(ne){var de=Ee(this);""!=(ne=String(ne))?("#"==ne.charAt(0)&&(ne=ne.slice(1)),de.fragment="",En(de,ne,pn)):de.fragment=null})}),F(cn,"toJSON",function(){return G.call(this)},{enumerable:!0}),F(cn,"toString",function(){return G.call(this)},{enumerable:!0}),ve){var pt=ve.createObjectURL,Ut=ve.revokeObjectURL;pt&&F(Ar,"createObjectURL",function(ne){return pt.apply(ve,arguments)}),Ut&&F(Ar,"revokeObjectURL",function(ne){return Ut.apply(ve,arguments)})}M(Ar,"URL"),w({global:!0,forced:!v,sham:!i},{URL:Ar})},function(m,x,s){"use strict";var d=s(136).charAt,w=s(25),i=s(178),v="String Iterator",g=w.set,C=w.getterFor(v);i(String,"String",function(F){g(this,{type:v,string:String(F),index:0})},function(){var F,P=C(this),B=P.string,S=P.index;return S>=B.length?{value:void 0,done:!0}:(F=d(B,S),P.index+=F.length,{value:F,done:!1})})},function(m,x,s){var d=s(6),w=s(48),i=s(29),v=w("iterator");m.exports=!d(function(){var g=new URL("b?a=1&b=2&c=3","http://a"),C=g.searchParams,F="";return g.pathname="c%20d",C.forEach(function(P,B){C.delete("b"),F+=B+P}),i&&!g.toJSON||!C.sort||"http://a/c%20d?a=1&c=3"!==g.href||"3"!==C.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!C[v]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==F||"x"!==new URL("http://x",void 0).host})},function(m,x,s){"use strict";var d=s(58),w=s(60),i=s(103),v=s(98),g=s(39),C=s(104),F=s(100);m.exports=function(P){var B,S,I,T,L,M,N=w(P),pe="function"==typeof this?this:Array,ve=arguments.length,Fe=ve>1?arguments[1]:void 0,Be=void 0!==Fe,Se=F(N),Ee=0;if(Be&&(Fe=d(Fe,ve>2?arguments[2]:void 0,2)),null==Se||pe==Array&&v(Se))for(S=new pe(B=g(N.length));B>Ee;Ee++)M=Be?Fe(N[Ee],Ee):N[Ee],C(S,Ee,M);else for(L=(T=Se.call(N)).next,S=new pe;!(I=L.call(T)).done;Ee++)M=Be?i(T,Fe,[I.value,Ee],!0):I.value,C(S,Ee,M);return S.length=Ee,S}},function(m){"use strict";var x=2147483647,s=/[^\0-\u007E]/,d=/[.\u3002\uFF0E\uFF61]/g,w="Overflow: input needs wider integers to process",i=Math.floor,v=String.fromCharCode,g=function(P){return P+22+75*(P<26)},C=function(P,B,S){var I=0;for(P=S?i(P/700):P>>1,P+=i(P/B);P>455;I+=36)P=i(P/35);return i(I+36*P/(P+38))},F=function(P){var B,S,I=[],T=(P=function(Ke){for(var De=[],tt=0,dt=Ke.length;tt<dt;){var Je=Ke.charCodeAt(tt++);if(Je>=55296&&Je<=56319&&tt<dt){var xt=Ke.charCodeAt(tt++);56320==(64512&xt)?De.push(((1023&Je)<<10)+(1023&xt)+65536):(De.push(Je),tt--)}else De.push(Je)}return De}(P)).length,L=128,M=0,N=72;for(B=0;B<P.length;B++)(S=P[B])<128&&I.push(v(S));var pe=I.length,ve=pe;for(pe&&I.push("-");ve<T;){var Fe=x;for(B=0;B<P.length;B++)(S=P[B])>=L&&S<Fe&&(Fe=S);var Be=ve+1;if(Fe-L>i((x-M)/Be))throw RangeError(w);for(M+=(Fe-L)*Be,L=Fe,B=0;B<P.length;B++){if((S=P[B])<L&&++M>x)throw RangeError(w);if(S==L){for(var Se=M,Ee=36;;Ee+=36){var Ue=Ee<=N?1:Ee>=N+26?26:Ee-N;if(Se<Ue)break;var We=Se-Ue,Ve=36-Ue;I.push(v(g(Ue+We%Ve))),Se=i(We/Ve)}I.push(v(g(Se))),N=C(M,Be,ve==pe),M=0,++ve}}++M,++L}return I.join("")};m.exports=function(P){var B,S,I=[],T=P.toLowerCase().replace(d,".").split(".");for(B=0;B<T.length;B++)I.push(s.test(S=T[B])?"xn--"+F(S):S);return I.join(".")}},function(m,x,s){"use strict";s(281);var d=s(2),w=s(34),i=s(286),v=s(21),g=s(79),C=s(88),F=s(179),P=s(25),B=s(80),S=s(15),I=s(58),T=s(101),L=s(20),M=s(14),N=s(71),pe=s(8),ve=s(190),Fe=s(100),Be=s(48),Se=w("fetch"),Ee=w("Headers"),Ue=Be("iterator"),We="URLSearchParams",Ve="URLSearchParamsIterator",Ke=P.set,De=P.getterFor(We),tt=P.getterFor(Ve),dt=/\+/g,Je=Array(4),xt=function(kt){return Je[kt-1]||(Je[kt-1]=RegExp("((?:%[\\da-f]{2}){"+kt+"})","gi"))},Xe=function(kt){try{return decodeURIComponent(kt)}catch{return kt}},jt=function(kt){var ze=kt.replace(dt," "),_t=4;try{return decodeURIComponent(ze)}catch{for(;_t;)ze=ze.replace(xt(_t--),Xe);return ze}},At=/[!'()~]|%20/g,tr={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},Oe=function(kt){return tr[kt]},ct=function(kt){return encodeURIComponent(kt).replace(At,Oe)},vt=function(kt,ze){if(ze)for(var _t,fe,ye=ze.split("&"),rt=0;rt<ye.length;)(_t=ye[rt++]).length&&(fe=_t.split("="),kt.push({key:jt(fe.shift()),value:jt(fe.join("="))}))},je=function(kt){this.entries.length=0,vt(this.entries,kt)},fr=function(kt,ze){if(kt<ze)throw TypeError("Not enough arguments")},dr=F(function(kt,ze){Ke(this,{type:Ve,iterator:ve(De(kt).entries),kind:ze})},"Iterator",function(){var kt=tt(this),ze=kt.kind,_t=kt.iterator.next(),fe=_t.value;return _t.done||(_t.value="keys"===ze?fe.key:"values"===ze?fe.value:[fe.key,fe.value]),_t}),Fr=function(){B(this,Fr,We);var kt,ze,_t,fe,ye,rt,Dt,Wt,Rt,Ht=arguments.length>0?arguments[0]:void 0,Br=[];if(Ke(this,{type:We,entries:Br,updateURL:function(){},updateSearchParams:je}),void 0!==Ht)if(M(Ht))if("function"==typeof(kt=Fe(Ht)))for(_t=(ze=kt.call(Ht)).next;!(fe=_t.call(ze)).done;){if((Dt=(rt=(ye=ve(L(fe.value))).next).call(ye)).done||(Wt=rt.call(ye)).done||!rt.call(ye).done)throw TypeError("Expected sequence with length 2");Br.push({key:Dt.value+"",value:Wt.value+""})}else for(Rt in Ht)S(Ht,Rt)&&Br.push({key:Rt,value:Ht[Rt]+""});else vt(Br,"string"==typeof Ht?"?"===Ht.charAt(0)?Ht.slice(1):Ht:Ht+"")},Nt=Fr.prototype;g(Nt,{append:function(kt,ze){fr(arguments.length,2);var _t=De(this);_t.entries.push({key:kt+"",value:ze+""}),_t.updateURL()},delete:function(kt){fr(arguments.length,1);for(var ze=De(this),_t=ze.entries,fe=kt+"",ye=0;ye<_t.length;)_t[ye].key===fe?_t.splice(ye,1):ye++;ze.updateURL()},get:function(kt){fr(arguments.length,1);for(var ze=De(this).entries,_t=kt+"",fe=0;fe<ze.length;fe++)if(ze[fe].key===_t)return ze[fe].value;return null},getAll:function(kt){fr(arguments.length,1);for(var ze=De(this).entries,_t=kt+"",fe=[],ye=0;ye<ze.length;ye++)ze[ye].key===_t&&fe.push(ze[ye].value);return fe},has:function(kt){fr(arguments.length,1);for(var ze=De(this).entries,_t=kt+"",fe=0;fe<ze.length;)if(ze[fe++].key===_t)return!0;return!1},set:function(kt,ze){fr(arguments.length,1);for(var _t,fe=De(this),ye=fe.entries,rt=!1,Dt=kt+"",Wt=ze+"",Rt=0;Rt<ye.length;Rt++)(_t=ye[Rt]).key===Dt&&(rt?ye.splice(Rt--,1):(rt=!0,_t.value=Wt));rt||ye.push({key:Dt,value:Wt}),fe.updateURL()},sort:function(){var kt,ze,_t,fe=De(this),ye=fe.entries,rt=ye.slice();for(ye.length=0,_t=0;_t<rt.length;_t++){for(kt=rt[_t],ze=0;ze<_t;ze++)if(ye[ze].key>kt.key){ye.splice(ze,0,kt);break}ze===_t&&ye.push(kt)}fe.updateURL()},forEach:function(kt){for(var ze,_t=De(this).entries,fe=I(kt,arguments.length>1?arguments[1]:void 0,3),ye=0;ye<_t.length;)fe((ze=_t[ye++]).value,ze.key,this)},keys:function(){return new dr(this,"keys")},values:function(){return new dr(this,"values")},entries:function(){return new dr(this,"entries")}},{enumerable:!0}),v(Nt,Ue,Nt.entries),v(Nt,"toString",function(){for(var kt,ze=De(this).entries,_t=[],fe=0;fe<ze.length;)kt=ze[fe++],_t.push(ct(kt.key)+"="+ct(kt.value));return _t.join("&")},{enumerable:!0}),C(Fr,We),d({global:!0,forced:!i},{URLSearchParams:Fr}),i||"function"!=typeof Se||"function"!=typeof Ee||d({global:!0,enumerable:!0,forced:!0},{fetch:function(kt){var ze,_t,fe,ye=[kt];return arguments.length>1&&(M(ze=arguments[1])&&T(_t=ze.body)===We&&((fe=ze.headers?new Ee(ze.headers):new Ee).has("content-type")||fe.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),ze=N(ze,{body:pe(0,String(_t)),headers:pe(0,fe)})),ye.push(ze)),Se.apply(this,ye)}}),m.exports={URLSearchParams:Fr,getState:De}},function(m,x,s){"use strict";s(2)({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},function(m){m.exports=function(){"use strict";var x,s,d;function w(i,v){if(x)if(s){var g="var sharedChunk = {}; ("+x+")(sharedChunk); ("+s+")(sharedChunk);",C={};x(C),d=v(C),typeof window<"u"&&(d.workerUrl=window.URL.createObjectURL(new Blob([g],{type:"text/javascript"})))}else s=v;else x=v}return w(0,function(i){function v(e,t){return e(t={exports:{}},t.exports),t.exports}var g=C;function C(e,t,r,A){this.cx=3*e,this.bx=3*(r-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(A-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=A,this.p2x=r,this.p2y=A}C.prototype.sampleCurveX=function(e){return((this.ax*e+this.bx)*e+this.cx)*e},C.prototype.sampleCurveY=function(e){return((this.ay*e+this.by)*e+this.cy)*e},C.prototype.sampleCurveDerivativeX=function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},C.prototype.solveCurveX=function(e,t){var r,A,l,u,f;for(void 0===t&&(t=1e-6),l=e,f=0;f<8;f++){if(u=this.sampleCurveX(l)-e,Math.abs(u)<t)return l;var b=this.sampleCurveDerivativeX(l);if(Math.abs(b)<1e-6)break;l-=u/b}if((l=e)<(r=0))return r;if(l>(A=1))return A;for(;r<A;){if(u=this.sampleCurveX(l),Math.abs(u-e)<t)return l;e>u?r=l:A=l,l=.5*(A-r)+r}return l},C.prototype.solve=function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))};var F=P;function P(e,t){this.x=e,this.y=t}P.prototype={clone:function(){return new P(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,r=e.y-this.y;return t*t+r*r},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[2]*this.x+e[3]*this.y;return this.x=e[0]*this.x+e[1]*this.y,this.y=t,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),r=Math.sin(e),A=r*this.x+t*this.y;return this.x=t*this.x-r*this.y,this.y=A,this},_rotateAround:function(e,t){var r=Math.cos(e),A=Math.sin(e),l=t.y+A*(this.x-t.x)+r*(this.y-t.y);return this.x=t.x+r*(this.x-t.x)-A*(this.y-t.y),this.y=l,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},P.convert=function(e){return e instanceof P?e:Array.isArray(e)?new P(e[0],e[1]):e};var B=typeof self<"u"?self:{},S=Math.pow(2,53)-1;function I(e,t,r,A){var l=new g(e,t,r,A);return function(u){return l.solve(u)}}var T=I(.25,.1,.25,1);function L(e,t,r){return Math.min(r,Math.max(t,e))}function M(e,t,r){var A=r-t,l=((e-t)%A+A)%A+t;return l===t?r:l}function N(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];for(var A=0,l=t;A<l.length;A+=1){var u=l[A];for(var f in u)e[f]=u[f]}return e}var pe=1;function ve(){return pe++}function Fe(){return function e(t){return t?(t^16*Math.random()>>t/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,e)}()}function Be(e){return!!e&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)}function Se(e,t){e.forEach(function(r){t[r]&&(t[r]=t[r].bind(t))})}function Ee(e,t){return-1!==e.indexOf(t,e.length-t.length)}function Ue(e,t,r){var A={};for(var l in e)A[l]=t.call(r||this,e[l],l,e);return A}function We(e,t,r){var A={};for(var l in e)t.call(r||this,e[l],l,e)&&(A[l]=e[l]);return A}function Ve(e){return Array.isArray(e)?e.map(Ve):"object"==typeof e&&e?Ue(e,Ve):e}var Ke={};function De(e){Ke[e]||(typeof console<"u"&&console.warn(e),Ke[e]=!0)}function tt(e,t,r){return(r.y-e.y)*(t.x-e.x)>(t.y-e.y)*(r.x-e.x)}function dt(e){for(var t=0,r=0,A=e.length,l=A-1,u=void 0,f=void 0;r<A;l=r++)t+=((f=e[l]).x-(u=e[r]).x)*(u.y+f.y);return t}function Je(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function xt(e){var t={};if(e.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,function(A,l,u,f){var b=u||f;return t[l]=!b||b.toLowerCase(),""}),t["max-age"]){var r=parseInt(t["max-age"],10);isNaN(r)?delete t["max-age"]:t["max-age"]=r}return t}var Xe=null;function jt(e){if(null==Xe){var t=e.navigator?e.navigator.userAgent:null;Xe=!!e.safari||!(!t||!(/\b(iPad|iPhone|iPod)\b/.test(t)||t.match("Safari")&&!t.match("Chrome")))}return Xe}function At(e){try{var t=B[e];return t.setItem("_mapbox_test_",1),t.removeItem("_mapbox_test_"),!0}catch{return!1}}var tr,Oe,ct,vt,je=B.performance&&B.performance.now?B.performance.now.bind(B.performance):Date.now.bind(Date),fr=B.requestAnimationFrame||B.mozRequestAnimationFrame||B.webkitRequestAnimationFrame||B.msRequestAnimationFrame,dr=B.cancelAnimationFrame||B.mozCancelAnimationFrame||B.webkitCancelAnimationFrame||B.msCancelAnimationFrame,Fr={now:je,frame:function(e){var t=fr(e);return{cancel:function(){return dr(t)}}},getImageData:function(e,t){void 0===t&&(t=0);var r=B.document.createElement("canvas"),A=r.getContext("2d");if(!A)throw new Error("failed to create canvas 2d context");return r.width=e.width,r.height=e.height,A.drawImage(e,0,0,e.width,e.height),A.getImageData(-t,-t,e.width+2*t,e.height+2*t)},resolveURL:function(e){return tr||(tr=B.document.createElement("a")),tr.href=e,tr.href},hardwareConcurrency:B.navigator&&B.navigator.hardwareConcurrency||4,get devicePixelRatio(){return B.devicePixelRatio},get prefersReducedMotion(){return!!B.matchMedia&&(null==Oe&&(Oe=B.matchMedia("(prefers-reduced-motion: reduce)")),Oe.matches)}},Nt={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},kt={supported:!1,testSupport:function(e){!ze&&vt&&(_t?fe(e):ct=e)}},ze=!1,_t=!1;function fe(e){var t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t);try{if(e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,vt),e.isContextLost())return;kt.supported=!0}catch{}e.deleteTexture(t),ze=!0}B.document&&((vt=B.document.createElement("img")).onload=function(){ct&&fe(ct),ct=null,_t=!0},vt.onerror=function(){ze=!0,ct=null},vt.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var ye="01",rt=function(e,t){this._transformRequestFn=e,this._customAccessToken=t,this._createSkuToken()};function Dt(e){return 0===e.indexOf("mapbox:")}rt.prototype._createSkuToken=function(){var e=function(){for(var t="",r=0;r<10;r++)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",ye,t].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=e.token,this._skuTokenExpiresAt=e.tokenExpiresAt},rt.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},rt.prototype.transformRequest=function(e,t){return this._transformRequestFn&&this._transformRequestFn(e,t)||{url:e}},rt.prototype.normalizeStyleURL=function(e,t){if(!Dt(e))return e;var r=kr(e);return r.path="/styles/v1"+r.path,this._makeAPIURL(r,this._customAccessToken||t)},rt.prototype.normalizeGlyphsURL=function(e,t){if(!Dt(e))return e;var r=kr(e);return r.path="/fonts/v1"+r.path,this._makeAPIURL(r,this._customAccessToken||t)},rt.prototype.normalizeSourceURL=function(e,t){if(!Dt(e))return e;var r=kr(e);return r.path="/v4/"+r.authority+".json",r.params.push("secure"),this._makeAPIURL(r,this._customAccessToken||t)},rt.prototype.normalizeSpriteURL=function(e,t,r,A){var l=kr(e);return Dt(e)?(l.path="/styles/v1"+l.path+"/sprite"+t+r,this._makeAPIURL(l,this._customAccessToken||A)):(l.path+=""+t+r,Br(l))},rt.prototype.normalizeTileURL=function(e,t){if(this._isSkuTokenExpired()&&this._createSkuToken(),e&&!Dt(e))return e;var r=kr(e);r.path=r.path.replace(/(\.(png|jpg)\d*)(?=$)/,(Fr.devicePixelRatio>=2||512===t?"@2x":"")+(kt.supported?".webp":"$1")),r.path=r.path.replace(/^.+\/v4\//,"/"),r.path="/v4"+r.path;var A=this._customAccessToken||function(l){for(var u=0,f=l;u<f.length;u+=1){var b=f[u].match(/^access_token=(.*)$/);if(b)return b[1]}return null}(r.params)||Nt.ACCESS_TOKEN;return Nt.REQUIRE_ACCESS_TOKEN&&A&&this._skuToken&&r.params.push("sku="+this._skuToken),this._makeAPIURL(r,A)},rt.prototype.canonicalizeTileURL=function(e,t){var r=kr(e);if(!r.path.match(/(^\/v4\/)/)||!r.path.match(/\.[\w]+$/))return e;var A="mapbox://tiles/";A+=r.path.replace("/v4/","");var l=r.params;return t&&(l=l.filter(function(u){return!u.match(/^access_token=/)})),l.length&&(A+="?"+l.join("&")),A},rt.prototype.canonicalizeTileset=function(e,t){for(var r=!!t&&Dt(t),A=[],l=0,u=e.tiles||[];l<u.length;l+=1){var f=u[l];Rt(f)?A.push(this.canonicalizeTileURL(f,r)):A.push(f)}return A},rt.prototype._makeAPIURL=function(e,t){var r="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",A=kr(Nt.API_URL);if(e.protocol=A.protocol,e.authority=A.authority,"http"===e.protocol){var l=e.params.indexOf("secure");l>=0&&e.params.splice(l,1)}if("/"!==A.path&&(e.path=""+A.path+e.path),!Nt.REQUIRE_ACCESS_TOKEN)return Br(e);if(!(t=t||Nt.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+r);if("s"===t[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+r);return e.params=e.params.filter(function(u){return-1===u.indexOf("access_token")}),e.params.push("access_token="+t),Br(e)};var Wt=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function Rt(e){return Wt.test(e)}var Ht=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function kr(e){var t=e.match(Ht);if(!t)throw new Error("Unable to parse URL object");return{protocol:t[1],authority:t[2],path:t[3]||"/",params:t[4]?t[4].split("&"):[]}}function Br(e){var t=e.params.length?"?"+e.params.join("&"):"";return e.protocol+"://"+e.authority+e.path+t}function Mr(e){if(!e)return null;var t=e.split(".");if(!t||3!==t.length)return null;try{return JSON.parse(decodeURIComponent(B.atob(t[1]).split("").map(function(r){return"%"+("00"+r.charCodeAt(0).toString(16)).slice(-2)}).join("")))}catch{return null}}var jr=function(e){this.type=e,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};jr.prototype.getStorageKey=function(e){var t,r=Mr(Nt.ACCESS_TOKEN);return t=r&&r.u?B.btoa(encodeURIComponent(r.u).replace(/%([0-9A-F]{2})/g,function(A,l){return String.fromCharCode(Number("0x"+l))})):Nt.ACCESS_TOKEN||"",e?"mapbox.eventData."+e+":"+t:"mapbox.eventData:"+t},jr.prototype.fetchEventData=function(){var e=At("localStorage"),t=this.getStorageKey(),r=this.getStorageKey("uuid");if(e)try{var A=B.localStorage.getItem(t);A&&(this.eventData=JSON.parse(A));var l=B.localStorage.getItem(r);l&&(this.anonId=l)}catch{De("Unable to read from LocalStorage")}},jr.prototype.saveEventData=function(){var e=At("localStorage"),t=this.getStorageKey(),r=this.getStorageKey("uuid");if(e)try{B.localStorage.setItem(r,this.anonId),Object.keys(this.eventData).length>=1&&B.localStorage.setItem(t,JSON.stringify(this.eventData))}catch{De("Unable to write to LocalStorage")}},jr.prototype.processRequests=function(e){},jr.prototype.postEvent=function(e,t,r,A){var l=this;if(Nt.EVENTS_URL){var u=kr(Nt.EVENTS_URL);u.params.push("access_token="+(A||Nt.ACCESS_TOKEN||""));var f={event:this.type,created:new Date(e).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"1.13.2",skuId:ye,userId:this.anonId},b=t?N(f,t):f,k={url:Br(u),headers:{"Content-Type":"text/plain"},body:JSON.stringify([b])};this.pendingRequest=cn(k,function(U){l.pendingRequest=null,r(U),l.saveEventData(),l.processRequests(A)})}},jr.prototype.queueRequest=function(e,t){this.queue.push(e),this.processRequests(t)};var vr,Qt,It=function(e){function t(){e.call(this,"map.load"),this.success={},this.skuToken=""}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.postMapLoadEvent=function(r,A,l,u){this.skuToken=l,(Nt.EVENTS_URL&&u||Nt.ACCESS_TOKEN&&Array.isArray(r)&&r.some(function(f){return Dt(f)||Rt(f)}))&&this.queueRequest({id:A,timestamp:Date.now()},u)},t.prototype.processRequests=function(r){var A=this;if(!this.pendingRequest&&0!==this.queue.length){var l=this.queue.shift(),u=l.id,f=l.timestamp;u&&this.success[u]||(this.anonId||this.fetchEventData(),Be(this.anonId)||(this.anonId=Fe()),this.postEvent(f,{skuToken:this.skuToken},function(b){b||u&&(A.success[u]=!0)},r))}},t}(jr),ar=new(function(e){function t(r){e.call(this,"appUserTurnstile"),this._customAccessToken=r}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.postTurnstileEvent=function(r,A){Nt.EVENTS_URL&&Nt.ACCESS_TOKEN&&Array.isArray(r)&&r.some(function(l){return Dt(l)||Rt(l)})&&this.queueRequest(Date.now(),A)},t.prototype.processRequests=function(r){var A=this;if(!this.pendingRequest&&0!==this.queue.length){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var l=Mr(Nt.ACCESS_TOKEN),u=l?l.u:Nt.ACCESS_TOKEN,f=u!==this.eventData.tokenU;Be(this.anonId)||(this.anonId=Fe(),f=!0);var b=this.queue.shift();if(this.eventData.lastSuccess){var k=new Date(this.eventData.lastSuccess),U=new Date(b),j=(b-this.eventData.lastSuccess)/864e5;f=f||j>=1||j<-1||k.getDate()!==U.getDate()}else f=!0;if(!f)return this.processRequests();this.postEvent(b,{"enabled.telemetry":!1},function(K){K||(A.eventData.lastSuccess=b,A.eventData.tokenU=u)},r)}},t}(jr)),ir=ar.postTurnstileEvent.bind(ar),gr=new It,Lr=gr.postMapLoadEvent.bind(gr),an=500,$r=50;function qr(){B.caches&&!vr&&(vr=B.caches.open("mapbox-tiles"))}function en(e){var t=e.indexOf("?");return t<0?e:e.slice(0,t)}var fn,Pn=1/0;function Rr(){return null==fn&&(fn=B.OffscreenCanvas&&new B.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof B.createImageBitmap),fn}var tn={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(tn);var zr,si,Vn=function(e){function t(r,A,l){401===A&&Rt(l)&&(r+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),e.call(this,r),this.status=A,this.url=l,this.name=this.constructor.name,this.message=r}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},t}(Error),pn=Je()?function(){return self.worker&&self.worker.referrer}:function(){return("blob:"===B.location.protocol?B.parent:B).location.href},En=function(e,t){if(!(/^file:/.test(r=e.url)||/^file:/.test(pn())&&!/^\w+:/.test(r))){if(B.fetch&&B.Request&&B.AbortController&&B.Request.prototype.hasOwnProperty("signal"))return function(A,l){var u,f=new B.AbortController,b=new B.Request(A.url,{method:A.method||"GET",body:A.body,credentials:A.credentials,headers:A.headers,referrer:pn(),signal:f.signal}),k=!1,U=!1,j=(u=b.url).indexOf("sku=")>0&&Rt(u);"json"===A.type&&b.headers.set("Accept","application/json");var K=function(W,Ae,ce){if(!U){if(W&&"SecurityError"!==W.message&&De(W),Ae&&ce)return q(Ae);var xe=Date.now();B.fetch(b).then(function(ge){if(ge.ok){var Pe=j?ge.clone():null;return q(ge,Pe,xe)}return l(new Vn(ge.statusText,ge.status,A.url))}).catch(function(ge){20!==ge.code&&l(new Error(ge.message))})}},q=function(W,Ae,ce){("arrayBuffer"===A.type?W.arrayBuffer():"json"===A.type?W.json():W.text()).then(function(xe){U||(Ae&&ce&&function(ge,Pe,Ge){if(qr(),vr){var qe={status:Pe.status,statusText:Pe.statusText,headers:new B.Headers};Pe.headers.forEach(function(st,yt){return qe.headers.set(yt,st)});var $e=xt(Pe.headers.get("Cache-Control")||"");$e["no-store"]||($e["max-age"]&&qe.headers.set("Expires",new Date(Ge+1e3*$e["max-age"]).toUTCString()),new Date(qe.headers.get("Expires")).getTime()-Ge<42e4||function(st,yt){if(void 0===Qt)try{new Response(new ReadableStream),Qt=!0}catch{Qt=!1}Qt?yt(st.body):st.blob().then(yt)}(Pe,function(st){var yt=new B.Response(st,qe);qr(),vr&&vr.then(function(Ft){return Ft.put(en(ge.url),yt)}).catch(function(Ft){return De(Ft.message)})}))}}(b,Ae,ce),k=!0,l(null,xe,W.headers.get("Cache-Control"),W.headers.get("Expires")))}).catch(function(xe){U||l(new Error(xe.message))})};return j?function(W,Ae){if(qr(),!vr)return Ae(null);var ce=en(W.url);vr.then(function(xe){xe.match(ce).then(function(ge){var Pe=function(Ge){if(!Ge)return!1;var qe=new Date(Ge.headers.get("Expires")||0),$e=xt(Ge.headers.get("Cache-Control")||"");return qe>Date.now()&&!$e["no-cache"]}(ge);xe.delete(ce),Pe&&xe.put(ce,ge.clone()),Ae(null,ge,Pe)}).catch(Ae)}).catch(Ae)}(b,K):K(null,null),{cancel:function(){U=!0,k||f.abort()}}}(e,t);if(Je()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",e,t,void 0,!0)}var r;return function(A,l){var u=new B.XMLHttpRequest;for(var f in u.open(A.method||"GET",A.url,!0),"arrayBuffer"===A.type&&(u.responseType="arraybuffer"),A.headers)u.setRequestHeader(f,A.headers[f]);return"json"===A.type&&(u.responseType="text",u.setRequestHeader("Accept","application/json")),u.withCredentials="include"===A.credentials,u.onerror=function(){l(new Error(u.statusText))},u.onload=function(){if((u.status>=200&&u.status<300||0===u.status)&&null!==u.response){var b=u.response;if("json"===A.type)try{b=JSON.parse(u.response)}catch(k){return l(k)}l(null,b,u.getResponseHeader("Cache-Control"),u.getResponseHeader("Expires"))}else l(new Vn(u.statusText,u.status,A.url))},u.send(A.body),{cancel:function(){return u.abort()}}}(e,t)},Ar=function(e,t){return En(N(e,{type:"arrayBuffer"}),t)},cn=function(e,t){return En(N(e,{method:"POST"}),t)},G="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";zr=[],si=0;var Y=function(e,t){if(kt.supported&&(e.headers||(e.headers={}),e.headers.accept="image/webp,*/*"),si>=Nt.MAX_PARALLEL_IMAGE_REQUESTS){var r={requestParameters:e,callback:t,cancelled:!1,cancel:function(){this.cancelled=!0}};return zr.push(r),r}si++;var A=!1,l=function(){if(!A)for(A=!0,si--;zr.length&&si<Nt.MAX_PARALLEL_IMAGE_REQUESTS;){var f=zr.shift();f.cancelled||(f.cancel=Y(f.requestParameters,f.callback).cancel)}},u=Ar(e,function(f,b,k,U){var K,q;l(),f?t(f):b&&(Rr()?(K=t,q=new B.Blob([new Uint8Array(b)],{type:"image/png"}),B.createImageBitmap(q).then(function(W){K(null,W)}).catch(function(W){K(new Error("Could not load image because of "+W.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})):function(j,K,q,W){var Ae=new B.Image,ce=B.URL;Ae.onload=function(){K(null,Ae),ce.revokeObjectURL(Ae.src),Ae.onload=null,B.requestAnimationFrame(function(){Ae.src=G})},Ae.onerror=function(){return K(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var xe=new B.Blob([new Uint8Array(j)],{type:"image/png"});Ae.cacheControl=q,Ae.expires=W,Ae.src=j.byteLength?ce.createObjectURL(xe):G}(b,t,k,U))});return{cancel:function(){u.cancel(),l()}}};function Z(e,t,r){r[e]&&-1!==r[e].indexOf(t)||(r[e]=r[e]||[],r[e].push(t))}function re(e,t,r){if(r&&r[e]){var A=r[e].indexOf(t);-1!==A&&r[e].splice(A,1)}}var ae=function(e,t){void 0===t&&(t={}),N(this,t),this.type=e},we=function(e){function t(r,A){void 0===A&&(A={}),e.call(this,"error",N({error:r},A))}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(ae),Ce=function(){};Ce.prototype.on=function(e,t){return this._listeners=this._listeners||{},Z(e,t,this._listeners),this},Ce.prototype.off=function(e,t){return re(e,t,this._listeners),re(e,t,this._oneTimeListeners),this},Ce.prototype.once=function(e,t){return this._oneTimeListeners=this._oneTimeListeners||{},Z(e,t,this._oneTimeListeners),this},Ce.prototype.fire=function(e,t){"string"==typeof e&&(e=new ae(e,t||{}));var r=e.type;if(this.listens(r)){e.target=this;for(var A=0,l=this._listeners&&this._listeners[r]?this._listeners[r].slice():[];A<l.length;A+=1)l[A].call(this,e);for(var u=0,f=this._oneTimeListeners&&this._oneTimeListeners[r]?this._oneTimeListeners[r].slice():[];u<f.length;u+=1){var b=f[u];re(r,b,this._oneTimeListeners),b.call(this,e)}var k=this._eventedParent;k&&(N(e,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),k.fire(e))}else e instanceof we&&console.error(e.error);return this},Ce.prototype.listens=function(e){return this._listeners&&this._listeners[e]&&this._listeners[e].length>0||this._oneTimeListeners&&this._oneTimeListeners[e]&&this._oneTimeListeners[e].length>0||this._eventedParent&&this._eventedParent.listens(e)},Ce.prototype.setEventedParent=function(e,t){return this._eventedParent=e,this._eventedParentData=t,this};var ee={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},ue=function(e,t,r,A){this.message=(e?e+": ":"")+r,A&&(this.identifier=A),null!=t&&t.__line__&&(this.line=t.__line__)};function Le(e){var t=e.value;return t?[new ue(e.key,t,"constants have been deprecated as of v8")]:[]}function lt(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];for(var A=0,l=t;A<l.length;A+=1){var u=l[A];for(var f in u)e[f]=u[f]}return e}function mt(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}function Ye(e){if(Array.isArray(e))return e.map(Ye);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){var t={};for(var r in e)t[r]=Ye(e[r]);return t}return mt(e)}var pt=function(e){function t(r,A){e.call(this,A),this.message=A,this.key=r}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(Error),Ut=function(e,t){void 0===t&&(t=[]),this.parent=e,this.bindings={};for(var r=0,A=t;r<A.length;r+=1){var l=A[r];this.bindings[l[0]]=l[1]}};Ut.prototype.concat=function(e){return new Ut(this,e)},Ut.prototype.get=function(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(e+" not found in scope.")},Ut.prototype.has=function(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)};var ne={kind:"null"},de={kind:"number"},Ne={kind:"string"},Ie={kind:"boolean"},ot={kind:"color"},He={kind:"object"},ht={kind:"value"},Gt={kind:"collator"},Zt={kind:"formatted"},ut={kind:"resolvedImage"};function Xt(e,t){return{kind:"array",itemType:e,N:t}}function Et(e){if("array"===e.kind){var t=Et(e.itemType);return"number"==typeof e.N?"array<"+t+", "+e.N+">":"value"===e.itemType.kind?"array":"array<"+t+">"}return e.kind}var Gr=[ne,de,Ne,Ie,ot,Zt,He,Xt(ht),ut];function Dr(e,t){if("error"===t.kind)return null;if("array"===e.kind){if("array"===t.kind&&(0===t.N&&"value"===t.itemType.kind||!Dr(e.itemType,t.itemType))&&("number"!=typeof e.N||e.N===t.N))return null}else{if(e.kind===t.kind)return null;if("value"===e.kind)for(var r=0,A=Gr;r<A.length;r+=1)if(!Dr(A[r],t))return null}return"Expected "+Et(e)+" but found "+Et(t)+" instead."}function An(e,t){return t.some(function(r){return r.kind===e.kind})}function Sr(e,t){return t.some(function(r){return"null"===r?null===e:"array"===r?Array.isArray(e):"object"===r?e&&!Array.isArray(e)&&"object"==typeof e:r===typeof e})}var br=v(function(e,t){var r={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function A(b){return(b=Math.round(b))<0?0:b>255?255:b}function l(b){return A("%"===b[b.length-1]?parseFloat(b)/100*255:parseInt(b))}function u(b){return(k="%"===b[b.length-1]?parseFloat(b)/100:parseFloat(b))<0?0:k>1?1:k;var k}function f(b,k,U){return U<0?U+=1:U>1&&(U-=1),6*U<1?b+(k-b)*U*6:2*U<1?k:3*U<2?b+(k-b)*(2/3-U)*6:b}try{t.parseCSSColor=function(b){var k,U=b.replace(/ /g,"").toLowerCase();if(U in r)return r[U].slice();if("#"===U[0])return 4===U.length?(k=parseInt(U.substr(1),16))>=0&&k<=4095?[(3840&k)>>4|(3840&k)>>8,240&k|(240&k)>>4,15&k|(15&k)<<4,1]:null:7===U.length&&(k=parseInt(U.substr(1),16))>=0&&k<=16777215?[(16711680&k)>>16,(65280&k)>>8,255&k,1]:null;var j=U.indexOf("("),K=U.indexOf(")");if(-1!==j&&K+1===U.length){var q=U.substr(0,j),W=U.substr(j+1,K-(j+1)).split(","),Ae=1;switch(q){case"rgba":if(4!==W.length)return null;Ae=u(W.pop());case"rgb":return 3!==W.length?null:[l(W[0]),l(W[1]),l(W[2]),Ae];case"hsla":if(4!==W.length)return null;Ae=u(W.pop());case"hsl":if(3!==W.length)return null;var ce=(parseFloat(W[0])%360+360)%360/360,xe=u(W[1]),ge=u(W[2]),Pe=ge<=.5?ge*(xe+1):ge+xe-ge*xe,Ge=2*ge-Pe;return[A(255*f(Ge,Pe,ce+1/3)),A(255*f(Ge,Pe,ce)),A(255*f(Ge,Pe,ce-1/3)),Ae];default:return null}}return null}}catch{}}).parseCSSColor,wr=function(e,t,r,A){void 0===A&&(A=1),this.r=e,this.g=t,this.b=r,this.a=A};wr.parse=function(e){if(e){if(e instanceof wr)return e;if("string"==typeof e){var t=br(e);if(t)return new wr(t[0]/255*t[3],t[1]/255*t[3],t[2]/255*t[3],t[3])}}},wr.prototype.toString=function(){var e=this.toArray(),t=e[1],r=e[2],A=e[3];return"rgba("+Math.round(e[0])+","+Math.round(t)+","+Math.round(r)+","+A+")"},wr.prototype.toArray=function(){var e=this.a;return 0===e?[0,0,0,0]:[255*this.r/e,255*this.g/e,255*this.b/e,e]},wr.black=new wr(0,0,0,1),wr.white=new wr(1,1,1,1),wr.transparent=new wr(0,0,0,0),wr.red=new wr(1,0,0,1);var Kr=function(e,t,r){this.sensitivity=e?t?"variant":"case":t?"accent":"base",this.locale=r,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};Kr.prototype.compare=function(e,t){return this.collator.compare(e,t)},Kr.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var jo=function(e,t,r,A,l){this.text=e,this.image=t,this.scale=r,this.fontStack=A,this.textColor=l},Sn=function(e){this.sections=e};Sn.fromString=function(e){return new Sn([new jo(e,null,null,null,null)])},Sn.prototype.isEmpty=function(){return 0===this.sections.length||!this.sections.some(function(e){return 0!==e.text.length||e.image&&0!==e.image.name.length})},Sn.factory=function(e){return e instanceof Sn?e:Sn.fromString(e)},Sn.prototype.toString=function(){return 0===this.sections.length?"":this.sections.map(function(e){return e.text}).join("")},Sn.prototype.serialize=function(){for(var e=["format"],t=0,r=this.sections;t<r.length;t+=1){var A=r[t];if(A.image)e.push(["image",A.image.name]);else{e.push(A.text);var l={};A.fontStack&&(l["text-font"]=["literal",A.fontStack.split(",")]),A.scale&&(l["font-scale"]=A.scale),A.textColor&&(l["text-color"]=["rgba"].concat(A.textColor.toArray())),e.push(l)}}return e};var rn=function(e){this.name=e.name,this.available=e.available};function wa(e,t,r,A){return"number"==typeof e&&e>=0&&e<=255&&"number"==typeof t&&t>=0&&t<=255&&"number"==typeof r&&r>=0&&r<=255?void 0===A||"number"==typeof A&&A>=0&&A<=1?null:"Invalid rgba value ["+[e,t,r,A].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof A?[e,t,r,A]:[e,t,r]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function Wi(e){if(null===e||"string"==typeof e||"boolean"==typeof e||"number"==typeof e||e instanceof wr||e instanceof Kr||e instanceof Sn||e instanceof rn)return!0;if(Array.isArray(e)){for(var t=0,r=e;t<r.length;t+=1)if(!Wi(r[t]))return!1;return!0}if("object"==typeof e){for(var A in e)if(!Wi(e[A]))return!1;return!0}return!1}function mr(e){if(null===e)return ne;if("string"==typeof e)return Ne;if("boolean"==typeof e)return Ie;if("number"==typeof e)return de;if(e instanceof wr)return ot;if(e instanceof Kr)return Gt;if(e instanceof Sn)return Zt;if(e instanceof rn)return ut;if(Array.isArray(e)){for(var t,r=e.length,A=0,l=e;A<l.length;A+=1){var u=mr(l[A]);if(t){if(t===u)continue;t=ht;break}t=u}return Xt(t||ht,r)}return He}function Fn(e){var t=typeof e;return null===e?"":"string"===t||"number"===t||"boolean"===t?String(e):e instanceof wr||e instanceof Sn||e instanceof rn?e.toString():JSON.stringify(e)}rn.prototype.toString=function(){return this.name},rn.fromString=function(e){return e?new rn({name:e,available:!1}):null},rn.prototype.serialize=function(){return["image",this.name]};var ri=function(e,t){this.type=e,this.value=t};ri.parse=function(e,t){if(2!==e.length)return t.error("'literal' expression requires exactly one argument, but found "+(e.length-1)+" instead.");if(!Wi(e[1]))return t.error("invalid value");var r=e[1],A=mr(r),l=t.expectedType;return"array"!==A.kind||0!==A.N||!l||"array"!==l.kind||"number"==typeof l.N&&0!==l.N||(A=l),new ri(A,r)},ri.prototype.evaluate=function(){return this.value},ri.prototype.eachChild=function(){},ri.prototype.outputDefined=function(){return!0},ri.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof wr?["rgba"].concat(this.value.toArray()):this.value instanceof Sn?this.value.serialize():this.value};var Ln=function(e){this.name="ExpressionEvaluationError",this.message=e};Ln.prototype.toJSON=function(){return this.message};var Ci={string:Ne,number:de,boolean:Ie,object:He},nn=function(e,t){this.type=e,this.args=t};nn.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");var r,A=1,l=e[0];if("array"===l){var u,f;if(e.length>2){var b=e[1];if("string"!=typeof b||!(b in Ci)||"object"===b)return t.error('The item type argument of "array" must be one of string, number, boolean',1);u=Ci[b],A++}else u=ht;if(e.length>3){if(null!==e[2]&&("number"!=typeof e[2]||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to "array" must be a positive integer literal',2);f=e[2],A++}r=Xt(u,f)}else r=Ci[l];for(var k=[];A<e.length;A++){var U=t.parse(e[A],A,ht);if(!U)return null;k.push(U)}return new nn(r,k)},nn.prototype.evaluate=function(e){for(var t=0;t<this.args.length;t++){var r=this.args[t].evaluate(e);if(!Dr(this.type,mr(r)))return r;if(t===this.args.length-1)throw new Ln("Expected value to be of type "+Et(this.type)+", but found "+Et(mr(r))+" instead.")}return null},nn.prototype.eachChild=function(e){this.args.forEach(e)},nn.prototype.outputDefined=function(){return this.args.every(function(e){return e.outputDefined()})},nn.prototype.serialize=function(){var e=this.type,t=[e.kind];if("array"===e.kind){var r=e.itemType;if("string"===r.kind||"number"===r.kind||"boolean"===r.kind){t.push(r.kind);var A=e.N;("number"==typeof A||this.args.length>1)&&t.push(A)}}return t.concat(this.args.map(function(l){return l.serialize()}))};var Ui=function(e){this.type=Zt,this.sections=e};Ui.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");var r=e[1];if(!Array.isArray(r)&&"object"==typeof r)return t.error("First argument must be an image or text section.");for(var A=[],l=!1,u=1;u<=e.length-1;++u){var f=e[u];if(l&&"object"==typeof f&&!Array.isArray(f)){l=!1;var b=null;if(f["font-scale"]&&!(b=t.parse(f["font-scale"],1,de)))return null;var k=null;if(f["text-font"]&&!(k=t.parse(f["text-font"],1,Xt(Ne))))return null;var U=null;if(f["text-color"]&&!(U=t.parse(f["text-color"],1,ot)))return null;var j=A[A.length-1];j.scale=b,j.font=k,j.textColor=U}else{var K=t.parse(e[u],1,ht);if(!K)return null;var q=K.type.kind;if("string"!==q&&"value"!==q&&"null"!==q&&"resolvedImage"!==q)return t.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");l=!0,A.push({content:K,scale:null,font:null,textColor:null})}}return new Ui(A)},Ui.prototype.evaluate=function(e){return new Sn(this.sections.map(function(t){var r=t.content.evaluate(e);return mr(r)===ut?new jo("",r,null,null,null):new jo(Fn(r),null,t.scale?t.scale.evaluate(e):null,t.font?t.font.evaluate(e).join(","):null,t.textColor?t.textColor.evaluate(e):null)}))},Ui.prototype.eachChild=function(e){for(var t=0,r=this.sections;t<r.length;t+=1){var A=r[t];e(A.content),A.scale&&e(A.scale),A.font&&e(A.font),A.textColor&&e(A.textColor)}},Ui.prototype.outputDefined=function(){return!1},Ui.prototype.serialize=function(){for(var e=["format"],t=0,r=this.sections;t<r.length;t+=1){var A=r[t];e.push(A.content.serialize());var l={};A.scale&&(l["font-scale"]=A.scale.serialize()),A.font&&(l["text-font"]=A.font.serialize()),A.textColor&&(l["text-color"]=A.textColor.serialize()),e.push(l)}return e};var _i=function(e){this.type=ut,this.input=e};_i.parse=function(e,t){if(2!==e.length)return t.error("Expected two arguments.");var r=t.parse(e[1],1,Ne);return r?new _i(r):t.error("No image name provided.")},_i.prototype.evaluate=function(e){var t=this.input.evaluate(e),r=rn.fromString(t);return r&&e.availableImages&&(r.available=e.availableImages.indexOf(t)>-1),r},_i.prototype.eachChild=function(e){e(this.input)},_i.prototype.outputDefined=function(){return!1},_i.prototype.serialize=function(){return["image",this.input.serialize()]};var IA={"to-boolean":Ie,"to-color":ot,"to-number":de,"to-string":Ne},hi=function(e,t){this.type=e,this.args=t};hi.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");var r=e[0];if(("to-boolean"===r||"to-string"===r)&&2!==e.length)return t.error("Expected one argument.");for(var A=IA[r],l=[],u=1;u<e.length;u++){var f=t.parse(e[u],u,ht);if(!f)return null;l.push(f)}return new hi(A,l)},hi.prototype.evaluate=function(e){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(e));if("color"===this.type.kind){for(var t,r,A=0,l=this.args;A<l.length;A+=1){if(r=null,(t=l[A].evaluate(e))instanceof wr)return t;if("string"==typeof t){var u=e.parseColor(t);if(u)return u}else if(Array.isArray(t)&&!(r=t.length<3||t.length>4?"Invalid rbga value "+JSON.stringify(t)+": expected an array containing either three or four numeric values.":wa(t[0],t[1],t[2],t[3])))return new wr(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new Ln(r||"Could not parse color from value '"+("string"==typeof t?t:String(JSON.stringify(t)))+"'")}if("number"===this.type.kind){for(var f=null,b=0,k=this.args;b<k.length;b+=1){if(null===(f=k[b].evaluate(e)))return 0;var U=Number(f);if(!isNaN(U))return U}throw new Ln("Could not convert "+JSON.stringify(f)+" to number.")}return"formatted"===this.type.kind?Sn.fromString(Fn(this.args[0].evaluate(e))):"resolvedImage"===this.type.kind?rn.fromString(Fn(this.args[0].evaluate(e))):Fn(this.args[0].evaluate(e))},hi.prototype.eachChild=function(e){this.args.forEach(e)},hi.prototype.outputDefined=function(){return this.args.every(function(e){return e.outputDefined()})},hi.prototype.serialize=function(){if("formatted"===this.type.kind)return new Ui([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new _i(this.args[0]).serialize();var e=["to-"+this.type.kind];return this.eachChild(function(t){e.push(t.serialize())}),e};var qA=["Unknown","Point","LineString","Polygon"],Ji=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};Ji.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},Ji.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?qA[this.feature.type]:this.feature.type:null},Ji.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},Ji.prototype.canonicalID=function(){return this.canonical},Ji.prototype.properties=function(){return this.feature&&this.feature.properties||{}},Ji.prototype.parseColor=function(e){var t=this._parseColorCache[e];return t||(t=this._parseColorCache[e]=wr.parse(e)),t};var Mn=function(e,t,r,A){this.name=e,this.type=t,this._evaluate=r,this.args=A};Mn.prototype.evaluate=function(e){return this._evaluate(e,this.args)},Mn.prototype.eachChild=function(e){this.args.forEach(e)},Mn.prototype.outputDefined=function(){return!1},Mn.prototype.serialize=function(){return[this.name].concat(this.args.map(function(e){return e.serialize()}))},Mn.parse=function(e,t){var r,A=e[0],l=Mn.definitions[A];if(!l)return t.error('Unknown expression "'+A+'". If you wanted a literal array, use ["literal", [...]].',0);for(var u=Array.isArray(l)?l[0]:l.type,f=Array.isArray(l)?[[l[1],l[2]]]:l.overloads,b=f.filter(function(er){var St=er[0];return!Array.isArray(St)||St.length===e.length-1}),k=null,U=0,j=b;U<j.length;U+=1){var K=j[U],q=K[0],W=K[1];k=new ho(t.registry,t.path,null,t.scope);for(var Ae=[],ce=!1,xe=1;xe<e.length;xe++){var ge=e[xe],Pe=Array.isArray(q)?q[xe-1]:q.type,Ge=k.parse(ge,1+Ae.length,Pe);if(!Ge){ce=!0;break}Ae.push(Ge)}if(!ce)if(Array.isArray(q)&&q.length!==Ae.length)k.error("Expected "+q.length+" arguments, but found "+Ae.length+" instead.");else{for(var qe=0;qe<Ae.length;qe++){var $e=Array.isArray(q)?q[qe]:q.type,st=Ae[qe];k.concat(qe+1).checkSubtype($e,st.type)}if(0===k.errors.length)return new Mn(A,u,W,Ae)}}if(1===b.length)(r=t.errors).push.apply(r,k.errors);else{for(var yt=(b.length?b:f).map(function(er){var St;return St=er[0],Array.isArray(St)?"("+St.map(Et).join(", ")+")":"("+Et(St.type)+"...)"}).join(" | "),Ft=[],Vt=1;Vt<e.length;Vt++){var Tt=t.parse(e[Vt],1+Ft.length);if(!Tt)return null;Ft.push(Et(Tt.type))}t.error("Expected arguments of type "+yt+", but found ("+Ft.join(", ")+") instead.")}return null},Mn.register=function(e,t){for(var r in Mn.definitions=t,t)e[r]=Mn};var zi=function(e,t,r){this.type=Gt,this.locale=r,this.caseSensitive=e,this.diacriticSensitive=t};function ni(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[0]),e[3]=Math.max(e[3],t[1])}function ko(e,t){return!(e[0]<=t[0]||e[2]>=t[2]||e[1]<=t[1]||e[3]>=t[3])}function HA(e,t){var r=(180+e[0])/360,A=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e[1]*Math.PI/360)))/360,l=Math.pow(2,t.z);return[Math.round(r*l*8192),Math.round(A*l*8192)]}function ZA(e,t,r){return t[1]>e[1]!=r[1]>e[1]&&e[0]<(r[0]-t[0])*(e[1]-t[1])/(r[1]-t[1])+t[0]}function Xa(e,t){for(var r,A,l,u,f,b,k,U=!1,j=0,K=t.length;j<K;j++)for(var q=t[j],W=0,Ae=q.length;W<Ae-1;W++){if((u=(r=e)[0]-(A=q[W])[0])*(k=r[1]-(l=q[W+1])[1])-(b=r[0]-l[0])*(f=r[1]-A[1])==0&&u*b<=0&&f*k<=0)return!1;ZA(e,q[W],q[W+1])&&(U=!U)}return U}function WA(e,t){for(var r=0;r<t.length;r++)if(Xa(e,t[r]))return!0;return!1}function QA(e,t,r,A){var l=A[0]-r[0],u=A[1]-r[1],f=(e[0]-r[0])*u-l*(e[1]-r[1]),b=(t[0]-r[0])*u-l*(t[1]-r[1]);return f>0&&b<0||f<0&&b>0}function JA(e,t,r){for(var A=0,l=r;A<l.length;A+=1)for(var u=l[A],f=0;f<u.length-1;++f)if((K=[(j=u[f+1])[0]-(U=u[f])[0],j[1]-U[1]])[0]*(q=[(k=t)[0]-(b=e)[0],k[1]-b[1]])[1]-K[1]*q[0]!=0&&QA(b,k,U,j)&&QA(U,j,b,k))return!0;var b,k,U,j,K,q;return!1}function FA(e,t){for(var r=0;r<e.length;++r)if(!Xa(e[r],t))return!1;for(var A=0;A<e.length-1;++A)if(JA(e[A],e[A+1],t))return!1;return!0}function kA(e,t){for(var r=0;r<t.length;r++)if(FA(e,t[r]))return!0;return!1}function Ro(e,t,r){for(var A=[],l=0;l<e.length;l++){for(var u=[],f=0;f<e[l].length;f++){var b=HA(e[l][f],r);ni(t,b),u.push(b)}A.push(u)}return A}function Va(e,t,r){for(var A=[],l=0;l<e.length;l++){var u=Ro(e[l],t,r);A.push(u)}return A}function ia(e,t,r,A){if(e[0]<r[0]||e[0]>r[2]){var l=.5*A,u=e[0]-r[0]>l?-A:r[0]-e[0]>l?A:0;0===u&&(u=e[0]-r[2]>l?-A:r[2]-e[0]>l?A:0),e[0]+=u}ni(t,e)}function PA(e,t,r,A){for(var l=8192*Math.pow(2,A.z),u=[8192*A.x,8192*A.y],f=[],b=0,k=e;b<k.length;b+=1)for(var U=0,j=k[b];U<j.length;U+=1){var K=j[U],q=[K.x+u[0],K.y+u[1]];ia(q,t,r,l),f.push(q)}return f}function xa(e,t,r,A){for(var l,u=8192*Math.pow(2,A.z),f=[8192*A.x,8192*A.y],b=[],k=0,U=e;k<U.length;k+=1){for(var j=[],K=0,q=U[k];K<q.length;K+=1){var W=q[K],Ae=[W.x+f[0],W.y+f[1]];ni(t,Ae),j.push(Ae)}b.push(j)}if(t[2]-t[0]<=u/2){(l=t)[0]=l[1]=1/0,l[2]=l[3]=-1/0;for(var ce=0,xe=b;ce<xe.length;ce+=1)for(var ge=0,Pe=xe[ce];ge<Pe.length;ge+=1)ia(Pe[ge],t,r,u)}return b}zi.parse=function(e,t){if(2!==e.length)return t.error("Expected one argument.");var r=e[1];if("object"!=typeof r||Array.isArray(r))return t.error("Collator options argument must be an object.");var A=t.parse(void 0!==r["case-sensitive"]&&r["case-sensitive"],1,Ie);if(!A)return null;var l=t.parse(void 0!==r["diacritic-sensitive"]&&r["diacritic-sensitive"],1,Ie);if(!l)return null;var u=null;return r.locale&&!(u=t.parse(r.locale,1,Ne))?null:new zi(A,l,u)},zi.prototype.evaluate=function(e){return new Kr(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)},zi.prototype.eachChild=function(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)},zi.prototype.outputDefined=function(){return!1},zi.prototype.serialize=function(){var e={};return e["case-sensitive"]=this.caseSensitive.serialize(),e["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),["collator",e]};var Ii=function(e,t){this.type=Ie,this.geojson=e,this.geometries=t};function lo(e){if(e instanceof Mn&&("get"===e.name&&1===e.args.length||"feature-state"===e.name||"has"===e.name&&1===e.args.length||"properties"===e.name||"geometry-type"===e.name||"id"===e.name||/^filter-/.test(e.name))||e instanceof Ii)return!1;var t=!0;return e.eachChild(function(r){t&&!lo(r)&&(t=!1)}),t}function uo(e){if(e instanceof Mn&&"feature-state"===e.name)return!1;var t=!0;return e.eachChild(function(r){t&&!uo(r)&&(t=!1)}),t}function Po(e,t){if(e instanceof Mn&&t.indexOf(e.name)>=0)return!1;var r=!0;return e.eachChild(function(A){r&&!Po(A,t)&&(r=!1)}),r}Ii.parse=function(e,t){if(2!==e.length)return t.error("'within' expression requires exactly one argument, but found "+(e.length-1)+" instead.");if(Wi(e[1])){var r=e[1];if("FeatureCollection"===r.type)for(var A=0;A<r.features.length;++A){var l=r.features[A].geometry.type;if("Polygon"===l||"MultiPolygon"===l)return new Ii(r,r.features[A].geometry)}else if("Feature"===r.type){var u=r.geometry.type;if("Polygon"===u||"MultiPolygon"===u)return new Ii(r,r.geometry)}else if("Polygon"===r.type||"MultiPolygon"===r.type)return new Ii(r,r)}return t.error("'within' expression requires valid geojson object that contains polygon geometry type.")},Ii.prototype.evaluate=function(e){if(null!=e.geometry()&&null!=e.canonicalID()){if("Point"===e.geometryType())return function(t,r){var A=[1/0,1/0,-1/0,-1/0],l=[1/0,1/0,-1/0,-1/0],u=t.canonicalID();if("Polygon"===r.type){var f=Ro(r.coordinates,l,u),b=PA(t.geometry(),A,l,u);if(!ko(A,l))return!1;for(var k=0,U=b;k<U.length;k+=1)if(!Xa(U[k],f))return!1}if("MultiPolygon"===r.type){var j=Va(r.coordinates,l,u),K=PA(t.geometry(),A,l,u);if(!ko(A,l))return!1;for(var q=0,W=K;q<W.length;q+=1)if(!WA(W[q],j))return!1}return!0}(e,this.geometries);if("LineString"===e.geometryType())return function(t,r){var A=[1/0,1/0,-1/0,-1/0],l=[1/0,1/0,-1/0,-1/0],u=t.canonicalID();if("Polygon"===r.type){var f=Ro(r.coordinates,l,u),b=xa(t.geometry(),A,l,u);if(!ko(A,l))return!1;for(var k=0,U=b;k<U.length;k+=1)if(!FA(U[k],f))return!1}if("MultiPolygon"===r.type){var j=Va(r.coordinates,l,u),K=xa(t.geometry(),A,l,u);if(!ko(A,l))return!1;for(var q=0,W=K;q<W.length;q+=1)if(!kA(W[q],j))return!1}return!0}(e,this.geometries)}return!1},Ii.prototype.eachChild=function(){},Ii.prototype.outputDefined=function(){return!0},Ii.prototype.serialize=function(){return["within",this.geojson]};var po=function(e,t){this.type=t.type,this.name=e,this.boundExpression=t};po.parse=function(e,t){if(2!==e.length||"string"!=typeof e[1])return t.error("'var' expression requires exactly one string literal argument.");var r=e[1];return t.scope.has(r)?new po(r,t.scope.get(r)):t.error('Unknown variable "'+r+'". Make sure "'+r+'" has been bound in an enclosing "let" expression before using it.',1)},po.prototype.evaluate=function(e){return this.boundExpression.evaluate(e)},po.prototype.eachChild=function(){},po.prototype.outputDefined=function(){return!1},po.prototype.serialize=function(){return["var",this.name]};var ho=function(e,t,r,A,l){void 0===t&&(t=[]),void 0===A&&(A=new Ut),void 0===l&&(l=[]),this.registry=e,this.path=t,this.key=t.map(function(u){return"["+u+"]"}).join(""),this.scope=A,this.errors=l,this.expectedType=r};function Ba(e,t){for(var r,A=e.length-1,l=0,u=A,f=0;l<=u;)if((r=e[f=Math.floor((l+u)/2)])<=t){if(f===A||t<e[f+1])return f;l=f+1}else{if(!(r>t))throw new Ln("Input is not a number.");u=f-1}return 0}ho.prototype.parse=function(e,t,r,A,l){return void 0===l&&(l={}),t?this.concat(t,r,A)._parse(e,l):this._parse(e,l)},ho.prototype._parse=function(e,t){function r(U,j,K){return"assert"===K?new nn(j,[U]):"coerce"===K?new hi(j,[U]):U}if(null!==e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e||(e=["literal",e]),Array.isArray(e)){if(0===e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var A=e[0];if("string"!=typeof A)return this.error("Expression name must be a string, but found "+typeof A+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var l=this.registry[A];if(l){var u=l.parse(e,this);if(!u)return null;if(this.expectedType){var f=this.expectedType,b=u.type;if("string"!==f.kind&&"number"!==f.kind&&"boolean"!==f.kind&&"object"!==f.kind&&"array"!==f.kind||"value"!==b.kind)if("color"!==f.kind&&"formatted"!==f.kind&&"resolvedImage"!==f.kind||"value"!==b.kind&&"string"!==b.kind){if(this.checkSubtype(f,b))return null}else u=r(u,f,t.typeAnnotation||"coerce");else u=r(u,f,t.typeAnnotation||"assert")}if(!(u instanceof ri)&&"resolvedImage"!==u.type.kind&&function U(j){if(j instanceof po)return U(j.boundExpression);if(j instanceof Mn&&"error"===j.name||j instanceof zi||j instanceof Ii)return!1;var K=j instanceof hi||j instanceof nn,q=!0;return j.eachChild(function(W){q=K?q&&U(W):q&&W instanceof ri}),!!q&&lo(j)&&Po(j,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}(u)){var k=new Ji;try{u=new ri(u.type,u.evaluate(k))}catch(U){return this.error(U.message),null}}return u}return this.error('Unknown expression "'+A+'". If you wanted a literal array, use ["literal", [...]].',0)}return this.error(void 0===e?"'undefined' value invalid. Use null instead.":"object"==typeof e?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found "+typeof e+" instead.")},ho.prototype.concat=function(e,t,r){var A="number"==typeof e?this.path.concat(e):this.path,l=r?this.scope.concat(r):this.scope;return new ho(this.registry,A,t||null,l,this.errors)},ho.prototype.error=function(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];var A=""+this.key+t.map(function(l){return"["+l+"]"}).join("");this.errors.push(new pt(A,e))},ho.prototype.checkSubtype=function(e,t){var r=Dr(e,t);return r&&this.error(r),r};var fi=function(e,t,r){this.type=e,this.input=t,this.labels=[],this.outputs=[];for(var A=0,l=r;A<l.length;A+=1){var u=l[A],f=u[1];this.labels.push(u[0]),this.outputs.push(f)}};function Cn(e,t,r){return e*(1-r)+t*r}fi.parse=function(e,t){if(e.length-1<4)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");var r=t.parse(e[1],1,de);if(!r)return null;var A=[],l=null;t.expectedType&&"value"!==t.expectedType.kind&&(l=t.expectedType);for(var u=1;u<e.length;u+=2){var f=1===u?-1/0:e[u],b=e[u+1],k=u,U=u+1;if("number"!=typeof f)return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',k);if(A.length&&A[A.length-1][0]>=f)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',k);var j=t.parse(b,U,l);if(!j)return null;l=l||j.type,A.push([f,j])}return new fi(l,r,A)},fi.prototype.evaluate=function(e){var t=this.labels,r=this.outputs;if(1===t.length)return r[0].evaluate(e);var A=this.input.evaluate(e);if(A<=t[0])return r[0].evaluate(e);var l=t.length;return A>=t[l-1]?r[l-1].evaluate(e):r[Ba(t,A)].evaluate(e)},fi.prototype.eachChild=function(e){e(this.input);for(var t=0,r=this.outputs;t<r.length;t+=1)e(r[t])},fi.prototype.outputDefined=function(){return this.outputs.every(function(e){return e.outputDefined()})},fi.prototype.serialize=function(){for(var e=["step",this.input.serialize()],t=0;t<this.labels.length;t++)t>0&&e.push(this.labels[t]),e.push(this.outputs[t].serialize());return e};var zo=Object.freeze({__proto__:null,number:Cn,color:function(e,t,r){return new wr(Cn(e.r,t.r,r),Cn(e.g,t.g,r),Cn(e.b,t.b,r),Cn(e.a,t.a,r))},array:function(e,t,r){return e.map(function(A,l){return Cn(A,t[l],r)})}}),SA=6/29*3*(6/29),Ya=Math.PI/180,In=180/Math.PI;function oa(e){return e>.008856451679035631?Math.pow(e,.3333333333333333):e/SA+.13793103448275862}function qa(e){return e>.20689655172413793?e*e*e:SA*(e-.13793103448275862)}function Ha(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,.4166666666666667)-.055)}function Za(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Wa(e){var t=Za(e.r),r=Za(e.g),A=Za(e.b),l=oa((.4124564*t+.3575761*r+.1804375*A)/.95047),u=oa((.2126729*t+.7151522*r+.072175*A)/1);return{l:116*u-16,a:500*(l-u),b:200*(u-oa((.0193339*t+.119192*r+.9503041*A)/1.08883)),alpha:e.a}}function Ja(e){var t=(e.l+16)/116,r=isNaN(e.a)?t:t+e.a/500,A=isNaN(e.b)?t:t-e.b/200;return t=1*qa(t),r=.95047*qa(r),A=1.08883*qa(A),new wr(Ha(3.2404542*r-1.5371385*t-.4985314*A),Ha(-.969266*r+1.8760108*t+.041556*A),Ha(.0556434*r-.2040259*t+1.0572252*A),e.alpha)}function $A(e,t,r){var A=t-e;return e+r*(A>180||A<-180?A-360*Math.round(A/360):A)}var Go={forward:Wa,reverse:Ja,interpolate:function(e,t,r){return{l:Cn(e.l,t.l,r),a:Cn(e.a,t.a,r),b:Cn(e.b,t.b,r),alpha:Cn(e.alpha,t.alpha,r)}}},aa={forward:function(e){var t=Wa(e),r=t.l,A=t.a,l=t.b,u=Math.atan2(l,A)*In;return{h:u<0?u+360:u,c:Math.sqrt(A*A+l*l),l:r,alpha:e.a}},reverse:function(e){var t=e.h*Ya,r=e.c;return Ja({l:e.l,a:Math.cos(t)*r,b:Math.sin(t)*r,alpha:e.alpha})},interpolate:function(e,t,r){return{h:$A(e.h,t.h,r),c:Cn(e.c,t.c,r),l:Cn(e.l,t.l,r),alpha:Cn(e.alpha,t.alpha,r)}}},$a=Object.freeze({__proto__:null,lab:Go,hcl:aa}),Dn=function(e,t,r,A,l){this.type=e,this.operator=t,this.interpolation=r,this.input=A,this.labels=[],this.outputs=[];for(var u=0,f=l;u<f.length;u+=1){var b=f[u],k=b[1];this.labels.push(b[0]),this.outputs.push(k)}};function Aa(e,t,r,A){var l=A-r,u=e-r;return 0===l?0:1===t?u/l:(Math.pow(t,u)-1)/(Math.pow(t,l)-1)}Dn.interpolationFactor=function(e,t,r,A){var l=0;if("exponential"===e.name)l=Aa(t,e.base,r,A);else if("linear"===e.name)l=Aa(t,1,r,A);else if("cubic-bezier"===e.name){var u=e.controlPoints;l=new g(u[0],u[1],u[2],u[3]).solve(Aa(t,1,r,A))}return l},Dn.parse=function(e,t){var r=e[0],A=e[1],l=e[2],u=e.slice(3);if(!Array.isArray(A)||0===A.length)return t.error("Expected an interpolation type expression.",1);if("linear"===A[0])A={name:"linear"};else if("exponential"===A[0]){var f=A[1];if("number"!=typeof f)return t.error("Exponential interpolation requires a numeric base.",1,1);A={name:"exponential",base:f}}else{if("cubic-bezier"!==A[0])return t.error("Unknown interpolation type "+String(A[0]),1,0);var b=A.slice(1);if(4!==b.length||b.some(function(xe){return"number"!=typeof xe||xe<0||xe>1}))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);A={name:"cubic-bezier",controlPoints:b}}if(e.length-1<4)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");if(!(l=t.parse(l,2,de)))return null;var k=[],U=null;"interpolate-hcl"===r||"interpolate-lab"===r?U=ot:t.expectedType&&"value"!==t.expectedType.kind&&(U=t.expectedType);for(var j=0;j<u.length;j+=2){var K=u[j],q=u[j+1],W=j+3,Ae=j+4;if("number"!=typeof K)return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',W);if(k.length&&k[k.length-1][0]>=K)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',W);var ce=t.parse(q,Ae,U);if(!ce)return null;U=U||ce.type,k.push([K,ce])}return"number"===U.kind||"color"===U.kind||"array"===U.kind&&"number"===U.itemType.kind&&"number"==typeof U.N?new Dn(U,r,A,l,k):t.error("Type "+Et(U)+" is not interpolatable.")},Dn.prototype.evaluate=function(e){var t=this.labels,r=this.outputs;if(1===t.length)return r[0].evaluate(e);var A=this.input.evaluate(e);if(A<=t[0])return r[0].evaluate(e);var l=t.length;if(A>=t[l-1])return r[l-1].evaluate(e);var u=Ba(t,A),f=Dn.interpolationFactor(this.interpolation,A,t[u],t[u+1]),b=r[u].evaluate(e),k=r[u+1].evaluate(e);return"interpolate"===this.operator?zo[this.type.kind.toLowerCase()](b,k,f):"interpolate-hcl"===this.operator?aa.reverse(aa.interpolate(aa.forward(b),aa.forward(k),f)):Go.reverse(Go.interpolate(Go.forward(b),Go.forward(k),f))},Dn.prototype.eachChild=function(e){e(this.input);for(var t=0,r=this.outputs;t<r.length;t+=1)e(r[t])},Dn.prototype.outputDefined=function(){return this.outputs.every(function(e){return e.outputDefined()})},Dn.prototype.serialize=function(){var e;e="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var t=[this.operator,e,this.input.serialize()],r=0;r<this.labels.length;r++)t.push(this.labels[r],this.outputs[r].serialize());return t};var $i=function(e,t){this.type=e,this.args=t};$i.parse=function(e,t){if(e.length<2)return t.error("Expectected at least one argument.");var r=null,A=t.expectedType;A&&"value"!==A.kind&&(r=A);for(var l=[],u=0,f=e.slice(1);u<f.length;u+=1){var b=t.parse(f[u],1+l.length,r,void 0,{typeAnnotation:"omit"});if(!b)return null;r=r||b.type,l.push(b)}var k=A&&l.some(function(U){return Dr(A,U.type)});return new $i(k?ht:r,l)},$i.prototype.evaluate=function(e){for(var t,r=null,A=0,l=0,u=this.args;l<u.length&&(A++,(r=u[l].evaluate(e))&&r instanceof rn&&!r.available&&(t||(t=r.name),r=null,A===this.args.length&&(r=t)),null===r);l+=1);return r},$i.prototype.eachChild=function(e){this.args.forEach(e)},$i.prototype.outputDefined=function(){return this.args.every(function(e){return e.outputDefined()})},$i.prototype.serialize=function(){var e=["coalesce"];return this.eachChild(function(t){e.push(t.serialize())}),e};var eo=function(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t};eo.prototype.evaluate=function(e){return this.result.evaluate(e)},eo.prototype.eachChild=function(e){for(var t=0,r=this.bindings;t<r.length;t+=1)e(r[t][1]);e(this.result)},eo.parse=function(e,t){if(e.length<4)return t.error("Expected at least 3 arguments, but found "+(e.length-1)+" instead.");for(var r=[],A=1;A<e.length-1;A+=2){var l=e[A];if("string"!=typeof l)return t.error("Expected string, but found "+typeof l+" instead.",A);if(/[^a-zA-Z0-9_]/.test(l))return t.error("Variable names must contain only alphanumeric characters or '_'.",A);var u=t.parse(e[A+1],A+1);if(!u)return null;r.push([l,u])}var f=t.parse(e[e.length-1],e.length-1,t.expectedType,r);return f?new eo(r,f):null},eo.prototype.outputDefined=function(){return this.result.outputDefined()},eo.prototype.serialize=function(){for(var e=["let"],t=0,r=this.bindings;t<r.length;t+=1){var A=r[t];e.push(A[0],A[1].serialize())}return e.push(this.result.serialize()),e};var fo=function(e,t,r){this.type=e,this.index=t,this.input=r};fo.parse=function(e,t){if(3!==e.length)return t.error("Expected 2 arguments, but found "+(e.length-1)+" instead.");var r=t.parse(e[1],1,de),A=t.parse(e[2],2,Xt(t.expectedType||ht));return r&&A?new fo(A.type.itemType,r,A):null},fo.prototype.evaluate=function(e){var t=this.index.evaluate(e),r=this.input.evaluate(e);if(t<0)throw new Ln("Array index out of bounds: "+t+" < 0.");if(t>=r.length)throw new Ln("Array index out of bounds: "+t+" > "+(r.length-1)+".");if(t!==Math.floor(t))throw new Ln("Array index must be an integer, but found "+t+" instead.");return r[t]},fo.prototype.eachChild=function(e){e(this.index),e(this.input)},fo.prototype.outputDefined=function(){return!1},fo.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var Gi=function(e,t){this.type=Ie,this.needle=e,this.haystack=t};Gi.parse=function(e,t){if(3!==e.length)return t.error("Expected 2 arguments, but found "+(e.length-1)+" instead.");var r=t.parse(e[1],1,ht),A=t.parse(e[2],2,ht);return r&&A?An(r.type,[Ie,Ne,de,ne,ht])?new Gi(r,A):t.error("Expected first argument to be of type boolean, string, number or null, but found "+Et(r.type)+" instead"):null},Gi.prototype.evaluate=function(e){var t=this.needle.evaluate(e),r=this.haystack.evaluate(e);if(!r)return!1;if(!Sr(t,["boolean","string","number","null"]))throw new Ln("Expected first argument to be of type boolean, string, number or null, but found "+Et(mr(t))+" instead.");if(!Sr(r,["string","array"]))throw new Ln("Expected second argument to be of type array or string, but found "+Et(mr(r))+" instead.");return r.indexOf(t)>=0},Gi.prototype.eachChild=function(e){e(this.needle),e(this.haystack)},Gi.prototype.outputDefined=function(){return!0},Gi.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var ln=function(e,t,r){this.type=de,this.needle=e,this.haystack=t,this.fromIndex=r};ln.parse=function(e,t){if(e.length<=2||e.length>=5)return t.error("Expected 3 or 4 arguments, but found "+(e.length-1)+" instead.");var r=t.parse(e[1],1,ht),A=t.parse(e[2],2,ht);if(!r||!A)return null;if(!An(r.type,[Ie,Ne,de,ne,ht]))return t.error("Expected first argument to be of type boolean, string, number or null, but found "+Et(r.type)+" instead");if(4===e.length){var l=t.parse(e[3],3,de);return l?new ln(r,A,l):null}return new ln(r,A)},ln.prototype.evaluate=function(e){var t=this.needle.evaluate(e),r=this.haystack.evaluate(e);if(!Sr(t,["boolean","string","number","null"]))throw new Ln("Expected first argument to be of type boolean, string, number or null, but found "+Et(mr(t))+" instead.");if(!Sr(r,["string","array"]))throw new Ln("Expected second argument to be of type array or string, but found "+Et(mr(r))+" instead.");if(this.fromIndex){var A=this.fromIndex.evaluate(e);return r.indexOf(t,A)}return r.indexOf(t)},ln.prototype.eachChild=function(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)},ln.prototype.outputDefined=function(){return!1},ln.prototype.serialize=function(){if(null!=this.fromIndex&&void 0!==this.fromIndex){var e=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),e]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var So=function(e,t,r,A,l,u){this.inputType=e,this.type=t,this.input=r,this.cases=A,this.outputs=l,this.otherwise=u};So.parse=function(e,t){if(e.length<5)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if(e.length%2!=1)return t.error("Expected an even number of arguments.");var r,A;t.expectedType&&"value"!==t.expectedType.kind&&(A=t.expectedType);for(var l={},u=[],f=2;f<e.length-1;f+=2){var b=e[f],k=e[f+1];Array.isArray(b)||(b=[b]);var U=t.concat(f);if(0===b.length)return U.error("Expected at least one branch label.");for(var j=0,K=b;j<K.length;j+=1){var q=K[j];if("number"!=typeof q&&"string"!=typeof q)return U.error("Branch labels must be numbers or strings.");if("number"==typeof q&&Math.abs(q)>Number.MAX_SAFE_INTEGER)return U.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof q&&Math.floor(q)!==q)return U.error("Numeric branch labels must be integer values.");if(r){if(U.checkSubtype(r,mr(q)))return null}else r=mr(q);if(void 0!==l[String(q)])return U.error("Branch labels must be unique.");l[String(q)]=u.length}var W=t.parse(k,f,A);if(!W)return null;A=A||W.type,u.push(W)}var Ae=t.parse(e[1],1,ht);if(!Ae)return null;var ce=t.parse(e[e.length-1],e.length-1,A);return ce?"value"!==Ae.type.kind&&t.concat(1).checkSubtype(r,Ae.type)?null:new So(r,A,Ae,l,u,ce):null},So.prototype.evaluate=function(e){var t=this.input.evaluate(e);return(mr(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)},So.prototype.eachChild=function(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)},So.prototype.outputDefined=function(){return this.outputs.every(function(e){return e.outputDefined()})&&this.otherwise.outputDefined()},So.prototype.serialize=function(){for(var e=this,t=["match",this.input.serialize()],r=[],A={},l=0,u=Object.keys(this.cases).sort();l<u.length;l+=1){var f=u[l];void 0===(K=A[this.cases[f]])?(A[this.cases[f]]=r.length,r.push([this.cases[f],[f]])):r[K][1].push(f)}for(var b=function(W){return"number"===e.inputType.kind?Number(W):W},k=0,U=r;k<U.length;k+=1){var j=U[k],K=j[0],q=j[1];t.push(1===q.length?b(q[0]):q.map(b)),t.push(this.outputs[outputIndex$1].serialize())}return t.push(this.otherwise.serialize()),t};var go=function(e,t,r){this.type=e,this.branches=t,this.otherwise=r};go.parse=function(e,t){if(e.length<4)return t.error("Expected at least 3 arguments, but found only "+(e.length-1)+".");if(e.length%2!=0)return t.error("Expected an odd number of arguments.");var r;t.expectedType&&"value"!==t.expectedType.kind&&(r=t.expectedType);for(var A=[],l=1;l<e.length-1;l+=2){var u=t.parse(e[l],l,Ie);if(!u)return null;var f=t.parse(e[l+1],l+1,r);if(!f)return null;A.push([u,f]),r=r||f.type}var b=t.parse(e[e.length-1],e.length-1,r);return b?new go(r,A,b):null},go.prototype.evaluate=function(e){for(var t=0,r=this.branches;t<r.length;t+=1){var A=r[t],l=A[1];if(A[0].evaluate(e))return l.evaluate(e)}return this.otherwise.evaluate(e)},go.prototype.eachChild=function(e){for(var t=0,r=this.branches;t<r.length;t+=1){var A=r[t],l=A[1];e(A[0]),e(l)}e(this.otherwise)},go.prototype.outputDefined=function(){return this.branches.every(function(e){return e[1].outputDefined()})&&this.otherwise.outputDefined()},go.prototype.serialize=function(){var e=["case"];return this.eachChild(function(t){e.push(t.serialize())}),e};var Ki=function(e,t,r,A){this.type=e,this.input=t,this.beginIndex=r,this.endIndex=A};function eA(e,t){return"=="===e||"!="===e?"boolean"===t.kind||"string"===t.kind||"number"===t.kind||"null"===t.kind||"value"===t.kind:"string"===t.kind||"number"===t.kind||"value"===t.kind}function tA(e,t,r,A){return 0===A.compare(t,r)}function Hr(e,t,r){var A="=="!==e&&"!="!==e;return function(){function l(u,f,b){this.type=Ie,this.lhs=u,this.rhs=f,this.collator=b,this.hasUntypedArgument="value"===u.type.kind||"value"===f.type.kind}return l.parse=function(u,f){if(3!==u.length&&4!==u.length)return f.error("Expected two or three arguments.");var b=u[0],k=f.parse(u[1],1,ht);if(!k)return null;if(!eA(b,k.type))return f.concat(1).error('"'+b+"\" comparisons are not supported for type '"+Et(k.type)+"'.");var U=f.parse(u[2],2,ht);if(!U)return null;if(!eA(b,U.type))return f.concat(2).error('"'+b+"\" comparisons are not supported for type '"+Et(U.type)+"'.");if(k.type.kind!==U.type.kind&&"value"!==k.type.kind&&"value"!==U.type.kind)return f.error("Cannot compare types '"+Et(k.type)+"' and '"+Et(U.type)+"'.");A&&("value"===k.type.kind&&"value"!==U.type.kind?k=new nn(U.type,[k]):"value"!==k.type.kind&&"value"===U.type.kind&&(U=new nn(k.type,[U])));var j=null;if(4===u.length){if("string"!==k.type.kind&&"string"!==U.type.kind&&"value"!==k.type.kind&&"value"!==U.type.kind)return f.error("Cannot use collator to compare non-string types.");if(!(j=f.parse(u[3],3,Gt)))return null}return new l(k,U,j)},l.prototype.evaluate=function(u){var f=this.lhs.evaluate(u),b=this.rhs.evaluate(u);if(A&&this.hasUntypedArgument){var k=mr(f),U=mr(b);if(k.kind!==U.kind||"string"!==k.kind&&"number"!==k.kind)throw new Ln('Expected arguments for "'+e+'" to be (string, string) or (number, number), but found ('+k.kind+", "+U.kind+") instead.")}if(this.collator&&!A&&this.hasUntypedArgument){var j=mr(f),K=mr(b);if("string"!==j.kind||"string"!==K.kind)return t(u,f,b)}return this.collator?r(u,f,b,this.collator.evaluate(u)):t(u,f,b)},l.prototype.eachChild=function(u){u(this.lhs),u(this.rhs),this.collator&&u(this.collator)},l.prototype.outputDefined=function(){return!0},l.prototype.serialize=function(){var u=[e];return this.eachChild(function(f){u.push(f.serialize())}),u},l}()}Ki.parse=function(e,t){if(e.length<=2||e.length>=5)return t.error("Expected 3 or 4 arguments, but found "+(e.length-1)+" instead.");var r=t.parse(e[1],1,ht),A=t.parse(e[2],2,de);if(!r||!A)return null;if(!An(r.type,[Xt(ht),Ne,ht]))return t.error("Expected first argument to be of type array or string, but found "+Et(r.type)+" instead");if(4===e.length){var l=t.parse(e[3],3,de);return l?new Ki(r.type,r,A,l):null}return new Ki(r.type,r,A)},Ki.prototype.evaluate=function(e){var t=this.input.evaluate(e),r=this.beginIndex.evaluate(e);if(!Sr(t,["string","array"]))throw new Ln("Expected first argument to be of type array or string, but found "+Et(mr(t))+" instead.");if(this.endIndex){var A=this.endIndex.evaluate(e);return t.slice(r,A)}return t.slice(r)},Ki.prototype.eachChild=function(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)},Ki.prototype.outputDefined=function(){return!1},Ki.prototype.serialize=function(){if(null!=this.endIndex&&void 0!==this.endIndex){var e=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),e]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var Ea=Hr("==",function(e,t,r){return t===r},tA),to=Hr("!=",function(e,t,r){return t!==r},function(e,t,r,A){return!tA(0,t,r,A)}),DA=Hr("<",function(e,t,r){return t<r},function(e,t,r,A){return A.compare(t,r)<0}),rA=Hr(">",function(e,t,r){return t>r},function(e,t,r,A){return A.compare(t,r)>0}),Ca=Hr("<=",function(e,t,r){return t<=r},function(e,t,r,A){return A.compare(t,r)<=0}),nA=Hr(">=",function(e,t,r){return t>=r},function(e,t,r,A){return A.compare(t,r)>=0}),mo=function(e,t,r,A,l){this.type=Ne,this.number=e,this.locale=t,this.currency=r,this.minFractionDigits=A,this.maxFractionDigits=l};mo.parse=function(e,t){if(3!==e.length)return t.error("Expected two arguments.");var r=t.parse(e[1],1,de);if(!r)return null;var A=e[2];if("object"!=typeof A||Array.isArray(A))return t.error("NumberFormat options argument must be an object.");var l=null;if(A.locale&&!(l=t.parse(A.locale,1,Ne)))return null;var u=null;if(A.currency&&!(u=t.parse(A.currency,1,Ne)))return null;var f=null;if(A["min-fraction-digits"]&&!(f=t.parse(A["min-fraction-digits"],1,de)))return null;var b=null;return A["max-fraction-digits"]&&!(b=t.parse(A["max-fraction-digits"],1,de))?null:new mo(r,l,u,f,b)},mo.prototype.evaluate=function(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))},mo.prototype.eachChild=function(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)},mo.prototype.outputDefined=function(){return!1},mo.prototype.serialize=function(){var e={};return this.locale&&(e.locale=this.locale.serialize()),this.currency&&(e.currency=this.currency.serialize()),this.minFractionDigits&&(e["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),e]};var yo=function(e){this.type=de,this.input=e};yo.parse=function(e,t){if(2!==e.length)return t.error("Expected 1 argument, but found "+(e.length-1)+" instead.");var r=t.parse(e[1],1);return r?"array"!==r.type.kind&&"string"!==r.type.kind&&"value"!==r.type.kind?t.error("Expected argument of type string or array, but found "+Et(r.type)+" instead."):new yo(r):null},yo.prototype.evaluate=function(e){var t=this.input.evaluate(e);if("string"==typeof t||Array.isArray(t))return t.length;throw new Ln("Expected value to be of type string or array, but found "+Et(mr(t))+" instead.")},yo.prototype.eachChild=function(e){e(this.input)},yo.prototype.outputDefined=function(){return!1},yo.prototype.serialize=function(){var e=["length"];return this.eachChild(function(t){e.push(t.serialize())}),e};var vo={"==":Ea,"!=":to,">":rA,"<":DA,">=":nA,"<=":Ca,array:nn,at:fo,boolean:nn,case:go,coalesce:$i,collator:zi,format:Ui,image:_i,in:Gi,"index-of":ln,interpolate:Dn,"interpolate-hcl":Dn,"interpolate-lab":Dn,length:yo,let:eo,literal:ri,match:So,number:nn,"number-format":mo,object:nn,slice:Ki,step:fi,string:nn,"to-boolean":hi,"to-color":hi,"to-number":hi,"to-string":hi,var:po,within:Ii};function Ia(e,t){var r=t[0],A=t[1],l=t[2],u=t[3];r=r.evaluate(e),A=A.evaluate(e),l=l.evaluate(e);var f=u?u.evaluate(e):1,b=wa(r,A,l,f);if(b)throw new Ln(b);return new wr(r/255*f,A/255*f,l/255*f,f)}function iA(e,t){return e in t}function Qa(e,t){var r=t[e];return void 0===r?null:r}function bi(e){return{type:e}}function oA(e){return{result:"success",value:e}}function jn(e){return{result:"error",value:e}}function Do(e){return"data-driven"===e["property-type"]||"cross-faded-data-driven"===e["property-type"]}function aA(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}function To(e){return!!e.expression&&e.expression.interpolated}function on(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":null===e?"null":typeof e}function sa(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function es(e){return e}function Ko(e,t,r){return void 0!==e?e:void 0!==t?t:void 0!==r?r:void 0}function TA(e,t,r,A,l){return Ko(typeof r===l?A[r]:void 0,e.default,t.default)}function ts(e,t,r){if("number"!==on(r))return Ko(e.default,t.default);var A=e.stops.length;if(1===A||r<=e.stops[0][0])return e.stops[0][1];if(r>=e.stops[A-1][0])return e.stops[A-1][1];var l=Ba(e.stops.map(function(u){return u[0]}),r);return e.stops[l][1]}function AA(e,t,r){var A=void 0!==e.base?e.base:1;if("number"!==on(r))return Ko(e.default,t.default);var l=e.stops.length;if(1===l||r<=e.stops[0][0])return e.stops[0][1];if(r>=e.stops[l-1][0])return e.stops[l-1][1];var q,W,ce,xe,u=Ba(e.stops.map(function(K){return K[0]}),r),f=(q=A,xe=r-(W=e.stops[u][0]),0==(ce=e.stops[u+1][0]-W)?0:1===q?xe/ce:(Math.pow(q,xe)-1)/(Math.pow(q,ce)-1)),b=e.stops[u][1],k=e.stops[u+1][1],U=zo[t.type]||es;if(e.colorSpace&&"rgb"!==e.colorSpace){var j=$a[e.colorSpace];U=function(K,q){return j.reverse(j.interpolate(j.forward(K),j.forward(q),f))}}return"function"==typeof b.evaluate?{evaluate:function(){for(var K=[],q=arguments.length;q--;)K[q]=arguments[q];var W=b.evaluate.apply(void 0,K),Ae=k.evaluate.apply(void 0,K);if(void 0!==W&&void 0!==Ae)return U(W,Ae,f)}}:U(b,k,f)}function No(e,t,r){return"color"===t.type?r=wr.parse(r):"formatted"===t.type?r=Sn.fromString(r.toString()):"resolvedImage"===t.type?r=rn.fromString(r.toString()):on(r)===t.type||"enum"===t.type&&t.values[r]||(r=void 0),Ko(r,e.default,t.default)}Mn.register(vo,{error:[{kind:"error"},[Ne],function(e,t){throw new Ln(t[0].evaluate(e))}],typeof:[Ne,[ht],function(e,t){return Et(mr(t[0].evaluate(e)))}],"to-rgba":[Xt(de,4),[ot],function(e,t){return t[0].evaluate(e).toArray()}],rgb:[ot,[de,de,de],Ia],rgba:[ot,[de,de,de,de],Ia],has:{type:Ie,overloads:[[[Ne],function(e,t){return iA(t[0].evaluate(e),e.properties())}],[[Ne,He],function(e,t){var r=t[1];return iA(t[0].evaluate(e),r.evaluate(e))}]]},get:{type:ht,overloads:[[[Ne],function(e,t){return Qa(t[0].evaluate(e),e.properties())}],[[Ne,He],function(e,t){var r=t[1];return Qa(t[0].evaluate(e),r.evaluate(e))}]]},"feature-state":[ht,[Ne],function(e,t){return Qa(t[0].evaluate(e),e.featureState||{})}],properties:[He,[],function(e){return e.properties()}],"geometry-type":[Ne,[],function(e){return e.geometryType()}],id:[ht,[],function(e){return e.id()}],zoom:[de,[],function(e){return e.globals.zoom}],"heatmap-density":[de,[],function(e){return e.globals.heatmapDensity||0}],"line-progress":[de,[],function(e){return e.globals.lineProgress||0}],accumulated:[ht,[],function(e){return void 0===e.globals.accumulated?null:e.globals.accumulated}],"+":[de,bi(de),function(e,t){for(var r=0,A=0,l=t;A<l.length;A+=1)r+=l[A].evaluate(e);return r}],"*":[de,bi(de),function(e,t){for(var r=1,A=0,l=t;A<l.length;A+=1)r*=l[A].evaluate(e);return r}],"-":{type:de,overloads:[[[de,de],function(e,t){var r=t[1];return t[0].evaluate(e)-r.evaluate(e)}],[[de],function(e,t){return-t[0].evaluate(e)}]]},"/":[de,[de,de],function(e,t){var r=t[1];return t[0].evaluate(e)/r.evaluate(e)}],"%":[de,[de,de],function(e,t){var r=t[1];return t[0].evaluate(e)%r.evaluate(e)}],ln2:[de,[],function(){return Math.LN2}],pi:[de,[],function(){return Math.PI}],e:[de,[],function(){return Math.E}],"^":[de,[de,de],function(e,t){var r=t[1];return Math.pow(t[0].evaluate(e),r.evaluate(e))}],sqrt:[de,[de],function(e,t){return Math.sqrt(t[0].evaluate(e))}],log10:[de,[de],function(e,t){return Math.log(t[0].evaluate(e))/Math.LN10}],ln:[de,[de],function(e,t){return Math.log(t[0].evaluate(e))}],log2:[de,[de],function(e,t){return Math.log(t[0].evaluate(e))/Math.LN2}],sin:[de,[de],function(e,t){return Math.sin(t[0].evaluate(e))}],cos:[de,[de],function(e,t){return Math.cos(t[0].evaluate(e))}],tan:[de,[de],function(e,t){return Math.tan(t[0].evaluate(e))}],asin:[de,[de],function(e,t){return Math.asin(t[0].evaluate(e))}],acos:[de,[de],function(e,t){return Math.acos(t[0].evaluate(e))}],atan:[de,[de],function(e,t){return Math.atan(t[0].evaluate(e))}],min:[de,bi(de),function(e,t){return Math.min.apply(Math,t.map(function(r){return r.evaluate(e)}))}],max:[de,bi(de),function(e,t){return Math.max.apply(Math,t.map(function(r){return r.evaluate(e)}))}],abs:[de,[de],function(e,t){return Math.abs(t[0].evaluate(e))}],round:[de,[de],function(e,t){var r=t[0].evaluate(e);return r<0?-Math.round(-r):Math.round(r)}],floor:[de,[de],function(e,t){return Math.floor(t[0].evaluate(e))}],ceil:[de,[de],function(e,t){return Math.ceil(t[0].evaluate(e))}],"filter-==":[Ie,[Ne,ht],function(e,t){var r=t[0],A=t[1];return e.properties()[r.value]===A.value}],"filter-id-==":[Ie,[ht],function(e,t){var r=t[0];return e.id()===r.value}],"filter-type-==":[Ie,[Ne],function(e,t){var r=t[0];return e.geometryType()===r.value}],"filter-<":[Ie,[Ne,ht],function(e,t){var r=t[0],A=t[1],l=e.properties()[r.value],u=A.value;return typeof l==typeof u&&l<u}],"filter-id-<":[Ie,[ht],function(e,t){var r=t[0],A=e.id(),l=r.value;return typeof A==typeof l&&A<l}],"filter->":[Ie,[Ne,ht],function(e,t){var r=t[0],A=t[1],l=e.properties()[r.value],u=A.value;return typeof l==typeof u&&l>u}],"filter-id->":[Ie,[ht],function(e,t){var r=t[0],A=e.id(),l=r.value;return typeof A==typeof l&&A>l}],"filter-<=":[Ie,[Ne,ht],function(e,t){var r=t[0],A=t[1],l=e.properties()[r.value],u=A.value;return typeof l==typeof u&&l<=u}],"filter-id-<=":[Ie,[ht],function(e,t){var r=t[0],A=e.id(),l=r.value;return typeof A==typeof l&&A<=l}],"filter->=":[Ie,[Ne,ht],function(e,t){var r=t[0],A=t[1],l=e.properties()[r.value],u=A.value;return typeof l==typeof u&&l>=u}],"filter-id->=":[Ie,[ht],function(e,t){var r=t[0],A=e.id(),l=r.value;return typeof A==typeof l&&A>=l}],"filter-has":[Ie,[ht],function(e,t){return t[0].value in e.properties()}],"filter-has-id":[Ie,[],function(e){return null!==e.id()&&void 0!==e.id()}],"filter-type-in":[Ie,[Xt(Ne)],function(e,t){return t[0].value.indexOf(e.geometryType())>=0}],"filter-id-in":[Ie,[Xt(ht)],function(e,t){return t[0].value.indexOf(e.id())>=0}],"filter-in-small":[Ie,[Ne,Xt(ht)],function(e,t){var r=t[0];return t[1].value.indexOf(e.properties()[r.value])>=0}],"filter-in-large":[Ie,[Ne,Xt(ht)],function(e,t){var r=t[0],A=t[1];return function(l,u,f,b){for(;f<=b;){var k=f+b>>1;if(u[k]===l)return!0;u[k]>l?b=k-1:f=k+1}return!1}(e.properties()[r.value],A.value,0,A.value.length-1)}],all:{type:Ie,overloads:[[[Ie,Ie],function(e,t){var r=t[1];return t[0].evaluate(e)&&r.evaluate(e)}],[bi(Ie),function(e,t){for(var r=0,A=t;r<A.length;r+=1)if(!A[r].evaluate(e))return!1;return!0}]]},any:{type:Ie,overloads:[[[Ie,Ie],function(e,t){var r=t[1];return t[0].evaluate(e)||r.evaluate(e)}],[bi(Ie),function(e,t){for(var r=0,A=t;r<A.length;r+=1)if(A[r].evaluate(e))return!0;return!1}]]},"!":[Ie,[Ie],function(e,t){return!t[0].evaluate(e)}],"is-supported-script":[Ie,[Ne],function(e,t){var r=e.globals&&e.globals.isSupportedScript;return!r||r(t[0].evaluate(e))}],upcase:[Ne,[Ne],function(e,t){return t[0].evaluate(e).toUpperCase()}],downcase:[Ne,[Ne],function(e,t){return t[0].evaluate(e).toLowerCase()}],concat:[Ne,bi(ht),function(e,t){return t.map(function(r){return Fn(r.evaluate(e))}).join("")}],"resolved-locale":[Ne,[Gt],function(e,t){return t[0].evaluate(e).resolvedLocale()}]});var Ni=function(e,t){var r;this.expression=e,this._warningHistory={},this._evaluator=new Ji,this._defaultValue=t?"color"===(r=t).type&&sa(r.default)?new wr(0,0,0,0):"color"===r.type?wr.parse(r.default)||null:void 0===r.default?null:r.default:null,this._enumValues=t&&"enum"===t.type?t.values:null};function ca(e){return Array.isArray(e)&&e.length>0&&"string"==typeof e[0]&&e[0]in vo}function la(e,t){var l,u,r=new ho(vo,[],t?(u={color:ot,string:Ne,number:de,enum:Ne,boolean:Ie,formatted:Zt,resolvedImage:ut},"array"===(l=t).type?Xt(u[l.value]||ht,l.length):u[l.type]):void 0),A=r.parse(e,void 0,void 0,void 0,t&&"string"===t.type?{typeAnnotation:"coerce"}:void 0);return A?oA(new Ni(A,t)):jn(r.errors)}Ni.prototype.evaluateWithoutErrorHandling=function(e,t,r,A,l,u){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=r,this._evaluator.canonical=A,this._evaluator.availableImages=l||null,this._evaluator.formattedSection=u,this.expression.evaluate(this._evaluator)},Ni.prototype.evaluate=function(e,t,r,A,l,u){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=r||null,this._evaluator.canonical=A,this._evaluator.availableImages=l||null,this._evaluator.formattedSection=u||null;try{var f=this.expression.evaluate(this._evaluator);if(null==f||"number"==typeof f&&f!=f)return this._defaultValue;if(this._enumValues&&!(f in this._enumValues))throw new Ln("Expected value to be one of "+Object.keys(this._enumValues).map(function(b){return JSON.stringify(b)}).join(", ")+", but found "+JSON.stringify(f)+" instead.");return f}catch(b){return this._warningHistory[b.message]||(this._warningHistory[b.message]=!0,typeof console<"u"&&console.warn(b.message)),this._defaultValue}};var ua=function(e,t){this.kind=e,this._styleExpression=t,this.isStateDependent="constant"!==e&&!uo(t.expression)};ua.prototype.evaluateWithoutErrorHandling=function(e,t,r,A,l,u){return this._styleExpression.evaluateWithoutErrorHandling(e,t,r,A,l,u)},ua.prototype.evaluate=function(e,t,r,A,l,u){return this._styleExpression.evaluate(e,t,r,A,l,u)};var Xo=function(e,t,r,A){this.kind=e,this.zoomStops=r,this._styleExpression=t,this.isStateDependent="camera"!==e&&!uo(t.expression),this.interpolationType=A};function Uo(e,t){if("error"===(e=la(e,t)).result)return e;var r=e.value.expression,A=lo(r);if(!A&&!Do(t))return jn([new pt("","data expressions not supported")]);var l=Po(r,["zoom"]);if(!l&&!aA(t))return jn([new pt("","zoom expressions not supported")]);var u=function f(b){var k=null;if(b instanceof eo)k=f(b.result);else if(b instanceof $i)for(var U=0,j=b.args;U<j.length&&!(k=f(j[U]));U+=1);else(b instanceof fi||b instanceof Dn)&&b.input instanceof Mn&&"zoom"===b.input.name&&(k=b);return k instanceof pt||b.eachChild(function(K){var q=f(K);q instanceof pt?k=q:!k&&q?k=new pt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):k&&q&&k!==q&&(k=new pt("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),k}(r);return u||l?u instanceof pt?jn([u]):u instanceof Dn&&!To(t)?jn([new pt("",'"interpolate" expressions cannot be used with this property')]):oA(u?new Xo(A?"camera":"composite",e.value,u.labels,u instanceof Dn?u.interpolation:void 0):new ua(A?"constant":"source",e.value)):jn([new pt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}Xo.prototype.evaluateWithoutErrorHandling=function(e,t,r,A,l,u){return this._styleExpression.evaluateWithoutErrorHandling(e,t,r,A,l,u)},Xo.prototype.evaluate=function(e,t,r,A,l,u){return this._styleExpression.evaluate(e,t,r,A,l,u)},Xo.prototype.interpolationFactor=function(e,t,r){return this.interpolationType?Dn.interpolationFactor(this.interpolationType,e,t,r):0};var Wn=function(e,t){this._parameters=e,this._specification=t,lt(this,function r(A,l){var u,f,b,k="color"===l.type,U=A.stops&&"object"==typeof A.stops[0][0],j=U||!(U||void 0!==A.property),K=A.type||(To(l)?"exponential":"interval");if(k&&((A=lt({},A)).stops&&(A.stops=A.stops.map(function(Tt){return[Tt[0],wr.parse(Tt[1])]})),A.default=wr.parse(A.default?A.default:l.default)),A.colorSpace&&"rgb"!==A.colorSpace&&!$a[A.colorSpace])throw new Error("Unknown color space: "+A.colorSpace);if("exponential"===K)u=AA;else if("interval"===K)u=ts;else if("categorical"===K){u=TA,f=Object.create(null);for(var q=0,W=A.stops;q<W.length;q+=1){var Ae=W[q];f[Ae[0]]=Ae[1]}b=typeof A.stops[0][0]}else{if("identity"!==K)throw new Error('Unknown function type "'+K+'"');u=No}if(U){for(var ce={},xe=[],ge=0;ge<A.stops.length;ge++){var Pe=A.stops[ge],Ge=Pe[0].zoom;void 0===ce[Ge]&&(ce[Ge]={zoom:Ge,type:A.type,property:A.property,default:A.default,stops:[]},xe.push(Ge)),ce[Ge].stops.push([Pe[0].value,Pe[1]])}for(var qe=[],$e=0,st=xe;$e<st.length;$e+=1){var yt=st[$e];qe.push([ce[yt].zoom,r(ce[yt],l)])}var Ft={name:"linear"};return{kind:"composite",interpolationType:Ft,interpolationFactor:Dn.interpolationFactor.bind(void 0,Ft),zoomStops:qe.map(function(Tt){return Tt[0]}),evaluate:function(Tt,er){var St=Tt.zoom;return AA({stops:qe,base:A.base},l,St).evaluate(St,er)}}}if(j){var Vt="exponential"===K?{name:"exponential",base:void 0!==A.base?A.base:1}:null;return{kind:"camera",interpolationType:Vt,interpolationFactor:Dn.interpolationFactor.bind(void 0,Vt),zoomStops:A.stops.map(function(Tt){return Tt[0]}),evaluate:function(Tt){return u(A,l,Tt.zoom,f,b)}}}return{kind:"source",evaluate:function(Tt,er){var St=er&&er.properties?er.properties[A.property]:void 0;return void 0===St?Ko(A.default,l.default):u(A,l,St,f,b)}}}(this._parameters,this._specification))};function wi(e){var t=e.key,r=e.value,A=e.valueSpec||{},l=e.objectElementValidators||{},u=e.style,f=e.styleSpec,b=[],k=on(r);if("object"!==k)return[new ue(t,r,"object expected, "+k+" found")];for(var U in r){var j=U.split(".")[0],K=A[j]||A["*"],q=void 0;if(l[j])q=l[j];else if(A[j])q=z;else if(l["*"])q=l["*"];else{if(!A["*"]){b.push(new ue(t,r[U],'unknown property "'+U+'"'));continue}q=z}b=b.concat(q({key:(t&&t+".")+U,value:r[U],valueSpec:K,style:u,styleSpec:f,object:r,objectKey:U},r))}for(var W in A)l[W]||A[W].required&&void 0===A[W].default&&void 0===r[W]&&b.push(new ue(t,r,'missing required property "'+W+'"'));return b}function UA(e){var t=e.value,r=e.valueSpec,A=e.style,l=e.styleSpec,u=e.key,f=e.arrayElementValidator||z;if("array"!==on(t))return[new ue(u,t,"array expected, "+on(t)+" found")];if(r.length&&t.length!==r.length)return[new ue(u,t,"array length "+r.length+" expected, length "+t.length+" found")];if(r["min-length"]&&t.length<r["min-length"])return[new ue(u,t,"array length at least "+r["min-length"]+" expected, length "+t.length+" found")];var b={type:r.value,values:r.values};l.$version<7&&(b.function=r.function),"object"===on(r.value)&&(b=r.value);for(var k=[],U=0;U<t.length;U++)k=k.concat(f({array:t,arrayIndex:U,value:t[U],valueSpec:b,style:A,styleSpec:l,key:u+"["+U+"]"}));return k}function Vo(e){var t=e.key,r=e.value,A=e.valueSpec,l=on(r);return"number"===l&&r!=r&&(l="NaN"),"number"!==l?[new ue(t,r,"number expected, "+l+" found")]:"minimum"in A&&r<A.minimum?[new ue(t,r,r+" is less than the minimum value "+A.minimum)]:"maximum"in A&&r>A.maximum?[new ue(t,r,r+" is greater than the maximum value "+A.maximum)]:[]}function Fa(e){var t,r,A,l=e.valueSpec,u=mt(e.value.type),f={},b="categorical"!==u&&void 0===e.value.property,k=!b,U="array"===on(e.value.stops)&&"array"===on(e.value.stops[0])&&"object"===on(e.value.stops[0][0]),j=wi({key:e.key,value:e.value,valueSpec:e.styleSpec.function,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:function(W){if("identity"===u)return[new ue(W.key,W.value,'identity function may not have a "stops" property')];var Ae=[],ce=W.value;return Ae=Ae.concat(UA({key:W.key,value:ce,valueSpec:W.valueSpec,style:W.style,styleSpec:W.styleSpec,arrayElementValidator:K})),"array"===on(ce)&&0===ce.length&&Ae.push(new ue(W.key,ce,"array must have at least one stop")),Ae},default:function(W){return z({key:W.key,value:W.value,valueSpec:l,style:W.style,styleSpec:W.styleSpec})}}});return"identity"===u&&b&&j.push(new ue(e.key,e.value,'missing required property "property"')),"identity"===u||e.value.stops||j.push(new ue(e.key,e.value,'missing required property "stops"')),"exponential"===u&&e.valueSpec.expression&&!To(e.valueSpec)&&j.push(new ue(e.key,e.value,"exponential functions not supported")),e.styleSpec.$version>=8&&(k&&!Do(e.valueSpec)?j.push(new ue(e.key,e.value,"property functions not supported")):b&&!aA(e.valueSpec)&&j.push(new ue(e.key,e.value,"zoom functions not supported"))),"categorical"!==u&&!U||void 0!==e.value.property||j.push(new ue(e.key,e.value,'"property" property is required')),j;function K(W){var Ae=[],ce=W.value,xe=W.key;if("array"!==on(ce))return[new ue(xe,ce,"array expected, "+on(ce)+" found")];if(2!==ce.length)return[new ue(xe,ce,"array length 2 expected, length "+ce.length+" found")];if(U){if("object"!==on(ce[0]))return[new ue(xe,ce,"object expected, "+on(ce[0])+" found")];if(void 0===ce[0].zoom)return[new ue(xe,ce,"object stop key must have zoom")];if(void 0===ce[0].value)return[new ue(xe,ce,"object stop key must have value")];if(A&&A>mt(ce[0].zoom))return[new ue(xe,ce[0].zoom,"stop zoom values must appear in ascending order")];mt(ce[0].zoom)!==A&&(A=mt(ce[0].zoom),r=void 0,f={}),Ae=Ae.concat(wi({key:xe+"[0]",value:ce[0],valueSpec:{zoom:{}},style:W.style,styleSpec:W.styleSpec,objectElementValidators:{zoom:Vo,value:q}}))}else Ae=Ae.concat(q({key:xe+"[0]",value:ce[0],valueSpec:{},style:W.style,styleSpec:W.styleSpec},ce));return ca(Ye(ce[1]))?Ae.concat([new ue(xe+"[1]",ce[1],"expressions are not allowed in function stops.")]):Ae.concat(z({key:xe+"[1]",value:ce[1],valueSpec:l,style:W.style,styleSpec:W.styleSpec}))}function q(W,Ae){var ce=on(W.value),xe=mt(W.value),ge=null!==W.value?W.value:Ae;if(t){if(ce!==t)return[new ue(W.key,ge,ce+" stop domain type must match previous stop domain type "+t)]}else t=ce;if("number"!==ce&&"string"!==ce&&"boolean"!==ce)return[new ue(W.key,ge,"stop domain value must be a number, string, or boolean")];if("number"!==ce&&"categorical"!==u){var Pe="number expected, "+ce+" found";return Do(l)&&void 0===u&&(Pe+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new ue(W.key,ge,Pe)]}return"categorical"!==u||"number"!==ce||isFinite(xe)&&Math.floor(xe)===xe?"categorical"!==u&&"number"===ce&&void 0!==r&&xe<r?[new ue(W.key,ge,"stop domain values must appear in ascending order")]:(r=xe,"categorical"===u&&xe in f?[new ue(W.key,ge,"stop domain values must be unique")]:(f[xe]=!0,[])):[new ue(W.key,ge,"integer expected, found "+xe)]}}function _o(e){var t=("property"===e.expressionContext?Uo:la)(Ye(e.value),e.valueSpec);if("error"===t.result)return t.value.map(function(A){return new ue(""+e.key+A.key,e.value,A.message)});var r=t.value.expression||t.value._styleExpression.expression;if("property"===e.expressionContext&&"text-font"===e.propertyKey&&!r.outputDefined())return[new ue(e.key,e.value,'Invalid data expression for "'+e.propertyKey+'". Output values must be contained as literals within the expression.')];if("property"===e.expressionContext&&"layout"===e.propertyType&&!uo(r))return[new ue(e.key,e.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===e.expressionContext&&!uo(r))return[new ue(e.key,e.value,'"feature-state" data expressions are not supported with filters.')];if(e.expressionContext&&0===e.expressionContext.indexOf("cluster")){if(!Po(r,["zoom","feature-state"]))return[new ue(e.key,e.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===e.expressionContext&&!lo(r))return[new ue(e.key,e.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Yo(e){var t=e.key,r=e.value,A=e.valueSpec,l=[];return Array.isArray(A.values)?-1===A.values.indexOf(mt(r))&&l.push(new ue(t,r,"expected one of ["+A.values.join(", ")+"], "+JSON.stringify(r)+" found")):-1===Object.keys(A.values).indexOf(mt(r))&&l.push(new ue(t,r,"expected one of ["+Object.keys(A.values).join(", ")+"], "+JSON.stringify(r)+" found")),l}function Qn(e){if(!0===e||!1===e)return!0;if(!Array.isArray(e)||0===e.length)return!1;switch(e[0]){case"has":return e.length>=2&&"$id"!==e[1]&&"$type"!==e[1];case"in":return e.length>=3&&("string"!=typeof e[1]||Array.isArray(e[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==e.length||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":for(var t=0,r=e.slice(1);t<r.length;t+=1){var A=r[t];if(!Qn(A)&&"boolean"!=typeof A)return!1}return!0;default:return!0}}Wn.deserialize=function(e){return new Wn(e._parameters,e._specification)},Wn.serialize=function(e){return{_parameters:e._parameters,_specification:e._specification}};var sA={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function pa(e){if(null==e)return{filter:function(){return!0},needGeometry:!1};Qn(e)||(e=ka(e));var t=la(e,sA);if("error"===t.result)throw new Error(t.value.map(function(r){return r.key+": "+r.message}).join(", "));return{filter:function(r,A,l){return t.value.evaluate(r,A,{},l)},needGeometry:function r(A){if(!Array.isArray(A))return!1;if("within"===A[0])return!0;for(var l=1;l<A.length;l++)if(r(A[l]))return!0;return!1}(e)}}function rs(e,t){return e<t?-1:e>t?1:0}function ka(e){if(!e)return!0;var t,r=e[0];return e.length<=1?"any"!==r:"=="===r?ha(e[1],e[2],"=="):"!="===r?di(ha(e[1],e[2],"==")):"<"===r||">"===r||"<="===r||">="===r?ha(e[1],e[2],r):"any"===r?(t=e.slice(1),["any"].concat(t.map(ka))):"all"===r?["all"].concat(e.slice(1).map(ka)):"none"===r?["all"].concat(e.slice(1).map(ka).map(di)):"in"===r?Oo(e[1],e.slice(2)):"!in"===r?di(Oo(e[1],e.slice(2))):"has"===r?ro(e[1]):"!has"===r?di(ro(e[1])):"within"!==r||e}function ha(e,t,r){switch(e){case"$type":return["filter-type-"+r,t];case"$id":return["filter-id-"+r,t];default:return["filter-"+r,e,t]}}function Oo(e,t){if(0===t.length)return!1;switch(e){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some(function(r){return typeof r!=typeof t[0]})?["filter-in-large",e,["literal",t.sort(rs)]]:["filter-in-small",e,["literal",t]]}}function ro(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function di(e){return["!",e]}function cA(e){return Qn(Ye(e.value))?_o(lt({},e,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function t(r){var A=r.value,l=r.key;if("array"!==on(A))return[new ue(l,A,"array expected, "+on(A)+" found")];var u,f=r.styleSpec,b=[];if(A.length<1)return[new ue(l,A,"filter array must have at least 1 element")];switch(b=b.concat(Yo({key:l+"[0]",value:A[0],valueSpec:f.filter_operator,style:r.style,styleSpec:r.styleSpec})),mt(A[0])){case"<":case"<=":case">":case">=":A.length>=2&&"$type"===mt(A[1])&&b.push(new ue(l,A,'"$type" cannot be use with operator "'+A[0]+'"'));case"==":case"!=":3!==A.length&&b.push(new ue(l,A,'filter array for operator "'+A[0]+'" must have 3 elements'));case"in":case"!in":A.length>=2&&"string"!==(u=on(A[1]))&&b.push(new ue(l+"[1]",A[1],"string expected, "+u+" found"));for(var k=2;k<A.length;k++)u=on(A[k]),"$type"===mt(A[1])?b=b.concat(Yo({key:l+"["+k+"]",value:A[k],valueSpec:f.geometry_type,style:r.style,styleSpec:r.styleSpec})):"string"!==u&&"number"!==u&&"boolean"!==u&&b.push(new ue(l+"["+k+"]",A[k],"string, number, or boolean expected, "+u+" found"));break;case"any":case"all":case"none":for(var U=1;U<A.length;U++)b=b.concat(t({key:l+"["+U+"]",value:A[U],style:r.style,styleSpec:r.styleSpec}));break;case"has":case"!has":u=on(A[1]),2!==A.length?b.push(new ue(l,A,'filter array for "'+A[0]+'" operator must have 2 elements')):"string"!==u&&b.push(new ue(l+"[1]",A[1],"string expected, "+u+" found"));break;case"within":u=on(A[1]),2!==A.length?b.push(new ue(l,A,'filter array for "'+A[0]+'" operator must have 2 elements')):"object"!==u&&b.push(new ue(l+"[1]",A[1],"object expected, "+u+" found"))}return b}(e)}function lA(e,t){var r=e.key,A=e.style,l=e.styleSpec,u=e.value,f=e.objectKey,b=l[t+"_"+e.layerType];if(!b)return[];var k=f.match(/^(.*)-transition$/);if("paint"===t&&k&&b[k[1]]&&b[k[1]].transition)return z({key:r,value:u,valueSpec:l.transition,style:A,styleSpec:l});var U,j=e.valueSpec||b[f];if(!j)return[new ue(r,u,'unknown property "'+f+'"')];if("string"===on(u)&&Do(j)&&!j.tokens&&(U=/^{([^}]+)}$/.exec(u)))return[new ue(r,u,'"'+f+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(U[1])+" }`.")];var K=[];return"symbol"===e.layerType&&("text-field"===f&&A&&!A.glyphs&&K.push(new ue(r,u,'use of "text-field" requires a style "glyphs" property')),"text-font"===f&&sa(Ye(u))&&"identity"===mt(u.type)&&K.push(new ue(r,u,'"text-font" does not support identity functions'))),K.concat(z({key:e.key,value:u,valueSpec:j,style:A,styleSpec:l,expressionContext:"property",propertyType:t,propertyKey:f}))}function fa(e){return lA(e,"paint")}function Lo(e){return lA(e,"layout")}function OA(e){var t=[],r=e.value,A=e.key,l=e.style,u=e.styleSpec;r.type||r.ref||t.push(new ue(A,r,'either "type" or "ref" is required'));var f,b=mt(r.type),k=mt(r.ref);if(r.id)for(var U=mt(r.id),j=0;j<e.arrayIndex;j++){var K=l.layers[j];mt(K.id)===U&&t.push(new ue(A,r.id,'duplicate layer id "'+r.id+'", previously used at line '+K.id.__line__))}if("ref"in r)["type","source","source-layer","filter","layout"].forEach(function(Ae){Ae in r&&t.push(new ue(A,r[Ae],'"'+Ae+'" is prohibited for ref layers'))}),l.layers.forEach(function(Ae){mt(Ae.id)===k&&(f=Ae)}),f?f.ref?t.push(new ue(A,r.ref,"ref cannot reference another ref layer")):b=mt(f.type):t.push(new ue(A,r.ref,'ref layer "'+k+'" not found'));else if("background"!==b)if(r.source){var q=l.sources&&l.sources[r.source],W=q&&mt(q.type);q?"vector"===W&&"raster"===b?t.push(new ue(A,r.source,'layer "'+r.id+'" requires a raster source')):"raster"===W&&"raster"!==b?t.push(new ue(A,r.source,'layer "'+r.id+'" requires a vector source')):"vector"!==W||r["source-layer"]?"raster-dem"===W&&"hillshade"!==b?t.push(new ue(A,r.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==b||!r.paint||!r.paint["line-gradient"]||"geojson"===W&&q.lineMetrics||t.push(new ue(A,r,'layer "'+r.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):t.push(new ue(A,r,'layer "'+r.id+'" must specify a "source-layer"')):t.push(new ue(A,r.source,'source "'+r.source+'" not found'))}else t.push(new ue(A,r,'missing required property "source"'));return t=t.concat(wi({key:A,value:r,valueSpec:u.layer,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return z({key:A+".type",value:r.type,valueSpec:u.layer.type,style:e.style,styleSpec:e.styleSpec,object:r,objectKey:"type"})},filter:cA,layout:function(Ae){return wi({layer:r,key:Ae.key,value:Ae.value,style:Ae.style,styleSpec:Ae.styleSpec,objectElementValidators:{"*":function(ce){return Lo(lt({layerType:b},ce))}}})},paint:function(Ae){return wi({layer:r,key:Ae.key,value:Ae.value,style:Ae.style,styleSpec:Ae.styleSpec,objectElementValidators:{"*":function(ce){return fa(lt({layerType:b},ce))}}})}}}))}function bo(e){var t=e.value,r=e.key,A=on(t);return"string"!==A?[new ue(r,t,"string expected, "+A+" found")]:[]}var Zr={promoteId:function(e){var t=e.key,r=e.value;if("string"===on(r))return bo({key:t,value:r});var A=[];for(var l in r)A.push.apply(A,bo({key:t+"."+l,value:r[l]}));return A}};function qo(e){var t=e.value,r=e.key,A=e.styleSpec,l=e.style;if(!t.type)return[new ue(r,t,'"type" is required')];var u,f=mt(t.type);switch(f){case"vector":case"raster":case"raster-dem":return wi({key:r,value:t,valueSpec:A["source_"+f.replace("-","_")],style:e.style,styleSpec:A,objectElementValidators:Zr});case"geojson":if(u=wi({key:r,value:t,valueSpec:A.source_geojson,style:l,styleSpec:A,objectElementValidators:Zr}),t.cluster)for(var b in t.clusterProperties){var k=t.clusterProperties[b],U=k[0],j="string"==typeof U?[U,["accumulated"],["get",b]]:U;u.push.apply(u,_o({key:r+"."+b+".map",value:k[1],expressionContext:"cluster-map"})),u.push.apply(u,_o({key:r+"."+b+".reduce",value:j,expressionContext:"cluster-reduce"}))}return u;case"video":return wi({key:r,value:t,valueSpec:A.source_video,style:l,styleSpec:A});case"image":return wi({key:r,value:t,valueSpec:A.source_image,style:l,styleSpec:A});case"canvas":return[new ue(r,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Yo({key:r+".type",value:t.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:l,styleSpec:A})}}function no(e){var t=e.value,r=e.styleSpec,A=r.light,l=e.style,u=[],f=on(t);if(void 0===t)return u;if("object"!==f)return u.concat([new ue("light",t,"object expected, "+f+" found")]);for(var b in t){var k=b.match(/^(.*)-transition$/);u=u.concat(k&&A[k[1]]&&A[k[1]].transition?z({key:b,value:t[b],valueSpec:r.transition,style:l,styleSpec:r}):A[b]?z({key:b,value:t[b],valueSpec:A[b],style:l,styleSpec:r}):[new ue(b,t[b],'unknown property "'+b+'"')])}return u}var R={"*":function(){return[]},array:UA,boolean:function(e){var t=e.value,r=e.key,A=on(t);return"boolean"!==A?[new ue(r,t,"boolean expected, "+A+" found")]:[]},number:Vo,color:function(e){var t=e.key,r=e.value,A=on(r);return"string"!==A?[new ue(t,r,"color expected, "+A+" found")]:null===br(r)?[new ue(t,r,'color expected, "'+r+'" found')]:[]},constants:Le,enum:Yo,filter:cA,function:Fa,layer:OA,object:wi,source:qo,light:no,string:bo,formatted:function(e){return 0===bo(e).length?[]:_o(e)},resolvedImage:function(e){return 0===bo(e).length?[]:_o(e)}};function z(e){var t=e.value,r=e.valueSpec,A=e.styleSpec;return r.expression&&sa(mt(t))?Fa(e):r.expression&&ca(Ye(t))?_o(e):r.type&&R[r.type]?R[r.type](e):wi(lt({},e,{valueSpec:r.type?A[r.type]:r}))}function V(e){var t=e.value,r=e.key,A=bo(e);return A.length||(-1===t.indexOf("{fontstack}")&&A.push(new ue(r,t,'"glyphs" url must include a "{fontstack}" token')),-1===t.indexOf("{range}")&&A.push(new ue(r,t,'"glyphs" url must include a "{range}" token'))),A}function ie(e,t){void 0===t&&(t=ee);var r=[];return r=r.concat(z({key:"",value:e,valueSpec:t.$root,styleSpec:t,style:e,objectElementValidators:{glyphs:V,"*":function(){return[]}}})),e.constants&&(r=r.concat(Le({key:"constants",value:e.constants,style:e,styleSpec:t}))),Te(r)}function Te(e){return[].concat(e).sort(function(t,r){return t.line-r.line})}function nt(e){return function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return Te(e.apply(this,t))}}ie.source=nt(qo),ie.light=nt(no),ie.layer=nt(OA),ie.filter=nt(cA),ie.paintProperty=nt(fa),ie.layoutProperty=nt(Lo);var at=ie,bt=at.light,Kt=at.paintProperty,xr=at.layoutProperty;function dn(e,t){var r=!1;if(t&&t.length)for(var A=0,l=t;A<l.length;A+=1)e.fire(new we(new Error(l[A].message))),r=!0;return r}var Tn=Xr;function Xr(e,t,r){var A=this.cells=[];if(e instanceof ArrayBuffer){this.arrayBuffer=e;var l=new Int32Array(this.arrayBuffer);e=l[0],this.d=(t=l[1])+2*(r=l[2]);for(var u=0;u<this.d*this.d;u++){var f=l[3+u],b=l[3+u+1];A.push(f===b?null:l.subarray(f,b))}var k=l[3+A.length+1];this.keys=l.subarray(l[3+A.length],k),this.bboxes=l.subarray(k),this.insert=this._insertReadonly}else{this.d=t+2*r;for(var U=0;U<this.d*this.d;U++)A.push([]);this.keys=[],this.bboxes=[]}this.n=t,this.extent=e,this.padding=r,this.scale=t/e,this.uid=0;var j=r/t*e;this.min=-j,this.max=e+j}Xr.prototype.insert=function(e,t,r,A,l){this._forEachCell(t,r,A,l,this._insertCell,this.uid++),this.keys.push(e),this.bboxes.push(t),this.bboxes.push(r),this.bboxes.push(A),this.bboxes.push(l)},Xr.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Xr.prototype._insertCell=function(e,t,r,A,l,u){this.cells[l].push(u)},Xr.prototype.query=function(e,t,r,A,l){var u=this.min,f=this.max;if(e<=u&&t<=u&&f<=r&&f<=A&&!l)return Array.prototype.slice.call(this.keys);var b=[];return this._forEachCell(e,t,r,A,this._queryCell,b,{},l),b},Xr.prototype._queryCell=function(e,t,r,A,l,u,f,b){var k=this.cells[l];if(null!==k)for(var U=this.keys,j=this.bboxes,K=0;K<k.length;K++){var q=k[K];if(void 0===f[q]){var W=4*q;(b?b(j[W+0],j[W+1],j[W+2],j[W+3]):e<=j[W+2]&&t<=j[W+3]&&r>=j[W+0]&&A>=j[W+1])?(f[q]=!0,u.push(U[q])):f[q]=!1}}},Xr.prototype._forEachCell=function(e,t,r,A,l,u,f,b){for(var k=this._convertToCellCoord(e),U=this._convertToCellCoord(t),j=this._convertToCellCoord(r),K=this._convertToCellCoord(A),q=k;q<=j;q++)for(var W=U;W<=K;W++){var Ae=this.d*W+q;if((!b||b(this._convertFromCellCoord(q),this._convertFromCellCoord(W),this._convertFromCellCoord(q+1),this._convertFromCellCoord(W+1)))&&l.call(this,e,t,r,A,Ae,u,f,b))return}},Xr.prototype._convertFromCellCoord=function(e){return(e-this.padding)/this.scale},Xr.prototype._convertToCellCoord=function(e){return Math.max(0,Math.min(this.d-1,Math.floor(e*this.scale)+this.padding))},Xr.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var e=this.cells,t=3+this.cells.length+1+1,r=0,A=0;A<this.cells.length;A++)r+=this.cells[A].length;var l=new Int32Array(t+r+this.keys.length+this.bboxes.length);l[0]=this.extent,l[1]=this.n,l[2]=this.padding;for(var u=t,f=0;f<e.length;f++){var b=e[f];l[3+f]=u,l.set(b,u),u+=b.length}return l[3+e.length]=u,l.set(this.keys,u),l[3+e.length+1]=u+=this.keys.length,l.set(this.bboxes,u),u+=this.bboxes.length,l.buffer};var Oi=B.ImageData,io=B.ImageBitmap,mn={};function Ot(e,t,r){void 0===r&&(r={}),Object.defineProperty(t,"_classRegistryKey",{value:e,writeable:!1}),mn[e]={klass:t,omit:r.omit||[],shallow:r.shallow||[]}}for(var Qi in Ot("Object",Object),Tn.serialize=function(e,t){var r=e.toArrayBuffer();return t&&t.push(r),{buffer:r}},Tn.deserialize=function(e){return new Tn(e.buffer)},Ot("Grid",Tn),Ot("Color",wr),Ot("Error",Error),Ot("ResolvedImage",rn),Ot("StylePropertyFunction",Wn),Ot("StyleExpression",Ni,{omit:["_evaluator"]}),Ot("ZoomDependentExpression",Xo),Ot("ZoomConstantExpression",ua),Ot("CompoundExpression",Mn,{omit:["_evaluate"]}),vo)vo[Qi]._classRegistryKey||Ot("Expression_"+Qi,vo[Qi]);function LA(e){return e&&typeof ArrayBuffer<"u"&&(e instanceof ArrayBuffer||e.constructor&&"ArrayBuffer"===e.constructor.name)}function Pa(e){return io&&e instanceof io}function Xi(e,t){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp)return e;if(LA(e)||Pa(e))return t&&t.push(e),e;if(ArrayBuffer.isView(e)){var r=e;return t&&t.push(r.buffer),r}if(e instanceof Oi)return t&&t.push(e.data.buffer),e;if(Array.isArray(e)){for(var A=[],l=0,u=e;l<u.length;l+=1)A.push(Xi(u[l],t));return A}if("object"==typeof e){var f=e.constructor,b=f._classRegistryKey;if(!b)throw new Error("can't serialize object of unregistered class");var k=f.serialize?f.serialize(e,t):{};if(!f.serialize){for(var U in e)if(e.hasOwnProperty(U)&&!(mn[b].omit.indexOf(U)>=0)){var j=e[U];k[U]=mn[b].shallow.indexOf(U)>=0?j:Xi(j,t)}e instanceof Error&&(k.message=e.message)}if(k.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==b&&(k.$name=b),k}throw new Error("can't serialize object of type "+typeof e)}function Rn(e){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp||LA(e)||Pa(e)||ArrayBuffer.isView(e)||e instanceof Oi)return e;if(Array.isArray(e))return e.map(Rn);if("object"==typeof e){var t=e.$name||"Object",r=mn[t].klass;if(!r)throw new Error("can't deserialize unregistered class "+t);if(r.deserialize)return r.deserialize(e);for(var A=Object.create(r.prototype),l=0,u=Object.keys(e);l<u.length;l+=1){var f=u[l];if("$name"!==f){var b=e[f];A[f]=mn[t].shallow.indexOf(f)>=0?b:Rn(b)}}return A}throw new Error("can't deserialize object of type "+typeof e)}var ns=function(){this.first=!0};ns.prototype.update=function(e,t){var r=Math.floor(e);return this.first?(this.first=!1,this.lastIntegerZoom=r,this.lastIntegerZoomTime=0,this.lastZoom=e,this.lastFloorZoom=r,!0):(this.lastFloorZoom>r?(this.lastIntegerZoom=r+1,this.lastIntegerZoomTime=t):this.lastFloorZoom<r&&(this.lastIntegerZoom=r,this.lastIntegerZoomTime=t),e!==this.lastZoom&&(this.lastZoom=e,this.lastFloorZoom=r,!0))};var Ct={"Latin-1 Supplement":function(e){return e>=128&&e<=255},Arabic:function(e){return e>=1536&&e<=1791},"Arabic Supplement":function(e){return e>=1872&&e<=1919},"Arabic Extended-A":function(e){return e>=2208&&e<=2303},"Hangul Jamo":function(e){return e>=4352&&e<=4607},"Unified Canadian Aboriginal Syllabics":function(e){return e>=5120&&e<=5759},Khmer:function(e){return e>=6016&&e<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(e){return e>=6320&&e<=6399},"General Punctuation":function(e){return e>=8192&&e<=8303},"Letterlike Symbols":function(e){return e>=8448&&e<=8527},"Number Forms":function(e){return e>=8528&&e<=8591},"Miscellaneous Technical":function(e){return e>=8960&&e<=9215},"Control Pictures":function(e){return e>=9216&&e<=9279},"Optical Character Recognition":function(e){return e>=9280&&e<=9311},"Enclosed Alphanumerics":function(e){return e>=9312&&e<=9471},"Geometric Shapes":function(e){return e>=9632&&e<=9727},"Miscellaneous Symbols":function(e){return e>=9728&&e<=9983},"Miscellaneous Symbols and Arrows":function(e){return e>=11008&&e<=11263},"CJK Radicals Supplement":function(e){return e>=11904&&e<=12031},"Kangxi Radicals":function(e){return e>=12032&&e<=12255},"Ideographic Description Characters":function(e){return e>=12272&&e<=12287},"CJK Symbols and Punctuation":function(e){return e>=12288&&e<=12351},Hiragana:function(e){return e>=12352&&e<=12447},Katakana:function(e){return e>=12448&&e<=12543},Bopomofo:function(e){return e>=12544&&e<=12591},"Hangul Compatibility Jamo":function(e){return e>=12592&&e<=12687},Kanbun:function(e){return e>=12688&&e<=12703},"Bopomofo Extended":function(e){return e>=12704&&e<=12735},"CJK Strokes":function(e){return e>=12736&&e<=12783},"Katakana Phonetic Extensions":function(e){return e>=12784&&e<=12799},"Enclosed CJK Letters and Months":function(e){return e>=12800&&e<=13055},"CJK Compatibility":function(e){return e>=13056&&e<=13311},"CJK Unified Ideographs Extension A":function(e){return e>=13312&&e<=19903},"Yijing Hexagram Symbols":function(e){return e>=19904&&e<=19967},"CJK Unified Ideographs":function(e){return e>=19968&&e<=40959},"Yi Syllables":function(e){return e>=40960&&e<=42127},"Yi Radicals":function(e){return e>=42128&&e<=42191},"Hangul Jamo Extended-A":function(e){return e>=43360&&e<=43391},"Hangul Syllables":function(e){return e>=44032&&e<=55215},"Hangul Jamo Extended-B":function(e){return e>=55216&&e<=55295},"Private Use Area":function(e){return e>=57344&&e<=63743},"CJK Compatibility Ideographs":function(e){return e>=63744&&e<=64255},"Arabic Presentation Forms-A":function(e){return e>=64336&&e<=65023},"Vertical Forms":function(e){return e>=65040&&e<=65055},"CJK Compatibility Forms":function(e){return e>=65072&&e<=65103},"Small Form Variants":function(e){return e>=65104&&e<=65135},"Arabic Presentation Forms-B":function(e){return e>=65136&&e<=65279},"Halfwidth and Fullwidth Forms":function(e){return e>=65280&&e<=65519}};function Sa(e){for(var t=0,r=e;t<r.length;t+=1)if(Ho(r[t].charCodeAt(0)))return!0;return!1}function Ho(e){return!(746!==e&&747!==e&&(e<4352||!(Ct["Bopomofo Extended"](e)||Ct.Bopomofo(e)||Ct["CJK Compatibility Forms"](e)&&!(e>=65097&&e<=65103)||Ct["CJK Compatibility Ideographs"](e)||Ct["CJK Compatibility"](e)||Ct["CJK Radicals Supplement"](e)||Ct["CJK Strokes"](e)||!(!Ct["CJK Symbols and Punctuation"](e)||e>=12296&&e<=12305||e>=12308&&e<=12319||12336===e)||Ct["CJK Unified Ideographs Extension A"](e)||Ct["CJK Unified Ideographs"](e)||Ct["Enclosed CJK Letters and Months"](e)||Ct["Hangul Compatibility Jamo"](e)||Ct["Hangul Jamo Extended-A"](e)||Ct["Hangul Jamo Extended-B"](e)||Ct["Hangul Jamo"](e)||Ct["Hangul Syllables"](e)||Ct.Hiragana(e)||Ct["Ideographic Description Characters"](e)||Ct.Kanbun(e)||Ct["Kangxi Radicals"](e)||Ct["Katakana Phonetic Extensions"](e)||Ct.Katakana(e)&&12540!==e||!(!Ct["Halfwidth and Fullwidth Forms"](e)||65288===e||65289===e||65293===e||e>=65306&&e<=65310||65339===e||65341===e||65343===e||e>=65371&&e<=65503||65507===e||e>=65512&&e<=65519)||!(!Ct["Small Form Variants"](e)||e>=65112&&e<=65118||e>=65123&&e<=65126)||Ct["Unified Canadian Aboriginal Syllabics"](e)||Ct["Unified Canadian Aboriginal Syllabics Extended"](e)||Ct["Vertical Forms"](e)||Ct["Yijing Hexagram Symbols"](e)||Ct["Yi Syllables"](e)||Ct["Yi Radicals"](e))))}function Da(e){return!(Ho(e)||(t=e,Ct["Latin-1 Supplement"](t)&&(167===t||169===t||174===t||177===t||188===t||189===t||190===t||215===t||247===t)||Ct["General Punctuation"](t)&&(8214===t||8224===t||8225===t||8240===t||8241===t||8251===t||8252===t||8258===t||8263===t||8264===t||8265===t||8273===t)||Ct["Letterlike Symbols"](t)||Ct["Number Forms"](t)||Ct["Miscellaneous Technical"](t)&&(t>=8960&&t<=8967||t>=8972&&t<=8991||t>=8996&&t<=9e3||9003===t||t>=9085&&t<=9114||t>=9150&&t<=9165||9167===t||t>=9169&&t<=9179||t>=9186&&t<=9215)||Ct["Control Pictures"](t)&&9251!==t||Ct["Optical Character Recognition"](t)||Ct["Enclosed Alphanumerics"](t)||Ct["Geometric Shapes"](t)||Ct["Miscellaneous Symbols"](t)&&!(t>=9754&&t<=9759)||Ct["Miscellaneous Symbols and Arrows"](t)&&(t>=11026&&t<=11055||t>=11088&&t<=11097||t>=11192&&t<=11243)||Ct["CJK Symbols and Punctuation"](t)||Ct.Katakana(t)||Ct["Private Use Area"](t)||Ct["CJK Compatibility Forms"](t)||Ct["Small Form Variants"](t)||Ct["Halfwidth and Fullwidth Forms"](t)||8734===t||8756===t||8757===t||t>=9984&&t<=10087||t>=10102&&t<=10131||65532===t||65533===t));var t}function Fi(e){return e>=1424&&e<=2303||Ct["Arabic Presentation Forms-A"](e)||Ct["Arabic Presentation Forms-B"](e)}function ci(e,t){return!(!t&&Fi(e)||e>=2304&&e<=3583||e>=3840&&e<=4255||Ct.Khmer(e))}function da(e){for(var t=0,r=e;t<r.length;t+=1)if(Fi(r[t].charCodeAt(0)))return!0;return!1}var ga=null,xi="unavailable",wo=null,uA=function(e){e&&"string"==typeof e&&e.indexOf("NetworkError")>-1&&(xi="error"),ga&&ga(e)};function xo(){is.fire(new ae("pluginStateChange",{pluginStatus:xi,pluginURL:wo}))}var is=new Ce,Ta=function(){return xi},oo=function(){if("deferred"!==xi||!wo)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");xi="loading",xo(),wo&&Ar({url:wo},function(e){e?uA(e):(xi="loaded",xo())})},gi={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return"loaded"===xi||null!=gi.applyArabicShaping},isLoading:function(){return"loading"===xi},setState:function(e){xi=e.pluginStatus,wo=e.pluginURL},isParsed:function(){return null!=gi.applyArabicShaping&&null!=gi.processBidirectionalText&&null!=gi.processStyledBidirectionalText},getPluginURL:function(){return wo}},Er=function(e,t){this.zoom=e,t?(this.now=t.now,this.fadeDuration=t.fadeDuration,this.zoomHistory=t.zoomHistory,this.transition=t.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new ns,this.transition={})};Er.prototype.isSupportedScript=function(e){return function(t,r){for(var A=0,l=t;A<l.length;A+=1)if(!ci(l[A].charCodeAt(0),r))return!1;return!0}(e,gi.isLoaded())},Er.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},Er.prototype.getCrossfadeParameters=function(){var e=this.zoom,t=e-Math.floor(e),r=this.crossFadingFactor();return e>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:t+(1-t)*r}:{fromScale:.5,toScale:1,t:1-(1-r)*t}};var Bo=function(e,t){this.property=e,this.value=t,this.expression=function(r,A){if(sa(r))return new Wn(r,A);if(ca(r)){var l=Uo(r,A);if("error"===l.result)throw new Error(l.value.map(function(f){return f.key+": "+f.message}).join(", "));return l.value}var u=r;return"string"==typeof r&&"color"===A.type&&(u=wr.parse(r)),{kind:"constant",evaluate:function(){return u}}}(void 0===t?e.specification.default:t,e.specification)};Bo.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},Bo.prototype.possiblyEvaluate=function(e,t,r){return this.property.possiblyEvaluate(this,e,t,r)};var Vi=function(e){this.property=e,this.value=new Bo(e,void 0)};Vi.prototype.transitioned=function(e,t){return new ma(this.property,this.value,t,N({},e.transition,this.transition),e.now)},Vi.prototype.untransitioned=function(){return new ma(this.property,this.value,null,{},0)};var Yn=function(e){this._properties=e,this._values=Object.create(e.defaultTransitionablePropertyValues)};Yn.prototype.getValue=function(e){return Ve(this._values[e].value.value)},Yn.prototype.setValue=function(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new Vi(this._values[e].property)),this._values[e].value=new Bo(this._values[e].property,null===t?void 0:Ve(t))},Yn.prototype.getTransition=function(e){return Ve(this._values[e].transition)},Yn.prototype.setTransition=function(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new Vi(this._values[e].property)),this._values[e].transition=Ve(t)||void 0},Yn.prototype.serialize=function(){for(var e={},t=0,r=Object.keys(this._values);t<r.length;t+=1){var A=r[t],l=this.getValue(A);void 0!==l&&(e[A]=l);var u=this.getTransition(A);void 0!==u&&(e[A+"-transition"]=u)}return e},Yn.prototype.transitioned=function(e,t){for(var r=new Zo(this._properties),A=0,l=Object.keys(this._values);A<l.length;A+=1){var u=l[A];r._values[u]=this._values[u].transitioned(e,t._values[u])}return r},Yn.prototype.untransitioned=function(){for(var e=new Zo(this._properties),t=0,r=Object.keys(this._values);t<r.length;t+=1){var A=r[t];e._values[A]=this._values[A].untransitioned()}return e};var ma=function(e,t,r,A,l){this.property=e,this.value=t,this.begin=l+A.delay||0,this.end=this.begin+A.duration||0,e.specification.transition&&(A.delay||A.duration)&&(this.prior=r)};ma.prototype.possiblyEvaluate=function(e,t,r){var A=e.now||0,l=this.value.possiblyEvaluate(e,t,r),u=this.prior;if(u){if(A>this.end)return this.prior=null,l;if(this.value.isDataDriven())return this.prior=null,l;if(A<this.begin)return u.possiblyEvaluate(e,t,r);var f=(A-this.begin)/(this.end-this.begin);return this.property.interpolate(u.possiblyEvaluate(e,t,r),l,function(b){if(b<=0)return 0;if(b>=1)return 1;var k=b*b,U=k*b;return 4*(b<.5?U:3*(b-k)+U-.75)}(f))}return l};var Zo=function(e){this._properties=e,this._values=Object.create(e.defaultTransitioningPropertyValues)};Zo.prototype.possiblyEvaluate=function(e,t,r){for(var A=new pA(this._properties),l=0,u=Object.keys(this._values);l<u.length;l+=1){var f=u[l];A._values[f]=this._values[f].possiblyEvaluate(e,t,r)}return A},Zo.prototype.hasTransition=function(){for(var e=0,t=Object.keys(this._values);e<t.length;e+=1)if(this._values[t[e]].prior)return!0;return!1};var ao=function(e){this._properties=e,this._values=Object.create(e.defaultPropertyValues)};ao.prototype.getValue=function(e){return Ve(this._values[e].value)},ao.prototype.setValue=function(e,t){this._values[e]=new Bo(this._values[e].property,null===t?void 0:Ve(t))},ao.prototype.serialize=function(){for(var e={},t=0,r=Object.keys(this._values);t<r.length;t+=1){var A=r[t],l=this.getValue(A);void 0!==l&&(e[A]=l)}return e},ao.prototype.possiblyEvaluate=function(e,t,r){for(var A=new pA(this._properties),l=0,u=Object.keys(this._values);l<u.length;l+=1){var f=u[l];A._values[f]=this._values[f].possiblyEvaluate(e,t,r)}return A};var mi=function(e,t,r){this.property=e,this.value=t,this.parameters=r};mi.prototype.isConstant=function(){return"constant"===this.value.kind},mi.prototype.constantOr=function(e){return"constant"===this.value.kind?this.value.value:e},mi.prototype.evaluate=function(e,t,r,A){return this.property.evaluate(this.value,this.parameters,e,t,r,A)};var pA=function(e){this._properties=e,this._values=Object.create(e.defaultPossiblyEvaluatedValues)};pA.prototype.get=function(e){return this._values[e]};var Yt=function(e){this.specification=e};Yt.prototype.possiblyEvaluate=function(e,t){return e.expression.evaluate(t)},Yt.prototype.interpolate=function(e,t,r){var A=zo[this.specification.type];return A?A(e,t,r):e};var Mt=function(e,t){this.specification=e,this.overrides=t};Mt.prototype.possiblyEvaluate=function(e,t,r,A){return new mi(this,"constant"===e.expression.kind||"camera"===e.expression.kind?{kind:"constant",value:e.expression.evaluate(t,null,{},r,A)}:e.expression,t)},Mt.prototype.interpolate=function(e,t,r){if("constant"!==e.value.kind||"constant"!==t.value.kind)return e;if(void 0===e.value.value||void 0===t.value.value)return new mi(this,{kind:"constant",value:void 0},e.parameters);var A=zo[this.specification.type];return A?new mi(this,{kind:"constant",value:A(e.value.value,t.value.value,r)},e.parameters):e},Mt.prototype.evaluate=function(e,t,r,A,l,u){return"constant"===e.kind?e.value:e.evaluate(t,r,A,l,u)};var hA=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.possiblyEvaluate=function(r,A,l,u){if(void 0===r.value)return new mi(this,{kind:"constant",value:void 0},A);if("constant"===r.expression.kind){var f=r.expression.evaluate(A,null,{},l,u),b="resolvedImage"===r.property.specification.type&&"string"!=typeof f?f.name:f,k=this._calculate(b,b,b,A);return new mi(this,{kind:"constant",value:k},A)}if("camera"===r.expression.kind){var U=this._calculate(r.expression.evaluate({zoom:A.zoom-1}),r.expression.evaluate({zoom:A.zoom}),r.expression.evaluate({zoom:A.zoom+1}),A);return new mi(this,{kind:"constant",value:U},A)}return new mi(this,r.expression,A)},t.prototype.evaluate=function(r,A,l,u,f,b){if("source"===r.kind){var k=r.evaluate(A,l,u,f,b);return this._calculate(k,k,k,A)}return"composite"===r.kind?this._calculate(r.evaluate({zoom:Math.floor(A.zoom)-1},l,u),r.evaluate({zoom:Math.floor(A.zoom)},l,u),r.evaluate({zoom:Math.floor(A.zoom)+1},l,u),A):r.value},t.prototype._calculate=function(r,A,l,u){return u.zoom>u.zoomHistory.lastIntegerZoom?{from:r,to:A}:{from:l,to:A}},t.prototype.interpolate=function(r){return r},t}(Mt),yi=function(e){this.specification=e};yi.prototype.possiblyEvaluate=function(e,t,r,A){if(void 0!==e.value){if("constant"===e.expression.kind){var l=e.expression.evaluate(t,null,{},r,A);return this._calculate(l,l,l,t)}return this._calculate(e.expression.evaluate(new Er(Math.floor(t.zoom-1),t)),e.expression.evaluate(new Er(Math.floor(t.zoom),t)),e.expression.evaluate(new Er(Math.floor(t.zoom+1),t)),t)}},yi.prototype._calculate=function(e,t,r,A){return A.zoom>A.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:r,to:t}},yi.prototype.interpolate=function(e){return e};var Yi=function(e){this.specification=e};Yi.prototype.possiblyEvaluate=function(e,t,r,A){return!!e.expression.evaluate(t,null,{},r,A)},Yi.prototype.interpolate=function(){return!1};var ii=function(e){for(var t in this.properties=e,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],e){var r=e[t];r.specification.overridable&&this.overridableProperties.push(t);var A=this.defaultPropertyValues[t]=new Bo(r,void 0),l=this.defaultTransitionablePropertyValues[t]=new Vi(r);this.defaultTransitioningPropertyValues[t]=l.untransitioned(),this.defaultPossiblyEvaluatedValues[t]=A.possiblyEvaluate({})}};Ot("DataDrivenProperty",Mt),Ot("DataConstantProperty",Yt),Ot("CrossFadedDataDrivenProperty",hA),Ot("CrossFadedProperty",yi),Ot("ColorRampProperty",Yi);var Eo=function(e){function t(r,A){if(e.call(this),this.id=r.id,this.type=r.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},"custom"!==r.type&&(this.metadata=r.metadata,this.minzoom=r.minzoom,this.maxzoom=r.maxzoom,"background"!==r.type&&(this.source=r.source,this.sourceLayer=r["source-layer"],this.filter=r.filter),A.layout&&(this._unevaluatedLayout=new ao(A.layout)),A.paint)){for(var l in this._transitionablePaint=new Yn(A.paint),r.paint)this.setPaintProperty(l,r.paint[l],{validate:!1});for(var u in r.layout)this.setLayoutProperty(u,r.layout[u],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new pA(A.paint)}}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},t.prototype.getLayoutProperty=function(r){return"visibility"===r?this.visibility:this._unevaluatedLayout.getValue(r)},t.prototype.setLayoutProperty=function(r,A,l){void 0===l&&(l={}),null!=A&&this._validate(xr,"layers."+this.id+".layout."+r,r,A,l)||("visibility"!==r?this._unevaluatedLayout.setValue(r,A):this.visibility=A)},t.prototype.getPaintProperty=function(r){return Ee(r,"-transition")?this._transitionablePaint.getTransition(r.slice(0,-11)):this._transitionablePaint.getValue(r)},t.prototype.setPaintProperty=function(r,A,l){if(void 0===l&&(l={}),null!=A&&this._validate(Kt,"layers."+this.id+".paint."+r,r,A,l))return!1;if(Ee(r,"-transition"))return this._transitionablePaint.setTransition(r.slice(0,-11),A||void 0),!1;var u=this._transitionablePaint._values[r],f="cross-faded-data-driven"===u.property.specification["property-type"],b=u.value.isDataDriven(),k=u.value;this._transitionablePaint.setValue(r,A),this._handleSpecialPaintPropertyUpdate(r);var U=this._transitionablePaint._values[r].value;return U.isDataDriven()||b||f||this._handleOverridablePaintPropertyUpdate(r,k,U)},t.prototype._handleSpecialPaintPropertyUpdate=function(r){},t.prototype._handleOverridablePaintPropertyUpdate=function(r,A,l){return!1},t.prototype.isHidden=function(r){return!!(this.minzoom&&r<this.minzoom)||!!(this.maxzoom&&r>=this.maxzoom)||"none"===this.visibility},t.prototype.updateTransitions=function(r){this._transitioningPaint=this._transitionablePaint.transitioned(r,this._transitioningPaint)},t.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},t.prototype.recalculate=function(r,A){r.getCrossfadeParameters&&(this._crossfadeParameters=r.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(r,void 0,A)),this.paint=this._transitioningPaint.possiblyEvaluate(r,void 0,A)},t.prototype.serialize=function(){var r={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(r.layout=r.layout||{},r.layout.visibility=this.visibility),We(r,function(A,l){return!(void 0===A||"layout"===l&&!Object.keys(A).length||"paint"===l&&!Object.keys(A).length)})},t.prototype._validate=function(r,A,l,u,f){return void 0===f&&(f={}),(!f||!1!==f.validate)&&dn(this,r.call(at,{key:A,layerType:this.type,objectKey:l,value:u,styleSpec:ee,style:{glyphs:!0,sprite:!0}}))},t.prototype.is3D=function(){return!1},t.prototype.isTileClipped=function(){return!1},t.prototype.hasOffscreenPass=function(){return!1},t.prototype.resize=function(){},t.prototype.isStateDependent=function(){for(var r in this.paint._values){var A=this.paint.get(r);if(A instanceof mi&&Do(A.property.specification)&&("source"===A.value.kind||"composite"===A.value.kind)&&A.value.isStateDependent)return!0}return!1},t}(Ce),os={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},fA=function(e,t){this._structArray=e,this._pos1=t*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Wr=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function zn(e,t){void 0===t&&(t=1);var r=0,A=0;return{members:e.map(function(l){var u=os[l.type].BYTES_PER_ELEMENT,f=r=as(r,Math.max(t,u)),b=l.components||1;return A=Math.max(A,u),r+=u*b,{name:l.name,type:l.type,components:b,offset:f}}),size:as(r,Math.max(A,t)),alignment:t}}function as(e,t){return Math.ceil(e/t)*t}Wr.serialize=function(e,t){return e._trim(),t&&(e.isTransferred=!0,t.push(e.arrayBuffer)),{length:e.length,arrayBuffer:e.arrayBuffer}},Wr.deserialize=function(e){var t=Object.create(this.prototype);return t.arrayBuffer=e.arrayBuffer,t.length=e.length,t.capacity=e.arrayBuffer.byteLength/t.bytesPerElement,t._refreshViews(),t},Wr.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},Wr.prototype.clear=function(){this.length=0},Wr.prototype.resize=function(e){this.reserve(e),this.length=e},Wr.prototype.reserve=function(e){if(e>this.capacity){this.capacity=Math.max(e,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var t=this.uint8;this._refreshViews(),t&&this.uint8.set(t)}},Wr.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var Wo=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(r,A){var l=this.length;return this.resize(l+1),this.emplace(l,r,A)},t.prototype.emplace=function(r,A,l){var u=2*r;return this.int16[u+0]=A,this.int16[u+1]=l,r},t}(Wr);Wo.prototype.bytesPerElement=4,Ot("StructArrayLayout2i4",Wo);var As=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(r,A,l,u){var f=this.length;return this.resize(f+1),this.emplace(f,r,A,l,u)},t.prototype.emplace=function(r,A,l,u,f){var b=4*r;return this.int16[b+0]=A,this.int16[b+1]=l,this.int16[b+2]=u,this.int16[b+3]=f,r},t}(Wr);As.prototype.bytesPerElement=8,Ot("StructArrayLayout4i8",As);var ki=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(r,A,l,u,f,b){var k=this.length;return this.resize(k+1),this.emplace(k,r,A,l,u,f,b)},t.prototype.emplace=function(r,A,l,u,f,b,k){var U=6*r;return this.int16[U+0]=A,this.int16[U+1]=l,this.int16[U+2]=u,this.int16[U+3]=f,this.int16[U+4]=b,this.int16[U+5]=k,r},t}(Wr);ki.prototype.bytesPerElement=12,Ot("StructArrayLayout2i4i12",ki);var vi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(r,A,l,u,f,b){var k=this.length;return this.resize(k+1),this.emplace(k,r,A,l,u,f,b)},t.prototype.emplace=function(r,A,l,u,f,b,k){var U=4*r,j=8*r;return this.int16[U+0]=A,this.int16[U+1]=l,this.uint8[j+4]=u,this.uint8[j+5]=f,this.uint8[j+6]=b,this.uint8[j+7]=k,r},t}(Wr);vi.prototype.bytesPerElement=8,Ot("StructArrayLayout2i4ub8",vi);var Jo=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(r,A){var l=this.length;return this.resize(l+1),this.emplace(l,r,A)},t.prototype.emplace=function(r,A,l){var u=2*r;return this.float32[u+0]=A,this.float32[u+1]=l,r},t}(Wr);Jo.prototype.bytesPerElement=8,Ot("StructArrayLayout2f8",Jo);var qi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(r,A,l,u,f,b,k,U,j,K){var q=this.length;return this.resize(q+1),this.emplace(q,r,A,l,u,f,b,k,U,j,K)},t.prototype.emplace=function(r,A,l,u,f,b,k,U,j,K,q){var W=10*r;return this.uint16[W+0]=A,this.uint16[W+1]=l,this.uint16[W+2]=u,this.uint16[W+3]=f,this.uint16[W+4]=b,this.uint16[W+5]=k,this.uint16[W+6]=U,this.uint16[W+7]=j,this.uint16[W+8]=K,this.uint16[W+9]=q,r},t}(Wr);qi.prototype.bytesPerElement=20,Ot("StructArrayLayout10ui20",qi);var dA=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(r,A,l,u,f,b,k,U,j,K,q,W){var Ae=this.length;return this.resize(Ae+1),this.emplace(Ae,r,A,l,u,f,b,k,U,j,K,q,W)},t.prototype.emplace=function(r,A,l,u,f,b,k,U,j,K,q,W,Ae){var ce=12*r;return this.int16[ce+0]=A,this.int16[ce+1]=l,this.int16[ce+2]=u,this.int16[ce+3]=f,this.uint16[ce+4]=b,this.uint16[ce+5]=k,this.uint16[ce+6]=U,this.uint16[ce+7]=j,this.int16[ce+8]=K,this.int16[ce+9]=q,this.int16[ce+10]=W,this.int16[ce+11]=Ae,r},t}(Wr);dA.prototype.bytesPerElement=24,Ot("StructArrayLayout4i4ui4i24",dA);var Ua=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(r,A,l){var u=this.length;return this.resize(u+1),this.emplace(u,r,A,l)},t.prototype.emplace=function(r,A,l,u){var f=3*r;return this.float32[f+0]=A,this.float32[f+1]=l,this.float32[f+2]=u,r},t}(Wr);Ua.prototype.bytesPerElement=12,Ot("StructArrayLayout3f12",Ua);var gA=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(r){var A=this.length;return this.resize(A+1),this.emplace(A,r)},t.prototype.emplace=function(r,A){return this.uint32[1*r+0]=A,r},t}(Wr);gA.prototype.bytesPerElement=4,Ot("StructArrayLayout1ul4",gA);var MA=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(r,A,l,u,f,b,k,U,j){var K=this.length;return this.resize(K+1),this.emplace(K,r,A,l,u,f,b,k,U,j)},t.prototype.emplace=function(r,A,l,u,f,b,k,U,j,K){var q=10*r,W=5*r;return this.int16[q+0]=A,this.int16[q+1]=l,this.int16[q+2]=u,this.int16[q+3]=f,this.int16[q+4]=b,this.int16[q+5]=k,this.uint32[W+3]=U,this.uint16[q+8]=j,this.uint16[q+9]=K,r},t}(Wr);MA.prototype.bytesPerElement=20,Ot("StructArrayLayout6i1ul2ui20",MA);var Oa=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(r,A,l,u,f,b){var k=this.length;return this.resize(k+1),this.emplace(k,r,A,l,u,f,b)},t.prototype.emplace=function(r,A,l,u,f,b,k){var U=6*r;return this.int16[U+0]=A,this.int16[U+1]=l,this.int16[U+2]=u,this.int16[U+3]=f,this.int16[U+4]=b,this.int16[U+5]=k,r},t}(Wr);Oa.prototype.bytesPerElement=12,Ot("StructArrayLayout2i2i2i12",Oa);var Mo=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(r,A,l,u,f){var b=this.length;return this.resize(b+1),this.emplace(b,r,A,l,u,f)},t.prototype.emplace=function(r,A,l,u,f,b){var k=4*r,U=8*r;return this.float32[k+0]=A,this.float32[k+1]=l,this.float32[k+2]=u,this.int16[U+6]=f,this.int16[U+7]=b,r},t}(Wr);Mo.prototype.bytesPerElement=16,Ot("StructArrayLayout2f1f2i16",Mo);var jA=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(r,A,l,u){var f=this.length;return this.resize(f+1),this.emplace(f,r,A,l,u)},t.prototype.emplace=function(r,A,l,u,f){var b=12*r,k=3*r;return this.uint8[b+0]=A,this.uint8[b+1]=l,this.float32[k+1]=u,this.float32[k+2]=f,r},t}(Wr);jA.prototype.bytesPerElement=12,Ot("StructArrayLayout2ub2f12",jA);var $o=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(r,A,l){var u=this.length;return this.resize(u+1),this.emplace(u,r,A,l)},t.prototype.emplace=function(r,A,l,u){var f=3*r;return this.uint16[f+0]=A,this.uint16[f+1]=l,this.uint16[f+2]=u,r},t}(Wr);$o.prototype.bytesPerElement=6,Ot("StructArrayLayout3ui6",$o);var Co=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(r,A,l,u,f,b,k,U,j,K,q,W,Ae,ce,xe,ge,Pe){var Ge=this.length;return this.resize(Ge+1),this.emplace(Ge,r,A,l,u,f,b,k,U,j,K,q,W,Ae,ce,xe,ge,Pe)},t.prototype.emplace=function(r,A,l,u,f,b,k,U,j,K,q,W,Ae,ce,xe,ge,Pe,Ge){var qe=24*r,$e=12*r,st=48*r;return this.int16[qe+0]=A,this.int16[qe+1]=l,this.uint16[qe+2]=u,this.uint16[qe+3]=f,this.uint32[$e+2]=b,this.uint32[$e+3]=k,this.uint32[$e+4]=U,this.uint16[qe+10]=j,this.uint16[qe+11]=K,this.uint16[qe+12]=q,this.float32[$e+7]=W,this.float32[$e+8]=Ae,this.uint8[st+36]=ce,this.uint8[st+37]=xe,this.uint8[st+38]=ge,this.uint32[$e+10]=Pe,this.int16[qe+22]=Ge,r},t}(Wr);Co.prototype.bytesPerElement=48,Ot("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Co);var RA=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(r,A,l,u,f,b,k,U,j,K,q,W,Ae,ce,xe,ge,Pe,Ge,qe,$e,st,yt,Ft,Vt,Tt,er,St,Qr){var sr=this.length;return this.resize(sr+1),this.emplace(sr,r,A,l,u,f,b,k,U,j,K,q,W,Ae,ce,xe,ge,Pe,Ge,qe,$e,st,yt,Ft,Vt,Tt,er,St,Qr)},t.prototype.emplace=function(r,A,l,u,f,b,k,U,j,K,q,W,Ae,ce,xe,ge,Pe,Ge,qe,$e,st,yt,Ft,Vt,Tt,er,St,Qr,sr){var zt=34*r,Pr=17*r;return this.int16[zt+0]=A,this.int16[zt+1]=l,this.int16[zt+2]=u,this.int16[zt+3]=f,this.int16[zt+4]=b,this.int16[zt+5]=k,this.int16[zt+6]=U,this.int16[zt+7]=j,this.uint16[zt+8]=K,this.uint16[zt+9]=q,this.uint16[zt+10]=W,this.uint16[zt+11]=Ae,this.uint16[zt+12]=ce,this.uint16[zt+13]=xe,this.uint16[zt+14]=ge,this.uint16[zt+15]=Pe,this.uint16[zt+16]=Ge,this.uint16[zt+17]=qe,this.uint16[zt+18]=$e,this.uint16[zt+19]=st,this.uint16[zt+20]=yt,this.uint16[zt+21]=Ft,this.uint16[zt+22]=Vt,this.uint32[Pr+12]=Tt,this.float32[Pr+13]=er,this.float32[Pr+14]=St,this.float32[Pr+15]=Qr,this.float32[Pr+16]=sr,r},t}(Wr);RA.prototype.bytesPerElement=68,Ot("StructArrayLayout8i15ui1ul4f68",RA);var ea=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(r){var A=this.length;return this.resize(A+1),this.emplace(A,r)},t.prototype.emplace=function(r,A){return this.float32[1*r+0]=A,r},t}(Wr);ea.prototype.bytesPerElement=4,Ot("StructArrayLayout1f4",ea);var Pi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(r,A,l){var u=this.length;return this.resize(u+1),this.emplace(u,r,A,l)},t.prototype.emplace=function(r,A,l,u){var f=3*r;return this.int16[f+0]=A,this.int16[f+1]=l,this.int16[f+2]=u,r},t}(Wr);Pi.prototype.bytesPerElement=6,Ot("StructArrayLayout3i6",Pi);var zA=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(r,A,l){var u=this.length;return this.resize(u+1),this.emplace(u,r,A,l)},t.prototype.emplace=function(r,A,l,u){var f=4*r;return this.uint32[2*r+0]=A,this.uint16[f+2]=l,this.uint16[f+3]=u,r},t}(Wr);zA.prototype.bytesPerElement=8,Ot("StructArrayLayout1ul2ui8",zA);var mA=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(r,A){var l=this.length;return this.resize(l+1),this.emplace(l,r,A)},t.prototype.emplace=function(r,A,l){var u=2*r;return this.uint16[u+0]=A,this.uint16[u+1]=l,r},t}(Wr);mA.prototype.bytesPerElement=4,Ot("StructArrayLayout2ui4",mA);var GA=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(r){var A=this.length;return this.resize(A+1),this.emplace(A,r)},t.prototype.emplace=function(r,A){return this.uint16[1*r+0]=A,r},t}(Wr);GA.prototype.bytesPerElement=2,Ot("StructArrayLayout1ui2",GA);var La=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(r,A,l,u){var f=this.length;return this.resize(f+1),this.emplace(f,r,A,l,u)},t.prototype.emplace=function(r,A,l,u,f){var b=4*r;return this.float32[b+0]=A,this.float32[b+1]=l,this.float32[b+2]=u,this.float32[b+3]=f,r},t}(Wr);La.prototype.bytesPerElement=16,Ot("StructArrayLayout4f16",La);var n=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var r={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return r.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},r.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},r.x1.get=function(){return this._structArray.int16[this._pos2+2]},r.y1.get=function(){return this._structArray.int16[this._pos2+3]},r.x2.get=function(){return this._structArray.int16[this._pos2+4]},r.y2.get=function(){return this._structArray.int16[this._pos2+5]},r.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},r.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},r.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},r.anchorPoint.get=function(){return new F(this.anchorPointX,this.anchorPointY)},Object.defineProperties(t.prototype,r),t}(fA);n.prototype.size=20;var a=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.get=function(r){return new n(this,r)},t}(MA);Ot("CollisionBoxArray",a);var o=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var r={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return r.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},r.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},r.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},r.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},r.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},r.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},r.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},r.segment.get=function(){return this._structArray.uint16[this._pos2+10]},r.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},r.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},r.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},r.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},r.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},r.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},r.placedOrientation.set=function(A){this._structArray.uint8[this._pos1+37]=A},r.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},r.hidden.set=function(A){this._structArray.uint8[this._pos1+38]=A},r.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},r.crossTileID.set=function(A){this._structArray.uint32[this._pos4+10]=A},r.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(t.prototype,r),t}(fA);o.prototype.size=48;var c=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.get=function(r){return new o(this,r)},t}(Co);Ot("PlacedSymbolArray",c);var p=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var r={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return r.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},r.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},r.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},r.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},r.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},r.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},r.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},r.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},r.key.get=function(){return this._structArray.uint16[this._pos2+8]},r.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},r.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},r.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},r.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},r.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},r.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},r.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},r.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},r.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},r.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},r.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},r.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},r.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},r.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},r.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},r.crossTileID.set=function(A){this._structArray.uint32[this._pos4+12]=A},r.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},r.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},r.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},r.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(t.prototype,r),t}(fA);p.prototype.size=68;var y=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.get=function(r){return new p(this,r)},t}(RA);Ot("SymbolInstanceArray",y);var _=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getoffsetX=function(r){return this.float32[1*r+0]},t}(ea);Ot("GlyphOffsetArray",_);var Q=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getx=function(r){return this.int16[3*r+0]},t.prototype.gety=function(r){return this.int16[3*r+1]},t.prototype.gettileUnitDistanceFromAnchor=function(r){return this.int16[3*r+2]},t}(Pi);Ot("SymbolLineVertexArray",Q);var O=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var r={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return r.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},r.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},r.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(t.prototype,r),t}(fA);O.prototype.size=8;var X=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.get=function(r){return new O(this,r)},t}(zA);Ot("FeatureIndexArray",X);var J=zn([{name:"a_pos",components:2,type:"Int16"}],4).members,$=function(e){void 0===e&&(e=[]),this.segments=e};function te(e,t){return 256*(e=L(Math.floor(e),0,255))+L(Math.floor(t),0,255)}$.prototype.prepareSegment=function(e,t,r,A){var l=this.segments[this.segments.length-1];return e>$.MAX_VERTEX_ARRAY_LENGTH&&De("Max vertices per segment is "+$.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+e),(!l||l.vertexLength+e>$.MAX_VERTEX_ARRAY_LENGTH||l.sortKey!==A)&&(l={vertexOffset:t.length,primitiveOffset:r.length,vertexLength:0,primitiveLength:0},void 0!==A&&(l.sortKey=A),this.segments.push(l)),l},$.prototype.get=function(){return this.segments},$.prototype.destroy=function(){for(var e=0,t=this.segments;e<t.length;e+=1){var r=t[e];for(var A in r.vaos)r.vaos[A].destroy()}},$.simpleSegment=function(e,t,r,A){return new $([{vertexOffset:e,primitiveOffset:t,vertexLength:r,primitiveLength:A,vaos:{},sortKey:0}])},$.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Ot("SegmentVector",$);var le=zn([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),se=v(function(e){e.exports=function(t,r){var A,l,u,f,b,k,U,j;for(l=t.length-(A=3&t.length),u=r,b=3432918353,k=461845907,j=0;j<l;)U=255&t.charCodeAt(j)|(255&t.charCodeAt(++j))<<8|(255&t.charCodeAt(++j))<<16|(255&t.charCodeAt(++j))<<24,++j,u=27492+(65535&(f=5*(65535&(u=(u^=U=(65535&(U=(U=(65535&U)*b+(((U>>>16)*b&65535)<<16)&4294967295)<<15|U>>>17))*k+(((U>>>16)*k&65535)<<16)&4294967295)<<13|u>>>19))+((5*(u>>>16)&65535)<<16)&4294967295))+((58964+(f>>>16)&65535)<<16);switch(U=0,A){case 3:U^=(255&t.charCodeAt(j+2))<<16;case 2:U^=(255&t.charCodeAt(j+1))<<8;case 1:u^=U=(65535&(U=(U=(65535&(U^=255&t.charCodeAt(j)))*b+(((U>>>16)*b&65535)<<16)&4294967295)<<15|U>>>17))*k+(((U>>>16)*k&65535)<<16)&4294967295}return u^=t.length,u=2246822507*(65535&(u^=u>>>16))+((2246822507*(u>>>16)&65535)<<16)&4294967295,u=3266489909*(65535&(u^=u>>>13))+((3266489909*(u>>>16)&65535)<<16)&4294967295,(u^=u>>>16)>>>0}}),be=v(function(e){e.exports=function(t,r){for(var A,l=t.length,u=r^l,f=0;l>=4;)A=1540483477*(65535&(A=255&t.charCodeAt(f)|(255&t.charCodeAt(++f))<<8|(255&t.charCodeAt(++f))<<16|(255&t.charCodeAt(++f))<<24))+((1540483477*(A>>>16)&65535)<<16),u=1540483477*(65535&u)+((1540483477*(u>>>16)&65535)<<16)^(A=1540483477*(65535&(A^=A>>>24))+((1540483477*(A>>>16)&65535)<<16)),l-=4,++f;switch(l){case 3:u^=(255&t.charCodeAt(f+2))<<16;case 2:u^=(255&t.charCodeAt(f+1))<<8;case 1:u=1540483477*(65535&(u^=255&t.charCodeAt(f)))+((1540483477*(u>>>16)&65535)<<16)}return u=1540483477*(65535&(u^=u>>>13))+((1540483477*(u>>>16)&65535)<<16),(u^=u>>>15)>>>0}}),oe=se,_e=be;oe.murmur3=se,oe.murmur2=_e;var Qe=function(){this.ids=[],this.positions=[],this.indexed=!1};Qe.prototype.add=function(e,t,r,A){this.ids.push(et(e)),this.positions.push(t,r,A)},Qe.prototype.getPositions=function(e){for(var t=et(e),r=0,A=this.ids.length-1;r<A;){var l=r+A>>1;this.ids[l]>=t?A=l:r=l+1}for(var u=[];this.ids[r]===t;)u.push({index:this.positions[3*r],start:this.positions[3*r+1],end:this.positions[3*r+2]}),r++;return u},Qe.serialize=function(e,t){var r=new Float64Array(e.ids),A=new Uint32Array(e.positions);return function l(u,f,b,k){for(;b<k;){for(var U=u[b+k>>1],j=b-1,K=k+1;;){do{j++}while(u[j]<U);do{K--}while(u[K]>U);if(j>=K)break;Ze(u,j,K),Ze(f,3*j,3*K),Ze(f,3*j+1,3*K+1),Ze(f,3*j+2,3*K+2)}K-b<k-K?(l(u,f,b,K),b=K+1):(l(u,f,K+1,k),k=K)}}(r,A,0,r.length-1),t&&t.push(r.buffer,A.buffer),{ids:r,positions:A}},Qe.deserialize=function(e){var t=new Qe;return t.ids=e.ids,t.positions=e.positions,t.indexed=!0,t};var Me=Math.pow(2,53)-1;function et(e){var t=+e;return!isNaN(t)&&t<=Me?t:oe(String(e))}function Ze(e,t,r){var A=e[t];e[t]=e[r],e[r]=A}Ot("FeaturePositionMap",Qe);var it=function(e,t){this.gl=e.gl,this.location=t},ft=function(e){function t(r,A){e.call(this,r,A),this.current=0}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(r){this.current!==r&&(this.current=r,this.gl.uniform1i(this.location,r))},t}(it),Bt=function(e){function t(r,A){e.call(this,r,A),this.current=0}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(r){this.current!==r&&(this.current=r,this.gl.uniform1f(this.location,r))},t}(it),wt=function(e){function t(r,A){e.call(this,r,A),this.current=[0,0]}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(r){r[0]===this.current[0]&&r[1]===this.current[1]||(this.current=r,this.gl.uniform2f(this.location,r[0],r[1]))},t}(it),Pt=function(e){function t(r,A){e.call(this,r,A),this.current=[0,0,0]}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(r){r[0]===this.current[0]&&r[1]===this.current[1]&&r[2]===this.current[2]||(this.current=r,this.gl.uniform3f(this.location,r[0],r[1],r[2]))},t}(it),qt=function(e){function t(r,A){e.call(this,r,A),this.current=[0,0,0,0]}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(r){r[0]===this.current[0]&&r[1]===this.current[1]&&r[2]===this.current[2]&&r[3]===this.current[3]||(this.current=r,this.gl.uniform4f(this.location,r[0],r[1],r[2],r[3]))},t}(it),Jt=function(e){function t(r,A){e.call(this,r,A),this.current=wr.transparent}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(r){r.r===this.current.r&&r.g===this.current.g&&r.b===this.current.b&&r.a===this.current.a||(this.current=r,this.gl.uniform4f(this.location,r.r,r.g,r.b,r.a))},t}(it),$t=new Float32Array(16),Ur=function(e){function t(r,A){e.call(this,r,A),this.current=$t}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(r){if(r[12]!==this.current[12]||r[0]!==this.current[0])return this.current=r,void this.gl.uniformMatrix4fv(this.location,!1,r);for(var A=1;A<16;A++)if(r[A]!==this.current[A]){this.current=r,this.gl.uniformMatrix4fv(this.location,!1,r);break}},t}(it);function Lt(e){return[te(255*e.r,255*e.g),te(255*e.b,255*e.a)]}var pr=function(e,t,r){this.value=e,this.uniformNames=t.map(function(A){return"u_"+A}),this.type=r};pr.prototype.setUniform=function(e,t,r){e.set(r.constantOr(this.value))},pr.prototype.getBinding=function(e,t,r){return"color"===this.type?new Jt(e,t):new Bt(e,t)};var _r=function(e,t){this.uniformNames=t.map(function(r){return"u_"+r}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};_r.prototype.setConstantPatternPositions=function(e,t){this.pixelRatioFrom=t.pixelRatio,this.pixelRatioTo=e.pixelRatio,this.patternFrom=t.tlbr,this.patternTo=e.tlbr},_r.prototype.setUniform=function(e,t,r,A){var l="u_pattern_to"===A?this.patternTo:"u_pattern_from"===A?this.patternFrom:"u_pixel_ratio_to"===A?this.pixelRatioTo:"u_pixel_ratio_from"===A?this.pixelRatioFrom:null;l&&e.set(l)},_r.prototype.getBinding=function(e,t,r){return"u_pattern"===r.substr(0,9)?new qt(e,t):new Bt(e,t)};var hr=function(e,t,r,A){this.expression=e,this.type=r,this.maxValue=0,this.paintVertexAttributes=t.map(function(l){return{name:"a_"+l,type:"Float32",components:"color"===r?2:1,offset:0}}),this.paintVertexArray=new A};hr.prototype.populatePaintArray=function(e,t,r,A,l){var u=this.paintVertexArray.length,f=this.expression.evaluate(new Er(0),t,{},A,[],l);this.paintVertexArray.resize(e),this._setPaintValue(u,e,f)},hr.prototype.updatePaintArray=function(e,t,r,A){var l=this.expression.evaluate({zoom:0},r,A);this._setPaintValue(e,t,l)},hr.prototype._setPaintValue=function(e,t,r){if("color"===this.type)for(var A=Lt(r),l=e;l<t;l++)this.paintVertexArray.emplace(l,A[0],A[1]);else{for(var u=e;u<t;u++)this.paintVertexArray.emplace(u,r);this.maxValue=Math.max(this.maxValue,Math.abs(r))}},hr.prototype.upload=function(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},hr.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var ur=function(e,t,r,A,l,u){this.expression=e,this.uniformNames=t.map(function(f){return"u_"+f+"_t"}),this.type=r,this.useIntegerZoom=A,this.zoom=l,this.maxValue=0,this.paintVertexAttributes=t.map(function(f){return{name:"a_"+f,type:"Float32",components:"color"===r?4:2,offset:0}}),this.paintVertexArray=new u};ur.prototype.populatePaintArray=function(e,t,r,A,l){var u=this.expression.evaluate(new Er(this.zoom),t,{},A,[],l),f=this.expression.evaluate(new Er(this.zoom+1),t,{},A,[],l),b=this.paintVertexArray.length;this.paintVertexArray.resize(e),this._setPaintValue(b,e,u,f)},ur.prototype.updatePaintArray=function(e,t,r,A){var l=this.expression.evaluate({zoom:this.zoom},r,A),u=this.expression.evaluate({zoom:this.zoom+1},r,A);this._setPaintValue(e,t,l,u)},ur.prototype._setPaintValue=function(e,t,r,A){if("color"===this.type)for(var l=Lt(r),u=Lt(A),f=e;f<t;f++)this.paintVertexArray.emplace(f,l[0],l[1],u[0],u[1]);else{for(var b=e;b<t;b++)this.paintVertexArray.emplace(b,r,A);this.maxValue=Math.max(this.maxValue,Math.abs(r),Math.abs(A))}},ur.prototype.upload=function(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},ur.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},ur.prototype.setUniform=function(e,t){var r=this.useIntegerZoom?Math.floor(t.zoom):t.zoom,A=L(this.expression.interpolationFactor(r,this.zoom,this.zoom+1),0,1);e.set(A)},ur.prototype.getBinding=function(e,t,r){return new Bt(e,t)};var yr=function(e,t,r,A,l,u){this.expression=e,this.type=t,this.useIntegerZoom=r,this.zoom=A,this.layerId=u,this.zoomInPaintVertexArray=new l,this.zoomOutPaintVertexArray=new l};yr.prototype.populatePaintArray=function(e,t,r){var A=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(e),this.zoomOutPaintVertexArray.resize(e),this._setPaintValues(A,e,t.patterns&&t.patterns[this.layerId],r)},yr.prototype.updatePaintArray=function(e,t,r,A,l){this._setPaintValues(e,t,r.patterns&&r.patterns[this.layerId],l)},yr.prototype._setPaintValues=function(e,t,r,A){if(A&&r){var l=A[r.min],u=A[r.mid],f=A[r.max];if(l&&u&&f)for(var b=e;b<t;b++)this.zoomInPaintVertexArray.emplace(b,u.tl[0],u.tl[1],u.br[0],u.br[1],l.tl[0],l.tl[1],l.br[0],l.br[1],u.pixelRatio,l.pixelRatio),this.zoomOutPaintVertexArray.emplace(b,u.tl[0],u.tl[1],u.br[0],u.br[1],f.tl[0],f.tl[1],f.br[0],f.br[1],u.pixelRatio,f.pixelRatio)}},yr.prototype.upload=function(e){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=e.createVertexBuffer(this.zoomInPaintVertexArray,le.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=e.createVertexBuffer(this.zoomOutPaintVertexArray,le.members,this.expression.isStateDependent))},yr.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var lr=function(e,t,r){this.binders={},this._buffers=[];var A=[];for(var l in e.paint._values)if(r(l)){var u=e.paint.get(l);if(u instanceof mi&&Do(u.property.specification)){var f=qn(l,e.type),b=u.value,k=u.property.specification.type,U=u.property.useIntegerZoom,j=u.property.specification["property-type"],K="cross-faded"===j||"cross-faded-data-driven"===j;if("constant"===b.kind)this.binders[l]=K?new _r(b.value,f):new pr(b.value,f,k),A.push("/u_"+l);else if("source"===b.kind||K){var q=_n(l,k,"source");this.binders[l]=K?new yr(b,k,U,t,q,e.id):new hr(b,f,k,q),A.push("/a_"+l)}else{var W=_n(l,k,"composite");this.binders[l]=new ur(b,f,k,U,t,W),A.push("/z_"+l)}}}this.cacheKey=A.sort().join("")};lr.prototype.getMaxValue=function(e){var t=this.binders[e];return t instanceof hr||t instanceof ur?t.maxValue:0},lr.prototype.populatePaintArrays=function(e,t,r,A,l){for(var u in this.binders){var f=this.binders[u];(f instanceof hr||f instanceof ur||f instanceof yr)&&f.populatePaintArray(e,t,r,A,l)}},lr.prototype.setConstantPatternPositions=function(e,t){for(var r in this.binders){var A=this.binders[r];A instanceof _r&&A.setConstantPatternPositions(e,t)}},lr.prototype.updatePaintArrays=function(e,t,r,A,l){var u=!1;for(var f in e)for(var b=0,k=t.getPositions(f);b<k.length;b+=1){var U=k[b],j=r.feature(U.index);for(var K in this.binders){var q=this.binders[K];if((q instanceof hr||q instanceof ur||q instanceof yr)&&!0===q.expression.isStateDependent){var W=A.paint.get(K);q.expression=W.value,q.updatePaintArray(U.start,U.end,j,e[f],l),u=!0}}}return u},lr.prototype.defines=function(){var e=[];for(var t in this.binders){var r=this.binders[t];(r instanceof pr||r instanceof _r)&&e.push.apply(e,r.uniformNames.map(function(A){return"#define HAS_UNIFORM_"+A}))}return e},lr.prototype.getBinderAttributes=function(){var e=[];for(var t in this.binders){var r=this.binders[t];if(r instanceof hr||r instanceof ur)for(var A=0;A<r.paintVertexAttributes.length;A++)e.push(r.paintVertexAttributes[A].name);else if(r instanceof yr)for(var l=0;l<le.members.length;l++)e.push(le.members[l].name)}return e},lr.prototype.getBinderUniforms=function(){var e=[];for(var t in this.binders){var r=this.binders[t];if(r instanceof pr||r instanceof _r||r instanceof ur)for(var A=0,l=r.uniformNames;A<l.length;A+=1)e.push(l[A])}return e},lr.prototype.getPaintVertexBuffers=function(){return this._buffers},lr.prototype.getUniforms=function(e,t){var r=[];for(var A in this.binders){var l=this.binders[A];if(l instanceof pr||l instanceof _r||l instanceof ur)for(var u=0,f=l.uniformNames;u<f.length;u+=1){var b=f[u];if(t[b]){var k=l.getBinding(e,t[b],b);r.push({name:b,property:A,binding:k})}}}return r},lr.prototype.setUniforms=function(e,t,r,A){for(var l=0,u=t;l<u.length;l+=1){var f=u[l],b=f.name,k=f.property;this.binders[k].setUniform(f.binding,A,r.get(k),b)}},lr.prototype.updatePaintBuffers=function(e){for(var t in this._buffers=[],this.binders){var r=this.binders[t];if(e&&r instanceof yr){var A=2===e.fromScale?r.zoomInPaintVertexBuffer:r.zoomOutPaintVertexBuffer;A&&this._buffers.push(A)}else(r instanceof hr||r instanceof ur)&&r.paintVertexBuffer&&this._buffers.push(r.paintVertexBuffer)}},lr.prototype.upload=function(e){for(var t in this.binders){var r=this.binders[t];(r instanceof hr||r instanceof ur||r instanceof yr)&&r.upload(e)}this.updatePaintBuffers()},lr.prototype.destroy=function(){for(var e in this.binders){var t=this.binders[e];(t instanceof hr||t instanceof ur||t instanceof yr)&&t.destroy()}};var or=function(e,t,r){void 0===r&&(r=function(){return!0}),this.programConfigurations={};for(var A=0,l=e;A<l.length;A+=1){var u=l[A];this.programConfigurations[u.id]=new lr(u,t,r)}this.needsUpload=!1,this._featureMap=new Qe,this._bufferOffset=0};function qn(e,t){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[e]||[e.replace(t+"-","").replace(/-/g,"_")]}function _n(e,t,r){var l={"line-pattern":{source:qi,composite:qi},"fill-pattern":{source:qi,composite:qi},"fill-extrusion-pattern":{source:qi,composite:qi}}[e];return l&&l[r]||{color:{source:Jo,composite:La},number:{source:ea,composite:Jo}}[t][r]}or.prototype.populatePaintArrays=function(e,t,r,A,l,u){for(var f in this.programConfigurations)this.programConfigurations[f].populatePaintArrays(e,t,A,l,u);void 0!==t.id&&this._featureMap.add(t.id,r,this._bufferOffset,e),this._bufferOffset=e,this.needsUpload=!0},or.prototype.updatePaintArrays=function(e,t,r,A){for(var l=0,u=r;l<u.length;l+=1){var f=u[l];this.needsUpload=this.programConfigurations[f.id].updatePaintArrays(e,this._featureMap,t,f,A)||this.needsUpload}},or.prototype.get=function(e){return this.programConfigurations[e]},or.prototype.upload=function(e){if(this.needsUpload){for(var t in this.programConfigurations)this.programConfigurations[t].upload(e);this.needsUpload=!1}},or.prototype.destroy=function(){for(var e in this.programConfigurations)this.programConfigurations[e].destroy()},Ot("ConstantBinder",pr),Ot("CrossFadedConstantBinder",_r),Ot("SourceExpressionBinder",hr),Ot("CrossFadedCompositeBinder",yr),Ot("CompositeExpressionBinder",ur),Ot("ProgramConfiguration",lr,{omit:["_buffers"]}),Ot("ProgramConfigurationSet",or);var Gn=Math.pow(2,14)-1,Jn=-Gn-1;function bn(e){for(var t=8192/e.extent,r=e.loadGeometry(),A=0;A<r.length;A++)for(var l=r[A],u=0;u<l.length;u++){var f=l[u],b=Math.round(f.x*t),k=Math.round(f.y*t);f.x=L(b,Jn,Gn),f.y=L(k,Jn,Gn),(b<f.x||b>f.x+1||k<f.y||k>f.y+1)&&De("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return r}function h(e,t){return{type:e.type,id:e.id,properties:e.properties,geometry:t?bn(e):[]}}function E(e,t,r,A,l){e.emplaceBack(2*t+(A+1)/2,2*r+(l+1)/2)}var D=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(function(t){return t.id}),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new Wo,this.indexArray=new $o,this.segments=new $,this.programConfigurations=new or(e.layers,e.zoom),this.stateDependentLayerIds=this.layers.filter(function(t){return t.isStateDependent()}).map(function(t){return t.id})};function H(e,t){for(var r=0;r<e.length;r++)if(Li(t,e[r]))return!0;for(var A=0;A<t.length;A++)if(Li(e,t[A]))return!0;return!!gt(e,t)}function me(e,t,r){return!!Li(e,t)||!!Cr(t,e,r)}function ke(e,t){if(1===e.length)return Ao(t,e[0]);for(var r=0;r<t.length;r++)for(var A=t[r],l=0;l<A.length;l++)if(Li(e,A[l]))return!0;for(var u=0;u<e.length;u++)if(Ao(t,e[u]))return!0;for(var f=0;f<t.length;f++)if(gt(e,t[f]))return!0;return!1}function Re(e,t,r){if(e.length>1){if(gt(e,t))return!0;for(var A=0;A<t.length;A++)if(Cr(t[A],e,r))return!0}for(var l=0;l<e.length;l++)if(Cr(e[l],t,r))return!0;return!1}function gt(e,t){if(0===e.length||0===t.length)return!1;for(var r=0;r<e.length-1;r++)for(var A=e[r],l=e[r+1],u=0;u<t.length-1;u++)if(rr(A,l,t[u],t[u+1]))return!0;return!1}function rr(e,t,r,A){return tt(e,r,A)!==tt(t,r,A)&&tt(e,t,r)!==tt(e,t,A)}function Cr(e,t,r){var A=r*r;if(1===t.length)return e.distSqr(t[0])<A;for(var l=1;l<t.length;l++)if(Hn(e,t[l-1],t[l])<A)return!0;return!1}function Hn(e,t,r){var A=t.distSqr(r);if(0===A)return e.distSqr(t);var l=((e.x-t.x)*(r.x-t.x)+(e.y-t.y)*(r.y-t.y))/A;return e.distSqr(l<0?t:l>1?r:r.sub(t)._mult(l)._add(t))}function Ao(e,t){for(var r,A,l,u=!1,f=0;f<e.length;f++)for(var b=0,k=(r=e[f]).length-1;b<r.length;k=b++)(A=r[b]).y>t.y!=(l=r[k]).y>t.y&&t.x<(l.x-A.x)*(t.y-A.y)/(l.y-A.y)+A.x&&(u=!u);return u}function Li(e,t){for(var r=!1,A=0,l=e.length-1;A<e.length;l=A++){var u=e[A],f=e[l];u.y>t.y!=f.y>t.y&&t.x<(f.x-u.x)*(t.y-u.y)/(f.y-u.y)+u.x&&(r=!r)}return r}function ta(e,t,r){var A=r[0],l=r[2];if(e.x<A.x&&t.x<A.x||e.x>l.x&&t.x>l.x||e.y<A.y&&t.y<A.y||e.y>l.y&&t.y>l.y)return!1;var u=tt(e,t,r[0]);return u!==tt(e,t,r[1])||u!==tt(e,t,r[2])||u!==tt(e,t,r[3])}function ra(e,t,r){var A=t.paint.get(e).value;return"constant"===A.kind?A.value:r.programConfigurations.get(t.id).getMaxValue(e)}function oi(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function ya(e,t,r,A,l){if(!t[0]&&!t[1])return e;var u=F.convert(t)._mult(l);"viewport"===r&&u._rotate(-A);for(var f=[],b=0;b<e.length;b++)f.push(e[b].sub(u));return f}D.prototype.populate=function(e,t,r){var A=this.layers[0],l=[],u=null;"circle"===A.type&&(u=A.layout.get("circle-sort-key"));for(var f=0,b=e;f<b.length;f+=1){var k=b[f],U=k.feature,j=k.id,K=k.index,q=k.sourceLayerIndex,W=this.layers[0]._featureFilter.needGeometry,Ae=h(U,W);if(this.layers[0]._featureFilter.filter(new Er(this.zoom),Ae,r)){var ce=u?u.evaluate(Ae,{},r):void 0,xe={id:j,properties:U.properties,type:U.type,sourceLayerIndex:q,index:K,geometry:W?Ae.geometry:bn(U),patterns:{},sortKey:ce};l.push(xe)}}u&&l.sort(function(Ft,Vt){return Ft.sortKey-Vt.sortKey});for(var ge=0,Pe=l;ge<Pe.length;ge+=1){var Ge=Pe[ge],qe=Ge.geometry,$e=Ge.index,st=Ge.sourceLayerIndex,yt=e[$e].feature;this.addFeature(Ge,qe,$e,r),t.featureIndex.insert(yt,qe,$e,st,this.index)}},D.prototype.update=function(e,t,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,r)},D.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},D.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},D.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,J),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0},D.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},D.prototype.addFeature=function(e,t,r,A){for(var l=0,u=t;l<u.length;l+=1)for(var f=0,b=u[l];f<b.length;f+=1){var k=b[f],U=k.x,j=k.y;if(!(U<0||U>=8192||j<0||j>=8192)){var K=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,e.sortKey),q=K.vertexLength;E(this.layoutVertexArray,U,j,-1,-1),E(this.layoutVertexArray,U,j,1,-1),E(this.layoutVertexArray,U,j,1,1),E(this.layoutVertexArray,U,j,-1,1),this.indexArray.emplaceBack(q,q+1,q+2),this.indexArray.emplaceBack(q,q+3,q+2),K.vertexLength+=4,K.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,r,{},A)},Ot("CircleBucket",D,{omit:["layers"]});var Ma=new ii({"circle-sort-key":new Mt(ee.layout_circle["circle-sort-key"])}),yA={paint:new ii({"circle-radius":new Mt(ee.paint_circle["circle-radius"]),"circle-color":new Mt(ee.paint_circle["circle-color"]),"circle-blur":new Mt(ee.paint_circle["circle-blur"]),"circle-opacity":new Mt(ee.paint_circle["circle-opacity"]),"circle-translate":new Yt(ee.paint_circle["circle-translate"]),"circle-translate-anchor":new Yt(ee.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Yt(ee.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Yt(ee.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Mt(ee.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Mt(ee.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Mt(ee.paint_circle["circle-stroke-opacity"])}),layout:Ma},Jr=typeof Float32Array<"u"?Float32Array:Array;function so(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Mi(e,t,r){var A=t[0],l=t[1],u=t[2],f=t[3],b=t[4],k=t[5],U=t[6],j=t[7],K=t[8],q=t[9],W=t[10],Ae=t[11],ce=t[12],xe=t[13],ge=t[14],Pe=t[15],Ge=r[0],qe=r[1],$e=r[2],st=r[3];return e[0]=Ge*A+qe*b+$e*K+st*ce,e[1]=Ge*l+qe*k+$e*q+st*xe,e[2]=Ge*u+qe*U+$e*W+st*ge,e[3]=Ge*f+qe*j+$e*Ae+st*Pe,e[4]=(Ge=r[4])*A+(qe=r[5])*b+($e=r[6])*K+(st=r[7])*ce,e[5]=Ge*l+qe*k+$e*q+st*xe,e[6]=Ge*u+qe*U+$e*W+st*ge,e[7]=Ge*f+qe*j+$e*Ae+st*Pe,e[8]=(Ge=r[8])*A+(qe=r[9])*b+($e=r[10])*K+(st=r[11])*ce,e[9]=Ge*l+qe*k+$e*q+st*xe,e[10]=Ge*u+qe*U+$e*W+st*ge,e[11]=Ge*f+qe*j+$e*Ae+st*Pe,e[12]=(Ge=r[12])*A+(qe=r[13])*b+($e=r[14])*K+(st=r[15])*ce,e[13]=Ge*l+qe*k+$e*q+st*xe,e[14]=Ge*u+qe*U+$e*W+st*ge,e[15]=Ge*f+qe*j+$e*Ae+st*Pe,e}Math.hypot||(Math.hypot=function(){for(var e=arguments,t=0,r=arguments.length;r--;)t+=e[r]*e[r];return Math.sqrt(t)});var vA,e,qc=Mi;function gs(e,t,r){var A=t[0],l=t[1],u=t[2],f=t[3];return e[0]=r[0]*A+r[4]*l+r[8]*u+r[12]*f,e[1]=r[1]*A+r[5]*l+r[9]*u+r[13]*f,e[2]=r[2]*A+r[6]*l+r[10]*u+r[14]*f,e[3]=r[3]*A+r[7]*l+r[11]*u+r[15]*f,e}vA=new Jr(3),Jr!=Float32Array&&(vA[0]=0,vA[1]=0,vA[2]=0),e=new Jr(4),Jr!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0);var Hc=(function(){var e=new Jr(2);Jr!=Float32Array&&(e[0]=0,e[1]=0)}(),function(e){function t(r){e.call(this,r,yA)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.createBucket=function(r){return new D(r)},t.prototype.queryRadius=function(r){var A=r;return ra("circle-radius",this,A)+ra("circle-stroke-width",this,A)+oi(this.paint.get("circle-translate"))},t.prototype.queryIntersectsFeature=function(r,A,l,u,f,b,k,U){for(var j=ya(r,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),b.angle,k),K=this.paint.get("circle-radius").evaluate(A,l)+this.paint.get("circle-stroke-width").evaluate(A,l),q="map"===this.paint.get("circle-pitch-alignment"),W=q?j:function(yt,Ft){return yt.map(function(Vt){return ss(Vt,Ft)})}(j,U),Ae=q?K*k:K,ce=0,xe=u;ce<xe.length;ce+=1)for(var ge=0,Pe=xe[ce];ge<Pe.length;ge+=1){var Ge=Pe[ge],qe=q?Ge:ss(Ge,U),$e=Ae,st=gs([],[Ge.x,Ge.y,0,1],U);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?$e*=st[3]/b.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&($e*=b.cameraToCenterDistance/st[3]),me(W,qe,$e))return!0}return!1},t}(Eo));function ss(e,t){var r=gs([],[e.x,e.y,0,1],t);return new F(r[0]/r[3],r[1]/r[3])}var dc=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(D);function KA(e,t,r,A){var l=t.width,u=t.height;if(A){if(A instanceof Uint8ClampedArray)A=new Uint8Array(A.buffer);else if(A.length!==l*u*r)throw new RangeError("mismatched image size")}else A=new Uint8Array(l*u*r);return e.width=l,e.height=u,e.data=A,e}function ms(e,t,r){var A=t.width,l=t.height;if(A!==e.width||l!==e.height){var u=KA({},{width:A,height:l},r);Zc(e,u,{x:0,y:0},{x:0,y:0},{width:Math.min(e.width,A),height:Math.min(e.height,l)},r),e.width=A,e.height=l,e.data=u.data}}function Zc(e,t,r,A,l,u){if(0===l.width||0===l.height)return t;if(l.width>e.width||l.height>e.height||r.x>e.width-l.width||r.y>e.height-l.height)throw new RangeError("out of range source coordinates for image copy");if(l.width>t.width||l.height>t.height||A.x>t.width-l.width||A.y>t.height-l.height)throw new RangeError("out of range destination coordinates for image copy");for(var f=e.data,b=t.data,k=0;k<l.height;k++)for(var U=((r.y+k)*e.width+r.x)*u,j=((A.y+k)*t.width+A.x)*u,K=0;K<l.width*u;K++)b[j+K]=f[U+K];return t}Ot("HeatmapBucket",dc,{omit:["layers"]});var cs=function(e,t){KA(this,e,1,t)};cs.prototype.resize=function(e){ms(this,e,1)},cs.prototype.clone=function(){return new cs({width:this.width,height:this.height},new Uint8Array(this.data))},cs.copy=function(e,t,r,A,l){Zc(e,t,r,A,l,1)};var Hi=function(e,t){KA(this,e,4,t)};Hi.prototype.resize=function(e){ms(this,e,4)},Hi.prototype.replace=function(e,t){t?this.data.set(e):this.data=e instanceof Uint8ClampedArray?new Uint8Array(e.buffer):e},Hi.prototype.clone=function(){return new Hi({width:this.width,height:this.height},new Uint8Array(this.data))},Hi.copy=function(e,t,r,A,l){Zc(e,t,r,A,l,4)},Ot("AlphaImage",cs),Ot("RGBAImage",Hi);var Vu={paint:new ii({"heatmap-radius":new Mt(ee.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Mt(ee.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Yt(ee.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Yi(ee.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Yt(ee.paint_heatmap["heatmap-opacity"])})};function Cl(e){var t={},r=e.resolution||256,A=e.clips?e.clips.length:1,l=e.image||new Hi({width:r,height:A}),u=function(Ae,ce,xe){t[e.evaluationKey]=xe;var ge=e.expression.evaluate(t);l.data[Ae+ce+0]=Math.floor(255*ge.r/ge.a),l.data[Ae+ce+1]=Math.floor(255*ge.g/ge.a),l.data[Ae+ce+2]=Math.floor(255*ge.b/ge.a),l.data[Ae+ce+3]=Math.floor(255*ge.a)};if(e.clips)for(var f=0,b=0;f<A;++f,b+=4*r)for(var k=0,U=0;k<r;k++,U+=4){var j=k/(r-1),K=e.clips[f];u(b,U,K.start*(1-j)+K.end*j)}else for(var q=0,W=0;q<r;q++,W+=4)u(0,W,q/(r-1));return l}var Yu=function(e){function t(r){e.call(this,r,Vu),this._updateColorRamp()}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.createBucket=function(r){return new dc(r)},t.prototype._handleSpecialPaintPropertyUpdate=function(r){"heatmap-color"===r&&this._updateColorRamp()},t.prototype._updateColorRamp=function(){this.colorRamp=Cl({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},t.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},t.prototype.queryRadius=function(){return 0},t.prototype.queryIntersectsFeature=function(){return!1},t.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},t}(Eo),qu={paint:new ii({"hillshade-illumination-direction":new Yt(ee.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Yt(ee.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Yt(ee.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Yt(ee.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Yt(ee.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Yt(ee.paint_hillshade["hillshade-accent-color"])})},Hu=function(e){function t(r){e.call(this,r,qu)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},t}(Eo),Zu=zn([{name:"a_pos",components:2,type:"Int16"}],4).members,Wc=gc,Wu=gc;function gc(e,t,r){r=r||2;var A,l,u,f,b,k,U,j=t&&t.length,K=j?t[0]*r:e.length,q=Il(e,0,K,r,!0),W=[];if(!q||q.next===q.prev)return W;if(j&&(q=function(ce,xe,ge,Pe){var Ge,qe,$e,st=[];for(Ge=0,qe=xe.length;Ge<qe;Ge++)($e=Il(ce,xe[Ge]*Pe,Ge<qe-1?xe[Ge+1]*Pe:ce.length,Pe,!1))===$e.next&&($e.steiner=!0),st.push(op($e));for(st.sort(rp),Ge=0;Ge<st.length;Ge++)np(st[Ge],ge),ge=NA(ge,ge.next);return ge}(e,t,q,r)),e.length>80*r){A=u=e[0],l=f=e[1];for(var Ae=r;Ae<K;Ae+=r)(b=e[Ae])<A&&(A=b),(k=e[Ae+1])<l&&(l=k),b>u&&(u=b),k>f&&(f=k);U=0!==(U=Math.max(u-A,f-l))?1/U:0}return Ns(q,W,r,A,l,U),W}function Il(e,t,r,A,l){var u,f;if(l===el(e,t,r,A)>0)for(u=t;u<r;u+=A)f=kl(u,e[u],e[u+1],f);else for(u=r-A;u>=t;u-=A)f=kl(u,e[u],e[u+1],f);return f&&mc(f,f.next)&&(Vs(f),f=f.next),f}function NA(e,t){if(!e)return e;t||(t=e);var r,A=e;do{if(r=!1,A.steiner||!mc(A,A.next)&&0!==$n(A.prev,A,A.next))A=A.next;else{if(Vs(A),(A=t=A.prev)===A.next)break;r=!0}}while(r||A!==t);return t}function Ns(e,t,r,A,l,u,f){if(e){!f&&u&&function(j,K,q,W){var Ae=j;do{null===Ae.z&&(Ae.z=Jc(Ae.x,Ae.y,K,q,W)),Ae.prevZ=Ae.prev,Ae.nextZ=Ae.next,Ae=Ae.next}while(Ae!==j);Ae.prevZ.nextZ=null,Ae.prevZ=null,function(ce){var xe,ge,Pe,Ge,qe,$e,st,yt,Ft=1;do{for(ge=ce,ce=null,qe=null,$e=0;ge;){for($e++,Pe=ge,st=0,xe=0;xe<Ft&&(st++,Pe=Pe.nextZ);xe++);for(yt=Ft;st>0||yt>0&&Pe;)0!==st&&(0===yt||!Pe||ge.z<=Pe.z)?(Ge=ge,ge=ge.nextZ,st--):(Ge=Pe,Pe=Pe.nextZ,yt--),qe?qe.nextZ=Ge:ce=Ge,Ge.prevZ=qe,qe=Ge;ge=Pe}qe.nextZ=null,Ft*=2}while($e>1)}(Ae)}(e,A,l,u);for(var b,k,U=e;e.prev!==e.next;)if(b=e.prev,k=e.next,u?$u(e,A,l,u):Ju(e))t.push(b.i/r),t.push(e.i/r),t.push(k.i/r),Vs(e),e=k.next,U=k.next;else if((e=k)===U){f?1===f?Ns(e=ep(NA(e),t,r),t,r,A,l,u,2):2===f&&tp(e,t,r,A,l,u):Ns(NA(e),t,r,A,l,u,1);break}}}function Ju(e){var t=e.prev,r=e,A=e.next;if($n(t,r,A)>=0)return!1;for(var l=e.next.next;l!==e.prev;){if(ys(t.x,t.y,r.x,r.y,A.x,A.y,l.x,l.y)&&$n(l.prev,l,l.next)>=0)return!1;l=l.next}return!0}function $u(e,t,r,A){var l=e.prev,u=e,f=e.next;if($n(l,u,f)>=0)return!1;for(var b=l.x>u.x?l.x>f.x?l.x:f.x:u.x>f.x?u.x:f.x,k=l.y>u.y?l.y>f.y?l.y:f.y:u.y>f.y?u.y:f.y,U=Jc(l.x<u.x?l.x<f.x?l.x:f.x:u.x<f.x?u.x:f.x,l.y<u.y?l.y<f.y?l.y:f.y:u.y<f.y?u.y:f.y,t,r,A),j=Jc(b,k,t,r,A),K=e.prevZ,q=e.nextZ;K&&K.z>=U&&q&&q.z<=j;){if(K!==e.prev&&K!==e.next&&ys(l.x,l.y,u.x,u.y,f.x,f.y,K.x,K.y)&&$n(K.prev,K,K.next)>=0||(K=K.prevZ,q!==e.prev&&q!==e.next&&ys(l.x,l.y,u.x,u.y,f.x,f.y,q.x,q.y)&&$n(q.prev,q,q.next)>=0))return!1;q=q.nextZ}for(;K&&K.z>=U;){if(K!==e.prev&&K!==e.next&&ys(l.x,l.y,u.x,u.y,f.x,f.y,K.x,K.y)&&$n(K.prev,K,K.next)>=0)return!1;K=K.prevZ}for(;q&&q.z<=j;){if(q!==e.prev&&q!==e.next&&ys(l.x,l.y,u.x,u.y,f.x,f.y,q.x,q.y)&&$n(q.prev,q,q.next)>=0)return!1;q=q.nextZ}return!0}function ep(e,t,r){var A=e;do{var l=A.prev,u=A.next.next;!mc(l,u)&&Ql(l,A,A.next,u)&&Xs(l,u)&&Xs(u,l)&&(t.push(l.i/r),t.push(A.i/r),t.push(u.i/r),Vs(A),Vs(A.next),A=e=u),A=A.next}while(A!==e);return NA(A)}function tp(e,t,r,A,l,u){var f=e;do{for(var b=f.next.next;b!==f.prev;){if(f.i!==b.i&&ap(f,b)){var k=Fl(f,b);return f=NA(f,f.next),k=NA(k,k.next),Ns(f,t,r,A,l,u),void Ns(k,t,r,A,l,u)}b=b.next}f=f.next}while(f!==e)}function rp(e,t){return e.x-t.x}function np(e,t){if(t=function(A,l){var u,f=l,b=A.x,k=A.y,U=-1/0;do{if(k<=f.y&&k>=f.next.y&&f.next.y!==f.y){var j=f.x+(k-f.y)*(f.next.x-f.x)/(f.next.y-f.y);if(j<=b&&j>U){if(U=j,j===b){if(k===f.y)return f;if(k===f.next.y)return f.next}u=f.x<f.next.x?f:f.next}}f=f.next}while(f!==l);if(!u)return null;if(b===U)return u;var K,q=u,W=u.x,Ae=u.y,ce=1/0;f=u;do{b>=f.x&&f.x>=W&&b!==f.x&&ys(k<Ae?b:U,k,W,Ae,k<Ae?U:b,k,f.x,f.y)&&(K=Math.abs(k-f.y)/(b-f.x),Xs(f,A)&&(K<ce||K===ce&&(f.x>u.x||f.x===u.x&&ip(u,f)))&&(u=f,ce=K)),f=f.next}while(f!==q);return u}(e,t)){var r=Fl(t,e);NA(t,t.next),NA(r,r.next)}}function ip(e,t){return $n(e.prev,e,t.prev)<0&&$n(t.next,e,e.next)<0}function Jc(e,t,r,A,l){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*l)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-A)*l)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function op(e){var t=e,r=e;do{(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next}while(t!==e);return r}function ys(e,t,r,A,l,u,f,b){return(l-f)*(t-b)-(e-f)*(u-b)>=0&&(e-f)*(A-b)-(r-f)*(t-b)>=0&&(r-f)*(u-b)-(l-f)*(A-b)>=0}function ap(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(r,A){var l=r;do{if(l.i!==r.i&&l.next.i!==r.i&&l.i!==A.i&&l.next.i!==A.i&&Ql(l,l.next,r,A))return!0;l=l.next}while(l!==r);return!1}(e,t)&&(Xs(e,t)&&Xs(t,e)&&function(r,A){var l=r,u=!1,f=(r.x+A.x)/2,b=(r.y+A.y)/2;do{l.y>b!=l.next.y>b&&l.next.y!==l.y&&f<(l.next.x-l.x)*(b-l.y)/(l.next.y-l.y)+l.x&&(u=!u),l=l.next}while(l!==r);return u}(e,t)&&($n(e.prev,e,t.prev)||$n(e,t.prev,t))||mc(e,t)&&$n(e.prev,e,e.next)>0&&$n(t.prev,t,t.next)>0)}function $n(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function mc(e,t){return e.x===t.x&&e.y===t.y}function Ql(e,t,r,A){var l=vc($n(e,t,r)),u=vc($n(e,t,A)),f=vc($n(r,A,e)),b=vc($n(r,A,t));return l!==u&&f!==b||!(0!==l||!yc(e,r,t))||!(0!==u||!yc(e,A,t))||!(0!==f||!yc(r,e,A))||!(0!==b||!yc(r,t,A))}function yc(e,t,r){return t.x<=Math.max(e.x,r.x)&&t.x>=Math.min(e.x,r.x)&&t.y<=Math.max(e.y,r.y)&&t.y>=Math.min(e.y,r.y)}function vc(e){return e>0?1:e<0?-1:0}function Xs(e,t){return $n(e.prev,e,e.next)<0?$n(e,t,e.next)>=0&&$n(e,e.prev,t)>=0:$n(e,t,e.prev)<0||$n(e,e.next,t)<0}function Fl(e,t){var r=new $c(e.i,e.x,e.y),A=new $c(t.i,t.x,t.y),l=e.next,u=t.prev;return e.next=t,t.prev=e,r.next=l,l.prev=r,A.next=r,r.prev=A,u.next=A,A.prev=u,A}function kl(e,t,r,A){var l=new $c(e,t,r);return A?(l.next=A.next,l.prev=A,A.next.prev=l,A.next=l):(l.prev=l,l.next=l),l}function Vs(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function $c(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function el(e,t,r,A){for(var l=0,u=t,f=r-A;u<r;u+=A)l+=(e[f]-e[u])*(e[u+1]+e[f+1]),f=u;return l}function Ap(e,t,r,A,l){!function u(f,b,k,U,j){for(;U>k;){if(U-k>600){var K=U-k+1,q=b-k+1,W=Math.log(K),Ae=.5*Math.exp(2*W/3),ce=.5*Math.sqrt(W*Ae*(K-Ae)/K)*(q-K/2<0?-1:1);u(f,b,Math.max(k,Math.floor(b-q*Ae/K+ce)),Math.min(U,Math.floor(b+(K-q)*Ae/K+ce)),j)}var xe=f[b],ge=k,Pe=U;for(Ys(f,k,b),j(f[U],xe)>0&&Ys(f,k,U);ge<Pe;){for(Ys(f,ge,Pe),ge++,Pe--;j(f[ge],xe)<0;)ge++;for(;j(f[Pe],xe)>0;)Pe--}0===j(f[k],xe)?Ys(f,k,Pe):Ys(f,++Pe,U),Pe<=b&&(k=Pe+1),b<=Pe&&(U=Pe-1)}}(e,t,r||0,A||e.length-1,l||sp)}function Ys(e,t,r){var A=e[t];e[t]=e[r],e[r]=A}function sp(e,t){return e<t?-1:e>t?1:0}function tl(e,t){var r=e.length;if(r<=1)return[e];for(var A,l,u=[],f=0;f<r;f++){var b=dt(e[f]);0!==b&&(e[f].area=Math.abs(b),void 0===l&&(l=b<0),l===b<0?(A&&u.push(A),A=[e[f]]):A.push(e[f]))}if(A&&u.push(A),t>1)for(var k=0;k<u.length;k++)u[k].length<=t||(Ap(u[k],t,1,u[k].length-1,cp),u[k]=u[k].slice(0,t));return u}function cp(e,t){return t.area-e.area}function rl(e,t,r){for(var A=r.patternDependencies,l=!1,u=0,f=t;u<f.length;u+=1){var b=f[u].paint.get(e+"-pattern");b.isConstant()||(l=!0);var k=b.constantOr(null);k&&(l=!0,A[k.to]=!0,A[k.from]=!0)}return l}function nl(e,t,r,A,l){for(var u=l.patternDependencies,f=0,b=t;f<b.length;f+=1){var k=b[f],U=k.paint.get(e+"-pattern").value;if("constant"!==U.kind){var j=U.evaluate({zoom:A-1},r,{},l.availableImages),K=U.evaluate({zoom:A},r,{},l.availableImages),q=U.evaluate({zoom:A+1},r,{},l.availableImages);K=K&&K.name?K.name:K,q=q&&q.name?q.name:q,u[j=j&&j.name?j.name:j]=!0,u[K]=!0,u[q]=!0,r.patterns[k.id]={min:j,mid:K,max:q}}}return r}gc.deviation=function(e,t,r,A){var l=t&&t.length,u=Math.abs(el(e,0,l?t[0]*r:e.length,r));if(l)for(var f=0,b=t.length;f<b;f++)u-=Math.abs(el(e,t[f]*r,f<b-1?t[f+1]*r:e.length,r));var k=0;for(f=0;f<A.length;f+=3){var U=A[f]*r,j=A[f+1]*r,K=A[f+2]*r;k+=Math.abs((e[U]-e[K])*(e[j+1]-e[U+1])-(e[U]-e[j])*(e[K+1]-e[U+1]))}return 0===u&&0===k?0:Math.abs((k-u)/u)},gc.flatten=function(e){for(var t=e[0][0].length,r={vertices:[],holes:[],dimensions:t},A=0,l=0;l<e.length;l++){for(var u=0;u<e[l].length;u++)for(var f=0;f<t;f++)r.vertices.push(e[l][u][f]);l>0&&r.holes.push(A+=e[l-1].length)}return r},Wc.default=Wu;var va=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(function(t){return t.id}),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Wo,this.indexArray=new $o,this.indexArray2=new mA,this.programConfigurations=new or(e.layers,e.zoom),this.segments=new $,this.segments2=new $,this.stateDependentLayerIds=this.layers.filter(function(t){return t.isStateDependent()}).map(function(t){return t.id})};va.prototype.populate=function(e,t,r){this.hasPattern=rl("fill",this.layers,t);for(var A=this.layers[0].layout.get("fill-sort-key"),l=[],u=0,f=e;u<f.length;u+=1){var b=f[u],k=b.feature,U=b.id,j=b.index,K=b.sourceLayerIndex,q=this.layers[0]._featureFilter.needGeometry,W=h(k,q);if(this.layers[0]._featureFilter.filter(new Er(this.zoom),W,r)){var Ae=A?A.evaluate(W,{},r,t.availableImages):void 0,ce={id:U,properties:k.properties,type:k.type,sourceLayerIndex:K,index:j,geometry:q?W.geometry:bn(k),patterns:{},sortKey:Ae};l.push(ce)}}A&&l.sort(function(yt,Ft){return yt.sortKey-Ft.sortKey});for(var xe=0,ge=l;xe<ge.length;xe+=1){var Pe=ge[xe],Ge=Pe.geometry,qe=Pe.index,$e=Pe.sourceLayerIndex;if(this.hasPattern){var st=nl("fill",this.layers,Pe,this.zoom,t);this.patternFeatures.push(st)}else this.addFeature(Pe,Ge,qe,r,{});t.featureIndex.insert(e[qe].feature,Ge,qe,$e,this.index)}},va.prototype.update=function(e,t,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,r)},va.prototype.addFeatures=function(e,t,r){for(var A=0,l=this.patternFeatures;A<l.length;A+=1){var u=l[A];this.addFeature(u,u.geometry,u.index,t,r)}},va.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},va.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},va.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Zu),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.indexBuffer2=e.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(e),this.uploaded=!0},va.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},va.prototype.addFeature=function(e,t,r,A,l){for(var u=0,f=tl(t,500);u<f.length;u+=1){for(var b=f[u],k=0,U=0,j=b;U<j.length;U+=1)k+=j[U].length;for(var K=this.segments.prepareSegment(k,this.layoutVertexArray,this.indexArray),q=K.vertexLength,W=[],Ae=[],ce=0,xe=b;ce<xe.length;ce+=1){var ge=xe[ce];if(0!==ge.length){ge!==b[0]&&Ae.push(W.length/2);var Pe=this.segments2.prepareSegment(ge.length,this.layoutVertexArray,this.indexArray2),Ge=Pe.vertexLength;this.layoutVertexArray.emplaceBack(ge[0].x,ge[0].y),this.indexArray2.emplaceBack(Ge+ge.length-1,Ge),W.push(ge[0].x),W.push(ge[0].y);for(var qe=1;qe<ge.length;qe++)this.layoutVertexArray.emplaceBack(ge[qe].x,ge[qe].y),this.indexArray2.emplaceBack(Ge+qe-1,Ge+qe),W.push(ge[qe].x),W.push(ge[qe].y);Pe.vertexLength+=ge.length,Pe.primitiveLength+=ge.length}}for(var $e=Wc(W,Ae),st=0;st<$e.length;st+=3)this.indexArray.emplaceBack(q+$e[st],q+$e[st+1],q+$e[st+2]);K.vertexLength+=k,K.primitiveLength+=$e.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,r,l,A)},Ot("FillBucket",va,{omit:["layers","patternFeatures"]});var lp=new ii({"fill-sort-key":new Mt(ee.layout_fill["fill-sort-key"])}),up={paint:new ii({"fill-antialias":new Yt(ee.paint_fill["fill-antialias"]),"fill-opacity":new Mt(ee.paint_fill["fill-opacity"]),"fill-color":new Mt(ee.paint_fill["fill-color"]),"fill-outline-color":new Mt(ee.paint_fill["fill-outline-color"]),"fill-translate":new Yt(ee.paint_fill["fill-translate"]),"fill-translate-anchor":new Yt(ee.paint_fill["fill-translate-anchor"]),"fill-pattern":new hA(ee.paint_fill["fill-pattern"])}),layout:lp},pp=function(e){function t(r){e.call(this,r,up)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.recalculate=function(r,A){e.prototype.recalculate.call(this,r,A);var l=this.paint._values["fill-outline-color"];"constant"===l.value.kind&&void 0===l.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},t.prototype.createBucket=function(r){return new va(r)},t.prototype.queryRadius=function(){return oi(this.paint.get("fill-translate"))},t.prototype.queryIntersectsFeature=function(r,A,l,u,f,b,k){return ke(ya(r,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),b.angle,k),u)},t.prototype.isTileClipped=function(){return!0},t}(Eo),hp=zn([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,Pl=vs;function vs(e,t,r,A,l){this.properties={},this.extent=r,this.type=0,this._pbf=e,this._geometry=-1,this._keys=A,this._values=l,e.readFields(fp,this,t)}function fp(e,t,r){1==e?t.id=r.readVarint():2==e?function(A,l){for(var u=A.readVarint()+A.pos;A.pos<u;){var f=l._keys[A.readVarint()],b=l._values[A.readVarint()];l.properties[f]=b}}(r,t):3==e?t.type=r.readVarint():4==e&&(t._geometry=r.pos)}function dp(e){for(var t,r,A=0,l=0,u=e.length,f=u-1;l<u;f=l++)A+=((r=e[f]).x-(t=e[l]).x)*(t.y+r.y);return A}vs.types=["Unknown","Point","LineString","Polygon"],vs.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t,r=e.readVarint()+e.pos,A=1,l=0,u=0,f=0,b=[];e.pos<r;){if(l<=0){var k=e.readVarint();A=7&k,l=k>>3}if(l--,1===A||2===A)u+=e.readSVarint(),f+=e.readSVarint(),1===A&&(t&&b.push(t),t=[]),t.push(new F(u,f));else{if(7!==A)throw new Error("unknown command "+A);t&&t.push(t[0].clone())}}return t&&b.push(t),b},vs.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,r=1,A=0,l=0,u=0,f=1/0,b=-1/0,k=1/0,U=-1/0;e.pos<t;){if(A<=0){var j=e.readVarint();r=7&j,A=j>>3}if(A--,1===r||2===r)(l+=e.readSVarint())<f&&(f=l),l>b&&(b=l),(u+=e.readSVarint())<k&&(k=u),u>U&&(U=u);else if(7!==r)throw new Error("unknown command "+r)}return[f,k,b,U]},vs.prototype.toGeoJSON=function(e,t,r){var A,l,u=this.extent*Math.pow(2,r),f=this.extent*e,b=this.extent*t,k=this.loadGeometry(),U=vs.types[this.type];function j(W){for(var Ae=0;Ae<W.length;Ae++){var ce=W[Ae];W[Ae]=[360*(ce.x+f)/u-180,360/Math.PI*Math.atan(Math.exp((180-360*(ce.y+b)/u)*Math.PI/180))-90]}}switch(this.type){case 1:var K=[];for(A=0;A<k.length;A++)K[A]=k[A][0];j(k=K);break;case 2:for(A=0;A<k.length;A++)j(k[A]);break;case 3:for(k=function(W){var Ae=W.length;if(Ae<=1)return[W];for(var ce,xe,ge=[],Pe=0;Pe<Ae;Pe++){var Ge=dp(W[Pe]);0!==Ge&&(void 0===xe&&(xe=Ge<0),xe===Ge<0?(ce&&ge.push(ce),ce=[W[Pe]]):ce.push(W[Pe]))}return ce&&ge.push(ce),ge}(k),A=0;A<k.length;A++)for(l=0;l<k[A].length;l++)j(k[A][l])}1===k.length?k=k[0]:U="Multi"+U;var q={type:"Feature",geometry:{type:U,coordinates:k},properties:this.properties};return"id"in this&&(q.id=this.id),q};var Sl=Dl;function Dl(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(gp,this,t),this.length=this._features.length}function gp(e,t,r){15===e?t.version=r.readVarint():1===e?t.name=r.readString():5===e?t.extent=r.readVarint():2===e?t._features.push(r.pos):3===e?t._keys.push(r.readString()):4===e&&t._values.push(function(A){for(var l=null,u=A.readVarint()+A.pos;A.pos<u;){var f=A.readVarint()>>3;l=1===f?A.readString():2===f?A.readFloat():3===f?A.readDouble():4===f?A.readVarint64():5===f?A.readVarint():6===f?A.readSVarint():7===f?A.readBoolean():null}return l}(r))}function mp(e,t,r){if(3===e){var A=new Sl(r,r.readVarint()+r.pos);A.length&&(t[A.name]=A)}}Dl.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new Pl(this._pbf,t,this.extent,this._keys,this._values)};var _s={VectorTile:function(e,t){this.layers=e.readFields(mp,{},t)},VectorTileFeature:Pl,VectorTileLayer:Sl},yp=_s.VectorTileFeature.types,il=Math.pow(2,13);function qs(e,t,r,A,l,u,f,b){e.emplaceBack(t,r,2*Math.floor(A*il)+f,l*il*2,u*il*2,Math.round(b))}var _a=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(function(t){return t.id}),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new ki,this.indexArray=new $o,this.programConfigurations=new or(e.layers,e.zoom),this.segments=new $,this.stateDependentLayerIds=this.layers.filter(function(t){return t.isStateDependent()}).map(function(t){return t.id})};function vp(e,t){return e.x===t.x&&(e.x<0||e.x>8192)||e.y===t.y&&(e.y<0||e.y>8192)}_a.prototype.populate=function(e,t,r){this.features=[],this.hasPattern=rl("fill-extrusion",this.layers,t);for(var A=0,l=e;A<l.length;A+=1){var u=l[A],f=u.feature,b=u.id,k=u.index,U=u.sourceLayerIndex,j=this.layers[0]._featureFilter.needGeometry,K=h(f,j);if(this.layers[0]._featureFilter.filter(new Er(this.zoom),K,r)){var q={id:b,sourceLayerIndex:U,index:k,geometry:j?K.geometry:bn(f),properties:f.properties,type:f.type,patterns:{}};this.hasPattern?this.features.push(nl("fill-extrusion",this.layers,q,this.zoom,t)):this.addFeature(q,q.geometry,k,r,{}),t.featureIndex.insert(f,q.geometry,k,U,this.index,!0)}}},_a.prototype.addFeatures=function(e,t,r){for(var A=0,l=this.features;A<l.length;A+=1){var u=l[A];this.addFeature(u,u.geometry,u.index,t,r)}},_a.prototype.update=function(e,t,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,r)},_a.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},_a.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},_a.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,hp),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0},_a.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},_a.prototype.addFeature=function(e,t,r,A,l){for(var u=0,f=tl(t,500);u<f.length;u+=1){for(var b=f[u],k=0,U=0,j=b;U<j.length;U+=1)k+=j[U].length;for(var K=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),q=0,W=b;q<W.length;q+=1){var Ae=W[q];if(0!==Ae.length&&!((Pr=Ae).every(function(Ir){return Ir.x<0})||Pr.every(function(Ir){return Ir.x>8192})||Pr.every(function(Ir){return Ir.y<0})||Pr.every(function(Ir){return Ir.y>8192})))for(var ce=0,xe=0;xe<Ae.length;xe++){var ge=Ae[xe];if(xe>=1){var Pe=Ae[xe-1];if(!vp(ge,Pe)){K.vertexLength+4>$.MAX_VERTEX_ARRAY_LENGTH&&(K=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var Ge=ge.sub(Pe)._perp()._unit(),qe=Pe.dist(ge);ce+qe>32768&&(ce=0),qs(this.layoutVertexArray,ge.x,ge.y,Ge.x,Ge.y,0,0,ce),qs(this.layoutVertexArray,ge.x,ge.y,Ge.x,Ge.y,0,1,ce),qs(this.layoutVertexArray,Pe.x,Pe.y,Ge.x,Ge.y,0,0,ce+=qe),qs(this.layoutVertexArray,Pe.x,Pe.y,Ge.x,Ge.y,0,1,ce);var $e=K.vertexLength;this.indexArray.emplaceBack($e,$e+2,$e+1),this.indexArray.emplaceBack($e+1,$e+2,$e+3),K.vertexLength+=4,K.primitiveLength+=2}}}}if(K.vertexLength+k>$.MAX_VERTEX_ARRAY_LENGTH&&(K=this.segments.prepareSegment(k,this.layoutVertexArray,this.indexArray)),"Polygon"===yp[e.type]){for(var st=[],yt=[],Ft=K.vertexLength,Vt=0,Tt=b;Vt<Tt.length;Vt+=1){var er=Tt[Vt];if(0!==er.length){er!==b[0]&&yt.push(st.length/2);for(var St=0;St<er.length;St++){var Qr=er[St];qs(this.layoutVertexArray,Qr.x,Qr.y,0,0,1,1,0),st.push(Qr.x),st.push(Qr.y)}}}for(var sr=Wc(st,yt),zt=0;zt<sr.length;zt+=3)this.indexArray.emplaceBack(Ft+sr[zt],Ft+sr[zt+2],Ft+sr[zt+1]);K.primitiveLength+=sr.length/3,K.vertexLength+=k}}var Pr;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,r,l,A)},Ot("FillExtrusionBucket",_a,{omit:["layers","features"]});var _p={paint:new ii({"fill-extrusion-opacity":new Yt(ee["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Mt(ee["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Yt(ee["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Yt(ee["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new hA(ee["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Mt(ee["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Mt(ee["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Yt(ee["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},bp=function(e){function t(r){e.call(this,r,_p)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.createBucket=function(r){return new _a(r)},t.prototype.queryRadius=function(){return oi(this.paint.get("fill-extrusion-translate"))},t.prototype.is3D=function(){return!0},t.prototype.queryIntersectsFeature=function(r,A,l,u,f,b,k,U){var j=ya(r,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),b.angle,k),K=this.paint.get("fill-extrusion-height").evaluate(A,l),q=this.paint.get("fill-extrusion-base").evaluate(A,l),W=function(ce,xe,ge,Pe){for(var Ge=[],qe=0,$e=ce;qe<$e.length;qe+=1){var st=$e[qe],yt=[st.x,st.y,0,1];gs(yt,yt,xe),Ge.push(new F(yt[0]/yt[3],yt[1]/yt[3]))}return Ge}(j,U),Ae=function(ce,xe,ge,Pe){for(var Ge=[],qe=[],$e=Pe[8]*xe,st=Pe[9]*xe,yt=Pe[10]*xe,Ft=Pe[11]*xe,Vt=Pe[8]*ge,Tt=Pe[9]*ge,er=Pe[10]*ge,St=Pe[11]*ge,Qr=0,sr=ce;Qr<sr.length;Qr+=1){for(var zt=[],Pr=[],Ir=0,Or=sr[Qr];Ir<Or.length;Ir+=1){var cr=Or[Ir],Vr=cr.x,xn=cr.y,Un=Pe[0]*Vr+Pe[4]*xn+Pe[12],kn=Pe[1]*Vr+Pe[5]*xn+Pe[13],Bn=Pe[2]*Vr+Pe[6]*xn+Pe[14],On=Pe[3]*Vr+Pe[7]*xn+Pe[15],ai=Bn+yt,Ai=On+Ft,Di=Un+Vt,ui=kn+Tt,Ti=Bn+er,Kn=On+St,pi=new F((Un+$e)/Ai,(kn+st)/Ai);pi.z=ai/Ai,zt.push(pi);var Tr=new F(Di/Kn,ui/Kn);Tr.z=Ti/Kn,Pr.push(Tr)}Ge.push(zt),qe.push(Pr)}return[Ge,qe]}(u,q,K,U);return function(ce,xe,ge){var Pe=1/0;ke(ge,xe)&&(Pe=Tl(ge,xe[0]));for(var Ge=0;Ge<xe.length;Ge++)for(var qe=xe[Ge],$e=ce[Ge],st=0;st<qe.length-1;st++){var yt=qe[st],Ft=[yt,qe[st+1],$e[st+1],$e[st],yt];H(ge,Ft)&&(Pe=Math.min(Pe,Tl(ge,Ft)))}return Pe!==1/0&&Pe}(Ae[0],Ae[1],W)},t}(Eo);function Hs(e,t){return e.x*t.x+e.y*t.y}function Tl(e,t){if(1===e.length){for(var r,A=0,l=t[A++];!r||l.equals(r);)if(!(r=t[A++]))return 1/0;for(;A<t.length;A++){var u=t[A],f=e[0],b=r.sub(l),k=u.sub(l),U=f.sub(l),j=Hs(b,b),K=Hs(b,k),q=Hs(k,k),W=Hs(U,b),Ae=Hs(U,k),ce=j*q-K*K,xe=(q*W-K*Ae)/ce,ge=(j*Ae-K*W)/ce,Pe=l.z*(1-xe-ge)+r.z*xe+u.z*ge;if(isFinite(Pe))return Pe}return 1/0}for(var Ge=1/0,qe=0,$e=t;qe<$e.length;qe+=1)Ge=Math.min(Ge,$e[qe].z);return Ge}var wp=zn([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,xp=zn([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]).members,Bp=_s.VectorTileFeature.types,Ep=Math.cos(Math.PI/180*37.5),Ul=Math.pow(2,14)/.5,ji=function(e){var t=this;this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(function(r){return r.id}),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(function(r){t.gradients[r.id]={}}),this.layoutVertexArray=new vi,this.layoutVertexArray2=new Jo,this.indexArray=new $o,this.programConfigurations=new or(e.layers,e.zoom),this.segments=new $,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(function(r){return r.isStateDependent()}).map(function(r){return r.id})};ji.prototype.populate=function(e,t,r){this.hasPattern=rl("line",this.layers,t);for(var A=this.layers[0].layout.get("line-sort-key"),l=[],u=0,f=e;u<f.length;u+=1){var b=f[u],k=b.feature,U=b.id,j=b.index,K=b.sourceLayerIndex,q=this.layers[0]._featureFilter.needGeometry,W=h(k,q);if(this.layers[0]._featureFilter.filter(new Er(this.zoom),W,r)){var Ae=A?A.evaluate(W,{},r):void 0,ce={id:U,properties:k.properties,type:k.type,sourceLayerIndex:K,index:j,geometry:q?W.geometry:bn(k),patterns:{},sortKey:Ae};l.push(ce)}}A&&l.sort(function(yt,Ft){return yt.sortKey-Ft.sortKey});for(var xe=0,ge=l;xe<ge.length;xe+=1){var Pe=ge[xe],Ge=Pe.geometry,qe=Pe.index,$e=Pe.sourceLayerIndex;if(this.hasPattern){var st=nl("line",this.layers,Pe,this.zoom,t);this.patternFeatures.push(st)}else this.addFeature(Pe,Ge,qe,r,{});t.featureIndex.insert(e[qe].feature,Ge,qe,$e,this.index)}},ji.prototype.update=function(e,t,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,r)},ji.prototype.addFeatures=function(e,t,r){for(var A=0,l=this.patternFeatures;A<l.length;A+=1){var u=l[A];this.addFeature(u,u.geometry,u.index,t,r)}},ji.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},ji.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ji.prototype.upload=function(e){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=e.createVertexBuffer(this.layoutVertexArray2,xp)),this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,wp),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0},ji.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},ji.prototype.lineFeatureClips=function(e){if(e.properties&&e.properties.hasOwnProperty("mapbox_clip_start")&&e.properties.hasOwnProperty("mapbox_clip_end"))return{start:+e.properties.mapbox_clip_start,end:+e.properties.mapbox_clip_end}},ji.prototype.addFeature=function(e,t,r,A,l){var u=this.layers[0].layout,f=u.get("line-join").evaluate(e,{}),b=u.get("line-cap"),k=u.get("line-miter-limit"),U=u.get("line-round-limit");this.lineClips=this.lineFeatureClips(e);for(var j=0,K=t;j<K.length;j+=1)this.addLine(K[j],e,f,b,k,U);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,r,l,A)},ji.prototype.addLine=function(e,t,r,A,l,u){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var f=0;f<e.length-1;f++)this.totalDistance+=e[f].dist(e[f+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var b="Polygon"===Bp[t.type],k=e.length;k>=2&&e[k-1].equals(e[k-2]);)k--;for(var U=0;U<k-1&&e[U].equals(e[U+1]);)U++;if(!(k<(b?3:2))){"bevel"===r&&(l=1.05);var j,K=this.overscaling<=16?122880/(512*this.overscaling):0,q=this.segments.prepareSegment(10*k,this.layoutVertexArray,this.indexArray),W=void 0,Ae=void 0,ce=void 0,xe=void 0;this.e1=this.e2=-1,b&&(xe=e[U].sub(j=e[k-2])._unit()._perp());for(var ge=U;ge<k;ge++)if(!(Ae=ge===k-1?b?e[U+1]:void 0:e[ge+1])||!e[ge].equals(Ae)){xe&&(ce=xe),j&&(W=j),j=e[ge],xe=Ae?Ae.sub(j)._unit()._perp():ce;var Pe=(ce=ce||xe).add(xe);0===Pe.x&&0===Pe.y||Pe._unit();var Ge=ce.x*xe.x+ce.y*xe.y,qe=Pe.x*xe.x+Pe.y*xe.y,$e=0!==qe?1/qe:1/0,st=2*Math.sqrt(2-2*qe),yt=qe<Ep&&W&&Ae,Ft=ce.x*xe.y-ce.y*xe.x>0;if(yt&&ge>U){var Vt=j.dist(W);if(Vt>2*K){var Tt=j.sub(j.sub(W)._mult(K/Vt)._round());this.updateDistance(W,Tt),this.addCurrentVertex(Tt,ce,0,0,q),W=Tt}}var er=W&&Ae,St=er?r:b?"butt":A;if(er&&"round"===St&&($e<u?St="miter":$e<=2&&(St="fakeround")),"miter"===St&&$e>l&&(St="bevel"),"bevel"===St&&($e>2&&(St="flipbevel"),$e<l&&(St="miter")),W&&this.updateDistance(W,j),"miter"===St)Pe._mult($e),this.addCurrentVertex(j,Pe,0,0,q);else if("flipbevel"===St){if($e>100)Pe=xe.mult(-1);else{var Qr=$e*ce.add(xe).mag()/ce.sub(xe).mag();Pe._perp()._mult(Qr*(Ft?-1:1))}this.addCurrentVertex(j,Pe,0,0,q),this.addCurrentVertex(j,Pe.mult(-1),0,0,q)}else if("bevel"===St||"fakeround"===St){var sr=-Math.sqrt($e*$e-1),zt=Ft?sr:0,Pr=Ft?0:sr;if(W&&this.addCurrentVertex(j,ce,zt,Pr,q),"fakeround"===St)for(var Ir=Math.round(180*st/Math.PI/20),Or=1;Or<Ir;Or++){var cr=Or/Ir;if(.5!==cr){var Vr=cr-.5;cr+=cr*Vr*(cr-1)*((1.0904+Ge*(Ge*(3.55645-1.43519*Ge)-3.2452))*Vr*Vr+(.848013+Ge*(.215638*Ge-1.06021)))}var xn=xe.sub(ce)._mult(cr)._add(ce)._unit()._mult(Ft?-1:1);this.addHalfVertex(j,xn.x,xn.y,!1,Ft,0,q)}Ae&&this.addCurrentVertex(j,xe,-zt,-Pr,q)}else if("butt"===St)this.addCurrentVertex(j,Pe,0,0,q);else if("square"===St){var Un=W?1:-1;this.addCurrentVertex(j,Pe,Un,Un,q)}else"round"===St&&(W&&(this.addCurrentVertex(j,ce,0,0,q),this.addCurrentVertex(j,ce,1,1,q,!0)),Ae&&(this.addCurrentVertex(j,xe,-1,-1,q,!0),this.addCurrentVertex(j,xe,0,0,q)));if(yt&&ge<k-1){var kn=j.dist(Ae);if(kn>2*K){var Bn=j.add(Ae.sub(j)._mult(K/kn)._round());this.updateDistance(j,Bn),this.addCurrentVertex(Bn,xe,0,0,q),j=Bn}}}}},ji.prototype.addCurrentVertex=function(e,t,r,A,l,u){void 0===u&&(u=!1);var f=t.y*A-t.x,b=-t.y-t.x*A;this.addHalfVertex(e,t.x+t.y*r,t.y-t.x*r,u,!1,r,l),this.addHalfVertex(e,f,b,u,!0,-A,l),this.distance>Ul/2&&0===this.totalDistance&&(this.distance=0,this.addCurrentVertex(e,t,r,A,l,u))},ji.prototype.addHalfVertex=function(e,t,r,A,l,u,f){var b=.5*(this.lineClips?this.scaledDistance*(Ul-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((e.x<<1)+(A?1:0),(e.y<<1)+(l?1:0),Math.round(63*t)+128,Math.round(63*r)+128,1+(0===u?0:u<0?-1:1)|(63&b)<<2,b>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);var k=f.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,k),f.primitiveLength++),l?this.e2=k:this.e1=k},ji.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},ji.prototype.updateDistance=function(e,t){this.distance+=e.dist(t),this.updateScaledDistance()},Ot("LineBucket",ji,{omit:["layers","patternFeatures"]});var Cp=new ii({"line-cap":new Yt(ee.layout_line["line-cap"]),"line-join":new Mt(ee.layout_line["line-join"]),"line-miter-limit":new Yt(ee.layout_line["line-miter-limit"]),"line-round-limit":new Yt(ee.layout_line["line-round-limit"]),"line-sort-key":new Mt(ee.layout_line["line-sort-key"])}),Ol={paint:new ii({"line-opacity":new Mt(ee.paint_line["line-opacity"]),"line-color":new Mt(ee.paint_line["line-color"]),"line-translate":new Yt(ee.paint_line["line-translate"]),"line-translate-anchor":new Yt(ee.paint_line["line-translate-anchor"]),"line-width":new Mt(ee.paint_line["line-width"]),"line-gap-width":new Mt(ee.paint_line["line-gap-width"]),"line-offset":new Mt(ee.paint_line["line-offset"]),"line-blur":new Mt(ee.paint_line["line-blur"]),"line-dasharray":new yi(ee.paint_line["line-dasharray"]),"line-pattern":new hA(ee.paint_line["line-pattern"]),"line-gradient":new Yi(ee.paint_line["line-gradient"])}),layout:Cp},Ll=new(function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.possiblyEvaluate=function(r,A){return A=new Er(Math.floor(A.zoom),{now:A.now,fadeDuration:A.fadeDuration,zoomHistory:A.zoomHistory,transition:A.transition}),e.prototype.possiblyEvaluate.call(this,r,A)},t.prototype.evaluate=function(r,A,l,u){return A=N({},A,{zoom:Math.floor(A.zoom)}),e.prototype.evaluate.call(this,r,A,l,u)},t}(Mt))(Ol.paint.properties["line-width"].specification);Ll.useIntegerZoom=!0;var Ip=function(e){function t(r){e.call(this,r,Ol),this.gradientVersion=0}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._handleSpecialPaintPropertyUpdate=function(r){"line-gradient"===r&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof fi,this.gradientVersion=(this.gradientVersion+1)%S)},t.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},t.prototype.recalculate=function(r,A){e.prototype.recalculate.call(this,r,A),this.paint._values["line-floorwidth"]=Ll.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,r)},t.prototype.createBucket=function(r){return new ji(r)},t.prototype.queryRadius=function(r){var A=r,l=Ml(ra("line-width",this,A),ra("line-gap-width",this,A)),u=ra("line-offset",this,A);return l/2+Math.abs(u)+oi(this.paint.get("line-translate"))},t.prototype.queryIntersectsFeature=function(r,A,l,u,f,b,k){var U=ya(r,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),b.angle,k),j=k/2*Ml(this.paint.get("line-width").evaluate(A,l),this.paint.get("line-gap-width").evaluate(A,l)),K=this.paint.get("line-offset").evaluate(A,l);return K&&(u=function(q,W){for(var Ae=[],ce=new F(0,0),xe=0;xe<q.length;xe++){for(var ge=q[xe],Pe=[],Ge=0;Ge<ge.length;Ge++){var qe=ge[Ge],$e=ge[Ge+1],st=0===Ge?ce:qe.sub(ge[Ge-1])._unit()._perp(),yt=Ge===ge.length-1?ce:$e.sub(qe)._unit()._perp(),Ft=st._add(yt)._unit();Ft._mult(1/(Ft.x*yt.x+Ft.y*yt.y)),Pe.push(Ft._mult(W)._add(qe))}Ae.push(Pe)}return Ae}(u,K*k)),function(q,W,Ae){for(var ce=0;ce<W.length;ce++){var xe=W[ce];if(q.length>=3)for(var ge=0;ge<xe.length;ge++)if(Li(q,xe[ge]))return!0;if(Re(q,xe,Ae))return!0}return!1}(U,u,j)},t.prototype.isTileClipped=function(){return!0},t}(Eo);function Ml(e,t){return t>0?t+2*e:e}var Qp=zn([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Fp=zn([{name:"a_projected_pos",components:3,type:"Float32"}],4),kp=(zn([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),zn([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),jl=(zn([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),zn([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),Pp=zn([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function Sp(e,t,r){return e.sections.forEach(function(A){var l,f,b;A.text=(l=A.text,f=r,"uppercase"===(b=t.layout.get("text-transform").evaluate(f,{}))?l=l.toLocaleUpperCase():"lowercase"===b&&(l=l.toLocaleLowerCase()),gi.applyArabicShaping&&(l=gi.applyArabicShaping(l)),l)}),e}zn([{name:"triangle",components:3,type:"Uint16"}]),zn([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),zn([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),zn([{type:"Float32",name:"offsetX"}]),zn([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var Zs={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"},Rl=function(e,t,r,A,l){var u,f,b=8*l-A-1,k=(1<<b)-1,U=k>>1,j=-7,K=r?l-1:0,q=r?-1:1,W=e[t+K];for(K+=q,u=W&(1<<-j)-1,W>>=-j,j+=b;j>0;u=256*u+e[t+K],K+=q,j-=8);for(f=u&(1<<-j)-1,u>>=-j,j+=A;j>0;f=256*f+e[t+K],K+=q,j-=8);if(0===u)u=1-U;else{if(u===k)return f?NaN:1/0*(W?-1:1);f+=Math.pow(2,A),u-=U}return(W?-1:1)*f*Math.pow(2,u-A)},zl=function(e,t,r,A,l,u){var f,b,k,U=8*u-l-1,j=(1<<U)-1,K=j>>1,q=23===l?Math.pow(2,-24)-Math.pow(2,-77):0,W=A?0:u-1,Ae=A?1:-1,ce=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(b=isNaN(t)?1:0,f=j):(f=Math.floor(Math.log(t)/Math.LN2),t*(k=Math.pow(2,-f))<1&&(f--,k*=2),(t+=f+K>=1?q/k:q*Math.pow(2,1-K))*k>=2&&(f++,k/=2),f+K>=j?(b=0,f=j):f+K>=1?(b=(t*k-1)*Math.pow(2,l),f+=K):(b=t*Math.pow(2,K-1)*Math.pow(2,l),f=0));l>=8;e[r+W]=255&b,W+=Ae,b/=256,l-=8);for(f=f<<l|b,U+=l;U>0;e[r+W]=255&f,W+=Ae,f/=256,U-=8);e[r+W-Ae]|=128*ce},_c=gn;function gn(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}gn.Varint=0,gn.Fixed64=1,gn.Bytes=2,gn.Fixed32=5;var Gl=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function _A(e){return e.type===gn.Bytes?e.readVarint()+e.pos:e.pos+1}function Kl(e,t,r){var A=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));r.realloc(A);for(var l=r.pos-1;l>=e;l--)r.buf[l+A]=r.buf[l]}function Dp(e,t){for(var r=0;r<e.length;r++)t.writeVarint(e[r])}function Tp(e,t){for(var r=0;r<e.length;r++)t.writeSVarint(e[r])}function Up(e,t){for(var r=0;r<e.length;r++)t.writeFloat(e[r])}function Op(e,t){for(var r=0;r<e.length;r++)t.writeDouble(e[r])}function Lp(e,t){for(var r=0;r<e.length;r++)t.writeBoolean(e[r])}function Mp(e,t){for(var r=0;r<e.length;r++)t.writeFixed32(e[r])}function jp(e,t){for(var r=0;r<e.length;r++)t.writeSFixed32(e[r])}function Rp(e,t){for(var r=0;r<e.length;r++)t.writeFixed64(e[r])}function zp(e,t){for(var r=0;r<e.length;r++)t.writeSFixed64(e[r])}function bc(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function ws(e,t,r){e[r]=t,e[r+1]=t>>>8,e[r+2]=t>>>16,e[r+3]=t>>>24}function Nl(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}function Gp(e,t,r){1===e&&r.readMessage(Kp,t)}function Kp(e,t,r){if(3===e){var A=r.readMessage(Np,{}),l=A.width,u=A.height,f=A.left,b=A.top,k=A.advance;t.push({id:A.id,bitmap:new cs({width:l+6,height:u+6},A.bitmap),metrics:{width:l,height:u,left:f,top:b,advance:k}})}}function Np(e,t,r){1===e?t.id=r.readVarint():2===e?t.bitmap=r.readBytes():3===e?t.width=r.readVarint():4===e?t.height=r.readVarint():5===e?t.left=r.readSVarint():6===e?t.top=r.readSVarint():7===e&&(t.advance=r.readVarint())}function Xl(e){for(var t=0,r=0,A=0,l=e;A<l.length;A+=1){var u=l[A];t+=u.w*u.h,r=Math.max(r,u.w)}e.sort(function(ce,xe){return xe.h-ce.h});for(var f=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(t/.95)),r),h:1/0}],b=0,k=0,U=0,j=e;U<j.length;U+=1)for(var K=j[U],q=f.length-1;q>=0;q--){var W=f[q];if(!(K.w>W.w||K.h>W.h)){if(K.x=W.x,K.y=W.y,k=Math.max(k,K.y+K.h),b=Math.max(b,K.x+K.w),K.w===W.w&&K.h===W.h){var Ae=f.pop();q<f.length&&(f[q]=Ae)}else K.h===W.h?(W.x+=K.w,W.w-=K.w):K.w===W.w?(W.y+=K.h,W.h-=K.h):(f.push({x:W.x+K.w,y:W.y,w:W.w-K.w,h:K.h}),W.y+=K.h,W.h-=K.h);break}}return{w:b,h:k,fill:t/(b*k)||0}}gn.prototype={destroy:function(){this.buf=null},readFields:function(e,t,r){for(r=r||this.length;this.pos<r;){var A=this.readVarint(),l=A>>3,u=this.pos;this.type=7&A,e(l,t,this),this.pos===u&&this.skip(A)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=bc(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=Nl(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=bc(this.buf,this.pos)+4294967296*bc(this.buf,this.pos+4);return this.pos+=8,e},readSFixed64:function(){var e=bc(this.buf,this.pos)+4294967296*Nl(this.buf,this.pos+4);return this.pos+=8,e},readFloat:function(){var e=Rl(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=Rl(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,r,A=this.buf;return t=127&(r=A[this.pos++]),r<128?t:(t|=(127&(r=A[this.pos++]))<<7,r<128?t:(t|=(127&(r=A[this.pos++]))<<14,r<128?t:(t|=(127&(r=A[this.pos++]))<<21,r<128?t:function(l,u,f){var b,k,U=f.buf;if(b=(112&(k=U[f.pos++]))>>4,k<128||(b|=(127&(k=U[f.pos++]))<<3,k<128)||(b|=(127&(k=U[f.pos++]))<<10,k<128)||(b|=(127&(k=U[f.pos++]))<<17,k<128)||(b|=(127&(k=U[f.pos++]))<<24,k<128)||(b|=(1&(k=U[f.pos++]))<<31,k<128))return function bs(e,t,r){return r?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}(l,b,u);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(r=A[this.pos]))<<28,e,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=12&&Gl?Gl.decode(this.buf.subarray(t,e)):function(r,A,l){for(var u="",f=A;f<l;){var b,k,U,j=r[f],K=null,q=j>239?4:j>223?3:j>191?2:1;if(f+q>l)break;1===q?j<128&&(K=j):2===q?128==(192&(b=r[f+1]))&&(K=(31&j)<<6|63&b)<=127&&(K=null):3===q?(k=r[f+2],128==(192&(b=r[f+1]))&&128==(192&k)&&((K=(15&j)<<12|(63&b)<<6|63&k)<=2047||K>=55296&&K<=57343)&&(K=null)):4===q&&(k=r[f+2],U=r[f+3],128==(192&(b=r[f+1]))&&128==(192&k)&&128==(192&U)&&((K=(15&j)<<18|(63&b)<<12|(63&k)<<6|63&U)<=65535||K>=1114112)&&(K=null)),null===K?(K=65533,q=1):K>65535&&(K-=65536,u+=String.fromCharCode(K>>>10&1023|55296),K=56320|1023&K),u+=String.fromCharCode(K),f+=q}return u}(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==gn.Bytes)return e.push(this.readVarint(t));var r=_A(this);for(e=e||[];this.pos<r;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==gn.Bytes)return e.push(this.readSVarint());var t=_A(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==gn.Bytes)return e.push(this.readBoolean());var t=_A(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==gn.Bytes)return e.push(this.readFloat());var t=_A(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==gn.Bytes)return e.push(this.readDouble());var t=_A(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==gn.Bytes)return e.push(this.readFixed32());var t=_A(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==gn.Bytes)return e.push(this.readSFixed32());var t=_A(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==gn.Bytes)return e.push(this.readFixed64());var t=_A(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==gn.Bytes)return e.push(this.readSFixed64());var t=_A(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===gn.Varint)for(;this.buf[this.pos++]>127;);else if(t===gn.Bytes)this.pos=this.readVarint()+this.pos;else if(t===gn.Fixed32)this.pos+=4;else{if(t!==gn.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var r=new Uint8Array(t);r.set(this.buf),this.buf=r,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),ws(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),ws(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),ws(this.buf,-1&e,this.pos),ws(this.buf,Math.floor(2.3283064365386963e-10*e),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),ws(this.buf,-1&e,this.pos),ws(this.buf,Math.floor(2.3283064365386963e-10*e),this.pos+4),this.pos+=8},writeVarint:function(e){(e=+e||0)>268435455||e<0?function(t,r){var A,l,u,b;if(t>=0?(A=t%4294967296|0,l=t/4294967296|0):(l=~(-t/4294967296),4294967295^(A=~(-t%4294967296))?A=A+1|0:(A=0,l=l+1|0)),t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");r.realloc(10),u=A,(b=r).buf[b.pos++]=127&u|128,u>>>=7,b.buf[b.pos++]=127&u|128,u>>>=7,b.buf[b.pos++]=127&u|128,u>>>=7,b.buf[b.pos++]=127&u|128,b.buf[b.pos]=127&(u>>>=7),function(u,f){var b=(7&u)<<4;f.buf[f.pos++]|=b|((u>>>=3)?128:0),u&&(f.buf[f.pos++]=127&u|((u>>>=7)?128:0),u&&(f.buf[f.pos++]=127&u|((u>>>=7)?128:0),u&&(f.buf[f.pos++]=127&u|((u>>>=7)?128:0),u&&(f.buf[f.pos++]=127&u|((u>>>=7)?128:0),u&&(f.buf[f.pos++]=127&u)))))}(l,r)}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(A,l,u){for(var f,b,k=0;k<l.length;k++){if((f=l.charCodeAt(k))>55295&&f<57344){if(!b){f>56319||k+1===l.length?(A[u++]=239,A[u++]=191,A[u++]=189):b=f;continue}if(f<56320){A[u++]=239,A[u++]=191,A[u++]=189,b=f;continue}f=b-55296<<10|f-56320|65536,b=null}else b&&(A[u++]=239,A[u++]=191,A[u++]=189,b=null);f<128?A[u++]=f:(f<2048?A[u++]=f>>6|192:(f<65536?A[u++]=f>>12|224:(A[u++]=f>>18|240,A[u++]=f>>12&63|128),A[u++]=f>>6&63|128),A[u++]=63&f|128)}return u}(this.buf,e,this.pos);var r=this.pos-t;r>=128&&Kl(t,r,this),this.pos=t-1,this.writeVarint(r),this.pos+=r},writeFloat:function(e){this.realloc(4),zl(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),zl(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var r=0;r<t;r++)this.buf[this.pos++]=e[r]},writeRawMessage:function(e,t){this.pos++;var r=this.pos;e(t,this);var A=this.pos-r;A>=128&&Kl(r,A,this),this.pos=r-1,this.writeVarint(A),this.pos+=A},writeMessage:function(e,t,r){this.writeTag(e,gn.Bytes),this.writeRawMessage(t,r)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,Dp,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,Tp,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,Lp,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,Up,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,Op,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,Mp,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,jp,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,Rp,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,zp,t)},writeBytesField:function(e,t){this.writeTag(e,gn.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,gn.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,gn.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,gn.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,gn.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,gn.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,gn.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,gn.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,gn.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,gn.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}};var wc=function(e,t){var r=t.pixelRatio,A=t.version,l=t.stretchX,u=t.stretchY,f=t.content;this.paddedRect=e,this.pixelRatio=r,this.stretchX=l,this.stretchY=u,this.content=f,this.version=A},Ws={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};Ws.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},Ws.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},Ws.tlbr.get=function(){return this.tl.concat(this.br)},Ws.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(wc.prototype,Ws);var Js=function(e,t){var r={},A={};this.haveRenderCallbacks=[];var l=[];this.addImages(e,r,l),this.addImages(t,A,l);var u=Xl(l),f=new Hi({width:u.w||1,height:u.h||1});for(var b in e){var k=e[b],U=r[b].paddedRect;Hi.copy(k.data,f,{x:0,y:0},{x:U.x+1,y:U.y+1},k.data)}for(var j in t){var K=t[j],q=A[j].paddedRect,W=q.x+1,Ae=q.y+1,ce=K.data.width,xe=K.data.height;Hi.copy(K.data,f,{x:0,y:0},{x:W,y:Ae},K.data),Hi.copy(K.data,f,{x:0,y:xe-1},{x:W,y:Ae-1},{width:ce,height:1}),Hi.copy(K.data,f,{x:0,y:0},{x:W,y:Ae+xe},{width:ce,height:1}),Hi.copy(K.data,f,{x:ce-1,y:0},{x:W-1,y:Ae},{width:1,height:xe}),Hi.copy(K.data,f,{x:0,y:0},{x:W+ce,y:Ae},{width:1,height:xe})}this.image=f,this.iconPositions=r,this.patternPositions=A};Js.prototype.addImages=function(e,t,r){for(var A in e){var l=e[A],u={x:0,y:0,w:l.data.width+2,h:l.data.height+2};r.push(u),t[A]=new wc(u,l),l.hasRenderCallback&&this.haveRenderCallbacks.push(A)}},Js.prototype.patchUpdatedImages=function(e,t){for(var r in e.dispatchRenderCallbacks(this.haveRenderCallbacks),e.updatedImages)this.patchUpdatedImage(this.iconPositions[r],e.getImage(r),t),this.patchUpdatedImage(this.patternPositions[r],e.getImage(r),t)},Js.prototype.patchUpdatedImage=function(e,t,r){if(e&&t&&e.version!==t.version){e.version=t.version;var A=e.tl;r.update(t.data,void 0,{x:A[0],y:A[1]})}},Ot("ImagePosition",wc),Ot("ImageAtlas",Js);var Io={horizontal:1,vertical:2,horizontalOnly:3},xs=function(){this.scale=1,this.fontStack="",this.imageName=null};xs.forText=function(e,t){var r=new xs;return r.scale=e||1,r.fontStack=t,r},xs.forImage=function(e){var t=new xs;return t.imageName=e,t};var Si=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function xc(e,t,r,A,l,u,f,b,k,U,j,K,q,W,Ae,ce){var xe,ge=Si.fromFeature(e,l);K===Io.vertical&&ge.verticalizePunctuation();var Pe=gi.processBidirectionalText,Ge=gi.processStyledBidirectionalText;if(Pe&&1===ge.sections.length){xe=[];for(var qe=0,$e=Pe(ge.toString(),ol(ge,U,u,t,A,W,Ae));qe<$e.length;qe+=1){var st=$e[qe],yt=new Si;yt.text=st,yt.sections=ge.sections;for(var Ft=0;Ft<st.length;Ft++)yt.sectionIndex.push(0);xe.push(yt)}}else if(Ge){xe=[];for(var Vt=0,Tt=Ge(ge.text,ge.sectionIndex,ol(ge,U,u,t,A,W,Ae));Vt<Tt.length;Vt+=1){var er=Tt[Vt],St=new Si;St.text=er[0],St.sectionIndex=er[1],St.sections=ge.sections,xe.push(St)}}else xe=function(zt,Pr){for(var Ir=[],Or=zt.text,cr=0,Vr=0,xn=Pr;Vr<xn.length;Vr+=1){var Un=xn[Vr];Ir.push(zt.substring(cr,Un)),cr=Un}return cr<Or.length&&Ir.push(zt.substring(cr,Or.length)),Ir}(ge,ol(ge,U,u,t,A,W,Ae));var Qr=[],sr={positionedLines:Qr,text:ge.toString(),top:j[1],bottom:j[1],left:j[0],right:j[0],writingMode:K,iconsInText:!1,verticalizable:!1};return function(zt,Pr,Ir,Or,cr,Vr,xn,Un,kn,Bn,On,ai){for(var Ai=0,Di=-17,ui=0,Ti=0,Kn="right"===Un?1:"left"===Un?0:.5,pi=0,Tr=0,hn=cr;Tr<hn.length;Tr+=1){var sn=hn[Tr];sn.trim();var Nr=sn.getMaxScale(),Ri=24*(Nr-1),Bi={positionedGlyphs:[],lineOffset:0};zt.positionedLines[pi]=Bi;var yn=Bi.positionedGlyphs,Zn=0;if(sn.length()){for(var Ei=0;Ei<sn.length();Ei++){var Yr=sn.getSection(Ei),ja=sn.getSectionIndex(Ei),Qo=sn.getCharCode(Ei),Ra=0,Nn=null,za=null,na=null,Ps=24,hs=!(kn===Io.horizontal||!On&&!Ho(Qo)||On&&(Bc[Qo]||(BA=Qo,Ct.Arabic(BA)||Ct["Arabic Supplement"](BA)||Ct["Arabic Extended-A"](BA)||Ct["Arabic Presentation Forms-A"](BA)||Ct["Arabic Presentation Forms-B"](BA))));if(Yr.imageName){var Ss=Or[Yr.imageName];if(!Ss)continue;na=Yr.imageName,zt.iconsInText=zt.iconsInText||!0,za=Ss.paddedRect;var xA=Ss.displaySize;Yr.scale=24*Yr.scale/ai,Ra=Ri+(24-xA[1]*Yr.scale),Ps=(Nn={width:xA[0],height:xA[1],left:1,top:-3,advance:hs?xA[1]:xA[0]}).advance;var Ds=hs?xA[0]*Yr.scale-24*Nr:xA[1]*Yr.scale-24*Nr;Ds>0&&Ds>Zn&&(Zn=Ds)}else{var Dc=Ir[Yr.fontStack],Ts=Dc&&Dc[Qo];if(Ts&&Ts.rect)za=Ts.rect,Nn=Ts.metrics;else{var tc=Pr[Yr.fontStack],Tc=tc&&tc[Qo];if(!Tc)continue;Nn=Tc.metrics}Ra=24*(Nr-Yr.scale)}hs?(zt.verticalizable=!0,yn.push({glyph:Qo,imageName:na,x:Ai,y:Di+Ra,vertical:hs,scale:Yr.scale,fontStack:Yr.fontStack,sectionIndex:ja,metrics:Nn,rect:za}),Ai+=Ps*Yr.scale+Bn):(yn.push({glyph:Qo,imageName:na,x:Ai,y:Di+Ra,vertical:hs,scale:Yr.scale,fontStack:Yr.fontStack,sectionIndex:ja,metrics:Nn,rect:za}),Ai+=Nn.advance*Yr.scale+Bn)}0!==yn.length&&(ui=Math.max(Ai-Bn,ui),Vp(yn,0,yn.length-1,Kn,Zn)),Ai=0;var Uc=Vr*Nr+Zn;Bi.lineOffset=Math.max(Zn,Ri),Di+=Uc,Ti=Math.max(Uc,Ti),++pi}else Di+=Vr,++pi}var BA,rc=Di- -17,Us=al(xn),VA=Us.horizontalAlign,Os=Us.verticalAlign;(function(Oc,Lc,nc,ic,Mc,oc,ac,Ac,jc){var Ls,Rc=(Lc-nc)*Mc;Ls=oc!==ac?-Ac*ic- -17:(-ic*jc+.5)*ac;for(var Ms=0,sc=Oc;Ms<sc.length;Ms+=1)for(var fs=0,cc=sc[Ms].positionedGlyphs;fs<cc.length;fs+=1){var js=cc[fs];js.x+=Rc,js.y+=Ls}})(zt.positionedLines,Kn,VA,Os,ui,Ti,Vr,rc,cr.length),zt.top+=-Os*rc,zt.bottom=zt.top+rc,zt.left+=-VA*ui,zt.right=zt.left+ui}(sr,t,r,A,xe,f,b,k,K,U,q,ce),!function(zt){for(var Pr=0,Ir=zt;Pr<Ir.length;Pr+=1)if(0!==Ir[Pr].positionedGlyphs.length)return!1;return!0}(Qr)&&sr}Si.fromFeature=function(e,t){for(var r=new Si,A=0;A<e.sections.length;A++){var l=e.sections[A];l.image?r.addImageSection(l):r.addTextSection(l,t)}return r},Si.prototype.length=function(){return this.text.length},Si.prototype.getSection=function(e){return this.sections[this.sectionIndex[e]]},Si.prototype.getSectionIndex=function(e){return this.sectionIndex[e]},Si.prototype.getCharCode=function(e){return this.text.charCodeAt(e)},Si.prototype.verticalizePunctuation=function(){this.text=function(e){for(var t="",r=0;r<e.length;r++){var A=e.charCodeAt(r+1)||null,l=e.charCodeAt(r-1)||null;t+=A&&Da(A)&&!Zs[e[r+1]]||l&&Da(l)&&!Zs[e[r-1]]||!Zs[e[r]]?e[r]:Zs[e[r]]}return t}(this.text)},Si.prototype.trim=function(){for(var e=0,t=0;t<this.text.length&&Bc[this.text.charCodeAt(t)];t++)e++;for(var r=this.text.length,A=this.text.length-1;A>=0&&A>=e&&Bc[this.text.charCodeAt(A)];A--)r--;this.text=this.text.substring(e,r),this.sectionIndex=this.sectionIndex.slice(e,r)},Si.prototype.substring=function(e,t){var r=new Si;return r.text=this.text.substring(e,t),r.sectionIndex=this.sectionIndex.slice(e,t),r.sections=this.sections,r},Si.prototype.toString=function(){return this.text},Si.prototype.getMaxScale=function(){var e=this;return this.sectionIndex.reduce(function(t,r){return Math.max(t,e.sections[r].scale)},0)},Si.prototype.addTextSection=function(e,t){this.text+=e.text,this.sections.push(xs.forText(e.scale,e.fontStack||t));for(var r=this.sections.length-1,A=0;A<e.text.length;++A)this.sectionIndex.push(r)},Si.prototype.addImageSection=function(e){var t=e.image?e.image.name:"";if(0!==t.length){var r=this.getNextImageSectionCharCode();r?(this.text+=String.fromCharCode(r),this.sections.push(xs.forImage(t)),this.sectionIndex.push(this.sections.length-1)):De("Reached maximum number of images 6401")}else De("Can't add FormattedSection with an empty image.")},Si.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var Bc={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},co={};function Vl(e,t,r,A,l,u){if(t.imageName){var f=A[t.imageName];return f?f.displaySize[0]*t.scale*24/u+l:0}var b=r[t.fontStack],k=b&&b[e];return k?k.metrics.advance*t.scale+l:0}function Yl(e,t,r,A){var l=Math.pow(e-t,2);return A?e<t?l/2:2*l:l+Math.abs(r)*r}function Xp(e,t,r){var A=0;return 10===e&&(A-=1e4),r&&(A+=150),40!==e&&65288!==e||(A+=50),41!==t&&65289!==t||(A+=50),A}function ql(e,t,r,A,l,u){for(var f=null,b=Yl(t,r,l,u),k=0,U=A;k<U.length;k+=1){var j=U[k],K=Yl(t-j.x,r,l,u)+j.badness;K<=b&&(f=j,b=K)}return{index:e,x:t,priorBreak:f,badness:b}}function ol(e,t,r,A,l,u,f){if("point"!==u)return[];if(!e)return[];for(var b,k=[],U=function(xe,ge,Pe,Ge,qe,$e){for(var st=0,yt=0;yt<xe.length();yt++){var Ft=xe.getSection(yt);st+=Vl(xe.getCharCode(yt),Ft,Ge,qe,ge,$e)}return st/Math.max(1,Math.ceil(st/Pe))}(e,t,r,A,l,f),j=e.text.indexOf("\u200b")>=0,K=0,q=0;q<e.length();q++){var W=e.getSection(q),Ae=e.getCharCode(q);if(Bc[Ae]||(K+=Vl(Ae,W,A,l,t,f)),q<e.length()-1){var ce=!((b=Ae)<11904||!(Ct["Bopomofo Extended"](b)||Ct.Bopomofo(b)||Ct["CJK Compatibility Forms"](b)||Ct["CJK Compatibility Ideographs"](b)||Ct["CJK Compatibility"](b)||Ct["CJK Radicals Supplement"](b)||Ct["CJK Strokes"](b)||Ct["CJK Symbols and Punctuation"](b)||Ct["CJK Unified Ideographs Extension A"](b)||Ct["CJK Unified Ideographs"](b)||Ct["Enclosed CJK Letters and Months"](b)||Ct["Halfwidth and Fullwidth Forms"](b)||Ct.Hiragana(b)||Ct["Ideographic Description Characters"](b)||Ct["Kangxi Radicals"](b)||Ct["Katakana Phonetic Extensions"](b)||Ct.Katakana(b)||Ct["Vertical Forms"](b)||Ct["Yi Radicals"](b)||Ct["Yi Syllables"](b)));(co[Ae]||ce||W.imageName)&&k.push(ql(q+1,K,U,k,Xp(Ae,e.getCharCode(q+1),ce&&j),!1))}}return function xe(ge){return ge?xe(ge.priorBreak).concat(ge.index):[]}(ql(e.length(),K,U,k,0,!0))}function al(e){var t=.5,r=.5;switch(e){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0}switch(e){case"bottom":case"bottom-right":case"bottom-left":r=1;break;case"top":case"top-right":case"top-left":r=0}return{horizontalAlign:t,verticalAlign:r}}function Vp(e,t,r,A,l){if(A||l)for(var u=e[r],f=(e[r].x+u.metrics.advance*u.scale)*A,b=t;b<=r;b++)e[b].x-=f,e[b].y+=l}function Hl(e,t,r,A,l,u){var f,b=e.image;if(b.content){var k=b.content,U=b.pixelRatio||1;f=[k[0]/U,k[1]/U,b.displaySize[0]-k[2]/U,b.displaySize[1]-k[3]/U]}var j,K,q,W,Ae=t.left*u,ce=t.right*u;"width"===r||"both"===r?(W=l[0]+Ae-A[3],K=l[0]+ce+A[1]):K=(W=l[0]+(Ae+ce-b.displaySize[0])/2)+b.displaySize[0];var xe=t.top*u,ge=t.bottom*u;return"height"===r||"both"===r?(j=l[1]+xe-A[0],q=l[1]+ge+A[2]):q=(j=l[1]+(xe+ge-b.displaySize[1])/2)+b.displaySize[1],{image:b,top:j,right:K,bottom:q,left:W,collisionPadding:f}}co[10]=!0,co[32]=!0,co[38]=!0,co[40]=!0,co[41]=!0,co[43]=!0,co[45]=!0,co[47]=!0,co[173]=!0,co[183]=!0,co[8203]=!0,co[8208]=!0,co[8211]=!0,co[8231]=!0;var Bs=function(e){function t(r,A,l,u){e.call(this,r,A),this.angle=l,void 0!==u&&(this.segment=u)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.clone=function(){return new t(this.x,this.y,this.angle,this.segment)},t}(F);function Al(e,t){var r=t.expression;if("constant"===r.kind)return{kind:"constant",layoutSize:r.evaluate(new Er(e+1))};if("source"===r.kind)return{kind:"source"};for(var A=r.zoomStops,l=r.interpolationType,u=0;u<A.length&&A[u]<=e;)u++;for(var f=u=Math.max(0,u-1);f<A.length&&A[f]<e+1;)f++;f=Math.min(A.length-1,f);var b=A[u],k=A[f];return"composite"===r.kind?{kind:"composite",minZoom:b,maxZoom:k,interpolationType:l}:{kind:"camera",minZoom:b,maxZoom:k,minSize:r.evaluate(new Er(b)),maxSize:r.evaluate(new Er(k)),interpolationType:l}}function Zl(e,t,r){var A=t.uSize,l=r.lowerSize;return"source"===e.kind?l/128:"composite"===e.kind?Cn(l/128,r.upperSize/128,t.uSizeT):A}function Wl(e,t){var r=0,A=0;if("constant"===e.kind)A=e.layoutSize;else if("source"!==e.kind){var l=e.interpolationType,u=l?L(Dn.interpolationFactor(l,t,e.minZoom,e.maxZoom),0,1):0;"camera"===e.kind?A=Cn(e.minSize,e.maxSize,u):r=u}return{uSizeT:r,uSize:A}}Ot("Anchor",Bs);var Yp=Object.freeze({__proto__:null,getSizeData:Al,evaluateSizeForFeature:Zl,evaluateSizeForZoom:Wl,SIZE_PACK_FACTOR:128});function Jl(e,t,r,A,l){if(void 0===t.segment)return!0;for(var u=t,f=t.segment+1,b=0;b>-r/2;){if(--f<0)return!1;b-=e[f].dist(u),u=e[f]}b+=e[f].dist(e[f+1]),f++;for(var k=[],U=0;b<r/2;){var j=e[f],K=e[f+1];if(!K)return!1;var q=e[f-1].angleTo(j)-j.angleTo(K);for(q=Math.abs((q+3*Math.PI)%(2*Math.PI)-Math.PI),k.push({distance:b,angleDelta:q}),U+=q;b-k[0].distance>A;)U-=k.shift().angleDelta;if(U>l)return!1;f++,b+=j.dist(K)}return!0}function $l(e){for(var t=0,r=0;r<e.length-1;r++)t+=e[r].dist(e[r+1]);return t}function eu(e,t,r){return e?.6*t*r:0}function tu(e,t){return Math.max(e?e.right-e.left:0,t?t.right-t.left:0)}function qp(e,t,r,A,l,u){for(var f=eu(r,l,u),b=tu(r,A)*u,k=0,U=$l(e)/2,j=0;j<e.length-1;j++){var K=e[j],q=e[j+1],W=K.dist(q);if(k+W>U){var Ae=(U-k)/W,ce=Cn(K.x,q.x,Ae),xe=Cn(K.y,q.y,Ae),ge=new Bs(ce,xe,q.angleTo(K),j);return ge._round(),!f||Jl(e,ge,b,f,t)?ge:void 0}k+=W}}function Hp(e,t,r,A,l,u,f,b,k){var U=eu(A,u,f),j=tu(A,l),K=j*f,q=0===e[0].x||e[0].x===k||0===e[0].y||e[0].y===k;return t-K<t/4&&(t=K+t/4),function W(Ae,ce,xe,ge,Pe,Ge,qe,$e,st){for(var yt=Ge/2,Ft=$l(Ae),Vt=0,Tt=ce-xe,er=[],St=0;St<Ae.length-1;St++){for(var Qr=Ae[St],sr=Ae[St+1],zt=Qr.dist(sr),Pr=sr.angleTo(Qr);Tt+xe<Vt+zt;){var Ir=((Tt+=xe)-Vt)/zt,Or=Cn(Qr.x,sr.x,Ir),cr=Cn(Qr.y,sr.y,Ir);if(Or>=0&&Or<st&&cr>=0&&cr<st&&Tt-yt>=0&&Tt+yt<=Ft){var Vr=new Bs(Or,cr,Pr,St);Vr._round(),ge&&!Jl(Ae,Vr,Ge,ge,Pe)||er.push(Vr)}}Vt+=zt}return $e||er.length||qe||(er=W(Ae,Vt/2,xe,ge,Pe,Ge,qe,!0,st)),er}(e,q?t/2*b%t:(j/2+2*u)*f*b%t,t,U,r,K,q,!1,k)}function ru(e,t,r,A,l){for(var u=[],f=0;f<e.length;f++)for(var b=e[f],k=void 0,U=0;U<b.length-1;U++){var j=b[U],K=b[U+1];j.x<t&&K.x<t||(j.x<t?j=new F(t,j.y+(t-j.x)/(K.x-j.x)*(K.y-j.y))._round():K.x<t&&(K=new F(t,j.y+(t-j.x)/(K.x-j.x)*(K.y-j.y))._round()),j.y<r&&K.y<r||(j.y<r?j=new F(j.x+(r-j.y)/(K.y-j.y)*(K.x-j.x),r)._round():K.y<r&&(K=new F(j.x+(r-j.y)/(K.y-j.y)*(K.x-j.x),r)._round()),j.x>=A&&K.x>=A||(j.x>=A?j=new F(A,j.y+(A-j.x)/(K.x-j.x)*(K.y-j.y))._round():K.x>=A&&(K=new F(A,j.y+(A-j.x)/(K.x-j.x)*(K.y-j.y))._round()),j.y>=l&&K.y>=l||(j.y>=l?j=new F(j.x+(l-j.y)/(K.y-j.y)*(K.x-j.x),l)._round():K.y>=l&&(K=new F(j.x+(l-j.y)/(K.y-j.y)*(K.x-j.x),l)._round()),k&&j.equals(k[k.length-1])||u.push(k=[j]),k.push(K)))))}return u}function nu(e,t,r,A){var l=[],u=e.image,f=u.pixelRatio,b=u.paddedRect.w-2,k=u.paddedRect.h-2,U=e.right-e.left,j=e.bottom-e.top,K=u.stretchX||[[0,b]],q=u.stretchY||[[0,k]],W=function(Or,cr){return Or+cr[1]-cr[0]},Ae=K.reduce(W,0),ce=q.reduce(W,0),xe=b-Ae,ge=k-ce,Pe=0,Ge=Ae,qe=0,$e=ce,st=0,yt=xe,Ft=0,Vt=ge;if(u.content&&A){var Tt=u.content;Pe=Ec(K,0,Tt[0]),qe=Ec(q,0,Tt[1]),Ge=Ec(K,Tt[0],Tt[2]),$e=Ec(q,Tt[1],Tt[3]),st=Tt[0]-Pe,Ft=Tt[1]-qe,yt=Tt[2]-Tt[0]-Ge,Vt=Tt[3]-Tt[1]-$e}var er=function(Or,cr,Vr,xn){var Un=Cc(Or.stretch-Pe,Ge,U,e.left),kn=Ic(Or.fixed-st,yt,Or.stretch,Ae),Bn=Cc(cr.stretch-qe,$e,j,e.top),On=Ic(cr.fixed-Ft,Vt,cr.stretch,ce),ai=Cc(Vr.stretch-Pe,Ge,U,e.left),Ai=Ic(Vr.fixed-st,yt,Vr.stretch,Ae),Di=Cc(xn.stretch-qe,$e,j,e.top),ui=Ic(xn.fixed-Ft,Vt,xn.stretch,ce),Ti=new F(Un,Bn),Kn=new F(ai,Bn),pi=new F(ai,Di),Tr=new F(Un,Di),hn=new F(kn/f,On/f),sn=new F(Ai/f,ui/f),Nr=t*Math.PI/180;if(Nr){var Ri=Math.sin(Nr),Bi=Math.cos(Nr),yn=[Bi,-Ri,Ri,Bi];Ti._matMult(yn),Kn._matMult(yn),Tr._matMult(yn),pi._matMult(yn)}var Zn=Or.stretch+Or.fixed,Ei=cr.stretch+cr.fixed;return{tl:Ti,tr:Kn,bl:Tr,br:pi,tex:{x:u.paddedRect.x+1+Zn,y:u.paddedRect.y+1+Ei,w:Vr.stretch+Vr.fixed-Zn,h:xn.stretch+xn.fixed-Ei},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:hn,pixelOffsetBR:sn,minFontScaleX:yt/f/U,minFontScaleY:Vt/f/j,isSDF:r}};if(A&&(u.stretchX||u.stretchY))for(var St=iu(K,xe,Ae),Qr=iu(q,ge,ce),sr=0;sr<St.length-1;sr++)for(var zt=St[sr],Pr=St[sr+1],Ir=0;Ir<Qr.length-1;Ir++)l.push(er(zt,Qr[Ir],Pr,Qr[Ir+1]));else l.push(er({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:b+1},{fixed:0,stretch:k+1}));return l}function Ec(e,t,r){for(var A=0,l=0,u=e;l<u.length;l+=1){var f=u[l];A+=Math.max(t,Math.min(r,f[1]))-Math.max(t,Math.min(r,f[0]))}return A}function iu(e,t,r){for(var A=[{fixed:-1,stretch:0}],l=0,u=e;l<u.length;l+=1){var f=u[l],b=f[0],k=f[1],U=A[A.length-1];A.push({fixed:b-U.stretch,stretch:U.stretch}),A.push({fixed:b-U.stretch,stretch:U.stretch+(k-b)})}return A.push({fixed:t+1,stretch:r}),A}function Cc(e,t,r,A){return e/t*r+A}function Ic(e,t,r,A){return e-t*r/A}var Qc=function(e,t,r,A,l,u,f,b,k,U){if(this.boxStartIndex=e.length,k){var j=u.top,K=u.bottom,q=u.collisionPadding;q&&(j-=q[1],K+=q[3]);var W=K-j;W>0&&(W=Math.max(10,W),this.circleDiameter=W)}else{var Ae=u.top*f-b,ce=u.bottom*f+b,xe=u.left*f-b,ge=u.right*f+b,Pe=u.collisionPadding;if(Pe&&(xe-=Pe[0]*f,Ae-=Pe[1]*f,ge+=Pe[2]*f,ce+=Pe[3]*f),U){var Ge=new F(xe,Ae),qe=new F(ge,Ae),$e=new F(xe,ce),st=new F(ge,ce),yt=U*Math.PI/180;Ge._rotate(yt),qe._rotate(yt),$e._rotate(yt),st._rotate(yt),xe=Math.min(Ge.x,qe.x,$e.x,st.x),ge=Math.max(Ge.x,qe.x,$e.x,st.x),Ae=Math.min(Ge.y,qe.y,$e.y,st.y),ce=Math.max(Ge.y,qe.y,$e.y,st.y)}e.emplaceBack(t.x,t.y,xe,Ae,ge,ce,r,A,l)}this.boxEndIndex=e.length},Es=function(e,t){if(void 0===e&&(e=[]),void 0===t&&(t=Zp),this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(var r=(this.length>>1)-1;r>=0;r--)this._down(r)};function Zp(e,t){return e<t?-1:e>t?1:0}function Wp(e,t,r){void 0===t&&(t=1),void 0===r&&(r=!1);for(var A=1/0,l=1/0,u=-1/0,f=-1/0,b=e[0],k=0;k<b.length;k++){var U=b[k];(!k||U.x<A)&&(A=U.x),(!k||U.y<l)&&(l=U.y),(!k||U.x>u)&&(u=U.x),(!k||U.y>f)&&(f=U.y)}var j=Math.min(u-A,f-l),K=j/2,q=new Es([],Jp);if(0===j)return new F(A,l);for(var W=A;W<u;W+=j)for(var Ae=l;Ae<f;Ae+=j)q.push(new Cs(W+K,Ae+K,K,e));for(var ce=function(Pe){for(var Ge=0,qe=0,$e=0,st=Pe[0],yt=0,Ft=st.length,Vt=Ft-1;yt<Ft;Vt=yt++){var Tt=st[yt],er=st[Vt],St=Tt.x*er.y-er.x*Tt.y;qe+=(Tt.x+er.x)*St,$e+=(Tt.y+er.y)*St,Ge+=3*St}return new Cs(qe/Ge,$e/Ge,0,Pe)}(e),xe=q.length;q.length;){var ge=q.pop();(ge.d>ce.d||!ce.d)&&(ce=ge,r&&console.log("found best %d after %d probes",Math.round(1e4*ge.d)/1e4,xe)),ge.max-ce.d<=t||(q.push(new Cs(ge.p.x-(K=ge.h/2),ge.p.y-K,K,e)),q.push(new Cs(ge.p.x+K,ge.p.y-K,K,e)),q.push(new Cs(ge.p.x-K,ge.p.y+K,K,e)),q.push(new Cs(ge.p.x+K,ge.p.y+K,K,e)),xe+=4)}return r&&(console.log("num probes: "+xe),console.log("best distance: "+ce.d)),ce.p}function Jp(e,t){return t.max-e.max}function Cs(e,t,r,A){this.p=new F(e,t),this.h=r,this.d=function(l,u){for(var f=!1,b=1/0,k=0;k<u.length;k++)for(var U=u[k],j=0,K=U.length,q=K-1;j<K;q=j++){var W=U[j],Ae=U[q];W.y>l.y!=Ae.y>l.y&&l.x<(Ae.x-W.x)*(l.y-W.y)/(Ae.y-W.y)+W.x&&(f=!f),b=Math.min(b,Hn(l,W,Ae))}return(f?1:-1)*Math.sqrt(b)}(this.p,A),this.max=this.d+this.h*Math.SQRT2}Es.prototype.push=function(e){this.data.push(e),this.length++,this._up(this.length-1)},Es.prototype.pop=function(){if(0!==this.length){var e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}},Es.prototype.peek=function(){return this.data[0]},Es.prototype._up=function(e){for(var t=this.data,r=this.compare,A=t[e];e>0;){var l=e-1>>1,u=t[l];if(r(A,u)>=0)break;t[e]=u,e=l}t[e]=A},Es.prototype._down=function(e){for(var t=this.data,r=this.compare,A=this.length>>1,l=t[e];e<A;){var u=1+(e<<1),f=t[u],b=u+1;if(b<this.length&&r(t[b],f)<0&&(u=b,f=t[b]),r(f,l)>=0)break;t[e]=f,e=u}t[e]=l};var sl=Number.POSITIVE_INFINITY;function ou(e,t){return t[1]!==sl?function(r,A,l){var u=0,f=0;switch(A=Math.abs(A),l=Math.abs(l),r){case"top-right":case"top-left":case"top":f=l-7;break;case"bottom-right":case"bottom-left":case"bottom":f=7-l}switch(r){case"top-right":case"bottom-right":case"right":u=-A;break;case"top-left":case"bottom-left":case"left":u=A}return[u,f]}(e,t[0],t[1]):function(r,A){var l=0,u=0;A<0&&(A=0);var f=A/Math.sqrt(2);switch(r){case"top-right":case"top-left":u=f-7;break;case"bottom-right":case"bottom-left":u=7-f;break;case"bottom":u=7-A;break;case"top":u=A-7}switch(r){case"top-right":case"bottom-right":l=-f;break;case"top-left":case"bottom-left":l=f;break;case"left":l=A;break;case"right":l=-A}return[l,u]}(e,t[0])}function cl(e){switch(e){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function au(e,t,r,A,l,u,f,b,k,U,j,K,q,W,Ae){var ce=function(qe,$e,st,yt,Ft,Vt,Tt,er){for(var St=yt.layout.get("text-rotate").evaluate(Vt,{})*Math.PI/180,Qr=[],sr=0,zt=$e.positionedLines;sr<zt.length;sr+=1)for(var Pr=zt[sr],Ir=0,Or=Pr.positionedGlyphs;Ir<Or.length;Ir+=1){var cr=Or[Ir];if(cr.rect){var Vr=cr.rect||{},xn=4,Un=!0,kn=1,Bn=0,On=(Ft||er)&&cr.vertical,ai=cr.metrics.advance*cr.scale/2;if(er&&$e.verticalizable&&(Bn=Pr.lineOffset/2-(cr.imageName?-(24-cr.metrics.width*cr.scale)/2:24*(cr.scale-1))),cr.imageName){var Ai=Tt[cr.imageName];Un=Ai.sdf,xn=1/(kn=Ai.pixelRatio)}var Di=Ft?[cr.x+ai,cr.y]:[0,0],ui=Ft?[0,0]:[cr.x+ai+st[0],cr.y+st[1]-Bn],Ti=[0,0];On&&(Ti=ui,ui=[0,0]);var Kn=(cr.metrics.left-xn)*cr.scale-ai+ui[0],pi=(-cr.metrics.top-xn)*cr.scale+ui[1],Tr=Kn+Vr.w*cr.scale/kn,hn=pi+Vr.h*cr.scale/kn,sn=new F(Kn,pi),Nr=new F(Tr,pi),Ri=new F(Kn,hn),Bi=new F(Tr,hn);if(On){var yn=new F(-ai,ai- -17),Zn=-Math.PI/2,Ei=12-ai,Yr=new F(22-Ei,-(cr.imageName?Ei:0)),ja=new(Function.prototype.bind.apply(F,[null].concat(Ti)));sn._rotateAround(Zn,yn)._add(Yr)._add(ja),Nr._rotateAround(Zn,yn)._add(Yr)._add(ja),Ri._rotateAround(Zn,yn)._add(Yr)._add(ja),Bi._rotateAround(Zn,yn)._add(Yr)._add(ja)}if(St){var Qo=Math.sin(St),Ra=Math.cos(St),Nn=[Ra,-Qo,Qo,Ra];sn._matMult(Nn),Nr._matMult(Nn),Ri._matMult(Nn),Bi._matMult(Nn)}var za=new F(0,0),na=new F(0,0);Qr.push({tl:sn,tr:Nr,bl:Ri,br:Bi,tex:Vr,writingMode:$e.writingMode,glyphOffset:Di,sectionIndex:cr.sectionIndex,isSDF:Un,pixelOffsetTL:za,pixelOffsetBR:na,minFontScaleX:0,minFontScaleY:0})}}return Qr}(0,r,b,l,u,f,A,e.allowVerticalPlacement),xe=e.textSizeData,ge=null;"source"===xe.kind?(ge=[128*l.layout.get("text-size").evaluate(f,{})])[0]>32640&&De(e.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'):"composite"===xe.kind&&((ge=[128*W.compositeTextSizes[0].evaluate(f,{},Ae),128*W.compositeTextSizes[1].evaluate(f,{},Ae)])[0]>32640||ge[1]>32640)&&De(e.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'),e.addSymbols(e.text,ce,ge,b,u,f,U,t,k.lineStartIndex,k.lineLength,q,Ae);for(var Pe=0,Ge=j;Pe<Ge.length;Pe+=1)K[Ge[Pe]]=e.text.placedSymbolArray.length-1;return 4*ce.length}function Au(e){for(var t in e)return e[t];return null}function $p(e,t,r,A){var l=e.compareText;if(t in l){for(var u=l[t],f=u.length-1;f>=0;f--)if(A.dist(u[f])<r)return!0}else l[t]=[];return l[t].push(A),!1}var eh=_s.VectorTileFeature.types,th=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Fc(e,t,r,A,l,u,f,b,k,U,j,K,q){var W=b?Math.min(32640,Math.round(b[0])):0,Ae=b?Math.min(32640,Math.round(b[1])):0;e.emplaceBack(t,r,Math.round(32*A),Math.round(32*l),u,f,(W<<1)+(k?1:0),Ae,16*U,16*j,256*K,256*q)}function ll(e,t,r){e.emplaceBack(t.x,t.y,r),e.emplaceBack(t.x,t.y,r),e.emplaceBack(t.x,t.y,r),e.emplaceBack(t.x,t.y,r)}function rh(e){for(var t=0,r=e.sections;t<r.length;t+=1)if(da(r[t].text))return!0;return!1}var Is=function(e){this.layoutVertexArray=new dA,this.indexArray=new $o,this.programConfigurations=e,this.segments=new $,this.dynamicLayoutVertexArray=new Ua,this.opacityVertexArray=new gA,this.placedSymbolArray=new c};Is.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length},Is.prototype.upload=function(e,t,r,A){this.isEmpty()||(r&&(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Qp.members),this.indexBuffer=e.createIndexBuffer(this.indexArray,t),this.dynamicLayoutVertexBuffer=e.createVertexBuffer(this.dynamicLayoutVertexArray,Fp.members,!0),this.opacityVertexBuffer=e.createVertexBuffer(this.opacityVertexArray,th,!0),this.opacityVertexBuffer.itemSize=1),(r||A)&&this.programConfigurations.upload(e))},Is.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Ot("SymbolBuffers",Is);var $s=function(e,t,r){this.layoutVertexArray=new e,this.layoutAttributes=t,this.indexArray=new r,this.segments=new $,this.collisionVertexArray=new jA};$s.prototype.upload=function(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=e.createVertexBuffer(this.collisionVertexArray,kp.members,!0)},$s.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Ot("CollisionBuffers",$s);var un=function(e){this.collisionBoxArray=e.collisionBoxArray,this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(function(u){return u.id}),this.index=e.index,this.pixelRatio=e.pixelRatio,this.sourceLayerIndex=e.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=so([]),this.placementViewportMatrix=so([]);var t=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Al(this.zoom,t["text-size"]),this.iconSizeData=Al(this.zoom,t["icon-size"]);var r=this.layers[0].layout,A=r.get("symbol-sort-key"),l=r.get("symbol-z-order");this.canOverlap=r.get("text-allow-overlap")||r.get("icon-allow-overlap")||r.get("text-ignore-placement")||r.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==l&&void 0!==A.constantOr(1),this.sortFeaturesByY=("viewport-y"===l||"auto"===l&&!this.sortFeaturesByKey)&&this.canOverlap,"point"===r.get("symbol-placement")&&(this.writingModes=r.get("text-writing-mode").map(function(u){return Io[u]})),this.stateDependentLayerIds=this.layers.filter(function(u){return u.isStateDependent()}).map(function(u){return u.id}),this.sourceID=e.sourceID};un.prototype.createArrays=function(){this.text=new Is(new or(this.layers,this.zoom,function(e){return/^text/.test(e)})),this.icon=new Is(new or(this.layers,this.zoom,function(e){return/^icon/.test(e)})),this.glyphOffsetArray=new _,this.lineVertexArray=new Q,this.symbolInstances=new y},un.prototype.calculateGlyphDependencies=function(e,t,r,A,l){for(var u=0;u<e.length;u++)if(t[e.charCodeAt(u)]=!0,(r||A)&&l){var f=Zs[e.charAt(u)];f&&(t[f.charCodeAt(0)]=!0)}},un.prototype.populate=function(e,t,r){var A=this.layers[0],l=A.layout,u=l.get("text-font"),f=l.get("text-field"),b=l.get("icon-image"),k=("constant"!==f.value.kind||f.value.value instanceof Sn&&!f.value.value.isEmpty()||f.value.value.toString().length>0)&&("constant"!==u.value.kind||u.value.value.length>0),U="constant"!==b.value.kind||!!b.value.value||Object.keys(b.parameters).length>0,j=l.get("symbol-sort-key");if(this.features=[],k||U){for(var K=t.iconDependencies,q=t.glyphDependencies,W=t.availableImages,Ae=new Er(this.zoom),ce=0,xe=e;ce<xe.length;ce+=1){var ge=xe[ce],Pe=ge.feature,Ge=ge.id,qe=ge.index,$e=ge.sourceLayerIndex,st=A._featureFilter.needGeometry,yt=h(Pe,st);if(A._featureFilter.filter(Ae,yt,r)){st||(yt.geometry=bn(Pe));var Ft=void 0;if(k){var Vt=A.getValueAndResolveTokens("text-field",yt,r,W),Tt=Sn.factory(Vt);rh(Tt)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===Ta()||this.hasRTLText&&gi.isParsed())&&(Ft=Sp(Tt,A,yt))}var er=void 0;if(U){var St=A.getValueAndResolveTokens("icon-image",yt,r,W);er=St instanceof rn?St:rn.fromString(St)}if(Ft||er){var Qr=this.sortFeaturesByKey?j.evaluate(yt,{},r):void 0;if(this.features.push({id:Ge,text:Ft,icon:er,index:qe,sourceLayerIndex:$e,geometry:yt.geometry,properties:Pe.properties,type:eh[Pe.type],sortKey:Qr}),er&&(K[er.name]=!0),Ft){var sr=u.evaluate(yt,{},r).join(","),zt="map"===l.get("text-rotation-alignment")&&"point"!==l.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Io.vertical)>=0;for(var Pr=0,Ir=Ft.sections;Pr<Ir.length;Pr+=1){var Or=Ir[Pr];if(Or.image)K[Or.image.name]=!0;else{var cr=Sa(Ft.toString()),Vr=Or.fontStack||sr,xn=q[Vr]=q[Vr]||{};this.calculateGlyphDependencies(Or.text,xn,zt,this.allowVerticalPlacement,cr)}}}}}}"line"===l.get("symbol-placement")&&(this.features=function(Un){var kn={},Bn={},On=[],ai=0;function Ai(yn){On.push(Un[yn]),ai++}function Di(yn,Zn,Ei){var Yr=Bn[yn];return delete Bn[yn],Bn[Zn]=Yr,On[Yr].geometry[0].pop(),On[Yr].geometry[0]=On[Yr].geometry[0].concat(Ei[0]),Yr}function ui(yn,Zn,Ei){var Yr=kn[Zn];return delete kn[Zn],kn[yn]=Yr,On[Yr].geometry[0].shift(),On[Yr].geometry[0]=Ei[0].concat(On[Yr].geometry[0]),Yr}function Ti(yn,Zn,Ei){var Yr=Ei?Zn[0][Zn[0].length-1]:Zn[0][0];return yn+":"+Yr.x+":"+Yr.y}for(var Kn=0;Kn<Un.length;Kn++){var pi=Un[Kn],Tr=pi.geometry,hn=pi.text?pi.text.toString():null;if(hn){var sn=Ti(hn,Tr),Nr=Ti(hn,Tr,!0);if(sn in Bn&&Nr in kn&&Bn[sn]!==kn[Nr]){var Ri=ui(sn,Nr,Tr),Bi=Di(sn,Nr,On[Ri].geometry);delete kn[sn],delete Bn[Nr],Bn[Ti(hn,On[Bi].geometry,!0)]=Bi,On[Ri].geometry=null}else sn in Bn?Di(sn,Nr,Tr):Nr in kn?ui(sn,Nr,Tr):(Ai(Kn),kn[sn]=ai-1,Bn[Nr]=ai-1)}else Ai(Kn)}return On.filter(function(yn){return yn.geometry})}(this.features)),this.sortFeaturesByKey&&this.features.sort(function(Un,kn){return Un.sortKey-kn.sortKey})}},un.prototype.update=function(e,t,r){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(e,t,this.layers,r),this.icon.programConfigurations.updatePaintArrays(e,t,this.layers,r))},un.prototype.isEmpty=function(){return 0===this.symbolInstances.length&&!this.hasRTLText},un.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},un.prototype.upload=function(e){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(e),this.iconCollisionBox.upload(e)),this.text.upload(e,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(e,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},un.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},un.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},un.prototype.addToLineVertexArray=function(e,t){var r=this.lineVertexArray.length;if(void 0!==e.segment){for(var A=e.dist(t[e.segment+1]),l=e.dist(t[e.segment]),u={},f=e.segment+1;f<t.length;f++)u[f]={x:t[f].x,y:t[f].y,tileUnitDistanceFromAnchor:A},f<t.length-1&&(A+=t[f+1].dist(t[f]));for(var b=e.segment||0;b>=0;b--)u[b]={x:t[b].x,y:t[b].y,tileUnitDistanceFromAnchor:l},b>0&&(l+=t[b-1].dist(t[b]));for(var k=0;k<t.length;k++){var U=u[k];this.lineVertexArray.emplaceBack(U.x,U.y,U.tileUnitDistanceFromAnchor)}}return{lineStartIndex:r,lineLength:this.lineVertexArray.length-r}},un.prototype.addSymbols=function(e,t,r,A,l,u,f,b,k,U,j,K){for(var q=e.indexArray,W=e.layoutVertexArray,Ae=e.segments.prepareSegment(4*t.length,W,q,this.canOverlap?u.sortKey:void 0),ce=this.glyphOffsetArray.length,xe=Ae.vertexLength,ge=this.allowVerticalPlacement&&f===Io.vertical?Math.PI/2:0,Pe=u.text&&u.text.sections,Ge=0;Ge<t.length;Ge++){var qe=t[Ge],$e=qe.tl,st=qe.tr,yt=qe.bl,Ft=qe.br,Vt=qe.tex,Tt=qe.pixelOffsetTL,er=qe.pixelOffsetBR,St=qe.minFontScaleX,Qr=qe.minFontScaleY,sr=qe.glyphOffset,zt=qe.isSDF,Pr=qe.sectionIndex,Ir=Ae.vertexLength,Or=sr[1];Fc(W,b.x,b.y,$e.x,Or+$e.y,Vt.x,Vt.y,r,zt,Tt.x,Tt.y,St,Qr),Fc(W,b.x,b.y,st.x,Or+st.y,Vt.x+Vt.w,Vt.y,r,zt,er.x,Tt.y,St,Qr),Fc(W,b.x,b.y,yt.x,Or+yt.y,Vt.x,Vt.y+Vt.h,r,zt,Tt.x,er.y,St,Qr),Fc(W,b.x,b.y,Ft.x,Or+Ft.y,Vt.x+Vt.w,Vt.y+Vt.h,r,zt,er.x,er.y,St,Qr),ll(e.dynamicLayoutVertexArray,b,ge),q.emplaceBack(Ir,Ir+1,Ir+2),q.emplaceBack(Ir+1,Ir+2,Ir+3),Ae.vertexLength+=4,Ae.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(sr[0]),Ge!==t.length-1&&Pr===t[Ge+1].sectionIndex||e.programConfigurations.populatePaintArrays(W.length,u,u.index,{},K,Pe&&Pe[Pr])}e.placedSymbolArray.emplaceBack(b.x,b.y,ce,this.glyphOffsetArray.length-ce,xe,k,U,b.segment,r?r[0]:0,r?r[1]:0,A[0],A[1],f,0,!1,0,j)},un.prototype._addCollisionDebugVertex=function(e,t,r,A,l,u){return t.emplaceBack(0,0),e.emplaceBack(r.x,r.y,A,l,Math.round(u.x),Math.round(u.y))},un.prototype.addCollisionDebugVertices=function(e,t,r,A,l,u,f){var b=l.segments.prepareSegment(4,l.layoutVertexArray,l.indexArray),k=b.vertexLength,U=l.layoutVertexArray,j=l.collisionVertexArray,K=f.anchorX,q=f.anchorY;this._addCollisionDebugVertex(U,j,u,K,q,new F(e,t)),this._addCollisionDebugVertex(U,j,u,K,q,new F(r,t)),this._addCollisionDebugVertex(U,j,u,K,q,new F(r,A)),this._addCollisionDebugVertex(U,j,u,K,q,new F(e,A)),b.vertexLength+=4;var W=l.indexArray;W.emplaceBack(k,k+1),W.emplaceBack(k+1,k+2),W.emplaceBack(k+2,k+3),W.emplaceBack(k+3,k),b.primitiveLength+=4},un.prototype.addDebugCollisionBoxes=function(e,t,r,A){for(var l=e;l<t;l++){var u=this.collisionBoxArray.get(l);this.addCollisionDebugVertices(u.x1,u.y1,u.x2,u.y2,A?this.textCollisionBox:this.iconCollisionBox,u.anchorPoint,r)}},un.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new $s(Oa,jl.members,mA),this.iconCollisionBox=new $s(Oa,jl.members,mA);for(var e=0;e<this.symbolInstances.length;e++){var t=this.symbolInstances.get(e);this.addDebugCollisionBoxes(t.textBoxStartIndex,t.textBoxEndIndex,t,!0),this.addDebugCollisionBoxes(t.verticalTextBoxStartIndex,t.verticalTextBoxEndIndex,t,!0),this.addDebugCollisionBoxes(t.iconBoxStartIndex,t.iconBoxEndIndex,t,!1),this.addDebugCollisionBoxes(t.verticalIconBoxStartIndex,t.verticalIconBoxEndIndex,t,!1)}},un.prototype._deserializeCollisionBoxesForSymbol=function(e,t,r,A,l,u,f,b,k){for(var U={},j=t;j<r;j++){var K=e.get(j);U.textBox={x1:K.x1,y1:K.y1,x2:K.x2,y2:K.y2,anchorPointX:K.anchorPointX,anchorPointY:K.anchorPointY},U.textFeatureIndex=K.featureIndex;break}for(var q=A;q<l;q++){var W=e.get(q);U.verticalTextBox={x1:W.x1,y1:W.y1,x2:W.x2,y2:W.y2,anchorPointX:W.anchorPointX,anchorPointY:W.anchorPointY},U.verticalTextFeatureIndex=W.featureIndex;break}for(var Ae=u;Ae<f;Ae++){var ce=e.get(Ae);U.iconBox={x1:ce.x1,y1:ce.y1,x2:ce.x2,y2:ce.y2,anchorPointX:ce.anchorPointX,anchorPointY:ce.anchorPointY},U.iconFeatureIndex=ce.featureIndex;break}for(var xe=b;xe<k;xe++){var ge=e.get(xe);U.verticalIconBox={x1:ge.x1,y1:ge.y1,x2:ge.x2,y2:ge.y2,anchorPointX:ge.anchorPointX,anchorPointY:ge.anchorPointY},U.verticalIconFeatureIndex=ge.featureIndex;break}return U},un.prototype.deserializeCollisionBoxes=function(e){this.collisionArrays=[];for(var t=0;t<this.symbolInstances.length;t++){var r=this.symbolInstances.get(t);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(e,r.textBoxStartIndex,r.textBoxEndIndex,r.verticalTextBoxStartIndex,r.verticalTextBoxEndIndex,r.iconBoxStartIndex,r.iconBoxEndIndex,r.verticalIconBoxStartIndex,r.verticalIconBoxEndIndex))}},un.prototype.hasTextData=function(){return this.text.segments.get().length>0},un.prototype.hasIconData=function(){return this.icon.segments.get().length>0},un.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},un.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},un.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},un.prototype.addIndicesForPlacedSymbol=function(e,t){for(var r=e.placedSymbolArray.get(t),A=r.vertexStartIndex+4*r.numGlyphs,l=r.vertexStartIndex;l<A;l+=4)e.indexArray.emplaceBack(l,l+1,l+2),e.indexArray.emplaceBack(l+1,l+2,l+3)},un.prototype.getSortedSymbolIndexes=function(e){if(this.sortedAngle===e&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;for(var t=Math.sin(e),r=Math.cos(e),A=[],l=[],u=[],f=0;f<this.symbolInstances.length;++f){u.push(f);var b=this.symbolInstances.get(f);A.push(0|Math.round(t*b.anchorX+r*b.anchorY)),l.push(b.featureIndex)}return u.sort(function(k,U){return A[k]-A[U]||l[U]-l[k]}),u},un.prototype.addToSortKeyRanges=function(e,t){var r=this.sortKeyRanges[this.sortKeyRanges.length-1];r&&r.sortKey===t?r.symbolInstanceEnd=e+1:this.sortKeyRanges.push({sortKey:t,symbolInstanceStart:e,symbolInstanceEnd:e+1})},un.prototype.sortFeatures=function(e){var t=this;if(this.sortFeaturesByY&&this.sortedAngle!==e&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(e),this.sortedAngle=e,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var r=0,A=this.symbolInstanceIndexes;r<A.length;r+=1){var l=this.symbolInstances.get(A[r]);this.featureSortOrder.push(l.featureIndex),[l.rightJustifiedTextSymbolIndex,l.centerJustifiedTextSymbolIndex,l.leftJustifiedTextSymbolIndex].forEach(function(u,f,b){u>=0&&b.indexOf(u)===f&&t.addIndicesForPlacedSymbol(t.text,u)}),l.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,l.verticalPlacedTextSymbolIndex),l.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,l.placedIconSymbolIndex),l.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,l.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},Ot("SymbolBucket",un,{omit:["layers","collisionBoxArray","features","compareText"]}),un.MAX_GLYPHS=65535,un.addDynamicAttributes=ll;var nh=new ii({"symbol-placement":new Yt(ee.layout_symbol["symbol-placement"]),"symbol-spacing":new Yt(ee.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Yt(ee.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Mt(ee.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Yt(ee.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Yt(ee.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Yt(ee.layout_symbol["icon-ignore-placement"]),"icon-optional":new Yt(ee.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Yt(ee.layout_symbol["icon-rotation-alignment"]),"icon-size":new Mt(ee.layout_symbol["icon-size"]),"icon-text-fit":new Yt(ee.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Yt(ee.layout_symbol["icon-text-fit-padding"]),"icon-image":new Mt(ee.layout_symbol["icon-image"]),"icon-rotate":new Mt(ee.layout_symbol["icon-rotate"]),"icon-padding":new Yt(ee.layout_symbol["icon-padding"]),"icon-keep-upright":new Yt(ee.layout_symbol["icon-keep-upright"]),"icon-offset":new Mt(ee.layout_symbol["icon-offset"]),"icon-anchor":new Mt(ee.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Yt(ee.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Yt(ee.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Yt(ee.layout_symbol["text-rotation-alignment"]),"text-field":new Mt(ee.layout_symbol["text-field"]),"text-font":new Mt(ee.layout_symbol["text-font"]),"text-size":new Mt(ee.layout_symbol["text-size"]),"text-max-width":new Mt(ee.layout_symbol["text-max-width"]),"text-line-height":new Yt(ee.layout_symbol["text-line-height"]),"text-letter-spacing":new Mt(ee.layout_symbol["text-letter-spacing"]),"text-justify":new Mt(ee.layout_symbol["text-justify"]),"text-radial-offset":new Mt(ee.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Yt(ee.layout_symbol["text-variable-anchor"]),"text-anchor":new Mt(ee.layout_symbol["text-anchor"]),"text-max-angle":new Yt(ee.layout_symbol["text-max-angle"]),"text-writing-mode":new Yt(ee.layout_symbol["text-writing-mode"]),"text-rotate":new Mt(ee.layout_symbol["text-rotate"]),"text-padding":new Yt(ee.layout_symbol["text-padding"]),"text-keep-upright":new Yt(ee.layout_symbol["text-keep-upright"]),"text-transform":new Mt(ee.layout_symbol["text-transform"]),"text-offset":new Mt(ee.layout_symbol["text-offset"]),"text-allow-overlap":new Yt(ee.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Yt(ee.layout_symbol["text-ignore-placement"]),"text-optional":new Yt(ee.layout_symbol["text-optional"])}),ul={paint:new ii({"icon-opacity":new Mt(ee.paint_symbol["icon-opacity"]),"icon-color":new Mt(ee.paint_symbol["icon-color"]),"icon-halo-color":new Mt(ee.paint_symbol["icon-halo-color"]),"icon-halo-width":new Mt(ee.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Mt(ee.paint_symbol["icon-halo-blur"]),"icon-translate":new Yt(ee.paint_symbol["icon-translate"]),"icon-translate-anchor":new Yt(ee.paint_symbol["icon-translate-anchor"]),"text-opacity":new Mt(ee.paint_symbol["text-opacity"]),"text-color":new Mt(ee.paint_symbol["text-color"],{runtimeType:ot,getOverride:function(e){return e.textColor},hasOverride:function(e){return!!e.textColor}}),"text-halo-color":new Mt(ee.paint_symbol["text-halo-color"]),"text-halo-width":new Mt(ee.paint_symbol["text-halo-width"]),"text-halo-blur":new Mt(ee.paint_symbol["text-halo-blur"]),"text-translate":new Yt(ee.paint_symbol["text-translate"]),"text-translate-anchor":new Yt(ee.paint_symbol["text-translate-anchor"])}),layout:nh},Qs=function(e){this.type=e.property.overrides?e.property.overrides.runtimeType:ne,this.defaultValue=e};Qs.prototype.evaluate=function(e){if(e.formattedSection){var t=this.defaultValue.property.overrides;if(t&&t.hasOverride(e.formattedSection))return t.getOverride(e.formattedSection)}return e.feature&&e.featureState?this.defaultValue.evaluate(e.feature,e.featureState):this.defaultValue.property.specification.default},Qs.prototype.eachChild=function(e){this.defaultValue.isConstant()||e(this.defaultValue.value._styleExpression.expression)},Qs.prototype.outputDefined=function(){return!1},Qs.prototype.serialize=function(){return null},Ot("FormatSectionOverride",Qs,{omit:["defaultValue"]});var ih=function(e){function t(r){e.call(this,r,ul)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.recalculate=function(r,A){if(e.prototype.recalculate.call(this,r,A),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){var l=this.layout.get("text-writing-mode");if(l){for(var u=[],f=0,b=l;f<b.length;f+=1){var k=b[f];u.indexOf(k)<0&&u.push(k)}this.layout._values["text-writing-mode"]=u}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},t.prototype.getValueAndResolveTokens=function(r,A,l,u){var k,f=this.layout.get(r).evaluate(A,{},l,u),b=this._unevaluatedLayout._values[r];return b.isDataDriven()||ca(b.value)||!f?f:(k=A.properties,f.replace(/{([^{}]+)}/g,function(j,K){return K in k?String(k[K]):""}))},t.prototype.createBucket=function(r){return new un(r)},t.prototype.queryRadius=function(){return 0},t.prototype.queryIntersectsFeature=function(){return!1},t.prototype._setPaintOverrides=function(){for(var r=0,A=ul.paint.overridableProperties;r<A.length;r+=1){var l=A[r];if(t.hasPaintOverride(this.layout,l)){var u,f=this.paint.get(l),b=new Qs(f),k=new Ni(b,f.property.specification);u="constant"===f.value.kind||"source"===f.value.kind?new ua("source",k):new Xo("composite",k,f.value.zoomStops,f.value._interpolationType),this.paint._values[l]=new mi(f.property,u,f.parameters)}}},t.prototype._handleOverridablePaintPropertyUpdate=function(r,A,l){return!(!this.layout||A.isDataDriven()||l.isDataDriven())&&t.hasPaintOverride(this.layout,r)},t.hasPaintOverride=function(r,A){var l=r.get("text-field"),u=ul.paint.properties[A],f=!1,b=function(j){for(var K=0,q=j;K<q.length;K+=1)if(u.overrides&&u.overrides.hasOverride(q[K]))return void(f=!0)};if("constant"===l.value.kind&&l.value.value instanceof Sn)b(l.value.value.sections);else if("source"===l.value.kind){var k=function(j){f||(j instanceof ri&&mr(j.value)===Zt?b(j.value.sections):j instanceof Ui?b(j.sections):j.eachChild(k))},U=l.value;U._styleExpression&&k(U._styleExpression.expression)}return f},t}(Eo),oh={paint:new ii({"background-color":new Yt(ee.paint_background["background-color"]),"background-pattern":new yi(ee.paint_background["background-pattern"]),"background-opacity":new Yt(ee.paint_background["background-opacity"])})},ah=function(e){function t(r){e.call(this,r,oh)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(Eo),Ah={paint:new ii({"raster-opacity":new Yt(ee.paint_raster["raster-opacity"]),"raster-hue-rotate":new Yt(ee.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Yt(ee.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Yt(ee.paint_raster["raster-brightness-max"]),"raster-saturation":new Yt(ee.paint_raster["raster-saturation"]),"raster-contrast":new Yt(ee.paint_raster["raster-contrast"]),"raster-resampling":new Yt(ee.paint_raster["raster-resampling"]),"raster-fade-duration":new Yt(ee.paint_raster["raster-fade-duration"])})},sh=function(e){function t(r){e.call(this,r,Ah)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(Eo),ch=function(e){function t(r){e.call(this,r,{}),this.implementation=r}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.is3D=function(){return"3d"===this.implementation.renderingMode},t.prototype.hasOffscreenPass=function(){return void 0!==this.implementation.prerender},t.prototype.recalculate=function(){},t.prototype.updateTransitions=function(){},t.prototype.hasTransition=function(){},t.prototype.serialize=function(){},t.prototype.onAdd=function(r){this.implementation.onAdd&&this.implementation.onAdd(r,r.painter.context.gl)},t.prototype.onRemove=function(r){this.implementation.onRemove&&this.implementation.onRemove(r,r.painter.context.gl)},t}(Eo),lh={circle:Hc,heatmap:Yu,hillshade:Hu,fill:pp,"fill-extrusion":bp,line:Ip,symbol:ih,background:ah,raster:sh},su=B.HTMLImageElement,cu=B.HTMLCanvasElement,lu=B.HTMLVideoElement,uu=B.ImageData,kc=B.ImageBitmap,ls=function(e,t,r,A){this.context=e,this.format=r,this.texture=e.gl.createTexture(),this.update(t,A)};ls.prototype.update=function(e,t,r){var A=e.width,l=e.height,u=!(this.size&&this.size[0]===A&&this.size[1]===l||r),f=this.context,b=f.gl;if(this.useMipmap=Boolean(t&&t.useMipmap),b.bindTexture(b.TEXTURE_2D,this.texture),f.pixelStoreUnpackFlipY.set(!1),f.pixelStoreUnpack.set(1),f.pixelStoreUnpackPremultiplyAlpha.set(this.format===b.RGBA&&(!t||!1!==t.premultiply)),u)this.size=[A,l],e instanceof su||e instanceof cu||e instanceof lu||e instanceof uu||kc&&e instanceof kc?b.texImage2D(b.TEXTURE_2D,0,this.format,this.format,b.UNSIGNED_BYTE,e):b.texImage2D(b.TEXTURE_2D,0,this.format,A,l,0,this.format,b.UNSIGNED_BYTE,e.data);else{var k=r||{x:0,y:0},U=k.x,j=k.y;e instanceof su||e instanceof cu||e instanceof lu||e instanceof uu||kc&&e instanceof kc?b.texSubImage2D(b.TEXTURE_2D,0,U,j,b.RGBA,b.UNSIGNED_BYTE,e):b.texSubImage2D(b.TEXTURE_2D,0,U,j,A,l,b.RGBA,b.UNSIGNED_BYTE,e.data)}this.useMipmap&&this.isSizePowerOfTwo()&&b.generateMipmap(b.TEXTURE_2D)},ls.prototype.bind=function(e,t,r){var A=this.context.gl;A.bindTexture(A.TEXTURE_2D,this.texture),r!==A.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(r=A.LINEAR),e!==this.filter&&(A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,e),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,r||e),this.filter=e),t!==this.wrap&&(A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_S,t),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_T,t),this.wrap=t)},ls.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},ls.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var pl=function(e){var t=this;this._callback=e,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){t._triggered=!1,t._callback()})};pl.prototype.trigger=function(){var e=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){e._triggered=!1,e._callback()},0))},pl.prototype.remove=function(){delete this._channel,this._callback=function(){}};var Fs=function(e,t,r){this.target=e,this.parent=t,this.mapId=r,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},Se(["receive","process"],this),this.invoker=new pl(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=Je()?e:B};function pu(e,t,r){var A=2*Math.PI*6378137/256/Math.pow(2,r);return[e*A-2*Math.PI*6378137/2,t*A-2*Math.PI*6378137/2]}Fs.prototype.send=function(e,t,r,A,l){var u=this;void 0===l&&(l=!1);var f=Math.round(1e18*Math.random()).toString(36).substring(0,10);r&&(this.callbacks[f]=r);var b=jt(this.globalScope)?void 0:[];return this.target.postMessage({id:f,type:e,hasCallback:!!r,targetMapId:A,mustQueue:l,sourceMapId:this.mapId,data:Xi(t,b)},b),{cancel:function(){r&&delete u.callbacks[f],u.target.postMessage({id:f,type:"<cancel>",targetMapId:A,sourceMapId:u.mapId})}}},Fs.prototype.receive=function(e){var t=e.data,r=t.id;if(r&&(!t.targetMapId||this.mapId===t.targetMapId))if("<cancel>"===t.type){delete this.tasks[r];var A=this.cancelCallbacks[r];delete this.cancelCallbacks[r],A&&A()}else Je()||t.mustQueue?(this.tasks[r]=t,this.taskQueue.push(r),this.invoker.trigger()):this.processTask(r,t)},Fs.prototype.process=function(){if(this.taskQueue.length){var e=this.taskQueue.shift(),t=this.tasks[e];delete this.tasks[e],this.taskQueue.length&&this.invoker.trigger(),t&&this.processTask(e,t)}},Fs.prototype.processTask=function(e,t){var r=this;if("<response>"===t.type){var A=this.callbacks[e];delete this.callbacks[e],A&&(t.error?A(Rn(t.error)):A(null,Rn(t.data)))}else{var l=!1,u=jt(this.globalScope)?void 0:[],f=t.hasCallback?function(j,K){l=!0,delete r.cancelCallbacks[e],r.target.postMessage({id:e,type:"<response>",sourceMapId:r.mapId,error:j?Xi(j):null,data:Xi(K,u)},u)}:function(j){l=!0},b=null,k=Rn(t.data);if(this.parent[t.type])b=this.parent[t.type](t.sourceMapId,k,f);else if(this.parent.getWorkerSource){var U=t.type.split(".");b=this.parent.getWorkerSource(t.sourceMapId,U[0],k.source)[U[1]](k,f)}else f(new Error("Could not find function "+t.type));!l&&b&&b.cancel&&(this.cancelCallbacks[e]=b.cancel)}},Fs.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var ei=function(e,t){e&&(t?this.setSouthWest(e).setNorthEast(t):4===e.length?this.setSouthWest([e[0],e[1]]).setNorthEast([e[2],e[3]]):this.setSouthWest(e[0]).setNorthEast(e[1]))};ei.prototype.setNorthEast=function(e){return this._ne=e instanceof wn?new wn(e.lng,e.lat):wn.convert(e),this},ei.prototype.setSouthWest=function(e){return this._sw=e instanceof wn?new wn(e.lng,e.lat):wn.convert(e),this},ei.prototype.extend=function(e){var t,r,A=this._sw,l=this._ne;if(e instanceof wn)t=e,r=e;else{if(!(e instanceof ei))return Array.isArray(e)?4===e.length||e.every(Array.isArray)?this.extend(ei.convert(e)):this.extend(wn.convert(e)):this;if(r=e._ne,!(t=e._sw)||!r)return this}return A||l?(A.lng=Math.min(t.lng,A.lng),A.lat=Math.min(t.lat,A.lat),l.lng=Math.max(r.lng,l.lng),l.lat=Math.max(r.lat,l.lat)):(this._sw=new wn(t.lng,t.lat),this._ne=new wn(r.lng,r.lat)),this},ei.prototype.getCenter=function(){return new wn((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},ei.prototype.getSouthWest=function(){return this._sw},ei.prototype.getNorthEast=function(){return this._ne},ei.prototype.getNorthWest=function(){return new wn(this.getWest(),this.getNorth())},ei.prototype.getSouthEast=function(){return new wn(this.getEast(),this.getSouth())},ei.prototype.getWest=function(){return this._sw.lng},ei.prototype.getSouth=function(){return this._sw.lat},ei.prototype.getEast=function(){return this._ne.lng},ei.prototype.getNorth=function(){return this._ne.lat},ei.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},ei.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},ei.prototype.isEmpty=function(){return!(this._sw&&this._ne)},ei.prototype.contains=function(e){var t=wn.convert(e),r=t.lng,A=t.lat,l=this._sw.lng<=r&&r<=this._ne.lng;return this._sw.lng>this._ne.lng&&(l=this._sw.lng>=r&&r>=this._ne.lng),this._sw.lat<=A&&A<=this._ne.lat&&l},ei.convert=function(e){return!e||e instanceof ei?e:new ei(e)};var wn=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid LngLat object: ("+e+", "+t+")");if(this.lng=+e,this.lat=+t,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};wn.prototype.wrap=function(){return new wn(M(this.lng,-180,180),this.lat)},wn.prototype.toArray=function(){return[this.lng,this.lat]},wn.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},wn.prototype.distanceTo=function(e){var t=Math.PI/180,r=this.lat*t,A=e.lat*t,l=Math.sin(r)*Math.sin(A)+Math.cos(r)*Math.cos(A)*Math.cos((e.lng-this.lng)*t);return 6371008.8*Math.acos(Math.min(l,1))},wn.prototype.toBounds=function(e){void 0===e&&(e=0);var t=360*e/40075017,r=t/Math.cos(Math.PI/180*this.lat);return new ei(new wn(this.lng-r,this.lat-t),new wn(this.lng+r,this.lat+t))},wn.convert=function(e){if(e instanceof wn)return e;if(Array.isArray(e)&&(2===e.length||3===e.length))return new wn(Number(e[0]),Number(e[1]));if(!Array.isArray(e)&&"object"==typeof e&&null!==e)return new wn(Number("lng"in e?e.lng:e.lon),Number(e.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var hu=2*Math.PI*6371008.8;function fu(e){return hu*Math.cos(e*Math.PI/180)}function du(e){return(180+e)/360}function gu(e){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360}function mu(e,t){return e/fu(t)}function hl(e){return 360/Math.PI*Math.atan(Math.exp((180-360*e)*Math.PI/180))-90}var us=function(e,t,r){void 0===r&&(r=0),this.x=+e,this.y=+t,this.z=+r};us.fromLngLat=function(e,t){void 0===t&&(t=0);var r=wn.convert(e);return new us(du(r.lng),gu(r.lat),mu(t,r.lat))},us.prototype.toLngLat=function(){return new wn(360*this.x-180,hl(this.y))},us.prototype.toAltitude=function(){return this.z*fu(hl(this.y))},us.prototype.meterInMercatorCoordinateUnits=function(){return 1/hu*(e=hl(this.y),1/Math.cos(e*Math.PI/180));var e};var ps=function(e,t,r){this.z=e,this.x=t,this.y=r,this.key=ec(0,e,e,t,r)};ps.prototype.equals=function(e){return this.z===e.z&&this.x===e.x&&this.y===e.y},ps.prototype.url=function(e,t){var r,A,l,u,f,b=(A=this.y,l=this.z,u=pu(256*(r=this.x),256*(A=Math.pow(2,l)-A-1),l),f=pu(256*(r+1),256*(A+1),l),u[0]+","+u[1]+","+f[0]+","+f[1]),k=function(U,j,K){for(var q,W="",Ae=U;Ae>0;Ae--)W+=(j&(q=1<<Ae-1)?1:0)+(K&q?2:0);return W}(this.z,this.x,this.y);return e[(this.x+this.y)%e.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===t?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",k).replace("{bbox-epsg-3857}",b)},ps.prototype.getTilePoint=function(e){var t=Math.pow(2,this.z);return new F(8192*(e.x*t-this.x),8192*(e.y*t-this.y))},ps.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var yu=function(e,t){this.wrap=e,this.canonical=t,this.key=ec(e,t.z,t.z,t.x,t.y)},ti=function(e,t,r,A,l){this.overscaledZ=e,this.wrap=t,this.canonical=new ps(r,+A,+l),this.key=ec(t,e,r,A,l)};function ec(e,t,r,A,l){(e*=2)<0&&(e=-1*e-1);var u=1<<r;return(u*u*e+u*l+A).toString(36)+r.toString(36)+t.toString(36)}ti.prototype.equals=function(e){return this.overscaledZ===e.overscaledZ&&this.wrap===e.wrap&&this.canonical.equals(e.canonical)},ti.prototype.scaledTo=function(e){var t=this.canonical.z-e;return e>this.canonical.z?new ti(e,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new ti(e,this.wrap,e,this.canonical.x>>t,this.canonical.y>>t)},ti.prototype.calculateScaledKey=function(e,t){var r=this.canonical.z-e;return e>this.canonical.z?ec(this.wrap*+t,e,this.canonical.z,this.canonical.x,this.canonical.y):ec(this.wrap*+t,e,e,this.canonical.x>>r,this.canonical.y>>r)},ti.prototype.isChildOf=function(e){if(e.wrap!==this.wrap)return!1;var t=this.canonical.z-e.canonical.z;return 0===e.overscaledZ||e.overscaledZ<this.overscaledZ&&e.canonical.x===this.canonical.x>>t&&e.canonical.y===this.canonical.y>>t},ti.prototype.children=function(e){if(this.overscaledZ>=e)return[new ti(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var t=this.canonical.z+1,r=2*this.canonical.x,A=2*this.canonical.y;return[new ti(t,this.wrap,t,r,A),new ti(t,this.wrap,t,r+1,A),new ti(t,this.wrap,t,r,A+1),new ti(t,this.wrap,t,r+1,A+1)]},ti.prototype.isLessThan=function(e){return this.wrap<e.wrap||!(this.wrap>e.wrap)&&(this.overscaledZ<e.overscaledZ||!(this.overscaledZ>e.overscaledZ)&&(this.canonical.x<e.canonical.x||!(this.canonical.x>e.canonical.x)&&this.canonical.y<e.canonical.y))},ti.prototype.wrapped=function(){return new ti(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},ti.prototype.unwrapTo=function(e){return new ti(this.overscaledZ,e,this.canonical.z,this.canonical.x,this.canonical.y)},ti.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},ti.prototype.toUnwrapped=function(){return new yu(this.wrap,this.canonical)},ti.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},ti.prototype.getTilePoint=function(e){return this.canonical.getTilePoint(new us(e.x-this.wrap,e.y))},Ot("CanonicalTileID",ps),Ot("OverscaledTileID",ti,{omit:["posMatrix"]});var bA=function(e,t,r){if(this.uid=e,t.height!==t.width)throw new RangeError("DEM tiles must be square");if(r&&"mapbox"!==r&&"terrarium"!==r)return De('"'+r+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=t.height;var A=this.dim=t.height-2;this.data=new Uint32Array(t.data.buffer),this.encoding=r||"mapbox";for(var l=0;l<A;l++)this.data[this._idx(-1,l)]=this.data[this._idx(0,l)],this.data[this._idx(A,l)]=this.data[this._idx(A-1,l)],this.data[this._idx(l,-1)]=this.data[this._idx(l,0)],this.data[this._idx(l,A)]=this.data[this._idx(l,A-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(A,-1)]=this.data[this._idx(A-1,0)],this.data[this._idx(-1,A)]=this.data[this._idx(0,A-1)],this.data[this._idx(A,A)]=this.data[this._idx(A-1,A-1)]};bA.prototype.get=function(e,t){var r=new Uint8Array(this.data.buffer),A=4*this._idx(e,t);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(r[A],r[A+1],r[A+2])},bA.prototype.getUnpackVector=function(){return"terrarium"===this.encoding?[256,1,.00390625,32768]:[6553.6,25.6,.1,1e4]},bA.prototype._idx=function(e,t){if(e<-1||e>=this.dim+1||t<-1||t>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(t+1)*this.stride+(e+1)},bA.prototype._unpackMapbox=function(e,t,r){return(256*e*256+256*t+r)/10-1e4},bA.prototype._unpackTerrarium=function(e,t,r){return 256*e+t+r/256-32768},bA.prototype.getPixels=function(){return new Hi({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},bA.prototype.backfillBorder=function(e,t,r){if(this.dim!==e.dim)throw new Error("dem dimension mismatch");var A=t*this.dim,l=t*this.dim+this.dim,u=r*this.dim,f=r*this.dim+this.dim;switch(t){case-1:A=l-1;break;case 1:l=A+1}switch(r){case-1:u=f-1;break;case 1:f=u+1}for(var b=-t*this.dim,k=-r*this.dim,U=u;U<f;U++)for(var j=A;j<l;j++)this.data[this._idx(j,U)]=e.data[this._idx(j+b,U+k)]},Ot("DEMData",bA);var Pc=function(e){this._stringToNumber={},this._numberToString=[];for(var t=0;t<e.length;t++){var r=e[t];this._stringToNumber[r]=t,this._numberToString[t]=r}};Pc.prototype.encode=function(e){return this._stringToNumber[e]},Pc.prototype.decode=function(e){return this._numberToString[e]};var Sc=function(e,t,r,A,l){this.type="Feature",this._vectorTileFeature=e,e._z=t,e._x=r,e._y=A,this.properties=e.properties,this.id=l},fl={geometry:{configurable:!0}};fl.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},fl.geometry.set=function(e){this._geometry=e},Sc.prototype.toJSON=function(){var e={geometry:this.geometry};for(var t in this)"_geometry"!==t&&"_vectorTileFeature"!==t&&(e[t]=this[t]);return e},Object.defineProperties(Sc.prototype,fl);var ks=function(){this.state={},this.stateChanges={},this.deletedStates={}};ks.prototype.updateState=function(e,t,r){var A=String(t);if(this.stateChanges[e]=this.stateChanges[e]||{},this.stateChanges[e][A]=this.stateChanges[e][A]||{},N(this.stateChanges[e][A],r),null===this.deletedStates[e])for(var l in this.deletedStates[e]={},this.state[e])l!==A&&(this.deletedStates[e][l]=null);else if(this.deletedStates[e]&&null===this.deletedStates[e][A])for(var u in this.deletedStates[e][A]={},this.state[e][A])r[u]||(this.deletedStates[e][A][u]=null);else for(var f in r)this.deletedStates[e]&&this.deletedStates[e][A]&&null===this.deletedStates[e][A][f]&&delete this.deletedStates[e][A][f]},ks.prototype.removeFeatureState=function(e,t,r){if(null!==this.deletedStates[e]){var A=String(t);if(this.deletedStates[e]=this.deletedStates[e]||{},r&&void 0!==t)null!==this.deletedStates[e][A]&&(this.deletedStates[e][A]=this.deletedStates[e][A]||{},this.deletedStates[e][A][r]=null);else if(void 0!==t)if(this.stateChanges[e]&&this.stateChanges[e][A])for(r in this.deletedStates[e][A]={},this.stateChanges[e][A])this.deletedStates[e][A][r]=null;else this.deletedStates[e][A]=null;else this.deletedStates[e]=null}},ks.prototype.getState=function(e,t){var r=String(t),A=N({},(this.state[e]||{})[r],(this.stateChanges[e]||{})[r]);if(null===this.deletedStates[e])return{};if(this.deletedStates[e]){var l=this.deletedStates[e][t];if(null===l)return{};for(var u in l)delete A[u]}return A},ks.prototype.initializeTileState=function(e,t){e.setFeatureState(this.state,t)},ks.prototype.coalesceChanges=function(e,t){var r={};for(var A in this.stateChanges){this.state[A]=this.state[A]||{};var l={};for(var u in this.stateChanges[A])this.state[A][u]||(this.state[A][u]={}),N(this.state[A][u],this.stateChanges[A][u]),l[u]=this.state[A][u];r[A]=l}for(var f in this.deletedStates){this.state[f]=this.state[f]||{};var b={};if(null===this.deletedStates[f])for(var k in this.state[f])b[k]={},this.state[f][k]={};else for(var U in this.deletedStates[f]){if(null===this.deletedStates[f][U])this.state[f][U]={};else for(var j=0,K=Object.keys(this.deletedStates[f][U]);j<K.length;j+=1)delete this.state[f][U][K[j]];b[U]=this.state[f][U]}r[f]=r[f]||{},N(r[f],b)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(r).length)for(var q in e)e[q].setFeatureState(r,t)};var wA=function(e,t){this.tileID=e,this.x=e.canonical.x,this.y=e.canonical.y,this.z=e.canonical.z,this.grid=new Tn(8192,16,0),this.grid3D=new Tn(8192,16,0),this.featureIndexArray=new X,this.promoteId=t};function vu(e,t,r,A,l){return Ue(e,function(u,f){var b=t instanceof pA?t.get(f):null;return b&&b.evaluate?b.evaluate(r,A,l):b})}function _u(e){for(var t=1/0,r=1/0,A=-1/0,l=-1/0,u=0,f=e;u<f.length;u+=1){var b=f[u];t=Math.min(t,b.x),r=Math.min(r,b.y),A=Math.max(A,b.x),l=Math.max(l,b.y)}return{minX:t,minY:r,maxX:A,maxY:l}}function uh(e,t){return t-e}wA.prototype.insert=function(e,t,r,A,l,u){var f=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(r,A,l);for(var b=u?this.grid3D:this.grid,k=0;k<t.length;k++){for(var U=t[k],j=[1/0,1/0,-1/0,-1/0],K=0;K<U.length;K++){var q=U[K];j[0]=Math.min(j[0],q.x),j[1]=Math.min(j[1],q.y),j[2]=Math.max(j[2],q.x),j[3]=Math.max(j[3],q.y)}j[0]<8192&&j[1]<8192&&j[2]>=0&&j[3]>=0&&b.insert(f,j[0],j[1],j[2],j[3])}},wA.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new _s.VectorTile(new _c(this.rawTileData)).layers,this.sourceLayerCoder=new Pc(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},wA.prototype.query=function(e,t,r,A){var l=this;this.loadVTLayers();for(var u=e.params||{},f=8192/e.tileSize/e.scale,b=pa(u.filter),k=e.queryGeometry,U=e.queryPadding*f,j=_u(k),K=this.grid.query(j.minX-U,j.minY-U,j.maxX+U,j.maxY+U),q=_u(e.cameraQueryGeometry),W=0,Ae=this.grid3D.query(q.minX-U,q.minY-U,q.maxX+U,q.maxY+U,function(Ge,qe,$e,st){return function(yt,Ft,Vt,Tt,er){for(var St=0,Qr=yt;St<Qr.length;St+=1){var sr=Qr[St];if(Ft<=sr.x&&Vt<=sr.y&&Tt>=sr.x&&er>=sr.y)return!0}var zt=[new F(Ft,Vt),new F(Ft,er),new F(Tt,er),new F(Tt,Vt)];if(yt.length>2)for(var Pr=0,Ir=zt;Pr<Ir.length;Pr+=1)if(Li(yt,Ir[Pr]))return!0;for(var Or=0;Or<yt.length-1;Or++)if(ta(yt[Or],yt[Or+1],zt))return!0;return!1}(e.cameraQueryGeometry,Ge-U,qe-U,$e+U,st+U)});W<Ae.length;W+=1)K.push(Ae[W]);K.sort(uh);for(var ce,xe={},ge=function(Ge){var qe=K[Ge];if(qe!==ce){ce=qe;var $e=l.featureIndexArray.get(qe),st=null;l.loadMatchingFeature(xe,$e.bucketIndex,$e.sourceLayerIndex,$e.featureIndex,b,u.layers,u.availableImages,t,r,A,function(yt,Ft,Vt){return st||(st=bn(yt)),Ft.queryIntersectsFeature(k,yt,Vt,st,l.z,e.transform,f,e.pixelPosMatrix)})}},Pe=0;Pe<K.length;Pe++)ge(Pe);return xe},wA.prototype.loadMatchingFeature=function(e,t,r,A,l,u,f,b,k,U,j){var K=this.bucketLayerIDs[t];if(!u||function(Ft,Vt){for(var Tt=0;Tt<Ft.length;Tt++)if(Vt.indexOf(Ft[Tt])>=0)return!0;return!1}(u,K)){var q=this.sourceLayerCoder.decode(r),W=this.vtLayers[q].feature(A);if(l.needGeometry){var Ae=h(W,!0);if(!l.filter(new Er(this.tileID.overscaledZ),Ae,this.tileID.canonical))return}else if(!l.filter(new Er(this.tileID.overscaledZ),W))return;for(var ce=this.getId(W,q),xe=0;xe<K.length;xe++){var ge=K[xe];if(!(u&&u.indexOf(ge)<0)){var Pe=b[ge];if(Pe){var Ge={};void 0!==ce&&U&&(Ge=U.getState(Pe.sourceLayer||"_geojsonTileLayer",ce));var qe=N({},k[ge]);qe.paint=vu(qe.paint,Pe.paint,W,Ge,f),qe.layout=vu(qe.layout,Pe.layout,W,Ge,f);var $e=!j||j(W,Pe,Ge);if($e){var st=new Sc(W,this.z,this.x,this.y,ce);st.layer=qe;var yt=e[ge];void 0===yt&&(yt=e[ge]=[]),yt.push({featureIndex:A,feature:st,intersectionZ:$e})}}}}}},wA.prototype.lookupSymbolFeatures=function(e,t,r,A,l,u,f,b){var k={};this.loadVTLayers();for(var U=pa(l),j=0,K=e;j<K.length;j+=1)this.loadMatchingFeature(k,r,A,K[j],U,u,f,b,t);return k},wA.prototype.hasLayer=function(e){for(var t=0,r=this.bucketLayerIDs;t<r.length;t+=1)for(var A=0,l=r[t];A<l.length;A+=1)if(e===l[A])return!0;return!1},wA.prototype.getId=function(e,t){var r=e.id;return this.promoteId&&"boolean"==typeof(r=e.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[t]])&&(r=Number(r)),r},Ot("FeatureIndex",wA,{omit:["rawTileData","sourceLayerCoder"]});var li=function(e,t){this.tileID=e,this.uid=ve(),this.uses=0,this.tileSize=t,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};li.prototype.registerFadeDuration=function(e){var t=e+this.timeAdded;t<Fr.now()||this.fadeEndTime&&t<this.fadeEndTime||(this.fadeEndTime=t)},li.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},li.prototype.loadVectorData=function(e,t,r){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",e){for(var A in e.featureIndex&&(this.latestFeatureIndex=e.featureIndex,e.rawTileData?(this.latestRawTileData=e.rawTileData,this.latestFeatureIndex.rawTileData=e.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=e.collisionBoxArray,this.buckets=function(U,j){var K={};if(!j)return K;for(var q=function(){var ce=Ae[W],xe=ce.layerIds.map(function(Ge){return j.getLayer(Ge)}).filter(Boolean);if(0!==xe.length){ce.layers=xe,ce.stateDependentLayerIds&&(ce.stateDependentLayers=ce.stateDependentLayerIds.map(function(Ge){return xe.filter(function(qe){return qe.id===Ge})[0]}));for(var ge=0,Pe=xe;ge<Pe.length;ge+=1)K[Pe[ge].id]=ce}},W=0,Ae=U;W<Ae.length;W+=1)q();return K}(e.buckets,t.style),this.hasSymbolBuckets=!1,this.buckets){var l=this.buckets[A];if(l instanceof un){if(this.hasSymbolBuckets=!0,!r)break;l.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var u in this.buckets){var f=this.buckets[u];if(f instanceof un&&f.hasRTLText){this.hasRTLText=!0,gi.isLoading()||gi.isLoaded()||"deferred"!==Ta()||oo();break}}for(var b in this.queryPadding=0,this.buckets){var k=this.buckets[b];this.queryPadding=Math.max(this.queryPadding,t.style.getLayer(b).queryRadius(k))}e.imageAtlas&&(this.imageAtlas=e.imageAtlas),e.glyphAtlasImage&&(this.glyphAtlasImage=e.glyphAtlasImage)}else this.collisionBoxArray=new a},li.prototype.unloadVectorData=function(){for(var e in this.buckets)this.buckets[e].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},li.prototype.getBucket=function(e){return this.buckets[e.id]},li.prototype.upload=function(e){for(var t in this.buckets){var r=this.buckets[t];r.uploadPending()&&r.upload(e)}var A=e.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new ls(e,this.imageAtlas.image,A.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new ls(e,this.glyphAtlasImage,A.ALPHA),this.glyphAtlasImage=null)},li.prototype.prepare=function(e){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(e,this.imageAtlasTexture)},li.prototype.queryRenderedFeatures=function(e,t,r,A,l,u,f,b,k,U){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:A,cameraQueryGeometry:l,scale:u,tileSize:this.tileSize,pixelPosMatrix:U,transform:b,params:f,queryPadding:this.queryPadding*k},e,t,r):{}},li.prototype.querySourceFeatures=function(e,t){var r=this.latestFeatureIndex;if(r&&r.rawTileData){var A=r.loadVTLayers(),l=t?t.sourceLayer:"",u=A._geojsonTileLayer||A[l];if(u)for(var f=pa(t&&t.filter),b=this.tileID.canonical,k=b.z,U=b.x,j=b.y,K={z:k,x:U,y:j},q=0;q<u.length;q++){var W=u.feature(q);if(f.needGeometry){var Ae=h(W,!0);if(!f.filter(new Er(this.tileID.overscaledZ),Ae,this.tileID.canonical))continue}else if(!f.filter(new Er(this.tileID.overscaledZ),W))continue;var ce=r.getId(W,l),xe=new Sc(W,k,U,j,ce);xe.tile=K,e.push(xe)}}},li.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},li.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},li.prototype.setExpiryData=function(e){var t=this.expirationTime;if(e.cacheControl){var r=xt(e.cacheControl);r["max-age"]&&(this.expirationTime=Date.now()+1e3*r["max-age"])}else e.expires&&(this.expirationTime=new Date(e.expires).getTime());if(this.expirationTime){var A=Date.now(),l=!1;if(this.expirationTime>A)l=!1;else if(t)if(this.expirationTime<t)l=!0;else{var u=this.expirationTime-t;u?this.expirationTime=A+Math.max(u,3e4):l=!0}else l=!0;l?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},li.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},li.prototype.setFeatureState=function(e,t){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(e).length){var r=this.latestFeatureIndex.loadVTLayers();for(var A in this.buckets)if(t.style.hasLayer(A)){var l=this.buckets[A],u=l.layers[0].sourceLayer||"_geojsonTileLayer",f=r[u],b=e[u];if(f&&b&&0!==Object.keys(b).length){l.update(b,f,this.imageAtlas&&this.imageAtlas.patternPositions||{});var k=t&&t.style&&t.style.getLayer(A);k&&(this.queryPadding=Math.max(this.queryPadding,k.queryRadius(l)))}}}},li.prototype.holdingForFade=function(){return void 0!==this.symbolFadeHoldUntil},li.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<Fr.now()},li.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},li.prototype.setHoldDuration=function(e){this.symbolFadeHoldUntil=Fr.now()+e},li.prototype.setDependencies=function(e,t){for(var r={},A=0,l=t;A<l.length;A+=1)r[l[A]]=!0;this.dependencies[e]=r},li.prototype.hasDependency=function(e,t){for(var r=0,A=e;r<A.length;r+=1){var l=this.dependencies[A[r]];if(l)for(var u=0,f=t;u<f.length;u+=1)if(l[f[u]])return!0}return!1};var XA=B.performance,bu=function(e){this._marks={start:[e.url,"start"].join("#"),end:[e.url,"end"].join("#"),measure:e.url.toString()},XA.mark(this._marks.start)};bu.prototype.finish=function(){XA.mark(this._marks.end);var e=XA.getEntriesByName(this._marks.measure);return 0===e.length&&(XA.measure(this._marks.measure,this._marks.start,this._marks.end),e=XA.getEntriesByName(this._marks.measure),XA.clearMarks(this._marks.start),XA.clearMarks(this._marks.end),XA.clearMeasures(this._marks.measure)),e},i.Actor=Fs,i.AlphaImage=cs,i.CanonicalTileID=ps,i.CollisionBoxArray=a,i.Color=wr,i.DEMData=bA,i.DataConstantProperty=Yt,i.DictionaryCoder=Pc,i.EXTENT=8192,i.ErrorEvent=we,i.EvaluationParameters=Er,i.Event=ae,i.Evented=Ce,i.FeatureIndex=wA,i.FillBucket=va,i.FillExtrusionBucket=_a,i.ImageAtlas=Js,i.ImagePosition=wc,i.LineBucket=ji,i.LngLat=wn,i.LngLatBounds=ei,i.MercatorCoordinate=us,i.ONE_EM=24,i.OverscaledTileID=ti,i.Point=F,i.Point$1=F,i.Properties=ii,i.Protobuf=_c,i.RGBAImage=Hi,i.RequestManager=rt,i.RequestPerformance=bu,i.ResourceType=tn,i.SegmentVector=$,i.SourceFeatureState=ks,i.StructArrayLayout1ui2=GA,i.StructArrayLayout2f1f2i16=Mo,i.StructArrayLayout2i4=Wo,i.StructArrayLayout3ui6=$o,i.StructArrayLayout4i8=As,i.SymbolBucket=un,i.Texture=ls,i.Tile=li,i.Transitionable=Yn,i.Uniform1f=Bt,i.Uniform1i=ft,i.Uniform2f=wt,i.Uniform3f=Pt,i.Uniform4f=qt,i.UniformColor=Jt,i.UniformMatrix4f=Ur,i.UnwrappedTileID=yu,i.ValidationError=ue,i.WritingMode=Io,i.ZoomHistory=ns,i.add=function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e},i.addDynamicAttributes=ll,i.asyncAll=function(e,t,r){if(!e.length)return r(null,[]);var A=e.length,l=new Array(e.length),u=null;e.forEach(function(f,b){t(f,function(k,U){k&&(u=k),l[b]=U,0==--A&&r(u,l)})})},i.bezier=I,i.bindAll=Se,i.browser=Fr,i.cacheEntryPossiblyAdded=function(e){++Pn>$r&&(e.getActor().send("enforceCacheSizeLimit",an),Pn=0)},i.clamp=L,i.clearTileCache=function(e){var t=B.caches.delete("mapbox-tiles");e&&t.catch(e).then(function(){return e()})},i.clipLine=ru,i.clone=function(e){var t=new Jr(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},i.clone$1=Ve,i.clone$2=function(e){var t=new Jr(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},i.collisionCircleLayout=Pp,i.config=Nt,i.create=function(){var e=new Jr(16);return Jr!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e},i.create$1=function(){var e=new Jr(9);return Jr!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e},i.create$2=function(){var e=new Jr(4);return Jr!=Float32Array&&(e[1]=0,e[2]=0),e[0]=1,e[3]=1,e},i.createCommonjsModule=v,i.createExpression=la,i.createLayout=zn,i.createStyleLayer=function(e){return"custom"===e.type?new ch(e):new lh[e.type](e)},i.cross=function(e,t,r){var A=t[0],l=t[1],u=t[2],f=r[0],b=r[1],k=r[2];return e[0]=l*k-u*b,e[1]=u*f-A*k,e[2]=A*b-l*f,e},i.deepEqual=function e(t,r){if(Array.isArray(t)){if(!Array.isArray(r)||t.length!==r.length)return!1;for(var A=0;A<t.length;A++)if(!e(t[A],r[A]))return!1;return!0}if("object"==typeof t&&null!==t&&null!==r){if("object"!=typeof r||Object.keys(t).length!==Object.keys(r).length)return!1;for(var l in t)if(!e(t[l],r[l]))return!1;return!0}return t===r},i.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]},i.dot$1=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},i.ease=T,i.emitValidationErrors=dn,i.endsWith=Ee,i.enforceCacheSizeLimit=function(e){qr(),vr&&vr.then(function(t){t.keys().then(function(r){for(var A=0;A<r.length-e;A++)t.delete(r[A])})})},i.evaluateSizeForFeature=Zl,i.evaluateSizeForZoom=Wl,i.evaluateVariableOffset=ou,i.evented=is,i.extend=N,i.featureFilter=pa,i.filterObject=We,i.fromRotation=function(e,t){var r=Math.sin(t),A=Math.cos(t);return e[0]=A,e[1]=r,e[2]=0,e[3]=-r,e[4]=A,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},i.getAnchorAlignment=al,i.getAnchorJustification=cl,i.getArrayBuffer=Ar,i.getImage=Y,i.getJSON=function(e,t){return En(N(e,{type:"json"}),t)},i.getRTLTextPluginStatus=Ta,i.getReferrer=pn,i.getVideo=function(e,t){var r,A,l=B.document.createElement("video");l.muted=!0,l.onloadstart=function(){t(null,l)};for(var u=0;u<e.length;u++){var f=B.document.createElement("source");r=e[u],A=void 0,(A=B.document.createElement("a")).href=r,(A.protocol!==B.document.location.protocol||A.host!==B.document.location.host)&&(l.crossOrigin="Anonymous"),f.src=e[u],l.appendChild(f)}return{cancel:function(){}}},i.identity=so,i.invert=function(e,t){var r=t[0],A=t[1],l=t[2],u=t[3],f=t[4],b=t[5],k=t[6],U=t[7],j=t[8],K=t[9],q=t[10],W=t[11],Ae=t[12],ce=t[13],xe=t[14],ge=t[15],Pe=r*b-A*f,Ge=r*k-l*f,qe=r*U-u*f,$e=A*k-l*b,st=A*U-u*b,yt=l*U-u*k,Ft=j*ce-K*Ae,Vt=j*xe-q*Ae,Tt=j*ge-W*Ae,er=K*xe-q*ce,St=K*ge-W*ce,Qr=q*ge-W*xe,sr=Pe*Qr-Ge*St+qe*er+$e*Tt-st*Vt+yt*Ft;return sr?(e[0]=(b*Qr-k*St+U*er)*(sr=1/sr),e[1]=(l*St-A*Qr-u*er)*sr,e[2]=(ce*yt-xe*st+ge*$e)*sr,e[3]=(q*st-K*yt-W*$e)*sr,e[4]=(k*Tt-f*Qr-U*Vt)*sr,e[5]=(r*Qr-l*Tt+u*Vt)*sr,e[6]=(xe*qe-Ae*yt-ge*Ge)*sr,e[7]=(j*yt-q*qe+W*Ge)*sr,e[8]=(f*St-b*Tt+U*Ft)*sr,e[9]=(A*Tt-r*St-u*Ft)*sr,e[10]=(Ae*st-ce*qe+ge*Pe)*sr,e[11]=(K*qe-j*st-W*Pe)*sr,e[12]=(b*Vt-f*er-k*Ft)*sr,e[13]=(r*er-A*Vt+l*Ft)*sr,e[14]=(ce*Ge-Ae*$e-xe*Pe)*sr,e[15]=(j*$e-K*Ge+q*Pe)*sr,e):null},i.isChar=Ct,i.isMapboxURL=Dt,i.keysDifference=function(e,t){var r=[];for(var A in e)A in t||r.push(A);return r},i.makeRequest=En,i.mapObject=Ue,i.mercatorXfromLng=du,i.mercatorYfromLat=gu,i.mercatorZfromAltitude=mu,i.mul=qc,i.multiply=Mi,i.mvt=_s,i.nextPowerOfTwo=function(e){return e<=1?1:Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},i.normalize=function(e,t){var r=t[0],A=t[1],l=t[2],u=r*r+A*A+l*l;return u>0&&(u=1/Math.sqrt(u)),e[0]=t[0]*u,e[1]=t[1]*u,e[2]=t[2]*u,e},i.number=Cn,i.offscreenCanvasSupported=Rr,i.ortho=function(e,t,r,A,l,u,f){var b=1/(t-r),k=1/(A-l),U=1/(u-f);return e[0]=-2*b,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*k,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*U,e[11]=0,e[12]=(t+r)*b,e[13]=(l+A)*k,e[14]=(f+u)*U,e[15]=1,e},i.parseGlyphPBF=function(e){return new _c(e).readFields(Gp,[])},i.pbf=_c,i.performSymbolLayout=function(e,t,r,A,l,u,f){e.createArrays(),e.tilePixelRatio=8192/(512*e.overscaling),e.compareText={},e.iconsNeedLinear=!1;var b=e.layers[0].layout,k=e.layers[0]._unevaluatedLayout._values,U={};if("composite"===e.textSizeData.kind){var j=e.textSizeData,K=j.maxZoom;U.compositeTextSizes=[k["text-size"].possiblyEvaluate(new Er(j.minZoom),f),k["text-size"].possiblyEvaluate(new Er(K),f)]}if("composite"===e.iconSizeData.kind){var q=e.iconSizeData,W=q.maxZoom;U.compositeIconSizes=[k["icon-size"].possiblyEvaluate(new Er(q.minZoom),f),k["icon-size"].possiblyEvaluate(new Er(W),f)]}U.layoutTextSize=k["text-size"].possiblyEvaluate(new Er(e.zoom+1),f),U.layoutIconSize=k["icon-size"].possiblyEvaluate(new Er(e.zoom+1),f),U.textMaxSize=k["text-size"].possiblyEvaluate(new Er(18));for(var Ae=24*b.get("text-line-height"),ce="map"===b.get("text-rotation-alignment")&&"point"!==b.get("symbol-placement"),xe=b.get("text-keep-upright"),ge=b.get("text-size"),Pe=function(){var $e=qe[Ge],st=b.get("text-font").evaluate($e,{},f).join(","),yt=ge.evaluate($e,{},f),Ft=U.layoutTextSize.evaluate($e,{},f),Vt=U.layoutIconSize.evaluate($e,{},f),Tt={horizontal:{},vertical:void 0},er=$e.text,St=[0,0];if(er){var Qr=er.toString(),sr=24*b.get("text-letter-spacing").evaluate($e,{},f),zt=function(Tr){for(var hn=0,sn=Tr;hn<sn.length;hn+=1)if(Nr=sn[hn].charCodeAt(0),Ct.Arabic(Nr)||Ct["Arabic Supplement"](Nr)||Ct["Arabic Extended-A"](Nr)||Ct["Arabic Presentation Forms-A"](Nr)||Ct["Arabic Presentation Forms-B"](Nr))return!1;var Nr;return!0}(Qr)?sr:0,Pr=b.get("text-anchor").evaluate($e,{},f),Ir=b.get("text-variable-anchor");if(!Ir){var Or=b.get("text-radial-offset").evaluate($e,{},f);St=Or?ou(Pr,[24*Or,sl]):b.get("text-offset").evaluate($e,{},f).map(function(Tr){return 24*Tr})}var cr=ce?"center":b.get("text-justify").evaluate($e,{},f),Vr=b.get("symbol-placement"),xn="point"===Vr?24*b.get("text-max-width").evaluate($e,{},f):0,Un=function(){e.allowVerticalPlacement&&Sa(Qr)&&(Tt.vertical=xc(er,t,r,l,st,xn,Ae,Pr,"left",zt,St,Io.vertical,!0,Vr,Ft,yt))};if(!ce&&Ir){for(var kn="auto"===cr?Ir.map(function(Tr){return cl(Tr)}):[cr],Bn=!1,On=0;On<kn.length;On++){var ai=kn[On];if(!Tt.horizontal[ai])if(Bn)Tt.horizontal[ai]=Tt.horizontal[0];else{var Ai=xc(er,t,r,l,st,xn,Ae,"center",ai,zt,St,Io.horizontal,!1,Vr,Ft,yt);Ai&&(Tt.horizontal[ai]=Ai,Bn=1===Ai.positionedLines.length)}}Un()}else{"auto"===cr&&(cr=cl(Pr));var Di=xc(er,t,r,l,st,xn,Ae,Pr,cr,zt,St,Io.horizontal,!1,Vr,Ft,yt);Di&&(Tt.horizontal[cr]=Di),Un(),Sa(Qr)&&ce&&xe&&(Tt.vertical=xc(er,t,r,l,st,xn,Ae,Pr,cr,zt,St,Io.vertical,!1,Vr,Ft,yt))}}var Tr,hn,Nr,Ri,Bi,ui=void 0,Ti=!1;if($e.icon&&$e.icon.name){var Kn=A[$e.icon.name];Kn&&(Tr=l[$e.icon.name],hn=b.get("icon-offset").evaluate($e,{},f),Nr=al(b.get("icon-anchor").evaluate($e,{},f)),ui={image:Tr,top:Bi=hn[1]-Tr.displaySize[1]*Nr.verticalAlign,bottom:Bi+Tr.displaySize[1],left:Ri=hn[0]-Tr.displaySize[0]*Nr.horizontalAlign,right:Ri+Tr.displaySize[0]},Ti=Kn.sdf,void 0===e.sdfIcons?e.sdfIcons=Kn.sdf:e.sdfIcons!==Kn.sdf&&De("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Kn.pixelRatio!==e.pixelRatio||0!==b.get("icon-rotate").constantOr(1))&&(e.iconsNeedLinear=!0))}var pi=Au(Tt.horizontal)||Tt.vertical;e.iconsInText=!!pi&&pi.iconsInText,(pi||ui)&&function(Tr,hn,sn,Nr,Ri,Bi,yn,Zn,Ei,Yr,ja){var Qo=Bi.textMaxSize.evaluate(hn,{});void 0===Qo&&(Qo=yn);var Ra,Nn=Tr.layers[0].layout,za=Nn.get("icon-offset").evaluate(hn,{},ja),na=Au(sn.horizontal),Ps=yn/24,hs=Tr.tilePixelRatio*Ps,Ss=Tr.tilePixelRatio*Qo/24,xA=Tr.tilePixelRatio*Zn,Ds=Tr.tilePixelRatio*Nn.get("symbol-spacing"),Dc=Nn.get("text-padding")*Tr.tilePixelRatio,Ts=Nn.get("icon-padding")*Tr.tilePixelRatio,tc=Nn.get("text-max-angle")/180*Math.PI,Tc="map"===Nn.get("text-rotation-alignment")&&"point"!==Nn.get("symbol-placement"),Uc="map"===Nn.get("icon-rotation-alignment")&&"point"!==Nn.get("symbol-placement"),BA=Nn.get("symbol-placement"),rc=Ds/2,Us=Nn.get("icon-text-fit");Nr&&"none"!==Us&&(Tr.allowVerticalPlacement&&sn.vertical&&(Ra=Hl(Nr,sn.vertical,Us,Nn.get("icon-text-fit-padding"),za,Ps)),na&&(Nr=Hl(Nr,na,Us,Nn.get("icon-text-fit-padding"),za,Ps)));var VA=function(ph,lc){lc.x<0||lc.x>=8192||lc.y<0||lc.y>=8192||function(Xn,ba,hh,YA,yl,Bu,zc,Ga,Gc,uc,Kc,Nc,vl,Eu,pc,Cu,Iu,Qu,Fu,ku,Fo,Xc,Pu,Ka,fh){var Su,ds,Rs,zs,Gs,Ks=Xn.addToLineVertexArray(ba,hh),Du=0,Tu=0,Uu=0,Ou=0,_l=-1,bl=-1,EA={},Lu=oe(""),wl=0,xl=0;if(void 0===Ga._unevaluatedLayout.getValue("text-radial-offset")?(wl=(Su=Ga.layout.get("text-offset").evaluate(Fo,{},Ka).map(function(fc){return 24*fc}))[0],xl=Su[1]):(wl=24*Ga.layout.get("text-radial-offset").evaluate(Fo,{},Ka),xl=sl),Xn.allowVerticalPlacement&&YA.vertical){var Mu=Ga.layout.get("text-rotate").evaluate(Fo,{},Ka)+90;zs=new Qc(Gc,ba,uc,Kc,Nc,YA.vertical,vl,Eu,pc,Mu),zc&&(Gs=new Qc(Gc,ba,uc,Kc,Nc,zc,Iu,Qu,pc,Mu))}if(yl){var Bl=Ga.layout.get("icon-rotate").evaluate(Fo,{}),ju="none"!==Ga.layout.get("icon-text-fit"),Ru=nu(yl,Bl,Pu,ju),El=zc?nu(zc,Bl,Pu,ju):void 0;Rs=new Qc(Gc,ba,uc,Kc,Nc,yl,Iu,Qu,!1,Bl),Du=4*Ru.length;var zu=Xn.iconSizeData,hc=null;"source"===zu.kind?(hc=[128*Ga.layout.get("icon-size").evaluate(Fo,{})])[0]>32640&&De(Xn.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'):"composite"===zu.kind&&((hc=[128*Xc.compositeIconSizes[0].evaluate(Fo,{},Ka),128*Xc.compositeIconSizes[1].evaluate(Fo,{},Ka)])[0]>32640||hc[1]>32640)&&De(Xn.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'),Xn.addSymbols(Xn.icon,Ru,hc,ku,Fu,Fo,!1,ba,Ks.lineStartIndex,Ks.lineLength,-1,Ka),_l=Xn.icon.placedSymbolArray.length-1,El&&(Tu=4*El.length,Xn.addSymbols(Xn.icon,El,hc,ku,Fu,Fo,Io.vertical,ba,Ks.lineStartIndex,Ks.lineLength,-1,Ka),bl=Xn.icon.placedSymbolArray.length-1)}for(var Gu in YA.horizontal){var Vc=YA.horizontal[Gu];if(!ds){Lu=oe(Vc.text);var dh=Ga.layout.get("text-rotate").evaluate(Fo,{},Ka);ds=new Qc(Gc,ba,uc,Kc,Nc,Vc,vl,Eu,pc,dh)}var Ku=1===Vc.positionedLines.length;if(Uu+=au(Xn,ba,Vc,Bu,Ga,pc,Fo,Cu,Ks,YA.vertical?Io.horizontal:Io.horizontalOnly,Ku?Object.keys(YA.horizontal):[Gu],EA,_l,Xc,Ka),Ku)break}YA.vertical&&(Ou+=au(Xn,ba,YA.vertical,Bu,Ga,pc,Fo,Cu,Ks,Io.vertical,["vertical"],EA,bl,Xc,Ka));var gh=ds?ds.boxStartIndex:Xn.collisionBoxArray.length,mh=ds?ds.boxEndIndex:Xn.collisionBoxArray.length,yh=zs?zs.boxStartIndex:Xn.collisionBoxArray.length,vh=zs?zs.boxEndIndex:Xn.collisionBoxArray.length,_h=Rs?Rs.boxStartIndex:Xn.collisionBoxArray.length,bh=Rs?Rs.boxEndIndex:Xn.collisionBoxArray.length,wh=Gs?Gs.boxStartIndex:Xn.collisionBoxArray.length,xh=Gs?Gs.boxEndIndex:Xn.collisionBoxArray.length,Na=-1,Yc=function(fc,Xu){return fc&&fc.circleDiameter?Math.max(fc.circleDiameter,Xu):Xu};Na=Yc(ds,Na),Na=Yc(zs,Na),Na=Yc(Rs,Na);var Nu=(Na=Yc(Gs,Na))>-1?1:0;Nu&&(Na*=fh/24),Xn.glyphOffsetArray.length>=un.MAX_GLYPHS&&De("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==Fo.sortKey&&Xn.addToSortKeyRanges(Xn.symbolInstances.length,Fo.sortKey),Xn.symbolInstances.emplaceBack(ba.x,ba.y,EA.right>=0?EA.right:-1,EA.center>=0?EA.center:-1,EA.left>=0?EA.left:-1,EA.vertical||-1,_l,bl,Lu,gh,mh,yh,vh,_h,bh,wh,xh,uc,Uu,Ou,Du,Tu,Nu,0,vl,wl,xl,Na)}(Tr,lc,ph,sn,Nr,Ri,Ra,Tr.layers[0],Tr.collisionBoxArray,hn.index,hn.sourceLayerIndex,Tr.index,hs,Dc,Tc,Ei,xA,Ts,Uc,za,hn,Bi,Yr,ja,yn)};if("line"===BA)for(var Os=0,Oc=ru(hn.geometry,0,0,8192,8192);Os<Oc.length;Os+=1)for(var Lc=Oc[Os],nc=0,ic=Hp(Lc,Ds,tc,sn.vertical||na,Nr,24,Ss,Tr.overscaling,8192);nc<ic.length;nc+=1){var Mc=ic[nc];na&&$p(Tr,na.text,rc,Mc)||VA(Lc,Mc)}else if("line-center"===BA)for(var oc=0,ac=hn.geometry;oc<ac.length;oc+=1){var Ac=ac[oc];if(Ac.length>1){var jc=qp(Ac,tc,sn.vertical||na,Nr,24,Ss);jc&&VA(Ac,jc)}}else if("Polygon"===hn.type)for(var Ls=0,Rc=tl(hn.geometry,0);Ls<Rc.length;Ls+=1){var Ms=Rc[Ls],sc=Wp(Ms,16);VA(Ms[0],new Bs(sc.x,sc.y,0))}else if("LineString"===hn.type)for(var fs=0,cc=hn.geometry;fs<cc.length;fs+=1){var js=cc[fs];VA(js,new Bs(js[0].x,js[0].y,0))}else if("Point"===hn.type)for(var dl=0,wu=hn.geometry;dl<wu.length;dl+=1)for(var gl=0,xu=wu[dl];gl<xu.length;gl+=1){var ml=xu[gl];VA([ml],new Bs(ml.x,ml.y,0))}}(e,$e,Tt,ui,A,U,Ft,Vt,St,Ti,f)},Ge=0,qe=e.features;Ge<qe.length;Ge+=1)Pe();u&&e.generateCollisionDebugBuffers()},i.perspective=function(e,t,r,A,l){var u,f=1/Math.tan(t/2);return e[0]=f/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=f,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=l&&l!==1/0?(e[10]=(l+A)*(u=1/(A-l)),e[14]=2*l*A*u):(e[10]=-1,e[14]=-2*A),e},i.pick=function(e,t){for(var r={},A=0;A<t.length;A++){var l=t[A];l in e&&(r[l]=e[l])}return r},i.plugin=gi,i.polygonIntersectsPolygon=H,i.postMapLoadEvent=Lr,i.postTurnstileEvent=ir,i.potpack=Xl,i.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],i.register=Ot,i.registerForPluginStateChange=function(e){return e({pluginStatus:xi,pluginURL:wo}),is.on("pluginStateChange",e),e},i.renderColorRamp=Cl,i.rotate=function(e,t,r){var A=t[0],l=t[1],u=t[2],f=t[3],b=Math.sin(r),k=Math.cos(r);return e[0]=A*k+u*b,e[1]=l*k+f*b,e[2]=A*-b+u*k,e[3]=l*-b+f*k,e},i.rotateX=function(e,t,r){var A=Math.sin(r),l=Math.cos(r),u=t[4],f=t[5],b=t[6],k=t[7],U=t[8],j=t[9],K=t[10],q=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=u*l+U*A,e[5]=f*l+j*A,e[6]=b*l+K*A,e[7]=k*l+q*A,e[8]=U*l-u*A,e[9]=j*l-f*A,e[10]=K*l-b*A,e[11]=q*l-k*A,e},i.rotateZ=function(e,t,r){var A=Math.sin(r),l=Math.cos(r),u=t[0],f=t[1],b=t[2],k=t[3],U=t[4],j=t[5],K=t[6],q=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=u*l+U*A,e[1]=f*l+j*A,e[2]=b*l+K*A,e[3]=k*l+q*A,e[4]=U*l-u*A,e[5]=j*l-f*A,e[6]=K*l-b*A,e[7]=q*l-k*A,e},i.scale=function(e,t,r){var A=r[0],l=r[1],u=r[2];return e[0]=t[0]*A,e[1]=t[1]*A,e[2]=t[2]*A,e[3]=t[3]*A,e[4]=t[4]*l,e[5]=t[5]*l,e[6]=t[6]*l,e[7]=t[7]*l,e[8]=t[8]*u,e[9]=t[9]*u,e[10]=t[10]*u,e[11]=t[11]*u,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},i.scale$1=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e},i.scale$2=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e},i.setCacheLimits=function(e,t){an=e,$r=t},i.setRTLTextPlugin=function(e,t,r){if(void 0===r&&(r=!1),"deferred"===xi||"loading"===xi||"loaded"===xi)throw new Error("setRTLTextPlugin cannot be called multiple times.");wo=Fr.resolveURL(e),xi="deferred",ga=t,xo(),r||oo()},i.sphericalToCartesian=function(e){var t=e[0],r=e[1],A=e[2];return r+=90,r*=Math.PI/180,A*=Math.PI/180,{x:t*Math.cos(r)*Math.sin(A),y:t*Math.sin(r)*Math.sin(A),z:t*Math.cos(A)}},i.sqrLen=function(e){var t=e[0],r=e[1];return t*t+r*r},i.styleSpec=ee,i.sub=function(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e},i.symbolSize=Yp,i.transformMat3=function(e,t,r){var A=t[0],l=t[1],u=t[2];return e[0]=A*r[0]+l*r[3]+u*r[6],e[1]=A*r[1]+l*r[4]+u*r[7],e[2]=A*r[2]+l*r[5]+u*r[8],e},i.transformMat4=gs,i.translate=function(e,t,r){var A,l,u,f,b,k,U,j,K,q,W,Ae,ce=r[0],xe=r[1],ge=r[2];return t===e?(e[12]=t[0]*ce+t[4]*xe+t[8]*ge+t[12],e[13]=t[1]*ce+t[5]*xe+t[9]*ge+t[13],e[14]=t[2]*ce+t[6]*xe+t[10]*ge+t[14],e[15]=t[3]*ce+t[7]*xe+t[11]*ge+t[15]):(l=t[1],u=t[2],f=t[3],b=t[4],k=t[5],U=t[6],j=t[7],K=t[8],q=t[9],W=t[10],Ae=t[11],e[0]=A=t[0],e[1]=l,e[2]=u,e[3]=f,e[4]=b,e[5]=k,e[6]=U,e[7]=j,e[8]=K,e[9]=q,e[10]=W,e[11]=Ae,e[12]=A*ce+b*xe+K*ge+t[12],e[13]=l*ce+k*xe+q*ge+t[13],e[14]=u*ce+U*xe+W*ge+t[14],e[15]=f*ce+j*xe+Ae*ge+t[15]),e},i.triggerPluginCompletionEvent=uA,i.uniqueId=ve,i.validateCustomStyleLayer=function(e){var t=[],r=e.id;return void 0===r&&t.push({message:"layers."+r+': missing required property "id"'}),void 0===e.render&&t.push({message:"layers."+r+': missing required method "render"'}),e.renderingMode&&"2d"!==e.renderingMode&&"3d"!==e.renderingMode&&t.push({message:"layers."+r+': property "renderingMode" must be either "2d" or "3d"'}),t},i.validateLight=bt,i.validateStyle=at,i.values=function(e){var t=[];for(var r in e)t.push(e[r]);return t},i.vectorTile=_s,i.version="1.13.2",i.warnOnce=De,i.webpSupported=kt,i.window=B,i.wrap=M}),w(0,function(i){function v(G){var Y=typeof G;if("number"===Y||"boolean"===Y||"string"===Y||null==G)return JSON.stringify(G);if(Array.isArray(G)){for(var Z="[",re=0,ae=G;re<ae.length;re+=1)Z+=v(ae[re])+",";return Z+"]"}for(var we=Object.keys(G).sort(),Ce="{",ee=0;ee<we.length;ee++)Ce+=JSON.stringify(we[ee])+":"+v(G[we[ee]])+",";return Ce+"}"}function g(G){for(var Y="",Z=0,re=i.refProperties;Z<re.length;Z+=1)Y+="/"+v(G[re[Z]]);return Y}var C=function(G){this.keyCache={},G&&this.replace(G)};C.prototype.replace=function(G){this._layerConfigs={},this._layers={},this.update(G,[])},C.prototype.update=function(G,Y){for(var Z=this,re=0,ae=G;re<ae.length;re+=1){var we=ae[re];this._layerConfigs[we.id]=we;var Ce=this._layers[we.id]=i.createStyleLayer(we);Ce._featureFilter=i.featureFilter(Ce.filter),this.keyCache[we.id]&&delete this.keyCache[we.id]}for(var ee=0,ue=Y;ee<ue.length;ee+=1){var Le=ue[ee];delete this.keyCache[Le],delete this._layerConfigs[Le],delete this._layers[Le]}this.familiesBySource={};for(var lt=0,mt=function(Ie,ot){for(var He={},ht=0;ht<Ie.length;ht++){var Gt=ot&&ot[Ie[ht].id]||g(Ie[ht]);ot&&(ot[Ie[ht].id]=Gt);var Zt=He[Gt];Zt||(Zt=He[Gt]=[]),Zt.push(Ie[ht])}var ut=[];for(var Xt in He)ut.push(He[Xt]);return ut}(i.values(this._layerConfigs),this.keyCache);lt<mt.length;lt+=1){var Ye=mt[lt].map(function(Ie){return Z._layers[Ie.id]}),pt=Ye[0];if("none"!==pt.visibility){var Ut=pt.source||"",ne=this.familiesBySource[Ut];ne||(ne=this.familiesBySource[Ut]={});var de=pt.sourceLayer||"_geojsonTileLayer",Ne=ne[de];Ne||(Ne=ne[de]=[]),Ne.push(Ye)}}};var F=function(G){var Y={},Z=[];for(var re in G){var ae=G[re],we=Y[re]={};for(var Ce in ae){var ee=ae[+Ce];if(ee&&0!==ee.bitmap.width&&0!==ee.bitmap.height){var ue={x:0,y:0,w:ee.bitmap.width+2,h:ee.bitmap.height+2};Z.push(ue),we[Ce]={rect:ue,metrics:ee.metrics}}}}var Le=i.potpack(Z),lt=new i.AlphaImage({width:Le.w||1,height:Le.h||1});for(var mt in G){var Ye=G[mt];for(var pt in Ye){var Ut=Ye[+pt];if(Ut&&0!==Ut.bitmap.width&&0!==Ut.bitmap.height){var ne=Y[mt][pt].rect;i.AlphaImage.copy(Ut.bitmap,lt,{x:0,y:0},{x:ne.x+1,y:ne.y+1},Ut.bitmap)}}}this.image=lt,this.positions=Y};i.register("GlyphAtlas",F);var P=function(G){this.tileID=new i.OverscaledTileID(G.tileID.overscaledZ,G.tileID.wrap,G.tileID.canonical.z,G.tileID.canonical.x,G.tileID.canonical.y),this.uid=G.uid,this.zoom=G.zoom,this.pixelRatio=G.pixelRatio,this.tileSize=G.tileSize,this.source=G.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=G.showCollisionBoxes,this.collectResourceTiming=!!G.collectResourceTiming,this.returnDependencies=!!G.returnDependencies,this.promoteId=G.promoteId};function B(G,Y,Z){for(var re=new i.EvaluationParameters(Y),ae=0,we=G;ae<we.length;ae+=1)we[ae].recalculate(re,Z)}function S(G,Y){var Z=i.getArrayBuffer(G.request,function(re,ae,we,Ce){re?Y(re):ae&&Y(null,{vectorTile:new i.vectorTile.VectorTile(new i.pbf(ae)),rawData:ae,cacheControl:we,expires:Ce})});return function(){Z.cancel(),Y()}}P.prototype.parse=function(G,Y,Z,re,ae){var we=this;this.status="parsing",this.data=G,this.collisionBoxArray=new i.CollisionBoxArray;var Ce=new i.DictionaryCoder(Object.keys(G.layers).sort()),ee=new i.FeatureIndex(this.tileID,this.promoteId);ee.bucketLayerIDs=[];var ue,Le,lt,mt,Ye={},pt={featureIndex:ee,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Z},Ut=Y.familiesBySource[this.source];for(var ne in Ut){var de=G.layers[ne];if(de){1===de.version&&i.warnOnce('Vector tile source "'+this.source+'" layer "'+ne+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var Ne=Ce.encode(ne),Ie=[],ot=0;ot<de.length;ot++){var He=de.feature(ot),ht=ee.getId(He,ne);Ie.push({feature:He,id:ht,index:ot,sourceLayerIndex:Ne})}for(var Gt=0,Zt=Ut[ne];Gt<Zt.length;Gt+=1){var ut=Zt[Gt],Xt=ut[0];Xt.minzoom&&this.zoom<Math.floor(Xt.minzoom)||Xt.maxzoom&&this.zoom>=Xt.maxzoom||"none"!==Xt.visibility&&(B(ut,this.zoom,Z),(Ye[Xt.id]=Xt.createBucket({index:ee.bucketLayerIDs.length,layers:ut,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Ne,sourceID:this.source})).populate(Ie,pt,this.tileID.canonical),ee.bucketLayerIDs.push(ut.map(function(Sr){return Sr.id})))}}}var Et=i.mapObject(pt.glyphDependencies,function(Sr){return Object.keys(Sr).map(Number)});Object.keys(Et).length?re.send("getGlyphs",{uid:this.uid,stacks:Et},function(Sr,br){ue||(ue=Sr,Le=br,An.call(we))}):Le={};var Gr=Object.keys(pt.iconDependencies);Gr.length?re.send("getImages",{icons:Gr,source:this.source,tileID:this.tileID,type:"icons"},function(Sr,br){ue||(ue=Sr,lt=br,An.call(we))}):lt={};var Dr=Object.keys(pt.patternDependencies);function An(){if(ue)return ae(ue);if(Le&&lt&&mt){var Sr=new F(Le),br=new i.ImageAtlas(lt,mt);for(var wr in Ye){var Kr=Ye[wr];Kr instanceof i.SymbolBucket?(B(Kr.layers,this.zoom,Z),i.performSymbolLayout(Kr,Le,Sr.positions,lt,br.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):Kr.hasPattern&&(Kr instanceof i.LineBucket||Kr instanceof i.FillBucket||Kr instanceof i.FillExtrusionBucket)&&(B(Kr.layers,this.zoom,Z),Kr.addFeatures(pt,this.tileID.canonical,br.patternPositions))}this.status="done",ae(null,{buckets:i.values(Ye).filter(function(jo){return!jo.isEmpty()}),featureIndex:ee,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Sr.image,imageAtlas:br,glyphMap:this.returnDependencies?Le:null,iconMap:this.returnDependencies?lt:null,glyphPositions:this.returnDependencies?Sr.positions:null})}}Dr.length?re.send("getImages",{icons:Dr,source:this.source,tileID:this.tileID,type:"patterns"},function(Sr,br){ue||(ue=Sr,mt=br,An.call(we))}):mt={},An.call(this)};var I=function(G,Y,Z,re){this.actor=G,this.layerIndex=Y,this.availableImages=Z,this.loadVectorData=re||S,this.loading={},this.loaded={}};I.prototype.loadTile=function(G,Y){var Z=this,re=G.uid;this.loading||(this.loading={});var ae=!!(G&&G.request&&G.request.collectResourceTiming)&&new i.RequestPerformance(G.request),we=this.loading[re]=new P(G);we.abort=this.loadVectorData(G,function(Ce,ee){if(delete Z.loading[re],Ce||!ee)return we.status="done",Z.loaded[re]=we,Y(Ce);var ue=ee.rawData,Le={};ee.expires&&(Le.expires=ee.expires),ee.cacheControl&&(Le.cacheControl=ee.cacheControl);var lt={};if(ae){var mt=ae.finish();mt&&(lt.resourceTiming=JSON.parse(JSON.stringify(mt)))}we.vectorTile=ee.vectorTile,we.parse(ee.vectorTile,Z.layerIndex,Z.availableImages,Z.actor,function(Ye,pt){if(Ye||!pt)return Y(Ye);Y(null,i.extend({rawTileData:ue.slice(0)},pt,Le,lt))}),Z.loaded=Z.loaded||{},Z.loaded[re]=we})},I.prototype.reloadTile=function(G,Y){var Z=this,re=this.loaded,ae=G.uid,we=this;if(re&&re[ae]){var Ce=re[ae];Ce.showCollisionBoxes=G.showCollisionBoxes;var ee=function(ue,Le){var lt=Ce.reloadCallback;lt&&(delete Ce.reloadCallback,Ce.parse(Ce.vectorTile,we.layerIndex,Z.availableImages,we.actor,lt)),Y(ue,Le)};"parsing"===Ce.status?Ce.reloadCallback=ee:"done"===Ce.status&&(Ce.vectorTile?Ce.parse(Ce.vectorTile,this.layerIndex,this.availableImages,this.actor,ee):ee())}},I.prototype.abortTile=function(G,Y){var Z=this.loading,re=G.uid;Z&&Z[re]&&Z[re].abort&&(Z[re].abort(),delete Z[re]),Y()},I.prototype.removeTile=function(G,Y){var Z=this.loaded,re=G.uid;Z&&Z[re]&&delete Z[re],Y()};var T=i.window.ImageBitmap,L=function(){this.loaded={}};function M(G,Y){if(0!==G.length){N(G[0],Y);for(var Z=1;Z<G.length;Z++)N(G[Z],!Y)}}function N(G,Y){for(var Z=0,re=0,ae=G.length,we=ae-1;re<ae;we=re++)Z+=(G[re][0]-G[we][0])*(G[we][1]+G[re][1]);Z>=0!=!!Y&&G.reverse()}L.prototype.loadTile=function(G,Y){var Z=G.uid,re=G.encoding,ae=G.rawImageData,we=T&&ae instanceof T?this.getImageData(ae):ae,Ce=new i.DEMData(Z,we,re);this.loaded=this.loaded||{},this.loaded[Z]=Ce,Y(null,Ce)},L.prototype.getImageData=function(G){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(G.width,G.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=G.width,this.offscreenCanvas.height=G.height,this.offscreenCanvasContext.drawImage(G,0,0,G.width,G.height);var Y=this.offscreenCanvasContext.getImageData(-1,-1,G.width+2,G.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new i.RGBAImage({width:Y.width,height:Y.height},Y.data)},L.prototype.removeTile=function(G){var Y=this.loaded,Z=G.uid;Y&&Y[Z]&&delete Y[Z]};var pe=i.vectorTile.VectorTileFeature.prototype.toGeoJSON,ve=function(G){this._feature=G,this.extent=i.EXTENT,this.type=G.type,this.properties=G.tags,"id"in G&&!isNaN(G.id)&&(this.id=parseInt(G.id,10))};ve.prototype.loadGeometry=function(){if(1===this._feature.type){for(var G=[],Y=0,Z=this._feature.geometry;Y<Z.length;Y+=1){var re=Z[Y];G.push([new i.Point$1(re[0],re[1])])}return G}for(var ae=[],we=0,Ce=this._feature.geometry;we<Ce.length;we+=1){for(var ee=[],ue=0,Le=Ce[we];ue<Le.length;ue+=1){var lt=Le[ue];ee.push(new i.Point$1(lt[0],lt[1]))}ae.push(ee)}return ae},ve.prototype.toGeoJSON=function(G,Y,Z){return pe.call(this,G,Y,Z)};var Fe=function(G){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=i.EXTENT,this.length=G.length,this._features=G};Fe.prototype.feature=function(G){return new ve(this._features[G])};var Be=i.vectorTile.VectorTileFeature,Se=Ee;function Ee(G,Y){this.options=Y||{},this.features=G,this.length=G.length}function Ue(G,Y){this.id="number"==typeof G.id?G.id:void 0,this.type=G.type,this.rawGeometry=1===G.type?[G.geometry]:G.geometry,this.properties=G.tags,this.extent=Y||4096}Ee.prototype.feature=function(G){return new Ue(this.features[G],this.options.extent)},Ue.prototype.loadGeometry=function(){var G=this.rawGeometry;this.geometry=[];for(var Y=0;Y<G.length;Y++){for(var Z=G[Y],re=[],ae=0;ae<Z.length;ae++)re.push(new i.Point$1(Z[ae][0],Z[ae][1]));this.geometry.push(re)}return this.geometry},Ue.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var G=this.geometry,Y=1/0,Z=-1/0,re=1/0,ae=-1/0,we=0;we<G.length;we++)for(var Ce=G[we],ee=0;ee<Ce.length;ee++){var ue=Ce[ee];Y=Math.min(Y,ue.x),Z=Math.max(Z,ue.x),re=Math.min(re,ue.y),ae=Math.max(ae,ue.y)}return[Y,re,Z,ae]},Ue.prototype.toGeoJSON=Be.prototype.toGeoJSON;var We=Ke,Ve=Se;function Ke(G){var Y=new i.pbf;return function(Z,re){for(var ae in Z.layers)re.writeMessage(3,De,Z.layers[ae])}(G,Y),Y.finish()}function De(G,Y){var Z;Y.writeVarintField(15,G.version||1),Y.writeStringField(1,G.name||""),Y.writeVarintField(5,G.extent||4096);var re={keys:[],values:[],keycache:{},valuecache:{}};for(Z=0;Z<G.length;Z++)re.feature=G.feature(Z),Y.writeMessage(2,tt,re);var ae=re.keys;for(Z=0;Z<ae.length;Z++)Y.writeStringField(3,ae[Z]);var we=re.values;for(Z=0;Z<we.length;Z++)Y.writeMessage(4,jt,we[Z])}function tt(G,Y){var Z=G.feature;void 0!==Z.id&&Y.writeVarintField(1,Z.id),Y.writeMessage(2,dt,G),Y.writeVarintField(3,Z.type),Y.writeMessage(4,Xe,Z)}function dt(G,Y){var Z=G.feature,re=G.keys,ae=G.values,we=G.keycache,Ce=G.valuecache;for(var ee in Z.properties){var ue=we[ee];void 0===ue&&(re.push(ee),we[ee]=ue=re.length-1),Y.writeVarint(ue);var Le=Z.properties[ee],lt=typeof Le;"string"!==lt&&"boolean"!==lt&&"number"!==lt&&(Le=JSON.stringify(Le));var mt=lt+":"+Le,Ye=Ce[mt];void 0===Ye&&(ae.push(Le),Ce[mt]=Ye=ae.length-1),Y.writeVarint(Ye)}}function Je(G,Y){return(Y<<3)+(7&G)}function xt(G){return G<<1^G>>31}function Xe(G,Y){for(var Z=G.loadGeometry(),re=G.type,ae=0,we=0,Ce=Z.length,ee=0;ee<Ce;ee++){var ue=Z[ee],Le=1;1===re&&(Le=ue.length),Y.writeVarint(Je(1,Le));for(var lt=3===re?ue.length-1:ue.length,mt=0;mt<lt;mt++){1===mt&&1!==re&&Y.writeVarint(Je(2,lt-1));var Ye=ue[mt].x-ae,pt=ue[mt].y-we;Y.writeVarint(xt(Ye)),Y.writeVarint(xt(pt)),ae+=Ye,we+=pt}3===re&&Y.writeVarint(Je(7,1))}}function jt(G,Y){var Z=typeof G;"string"===Z?Y.writeStringField(1,G):"boolean"===Z?Y.writeBooleanField(7,G):"number"===Z&&(G%1!=0?Y.writeDoubleField(3,G):G<0?Y.writeSVarintField(6,G):Y.writeVarintField(5,G))}function At(G,Y,Z,re){tr(G,Z,re),tr(Y,2*Z,2*re),tr(Y,2*Z+1,2*re+1)}function tr(G,Y,Z){var re=G[Y];G[Y]=G[Z],G[Z]=re}function Oe(G,Y,Z,re){var ae=G-Z,we=Y-re;return ae*ae+we*we}We.fromVectorTileJs=Ke,We.fromGeojsonVt=function(G,Y){Y=Y||{};var Z={};for(var re in G)Z[re]=new Se(G[re].features,Y),Z[re].name=re,Z[re].version=Y.version,Z[re].extent=Y.extent;return Ke({layers:Z})},We.GeoJSONWrapper=Ve;var ct=function(G){return G[0]},vt=function(G){return G[1]},je=function(G,Y,Z,re,ae){void 0===Y&&(Y=ct),void 0===Z&&(Z=vt),void 0===re&&(re=64),void 0===ae&&(ae=Float64Array),this.nodeSize=re,this.points=G;for(var we=G.length<65536?Uint16Array:Uint32Array,Ce=this.ids=new we(G.length),ee=this.coords=new ae(2*G.length),ue=0;ue<G.length;ue++)Ce[ue]=ue,ee[2*ue]=Y(G[ue]),ee[2*ue+1]=Z(G[ue]);!function Le(lt,mt,Ye,pt,Ut,ne){if(!(Ut-pt<=Ye)){var de=pt+Ut>>1;(function Ne(Ie,ot,He,ht,Gt,Zt){for(;Gt>ht;){if(Gt-ht>600){var ut=Gt-ht+1,Xt=He-ht+1,Et=Math.log(ut),Gr=.5*Math.exp(2*Et/3),Dr=.5*Math.sqrt(Et*Gr*(ut-Gr)/ut)*(Xt-ut/2<0?-1:1);Ne(Ie,ot,He,Math.max(ht,Math.floor(He-Xt*Gr/ut+Dr)),Math.min(Gt,Math.floor(He+(ut-Xt)*Gr/ut+Dr)),Zt)}var An=ot[2*He+Zt],Sr=ht,br=Gt;for(At(Ie,ot,ht,He),ot[2*Gt+Zt]>An&&At(Ie,ot,ht,Gt);Sr<br;){for(At(Ie,ot,Sr,br),Sr++,br--;ot[2*Sr+Zt]<An;)Sr++;for(;ot[2*br+Zt]>An;)br--}ot[2*ht+Zt]===An?At(Ie,ot,ht,br):At(Ie,ot,++br,Gt),br<=He&&(ht=br+1),He<=br&&(Gt=br-1)}})(lt,mt,de,pt,Ut,ne%2),Le(lt,mt,Ye,pt,de-1,ne+1),Le(lt,mt,Ye,de+1,Ut,ne+1)}}(Ce,ee,re,0,Ce.length-1,0)};je.prototype.range=function(G,Y,Z,re){return function(ae,we,Ce,ee,ue,Le,lt){for(var mt,Ye,pt=[0,ae.length-1,0],Ut=[];pt.length;){var ne=pt.pop(),de=pt.pop(),Ne=pt.pop();if(de-Ne<=lt)for(var Ie=Ne;Ie<=de;Ie++)Ye=we[2*Ie+1],(mt=we[2*Ie])>=Ce&&mt<=ue&&Ye>=ee&&Ye<=Le&&Ut.push(ae[Ie]);else{var ot=Math.floor((Ne+de)/2);Ye=we[2*ot+1],(mt=we[2*ot])>=Ce&&mt<=ue&&Ye>=ee&&Ye<=Le&&Ut.push(ae[ot]);var He=(ne+1)%2;(0===ne?Ce<=mt:ee<=Ye)&&(pt.push(Ne),pt.push(ot-1),pt.push(He)),(0===ne?ue>=mt:Le>=Ye)&&(pt.push(ot+1),pt.push(de),pt.push(He))}}return Ut}(this.ids,this.coords,G,Y,Z,re,this.nodeSize)},je.prototype.within=function(G,Y,Z){return function(re,ae,we,Ce,ee,ue){for(var Le=[0,re.length-1,0],lt=[],mt=ee*ee;Le.length;){var Ye=Le.pop(),pt=Le.pop(),Ut=Le.pop();if(pt-Ut<=ue)for(var ne=Ut;ne<=pt;ne++)Oe(ae[2*ne],ae[2*ne+1],we,Ce)<=mt&&lt.push(re[ne]);else{var de=Math.floor((Ut+pt)/2),Ne=ae[2*de],Ie=ae[2*de+1];Oe(Ne,Ie,we,Ce)<=mt&&lt.push(re[de]);var ot=(Ye+1)%2;(0===Ye?we-ee<=Ne:Ce-ee<=Ie)&&(Le.push(Ut),Le.push(de-1),Le.push(ot)),(0===Ye?we+ee>=Ne:Ce+ee>=Ie)&&(Le.push(de+1),Le.push(pt),Le.push(ot))}}return lt}(this.ids,this.coords,G,Y,Z,this.nodeSize)};var fr={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(G){return G}},dr=function(G){this.options=ye(Object.create(fr),G),this.trees=new Array(this.options.maxZoom+1)};function Fr(G,Y,Z,re,ae){return{x:G,y:Y,zoom:1/0,id:Z,parentId:-1,numPoints:re,properties:ae}}function Nt(G,Y){var Z=G.geometry.coordinates,re=Z[1];return{x:_t(Z[0]),y:fe(re),zoom:1/0,index:Y,parentId:-1}}function kt(G){return{type:"Feature",id:G.id,properties:ze(G),geometry:{type:"Point",coordinates:[(re=G.x,360*(re-.5)),(Y=G.y,Z=(180-360*Y)*Math.PI/180,360*Math.atan(Math.exp(Z))/Math.PI-90)]}};var Y,Z,re}function ze(G){var Y=G.numPoints,Z=Y>=1e4?Math.round(Y/1e3)+"k":Y>=1e3?Math.round(Y/100)/10+"k":Y;return ye(ye({},G.properties),{cluster:!0,cluster_id:G.id,point_count:Y,point_count_abbreviated:Z})}function _t(G){return G/360+.5}function fe(G){var Y=Math.sin(G*Math.PI/180),Z=.5-.25*Math.log((1+Y)/(1-Y))/Math.PI;return Z<0?0:Z>1?1:Z}function ye(G,Y){for(var Z in Y)G[Z]=Y[Z];return G}function rt(G){return G.x}function Dt(G){return G.y}function Wt(G,Y,Z,re,ae,we){var Ce=ae-Z,ee=we-re;if(0!==Ce||0!==ee){var ue=((G-Z)*Ce+(Y-re)*ee)/(Ce*Ce+ee*ee);ue>1?(Z=ae,re=we):ue>0&&(Z+=Ce*ue,re+=ee*ue)}return(Ce=G-Z)*Ce+(ee=Y-re)*ee}function Rt(G,Y,Z,re){var ae={id:void 0===G?null:G,type:Y,geometry:Z,tags:re,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(we){var Ce=we.geometry,ee=we.type;if("Point"===ee||"MultiPoint"===ee||"LineString"===ee)Ht(we,Ce);else if("Polygon"===ee||"MultiLineString"===ee)for(var ue=0;ue<Ce.length;ue++)Ht(we,Ce[ue]);else if("MultiPolygon"===ee)for(ue=0;ue<Ce.length;ue++)for(var Le=0;Le<Ce[ue].length;Le++)Ht(we,Ce[ue][Le])}(ae),ae}function Ht(G,Y){for(var Z=0;Z<Y.length;Z+=3)G.minX=Math.min(G.minX,Y[Z]),G.minY=Math.min(G.minY,Y[Z+1]),G.maxX=Math.max(G.maxX,Y[Z]),G.maxY=Math.max(G.maxY,Y[Z+1])}function kr(G,Y,Z,re){if(Y.geometry){var ae=Y.geometry.coordinates,we=Y.geometry.type,Ce=Math.pow(Z.tolerance/((1<<Z.maxZoom)*Z.extent),2),ee=[],ue=Y.id;if(Z.promoteId?ue=Y.properties[Z.promoteId]:Z.generateId&&(ue=re||0),"Point"===we)Br(ae,ee);else if("MultiPoint"===we)for(var Le=0;Le<ae.length;Le++)Br(ae[Le],ee);else if("LineString"===we)Mr(ae,ee,Ce,!1);else if("MultiLineString"===we){if(Z.lineMetrics){for(Le=0;Le<ae.length;Le++)Mr(ae[Le],ee=[],Ce,!1),G.push(Rt(ue,"LineString",ee,Y.properties));return}jr(ae,ee,Ce,!1)}else if("Polygon"===we)jr(ae,ee,Ce,!0);else{if("MultiPolygon"!==we){if("GeometryCollection"===we){for(Le=0;Le<Y.geometry.geometries.length;Le++)kr(G,{id:ue,geometry:Y.geometry.geometries[Le],properties:Y.properties},Z,re);return}throw new Error("Input data is not a valid GeoJSON object.")}for(Le=0;Le<ae.length;Le++){var lt=[];jr(ae[Le],lt,Ce,!0),ee.push(lt)}}G.push(Rt(ue,we,ee,Y.properties))}}function Br(G,Y){Y.push(vr(G[0])),Y.push(Qt(G[1])),Y.push(0)}function Mr(G,Y,Z,re){for(var ae,we,Ce=0,ee=0;ee<G.length;ee++){var ue=vr(G[ee][0]),Le=Qt(G[ee][1]);Y.push(ue),Y.push(Le),Y.push(0),ee>0&&(Ce+=re?(ae*Le-ue*we)/2:Math.sqrt(Math.pow(ue-ae,2)+Math.pow(Le-we,2))),ae=ue,we=Le}var lt=Y.length-3;Y[2]=1,function mt(Ye,pt,Ut,ne){for(var de,Ne=ne,Ie=Ut-pt>>1,ot=Ut-pt,He=Ye[pt],ht=Ye[pt+1],Gt=Ye[Ut],Zt=Ye[Ut+1],ut=pt+3;ut<Ut;ut+=3){var Xt=Wt(Ye[ut],Ye[ut+1],He,ht,Gt,Zt);if(Xt>Ne)de=ut,Ne=Xt;else if(Xt===Ne){var Et=Math.abs(ut-Ie);Et<ot&&(de=ut,ot=Et)}}Ne>ne&&(de-pt>3&&mt(Ye,pt,de,ne),Ye[de+2]=Ne,Ut-de>3&&mt(Ye,de,Ut,ne))}(Y,0,lt,Z),Y[lt+2]=1,Y.size=Math.abs(Ce),Y.start=0,Y.end=Y.size}function jr(G,Y,Z,re){for(var ae=0;ae<G.length;ae++){var we=[];Mr(G[ae],we,Z,re),Y.push(we)}}function vr(G){return G/360+.5}function Qt(G){var Y=Math.sin(G*Math.PI/180),Z=.5-.25*Math.log((1+Y)/(1-Y))/Math.PI;return Z<0?0:Z>1?1:Z}function It(G,Y,Z,re,ae,we,Ce,ee){if(re/=Y,we>=(Z/=Y)&&Ce<re)return G;if(Ce<Z||we>=re)return null;for(var ue=[],Le=0;Le<G.length;Le++){var lt=G[Le],mt=lt.geometry,Ye=lt.type,pt=0===ae?lt.minX:lt.minY,Ut=0===ae?lt.maxX:lt.maxY;if(pt>=Z&&Ut<re)ue.push(lt);else if(!(Ut<Z||pt>=re)){var ne=[];if("Point"===Ye||"MultiPoint"===Ye)ar(mt,ne,Z,re,ae);else if("LineString"===Ye)ir(mt,ne,Z,re,ae,!1,ee.lineMetrics);else if("MultiLineString"===Ye)Lr(mt,ne,Z,re,ae,!1);else if("Polygon"===Ye)Lr(mt,ne,Z,re,ae,!0);else if("MultiPolygon"===Ye)for(var de=0;de<mt.length;de++){var Ne=[];Lr(mt[de],Ne,Z,re,ae,!0),Ne.length&&ne.push(Ne)}if(ne.length){if(ee.lineMetrics&&"LineString"===Ye){for(de=0;de<ne.length;de++)ue.push(Rt(lt.id,Ye,ne[de],lt.tags));continue}"LineString"!==Ye&&"MultiLineString"!==Ye||(1===ne.length?(Ye="LineString",ne=ne[0]):Ye="MultiLineString"),"Point"!==Ye&&"MultiPoint"!==Ye||(Ye=3===ne.length?"Point":"MultiPoint"),ue.push(Rt(lt.id,Ye,ne,lt.tags))}}}return ue.length?ue:null}function ar(G,Y,Z,re,ae){for(var we=0;we<G.length;we+=3){var Ce=G[we+ae];Ce>=Z&&Ce<=re&&(Y.push(G[we]),Y.push(G[we+1]),Y.push(G[we+2]))}}function ir(G,Y,Z,re,ae,we,Ce){for(var ee,ue,Le=gr(G),lt=0===ae?$r:qr,mt=G.start,Ye=0;Ye<G.length-3;Ye+=3){var pt=G[Ye],Ut=G[Ye+1],ne=G[Ye+2],de=G[Ye+3],Ne=G[Ye+4],Ie=0===ae?pt:Ut,ot=0===ae?de:Ne,He=!1;Ce&&(ee=Math.sqrt(Math.pow(pt-de,2)+Math.pow(Ut-Ne,2))),Ie<Z?ot>Z&&(ue=lt(Le,pt,Ut,de,Ne,Z),Ce&&(Le.start=mt+ee*ue)):Ie>re?ot<re&&(ue=lt(Le,pt,Ut,de,Ne,re),Ce&&(Le.start=mt+ee*ue)):an(Le,pt,Ut,ne),ot<Z&&Ie>=Z&&(ue=lt(Le,pt,Ut,de,Ne,Z),He=!0),ot>re&&Ie<=re&&(ue=lt(Le,pt,Ut,de,Ne,re),He=!0),!we&&He&&(Ce&&(Le.end=mt+ee*ue),Y.push(Le),Le=gr(G)),Ce&&(mt+=ee)}var ht=G.length-3;pt=G[ht],Ut=G[ht+1],ne=G[ht+2],(Ie=0===ae?pt:Ut)>=Z&&Ie<=re&&an(Le,pt,Ut,ne),ht=Le.length-3,we&&ht>=3&&(Le[ht]!==Le[0]||Le[ht+1]!==Le[1])&&an(Le,Le[0],Le[1],Le[2]),Le.length&&Y.push(Le)}function gr(G){var Y=[];return Y.size=G.size,Y.start=G.start,Y.end=G.end,Y}function Lr(G,Y,Z,re,ae,we){for(var Ce=0;Ce<G.length;Ce++)ir(G[Ce],Y,Z,re,ae,we,!1)}function an(G,Y,Z,re){G.push(Y),G.push(Z),G.push(re)}function $r(G,Y,Z,re,ae,we){var Ce=(we-Y)/(re-Y);return G.push(we),G.push(Z+(ae-Z)*Ce),G.push(1),Ce}function qr(G,Y,Z,re,ae,we){var Ce=(we-Z)/(ae-Z);return G.push(Y+(re-Y)*Ce),G.push(we),G.push(1),Ce}function en(G,Y){for(var Z=[],re=0;re<G.length;re++){var ae,we=G[re],Ce=we.type;if("Point"===Ce||"MultiPoint"===Ce||"LineString"===Ce)ae=fn(we.geometry,Y);else if("MultiLineString"===Ce||"Polygon"===Ce){ae=[];for(var ee=0;ee<we.geometry.length;ee++)ae.push(fn(we.geometry[ee],Y))}else if("MultiPolygon"===Ce)for(ae=[],ee=0;ee<we.geometry.length;ee++){for(var ue=[],Le=0;Le<we.geometry[ee].length;Le++)ue.push(fn(we.geometry[ee][Le],Y));ae.push(ue)}Z.push(Rt(we.id,Ce,ae,we.tags))}return Z}function fn(G,Y){var Z=[];Z.size=G.size,void 0!==G.start&&(Z.start=G.start,Z.end=G.end);for(var re=0;re<G.length;re+=3)Z.push(G[re]+Y,G[re+1],G[re+2]);return Z}function Pn(G,Y){if(G.transformed)return G;var Z,re,ae,we=1<<G.z,Ce=G.x,ee=G.y;for(Z=0;Z<G.features.length;Z++){var ue=G.features[Z],Le=ue.geometry,lt=ue.type;if(ue.geometry=[],1===lt)for(re=0;re<Le.length;re+=2)ue.geometry.push(Rr(Le[re],Le[re+1],Y,we,Ce,ee));else for(re=0;re<Le.length;re++){var mt=[];for(ae=0;ae<Le[re].length;ae+=2)mt.push(Rr(Le[re][ae],Le[re][ae+1],Y,we,Ce,ee));ue.geometry.push(mt)}}return G.transformed=!0,G}function Rr(G,Y,Z,re,ae,we){return[Math.round(Z*(G*re-ae)),Math.round(Z*(Y*re-we))]}function tn(G,Y,Z,re,ae){for(var we=Y===ae.maxZoom?0:ae.tolerance/((1<<Y)*ae.extent),Ce={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:Z,y:re,z:Y,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},ee=0;ee<G.length;ee++){Ce.numFeatures++,zr(Ce,G[ee],we,ae);var ue=G[ee].minX,Le=G[ee].minY,lt=G[ee].maxX,mt=G[ee].maxY;ue<Ce.minX&&(Ce.minX=ue),Le<Ce.minY&&(Ce.minY=Le),lt>Ce.maxX&&(Ce.maxX=lt),mt>Ce.maxY&&(Ce.maxY=mt)}return Ce}function zr(G,Y,Z,re){var ae=Y.geometry,we=Y.type,Ce=[];if("Point"===we||"MultiPoint"===we)for(var ee=0;ee<ae.length;ee+=3)Ce.push(ae[ee]),Ce.push(ae[ee+1]),G.numPoints++,G.numSimplified++;else if("LineString"===we)si(Ce,ae,G,Z,!1,!1);else if("MultiLineString"===we||"Polygon"===we)for(ee=0;ee<ae.length;ee++)si(Ce,ae[ee],G,Z,"Polygon"===we,0===ee);else if("MultiPolygon"===we)for(var ue=0;ue<ae.length;ue++){var Le=ae[ue];for(ee=0;ee<Le.length;ee++)si(Ce,Le[ee],G,Z,!0,0===ee)}if(Ce.length){var lt=Y.tags||null;if("LineString"===we&&re.lineMetrics){for(var mt in lt={},Y.tags)lt[mt]=Y.tags[mt];lt.mapbox_clip_start=ae.start/ae.size,lt.mapbox_clip_end=ae.end/ae.size}var Ye={geometry:Ce,type:"Polygon"===we||"MultiPolygon"===we?3:"LineString"===we||"MultiLineString"===we?2:1,tags:lt};null!==Y.id&&(Ye.id=Y.id),G.features.push(Ye)}}function si(G,Y,Z,re,ae,we){var Ce=re*re;if(re>0&&Y.size<(ae?Ce:re))Z.numPoints+=Y.length/3;else{for(var ee=[],ue=0;ue<Y.length;ue+=3)(0===re||Y[ue+2]>Ce)&&(Z.numSimplified++,ee.push(Y[ue]),ee.push(Y[ue+1])),Z.numPoints++;ae&&function(Le,lt){for(var mt=0,Ye=0,pt=Le.length,Ut=pt-2;Ye<pt;Ut=Ye,Ye+=2)mt+=(Le[Ye]-Le[Ut])*(Le[Ye+1]+Le[Ut+1]);if(mt>0===lt)for(Ye=0,pt=Le.length;Ye<pt/2;Ye+=2){var ne=Le[Ye],de=Le[Ye+1];Le[Ye]=Le[pt-2-Ye],Le[Ye+1]=Le[pt-1-Ye],Le[pt-2-Ye]=ne,Le[pt-1-Ye]=de}}(ee,we),G.push(ee)}}function Vn(G,Y){var Z=(Y=this.options=function(ae,we){for(var Ce in we)ae[Ce]=we[Ce];return ae}(Object.create(this.options),Y)).debug;if(Z&&console.time("preprocess data"),Y.maxZoom<0||Y.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(Y.promoteId&&Y.generateId)throw new Error("promoteId and generateId cannot be used together.");var ae,we,Ce,ee,ue,Le,re=function(ae,we){var Ce=[];if("FeatureCollection"===ae.type)for(var ee=0;ee<ae.features.length;ee++)kr(Ce,ae.features[ee],we,ee);else kr(Ce,"Feature"===ae.type?ae:{geometry:ae},we);return Ce}(G,Y);this.tiles={},this.tileCoords=[],Z&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",Y.indexMaxZoom,Y.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(ae=re,we=Y,Ce=we.buffer/we.extent,ee=ae,ue=It(ae,1,-1-Ce,Ce,0,-1,2,we),Le=It(ae,1,1-Ce,2+Ce,0,-1,2,we),(ue||Le)&&(ee=It(ae,1,-Ce,1+Ce,0,-1,2,we)||[],ue&&(ee=en(ue,1).concat(ee)),Le&&(ee=ee.concat(en(Le,-1)))),re=ee).length&&this.splitTile(re,0,0,0),Z&&(re.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function pn(G,Y,Z){return 32*((1<<G)*Z+Y)+G}function En(G,Y){var Z=G.tileID.canonical;if(!this._geoJSONIndex)return Y(null,null);var re=this._geoJSONIndex.getTile(Z.z,Z.x,Z.y);if(!re)return Y(null,null);var ae=new Fe(re.features),we=We(ae);0===we.byteOffset&&we.byteLength===we.buffer.byteLength||(we=new Uint8Array(we)),Y(null,{vectorTile:ae,rawData:we.buffer})}dr.prototype.load=function(G){var Y=this.options,Z=Y.log,re=Y.minZoom,ae=Y.maxZoom,we=Y.nodeSize;Z&&console.time("total time");var Ce="prepare "+G.length+" points";Z&&console.time(Ce),this.points=G;for(var ee=[],ue=0;ue<G.length;ue++)G[ue].geometry&&ee.push(Nt(G[ue],ue));this.trees[ae+1]=new je(ee,rt,Dt,we,Float32Array),Z&&console.timeEnd(Ce);for(var Le=ae;Le>=re;Le--){var lt=+Date.now();ee=this._cluster(ee,Le),this.trees[Le]=new je(ee,rt,Dt,we,Float32Array),Z&&console.log("z%d: %d clusters in %dms",Le,ee.length,+Date.now()-lt)}return Z&&console.timeEnd("total time"),this},dr.prototype.getClusters=function(G,Y){var Z=((G[0]+180)%360+360)%360-180,re=Math.max(-90,Math.min(90,G[1])),ae=180===G[2]?180:((G[2]+180)%360+360)%360-180,we=Math.max(-90,Math.min(90,G[3]));if(G[2]-G[0]>=360)Z=-180,ae=180;else if(Z>ae){var Ce=this.getClusters([Z,re,180,we],Y),ee=this.getClusters([-180,re,ae,we],Y);return Ce.concat(ee)}for(var ue=this.trees[this._limitZoom(Y)],Le=[],lt=0,mt=ue.range(_t(Z),fe(we),_t(ae),fe(re));lt<mt.length;lt+=1){var Ye=ue.points[mt[lt]];Le.push(Ye.numPoints?kt(Ye):this.points[Ye.index])}return Le},dr.prototype.getChildren=function(G){var Y=this._getOriginId(G),Z=this._getOriginZoom(G),re="No cluster with the specified id.",ae=this.trees[Z];if(!ae)throw new Error(re);var we=ae.points[Y];if(!we)throw new Error(re);for(var Ce=this.options.radius/(this.options.extent*Math.pow(2,Z-1)),ee=[],ue=0,Le=ae.within(we.x,we.y,Ce);ue<Le.length;ue+=1){var lt=ae.points[Le[ue]];lt.parentId===G&&ee.push(lt.numPoints?kt(lt):this.points[lt.index])}if(0===ee.length)throw new Error(re);return ee},dr.prototype.getLeaves=function(G,Y,Z){var re=[];return this._appendLeaves(re,G,Y=Y||10,Z=Z||0,0),re},dr.prototype.getTile=function(G,Y,Z){var re=this.trees[this._limitZoom(G)],ae=Math.pow(2,G),we=this.options,Ce=we.radius/we.extent,ee=(Z-Ce)/ae,ue=(Z+1+Ce)/ae,Le={features:[]};return this._addTileFeatures(re.range((Y-Ce)/ae,ee,(Y+1+Ce)/ae,ue),re.points,Y,Z,ae,Le),0===Y&&this._addTileFeatures(re.range(1-Ce/ae,ee,1,ue),re.points,ae,Z,ae,Le),Y===ae-1&&this._addTileFeatures(re.range(0,ee,Ce/ae,ue),re.points,-1,Z,ae,Le),Le.features.length?Le:null},dr.prototype.getClusterExpansionZoom=function(G){for(var Y=this._getOriginZoom(G)-1;Y<=this.options.maxZoom;){var Z=this.getChildren(G);if(Y++,1!==Z.length)break;G=Z[0].properties.cluster_id}return Y},dr.prototype._appendLeaves=function(G,Y,Z,re,ae){for(var we=0,Ce=this.getChildren(Y);we<Ce.length;we+=1){var ee=Ce[we],ue=ee.properties;if(ue&&ue.cluster?ae+ue.point_count<=re?ae+=ue.point_count:ae=this._appendLeaves(G,ue.cluster_id,Z,re,ae):ae<re?ae++:G.push(ee),G.length===Z)break}return ae},dr.prototype._addTileFeatures=function(G,Y,Z,re,ae,we){for(var Ce=0,ee=G;Ce<ee.length;Ce+=1){var ue=Y[ee[Ce]],Le=ue.numPoints,lt={type:1,geometry:[[Math.round(this.options.extent*(ue.x*ae-Z)),Math.round(this.options.extent*(ue.y*ae-re))]],tags:Le?ze(ue):this.points[ue.index].properties},mt=void 0;Le?mt=ue.id:this.options.generateId?mt=ue.index:this.points[ue.index].id&&(mt=this.points[ue.index].id),void 0!==mt&&(lt.id=mt),we.features.push(lt)}},dr.prototype._limitZoom=function(G){return Math.max(this.options.minZoom,Math.min(+G,this.options.maxZoom+1))},dr.prototype._cluster=function(G,Y){for(var Z=[],re=this.options,ae=re.reduce,we=re.minPoints,Ce=re.radius/(re.extent*Math.pow(2,Y)),ee=0;ee<G.length;ee++){var ue=G[ee];if(!(ue.zoom<=Y)){ue.zoom=Y;for(var Le=this.trees[Y+1],lt=Le.within(ue.x,ue.y,Ce),mt=ue.numPoints||1,Ye=mt,pt=0,Ut=lt;pt<Ut.length;pt+=1){var ne=Le.points[Ut[pt]];ne.zoom>Y&&(Ye+=ne.numPoints||1)}if(Ye>=we){for(var de=ue.x*mt,Ne=ue.y*mt,Ie=ae&&mt>1?this._map(ue,!0):null,ot=(ee<<5)+(Y+1)+this.points.length,He=0,ht=lt;He<ht.length;He+=1){var Gt=Le.points[ht[He]];if(!(Gt.zoom<=Y)){Gt.zoom=Y;var Zt=Gt.numPoints||1;de+=Gt.x*Zt,Ne+=Gt.y*Zt,Gt.parentId=ot,ae&&(Ie||(Ie=this._map(ue,!0)),ae(Ie,this._map(Gt)))}}ue.parentId=ot,Z.push(Fr(de/Ye,Ne/Ye,ot,Ye,Ie))}else if(Z.push(ue),Ye>1)for(var ut=0,Xt=lt;ut<Xt.length;ut+=1){var Et=Le.points[Xt[ut]];Et.zoom<=Y||(Et.zoom=Y,Z.push(Et))}}}return Z},dr.prototype._getOriginId=function(G){return G-this.points.length>>5},dr.prototype._getOriginZoom=function(G){return(G-this.points.length)%32},dr.prototype._map=function(G,Y){if(G.numPoints)return Y?ye({},G.properties):G.properties;var Z=this.points[G.index].properties,re=this.options.map(Z);return Y&&re===Z?ye({},re):re},Vn.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Vn.prototype.splitTile=function(G,Y,Z,re,ae,we,Ce){for(var ee=[G,Y,Z,re],ue=this.options,Le=ue.debug;ee.length;){re=ee.pop(),Z=ee.pop(),Y=ee.pop(),G=ee.pop();var lt=1<<Y,mt=pn(Y,Z,re),Ye=this.tiles[mt];if(!Ye&&(Le>1&&console.time("creation"),Ye=this.tiles[mt]=tn(G,Y,Z,re,ue),this.tileCoords.push({z:Y,x:Z,y:re}),Le)){Le>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",Y,Z,re,Ye.numFeatures,Ye.numPoints,Ye.numSimplified),console.timeEnd("creation"));var pt="z"+Y;this.stats[pt]=(this.stats[pt]||0)+1,this.total++}if(Ye.source=G,ae){if(Y===ue.maxZoom||Y===ae)continue;var Ut=1<<ae-Y;if(Z!==Math.floor(we/Ut)||re!==Math.floor(Ce/Ut))continue}else if(Y===ue.indexMaxZoom||Ye.numPoints<=ue.indexMaxPoints)continue;if(Ye.source=null,0!==G.length){Le>1&&console.time("clipping");var ne,de,Ne,Ie,ot,He,ht=.5*ue.buffer/ue.extent,Gt=.5-ht,Zt=.5+ht,ut=1+ht;ne=de=Ne=Ie=null,ot=It(G,lt,Z-ht,Z+Zt,0,Ye.minX,Ye.maxX,ue),He=It(G,lt,Z+Gt,Z+ut,0,Ye.minX,Ye.maxX,ue),G=null,ot&&(ne=It(ot,lt,re-ht,re+Zt,1,Ye.minY,Ye.maxY,ue),de=It(ot,lt,re+Gt,re+ut,1,Ye.minY,Ye.maxY,ue),ot=null),He&&(Ne=It(He,lt,re-ht,re+Zt,1,Ye.minY,Ye.maxY,ue),Ie=It(He,lt,re+Gt,re+ut,1,Ye.minY,Ye.maxY,ue),He=null),Le>1&&console.timeEnd("clipping"),ee.push(ne||[],Y+1,2*Z,2*re),ee.push(de||[],Y+1,2*Z,2*re+1),ee.push(Ne||[],Y+1,2*Z+1,2*re),ee.push(Ie||[],Y+1,2*Z+1,2*re+1)}}},Vn.prototype.getTile=function(G,Y,Z){var re=this.options,ae=re.extent,we=re.debug;if(G<0||G>24)return null;var Ce=1<<G,ee=pn(G,Y=(Y%Ce+Ce)%Ce,Z);if(this.tiles[ee])return Pn(this.tiles[ee],ae);we>1&&console.log("drilling down to z%d-%d-%d",G,Y,Z);for(var ue,Le=G,lt=Y,mt=Z;!ue&&Le>0;)Le--,lt=Math.floor(lt/2),mt=Math.floor(mt/2),ue=this.tiles[pn(Le,lt,mt)];return ue&&ue.source?(we>1&&console.log("found parent tile z%d-%d-%d",Le,lt,mt),we>1&&console.time("drilling down"),this.splitTile(ue.source,Le,lt,mt,G,Y,Z),we>1&&console.timeEnd("drilling down"),this.tiles[ee]?Pn(this.tiles[ee],ae):null):null};var Ar=function(G){function Y(Z,re,ae,we){G.call(this,Z,re,ae,En),we&&(this.loadGeoJSON=we)}return G&&(Y.__proto__=G),(Y.prototype=Object.create(G&&G.prototype)).constructor=Y,Y.prototype.loadData=function(Z,re){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=re,this._pendingLoadDataParams=Z,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},Y.prototype._loadData=function(){var Z=this;if(this._pendingCallback&&this._pendingLoadDataParams){var re=this._pendingCallback,ae=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var we=!!(ae&&ae.request&&ae.request.collectResourceTiming)&&new i.RequestPerformance(ae.request);this.loadGeoJSON(ae,function(Ce,ee){if(Ce||!ee)return re(Ce);if("object"!=typeof ee)return re(new Error("Input data given to '"+ae.source+"' is not a valid GeoJSON object."));!function Ye(pt,Ut){var ne,de=pt&&pt.type;if("FeatureCollection"===de)for(ne=0;ne<pt.features.length;ne++)Ye(pt.features[ne],Ut);else if("GeometryCollection"===de)for(ne=0;ne<pt.geometries.length;ne++)Ye(pt.geometries[ne],Ut);else if("Feature"===de)Ye(pt.geometry,Ut);else if("Polygon"===de)M(pt.coordinates,Ut);else if("MultiPolygon"===de)for(ne=0;ne<pt.coordinates.length;ne++)M(pt.coordinates[ne],Ut);return pt}(ee,!0);try{if(ae.filter){var ue=i.createExpression(ae.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===ue.result)throw new Error(ue.value.map(function(Ye){return Ye.key+": "+Ye.message}).join(", "));var Le=ee.features.filter(function(Ye){return ue.value.evaluate({zoom:0},Ye)});ee={type:"FeatureCollection",features:Le}}Z._geoJSONIndex=ae.cluster?new dr(function(Ye){var pt=Ye.superclusterOptions,Ut=Ye.clusterProperties;if(!Ut||!pt)return pt;for(var ne={},de={},Ne={accumulated:null,zoom:0},Ie={properties:null},ot=Object.keys(Ut),He=0,ht=ot;He<ht.length;He+=1){var Gt=ht[He],Zt=Ut[Gt],ut=Zt[0],Xt=i.createExpression(Zt[1]),Et=i.createExpression("string"==typeof ut?[ut,["accumulated"],["get",Gt]]:ut);ne[Gt]=Xt.value,de[Gt]=Et.value}return pt.map=function(Gr){Ie.properties=Gr;for(var Dr={},An=0,Sr=ot;An<Sr.length;An+=1){var br=Sr[An];Dr[br]=ne[br].evaluate(Ne,Ie)}return Dr},pt.reduce=function(Gr,Dr){Ie.properties=Dr;for(var An=0,Sr=ot;An<Sr.length;An+=1){var br=Sr[An];Ne.accumulated=Gr[br],Gr[br]=de[br].evaluate(Ne,Ie)}},pt}(ae)).load(ee.features):new Vn(Ye=ee,ae.geojsonVtOptions)}catch(Ye){return re(Ye)}var Ye;Z.loaded={};var lt={};if(we){var mt=we.finish();mt&&(lt.resourceTiming={},lt.resourceTiming[ae.source]=JSON.parse(JSON.stringify(mt)))}re(null,lt)})}},Y.prototype.coalesce=function(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())},Y.prototype.reloadTile=function(Z,re){var ae=this.loaded;return ae&&ae[Z.uid]?G.prototype.reloadTile.call(this,Z,re):this.loadTile(Z,re)},Y.prototype.loadGeoJSON=function(Z,re){if(Z.request)i.getJSON(Z.request,re);else{if("string"!=typeof Z.data)return re(new Error("Input data given to '"+Z.source+"' is not a valid GeoJSON object."));try{return re(null,JSON.parse(Z.data))}catch{return re(new Error("Input data given to '"+Z.source+"' is not a valid GeoJSON object."))}}},Y.prototype.removeSource=function(Z,re){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),re()},Y.prototype.getClusterExpansionZoom=function(Z,re){try{re(null,this._geoJSONIndex.getClusterExpansionZoom(Z.clusterId))}catch(ae){re(ae)}},Y.prototype.getClusterChildren=function(Z,re){try{re(null,this._geoJSONIndex.getChildren(Z.clusterId))}catch(ae){re(ae)}},Y.prototype.getClusterLeaves=function(Z,re){try{re(null,this._geoJSONIndex.getLeaves(Z.clusterId,Z.limit,Z.offset))}catch(ae){re(ae)}},Y}(I),cn=function(G){var Y=this;this.self=G,this.actor=new i.Actor(G,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:I,geojson:Ar},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(Z,re){if(Y.workerSourceTypes[Z])throw new Error('Worker source with name "'+Z+'" already registered.');Y.workerSourceTypes[Z]=re},this.self.registerRTLTextPlugin=function(Z){if(i.plugin.isParsed())throw new Error("RTL text plugin already registered.");i.plugin.applyArabicShaping=Z.applyArabicShaping,i.plugin.processBidirectionalText=Z.processBidirectionalText,i.plugin.processStyledBidirectionalText=Z.processStyledBidirectionalText}};return cn.prototype.setReferrer=function(G,Y){this.referrer=Y},cn.prototype.setImages=function(G,Y,Z){for(var re in this.availableImages[G]=Y,this.workerSources[G]){var ae=this.workerSources[G][re];for(var we in ae)ae[we].availableImages=Y}Z()},cn.prototype.setLayers=function(G,Y,Z){this.getLayerIndex(G).replace(Y),Z()},cn.prototype.updateLayers=function(G,Y,Z){this.getLayerIndex(G).update(Y.layers,Y.removedIds),Z()},cn.prototype.loadTile=function(G,Y,Z){this.getWorkerSource(G,Y.type,Y.source).loadTile(Y,Z)},cn.prototype.loadDEMTile=function(G,Y,Z){this.getDEMWorkerSource(G,Y.source).loadTile(Y,Z)},cn.prototype.reloadTile=function(G,Y,Z){this.getWorkerSource(G,Y.type,Y.source).reloadTile(Y,Z)},cn.prototype.abortTile=function(G,Y,Z){this.getWorkerSource(G,Y.type,Y.source).abortTile(Y,Z)},cn.prototype.removeTile=function(G,Y,Z){this.getWorkerSource(G,Y.type,Y.source).removeTile(Y,Z)},cn.prototype.removeDEMTile=function(G,Y){this.getDEMWorkerSource(G,Y.source).removeTile(Y)},cn.prototype.removeSource=function(G,Y,Z){if(this.workerSources[G]&&this.workerSources[G][Y.type]&&this.workerSources[G][Y.type][Y.source]){var re=this.workerSources[G][Y.type][Y.source];delete this.workerSources[G][Y.type][Y.source],void 0!==re.removeSource?re.removeSource(Y,Z):Z()}},cn.prototype.loadWorkerSource=function(G,Y,Z){try{this.self.importScripts(Y.url),Z()}catch(re){Z(re.toString())}},cn.prototype.syncRTLPluginState=function(G,Y,Z){try{i.plugin.setState(Y);var re=i.plugin.getPluginURL();if(i.plugin.isLoaded()&&!i.plugin.isParsed()&&null!=re){this.self.importScripts(re);var ae=i.plugin.isParsed();Z(ae?void 0:new Error("RTL Text Plugin failed to import scripts from "+re),ae)}}catch(we){Z(we.toString())}},cn.prototype.getAvailableImages=function(G){var Y=this.availableImages[G];return Y||(Y=[]),Y},cn.prototype.getLayerIndex=function(G){var Y=this.layerIndexes[G];return Y||(Y=this.layerIndexes[G]=new C),Y},cn.prototype.getWorkerSource=function(G,Y,Z){var re=this;return this.workerSources[G]||(this.workerSources[G]={}),this.workerSources[G][Y]||(this.workerSources[G][Y]={}),this.workerSources[G][Y][Z]||(this.workerSources[G][Y][Z]=new this.workerSourceTypes[Y]({send:function(ae,we,Ce){re.actor.send(ae,we,Ce,G)}},this.getLayerIndex(G),this.getAvailableImages(G))),this.workerSources[G][Y][Z]},cn.prototype.getDEMWorkerSource=function(G,Y){return this.demWorkerSources[G]||(this.demWorkerSources[G]={}),this.demWorkerSources[G][Y]||(this.demWorkerSources[G][Y]=new L),this.demWorkerSources[G][Y]},cn.prototype.enforceCacheSizeLimit=function(G,Y){i.enforceCacheSizeLimit(Y)},typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new cn(self)),cn}),w(0,function(i){var v=i.createCommonjsModule(function(n){function a(p){return!o(p)}function o(p){return typeof window>"u"||typeof document>"u"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var _,Q,O=new Blob([""],{type:"text/javascript"}),X=URL.createObjectURL(O);try{Q=new Worker(X),_=!0}catch{_=!1}return Q&&Q.terminate(),URL.revokeObjectURL(X),_}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var _=document.createElement("canvas");_.width=_.height=1;var Q=_.getContext("2d");if(!Q)return!1;var O=Q.getImageData(0,0,1,1);return O&&O.width===_.width}()?(void 0===c[y=p&&p.failIfMajorPerformanceCaveat]&&(c[y]=function(_){var X,J,$,Q=(X=_,J=document.createElement("canvas"),($=Object.create(a.webGLContextAttributes)).failIfMajorPerformanceCaveat=X,J.probablySupportsContext?J.probablySupportsContext("webgl",$)||J.probablySupportsContext("experimental-webgl",$):J.supportsContext?J.supportsContext("webgl",$)||J.supportsContext("experimental-webgl",$):J.getContext("webgl",$)||J.getContext("experimental-webgl",$));if(!Q)return!1;var O=Q.createShader(Q.VERTEX_SHADER);return!(!O||Q.isContextLost())&&(Q.shaderSource(O,"void main() {}"),Q.compileShader(O),!0===Q.getShaderParameter(O,Q.COMPILE_STATUS))}(y)),c[y]?void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var y}n.exports?n.exports=a:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=a,window.mapboxgl.notSupportedReason=o);var c={};a.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}}),g={create:function(n,a,o){var c=i.window.document.createElement(n);return void 0!==a&&(c.className=a),o&&o.appendChild(c),c},createNS:function(n,a){return i.window.document.createElementNS(n,a)}},C=i.window.document&&i.window.document.documentElement.style;function F(n){if(!C)return n[0];for(var a=0;a<n.length;a++)if(n[a]in C)return n[a];return n[0]}var P,B=F(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);g.disableDrag=function(){C&&B&&(P=C[B],C[B]="none")},g.enableDrag=function(){C&&B&&(C[B]=P)};var S=F(["transform","WebkitTransform"]);g.setTransform=function(n,a){n.style[S]=a};var I=!1;try{var T=Object.defineProperty({},"passive",{get:function(){I=!0}});i.window.addEventListener("test",T,T),i.window.removeEventListener("test",T,T)}catch{I=!1}g.addEventListener=function(n,a,o,c){void 0===c&&(c={}),n.addEventListener(a,o,"passive"in c&&I?c:c.capture)},g.removeEventListener=function(n,a,o,c){void 0===c&&(c={}),n.removeEventListener(a,o,"passive"in c&&I?c:c.capture)};var L=function(n){n.preventDefault(),n.stopPropagation(),i.window.removeEventListener("click",L,!0)};function M(n){var a=n.userImage;return!!(a&&a.render&&a.render())&&(n.data.replace(new Uint8Array(a.data.buffer)),!0)}g.suppressClick=function(){i.window.addEventListener("click",L,!0),i.window.setTimeout(function(){i.window.removeEventListener("click",L,!0)},0)},g.mousePos=function(n,a){var o=n.getBoundingClientRect();return new i.Point(a.clientX-o.left-n.clientLeft,a.clientY-o.top-n.clientTop)},g.touchPos=function(n,a){for(var o=n.getBoundingClientRect(),c=[],p=0;p<a.length;p++)c.push(new i.Point(a[p].clientX-o.left-n.clientLeft,a[p].clientY-o.top-n.clientTop));return c},g.mouseButton=function(n){return void 0!==i.window.InstallTrigger&&2===n.button&&n.ctrlKey&&i.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:n.button},g.remove=function(n){n.parentNode&&n.parentNode.removeChild(n)};var N=function(n){function a(){n.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new i.RGBAImage({width:1,height:1}),this.dirty=!0}return n&&(a.__proto__=n),(a.prototype=Object.create(n&&n.prototype)).constructor=a,a.prototype.isLoaded=function(){return this.loaded},a.prototype.setLoaded=function(o){if(this.loaded!==o&&(this.loaded=o,o)){for(var c=0,p=this.requestors;c<p.length;c+=1){var y=p[c];this._notify(y.ids,y.callback)}this.requestors=[]}},a.prototype.getImage=function(o){return this.images[o]},a.prototype.addImage=function(o,c){this._validate(o,c)&&(this.images[o]=c)},a.prototype._validate=function(o,c){var p=!0;return this._validateStretch(c.stretchX,c.data&&c.data.width)||(this.fire(new i.ErrorEvent(new Error('Image "'+o+'" has invalid "stretchX" value'))),p=!1),this._validateStretch(c.stretchY,c.data&&c.data.height)||(this.fire(new i.ErrorEvent(new Error('Image "'+o+'" has invalid "stretchY" value'))),p=!1),this._validateContent(c.content,c)||(this.fire(new i.ErrorEvent(new Error('Image "'+o+'" has invalid "content" value'))),p=!1),p},a.prototype._validateStretch=function(o,c){if(!o)return!0;for(var p=0,y=0,_=o;y<_.length;y+=1){var Q=_[y];if(Q[0]<p||Q[1]<Q[0]||c<Q[1])return!1;p=Q[1]}return!0},a.prototype._validateContent=function(o,c){return!(o&&(4!==o.length||o[0]<0||c.data.width<o[0]||o[1]<0||c.data.height<o[1]||o[2]<0||c.data.width<o[2]||o[3]<0||c.data.height<o[3]||o[2]<o[0]||o[3]<o[1]))},a.prototype.updateImage=function(o,c){c.version=this.images[o].version+1,this.images[o]=c,this.updatedImages[o]=!0},a.prototype.removeImage=function(o){var c=this.images[o];delete this.images[o],delete this.patterns[o],c.userImage&&c.userImage.onRemove&&c.userImage.onRemove()},a.prototype.listImages=function(){return Object.keys(this.images)},a.prototype.getImages=function(o,c){var p=!0;if(!this.isLoaded())for(var y=0,_=o;y<_.length;y+=1)this.images[_[y]]||(p=!1);this.isLoaded()||p?this._notify(o,c):this.requestors.push({ids:o,callback:c})},a.prototype._notify=function(o,c){for(var p={},y=0,_=o;y<_.length;y+=1){var Q=_[y];this.images[Q]||this.fire(new i.Event("styleimagemissing",{id:Q}));var O=this.images[Q];O?p[Q]={data:O.data.clone(),pixelRatio:O.pixelRatio,sdf:O.sdf,version:O.version,stretchX:O.stretchX,stretchY:O.stretchY,content:O.content,hasRenderCallback:Boolean(O.userImage&&O.userImage.render)}:i.warnOnce('Image "'+Q+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}c(null,p)},a.prototype.getPixelSize=function(){var o=this.atlasImage;return{width:o.width,height:o.height}},a.prototype.getPattern=function(o){var c=this.patterns[o],p=this.getImage(o);if(!p)return null;if(c&&c.position.version===p.version)return c.position;if(c)c.position.version=p.version;else{var y={w:p.data.width+2,h:p.data.height+2,x:0,y:0},_=new i.ImagePosition(y,p);this.patterns[o]={bin:y,position:_}}return this._updatePatternAtlas(),this.patterns[o].position},a.prototype.bind=function(o){var c=o.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new i.Texture(o,this.atlasImage,c.RGBA),this.atlasTexture.bind(c.LINEAR,c.CLAMP_TO_EDGE)},a.prototype._updatePatternAtlas=function(){var o=[];for(var c in this.patterns)o.push(this.patterns[c].bin);var p=i.potpack(o),y=p.w,_=p.h,Q=this.atlasImage;for(var O in Q.resize({width:y||1,height:_||1}),this.patterns){var X=this.patterns[O].bin,J=X.x+1,$=X.y+1,te=this.images[O].data,le=te.width,se=te.height;i.RGBAImage.copy(te,Q,{x:0,y:0},{x:J,y:$},{width:le,height:se}),i.RGBAImage.copy(te,Q,{x:0,y:se-1},{x:J,y:$-1},{width:le,height:1}),i.RGBAImage.copy(te,Q,{x:0,y:0},{x:J,y:$+se},{width:le,height:1}),i.RGBAImage.copy(te,Q,{x:le-1,y:0},{x:J-1,y:$},{width:1,height:se}),i.RGBAImage.copy(te,Q,{x:0,y:0},{x:J+le,y:$},{width:1,height:se})}this.dirty=!0},a.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},a.prototype.dispatchRenderCallbacks=function(o){for(var c=0,p=o;c<p.length;c+=1){var y=p[c];if(!this.callbackDispatchedThisFrame[y]){this.callbackDispatchedThisFrame[y]=!0;var _=this.images[y];M(_)&&this.updateImage(y,_)}}},a}(i.Evented),pe=Be,ve=Be,Fe=1e20;function Be(n,a,o,c,p,y){this.fontSize=n||24,this.buffer=void 0===a?3:a,this.cutoff=c||.25,this.fontFamily=p||"sans-serif",this.fontWeight=y||"normal",this.radius=o||8;var _=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=_,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(_*_),this.gridInner=new Float64Array(_*_),this.f=new Float64Array(_),this.d=new Float64Array(_),this.z=new Float64Array(_+1),this.v=new Int16Array(_),this.middle=Math.round(_/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function Se(n,a,o,c,p,y,_){for(var Q=0;Q<a;Q++){for(var O=0;O<o;O++)c[O]=n[O*a+Q];for(Ee(c,p,y,_,o),O=0;O<o;O++)n[O*a+Q]=p[O]}for(O=0;O<o;O++){for(Q=0;Q<a;Q++)c[Q]=n[O*a+Q];for(Ee(c,p,y,_,a),Q=0;Q<a;Q++)n[O*a+Q]=Math.sqrt(p[Q])}}function Ee(n,a,o,c,p){o[0]=0,c[0]=-Fe,c[1]=+Fe;for(var y=1,_=0;y<p;y++){for(var Q=(n[y]+y*y-(n[o[_]]+o[_]*o[_]))/(2*y-2*o[_]);Q<=c[_];)_--,Q=(n[y]+y*y-(n[o[_]]+o[_]*o[_]))/(2*y-2*o[_]);o[++_]=y,c[_]=Q,c[_+1]=+Fe}for(y=0,_=0;y<p;y++){for(;c[_+1]<y;)_++;a[y]=(y-o[_])*(y-o[_])+n[o[_]]}}Be.prototype.draw=function(n){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(n,this.buffer,this.middle);for(var a=this.ctx.getImageData(0,0,this.size,this.size),o=new Uint8ClampedArray(this.size*this.size),c=0;c<this.size*this.size;c++){var p=a.data[4*c+3]/255;this.gridOuter[c]=1===p?0:0===p?Fe:Math.pow(Math.max(0,.5-p),2),this.gridInner[c]=1===p?Fe:0===p?0:Math.pow(Math.max(0,p-.5),2)}for(Se(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),Se(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),c=0;c<this.size*this.size;c++)o[c]=Math.max(0,Math.min(255,Math.round(255-255*((this.gridOuter[c]-this.gridInner[c])/this.radius+this.cutoff))));return o},pe.default=ve;var Ue=function(n,a){this.requestManager=n,this.localIdeographFontFamily=a,this.entries={}};Ue.prototype.setURL=function(n){this.url=n},Ue.prototype.getGlyphs=function(n,a){var o=this,c=[];for(var p in n)for(var y=0,_=n[p];y<_.length;y+=1)c.push({stack:p,id:_[y]});i.asyncAll(c,function(Q,O){var X=Q.stack,J=Q.id,$=o.entries[X];$||($=o.entries[X]={glyphs:{},requests:{},ranges:{}});var te=$.glyphs[J];if(void 0===te){if(te=o._tinySDF($,X,J))return $.glyphs[J]=te,void O(null,{stack:X,id:J,glyph:te});var le=Math.floor(J/256);if(256*le>65535)O(new Error("glyphs > 65535 not supported"));else if($.ranges[le])O(null,{stack:X,id:J,glyph:te});else{var se=$.requests[le];se||(se=$.requests[le]=[],Ue.loadGlyphRange(X,le,o.url,o.requestManager,function(be,oe){if(oe){for(var _e in oe)o._doesCharSupportLocalGlyph(+_e)||($.glyphs[+_e]=oe[+_e]);$.ranges[le]=!0}for(var Qe=0,Me=se;Qe<Me.length;Qe+=1)(0,Me[Qe])(be,oe);delete $.requests[le]})),se.push(function(be,oe){be?O(be):oe&&O(null,{stack:X,id:J,glyph:oe[J]||null})})}}else O(null,{stack:X,id:J,glyph:te})},function(Q,O){if(Q)a(Q);else if(O){for(var X={},J=0,$=O;J<$.length;J+=1){var te=$[J],le=te.stack,se=te.id,be=te.glyph;(X[le]||(X[le]={}))[se]=be&&{id:be.id,bitmap:be.bitmap.clone(),metrics:be.metrics}}a(null,X)}})},Ue.prototype._doesCharSupportLocalGlyph=function(n){return!!this.localIdeographFontFamily&&(i.isChar["CJK Unified Ideographs"](n)||i.isChar["Hangul Syllables"](n)||i.isChar.Hiragana(n)||i.isChar.Katakana(n))},Ue.prototype._tinySDF=function(n,a,o){var c=this.localIdeographFontFamily;if(c&&this._doesCharSupportLocalGlyph(o)){var p=n.tinySDF;if(!p){var y="400";/bold/i.test(a)?y="900":/medium/i.test(a)?y="500":/light/i.test(a)&&(y="200"),p=n.tinySDF=new Ue.TinySDF(24,3,8,.25,c,y)}return{id:o,bitmap:new i.AlphaImage({width:30,height:30},p.draw(String.fromCharCode(o))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},Ue.loadGlyphRange=function(n,a,o,c,p){var y=256*a,_=y+255,Q=c.transformRequest(c.normalizeGlyphsURL(o).replace("{fontstack}",n).replace("{range}",y+"-"+_),i.ResourceType.Glyphs);i.getArrayBuffer(Q,function(O,X){if(O)p(O);else if(X){for(var J={},$=0,te=i.parseGlyphPBF(X);$<te.length;$+=1){var le=te[$];J[le.id]=le}p(null,J)}})},Ue.TinySDF=pe;var We=function(){this.specification=i.styleSpec.light.position};We.prototype.possiblyEvaluate=function(n,a){return i.sphericalToCartesian(n.expression.evaluate(a))},We.prototype.interpolate=function(n,a,o){return{x:i.number(n.x,a.x,o),y:i.number(n.y,a.y,o),z:i.number(n.z,a.z,o)}};var Ve=new i.Properties({anchor:new i.DataConstantProperty(i.styleSpec.light.anchor),position:new We,color:new i.DataConstantProperty(i.styleSpec.light.color),intensity:new i.DataConstantProperty(i.styleSpec.light.intensity)}),Ke=function(n){function a(o){n.call(this),this._transitionable=new i.Transitionable(Ve),this.setLight(o),this._transitioning=this._transitionable.untransitioned()}return n&&(a.__proto__=n),(a.prototype=Object.create(n&&n.prototype)).constructor=a,a.prototype.getLight=function(){return this._transitionable.serialize()},a.prototype.setLight=function(o,c){if(void 0===c&&(c={}),!this._validate(i.validateLight,o,c))for(var p in o){var y=o[p];i.endsWith(p,"-transition")?this._transitionable.setTransition(p.slice(0,-11),y):this._transitionable.setValue(p,y)}},a.prototype.updateTransitions=function(o){this._transitioning=this._transitionable.transitioned(o,this._transitioning)},a.prototype.hasTransition=function(){return this._transitioning.hasTransition()},a.prototype.recalculate=function(o){this.properties=this._transitioning.possiblyEvaluate(o)},a.prototype._validate=function(o,c,p){return(!p||!1!==p.validate)&&i.emitValidationErrors(this,o.call(i.validateStyle,i.extend({value:c,style:{glyphs:!0,sprite:!0},styleSpec:i.styleSpec})))},a}(i.Evented),De=function(n,a){this.width=n,this.height=a,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};De.prototype.getDash=function(n,a){var o=n.join(",")+String(a);return this.dashEntry[o]||(this.dashEntry[o]=this.addDash(n,a)),this.dashEntry[o]},De.prototype.getDashRanges=function(n,a,o){var c=[],p=n.length%2==1?-n[n.length-1]*o:0,y=n[0]*o,_=!0;c.push({left:p,right:y,isDash:_,zeroLength:0===n[0]});for(var Q=n[0],O=1;O<n.length;O++){var X=n[O];c.push({left:p=Q*o,right:y=(Q+=X)*o,isDash:_=!_,zeroLength:0===X})}return c},De.prototype.addRoundDash=function(n,a,o){for(var c=a/2,p=-o;p<=o;p++)for(var y=this.width*(this.nextRow+o+p),_=0,Q=n[_],O=0;O<this.width;O++){O/Q.right>1&&(Q=n[++_]);var X=Math.abs(O-Q.left),J=Math.abs(O-Q.right),$=Math.min(X,J),te=void 0,le=p/o*(c+1);if(Q.isDash){var se=c-Math.abs(le);te=Math.sqrt($*$+se*se)}else te=c-Math.sqrt($*$+le*le);this.data[y+O]=Math.max(0,Math.min(255,te+128))}},De.prototype.addRegularDash=function(n){for(var a=n.length-1;a>=0;--a){var o=n[a],c=n[a+1];o.zeroLength?n.splice(a,1):c&&c.isDash===o.isDash&&(c.left=o.left,n.splice(a,1))}var p=n[0],y=n[n.length-1];p.isDash===y.isDash&&(p.left=y.left-this.width,y.right=p.right+this.width);for(var _=this.width*this.nextRow,Q=0,O=n[Q],X=0;X<this.width;X++){X/O.right>1&&(O=n[++Q]);var J=Math.abs(X-O.left),$=Math.abs(X-O.right),te=Math.min(J,$);this.data[_+X]=Math.max(0,Math.min(255,(O.isDash?te:-te)+128))}},De.prototype.addDash=function(n,a){var o=a?7:0,c=2*o+1;if(this.nextRow+c>this.height)return i.warnOnce("LineAtlas out of space"),null;for(var p=0,y=0;y<n.length;y++)p+=n[y];if(0!==p){var _=this.width/p,Q=this.getDashRanges(n,this.width,_);a?this.addRoundDash(Q,_,o):this.addRegularDash(Q)}var O={y:(this.nextRow+o+.5)/this.height,height:2*o/this.height,width:p};return this.nextRow+=c,this.dirty=!0,O},De.prototype.bind=function(n){var a=n.gl;this.texture?(a.bindTexture(a.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,a.texSubImage2D(a.TEXTURE_2D,0,0,0,this.width,this.height,a.ALPHA,a.UNSIGNED_BYTE,this.data))):(this.texture=a.createTexture(),a.bindTexture(a.TEXTURE_2D,this.texture),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.REPEAT),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.REPEAT),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR),a.texImage2D(a.TEXTURE_2D,0,a.ALPHA,this.width,this.height,0,a.ALPHA,a.UNSIGNED_BYTE,this.data))};var tt=function n(a,o){this.workerPool=a,this.actors=[],this.currentActor=0,this.id=i.uniqueId();for(var c=this.workerPool.acquire(this.id),p=0;p<c.length;p++){var y=new n.Actor(c[p],o,this.id);y.name="Worker "+p,this.actors.push(y)}};function dt(n,a,o){var c=function(p,y){if(p)return o(p);if(y){var _=i.pick(i.extend(y,n),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);y.vector_layers&&(_.vectorLayers=y.vector_layers,_.vectorLayerIds=_.vectorLayers.map(function(Q){return Q.id})),_.tiles=a.canonicalizeTileset(_,n.url),o(null,_)}};return n.url?i.getJSON(a.transformRequest(a.normalizeSourceURL(n.url),i.ResourceType.Source),c):i.browser.frame(function(){return c(null,n)})}tt.prototype.broadcast=function(n,a,o){i.asyncAll(this.actors,function(c,p){c.send(n,a,p)},o=o||function(){})},tt.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},tt.prototype.remove=function(){this.actors.forEach(function(n){n.remove()}),this.actors=[],this.workerPool.release(this.id)},tt.Actor=i.Actor;var Je=function(n,a,o){this.bounds=i.LngLatBounds.convert(this.validateBounds(n)),this.minzoom=a||0,this.maxzoom=o||24};Je.prototype.validateBounds=function(n){return Array.isArray(n)&&4===n.length?[Math.max(-180,n[0]),Math.max(-90,n[1]),Math.min(180,n[2]),Math.min(90,n[3])]:[-180,-90,180,90]},Je.prototype.contains=function(n){var a=Math.pow(2,n.z),o=Math.floor(i.mercatorXfromLng(this.bounds.getWest())*a),c=Math.floor(i.mercatorYfromLat(this.bounds.getNorth())*a),p=Math.ceil(i.mercatorXfromLng(this.bounds.getEast())*a),y=Math.ceil(i.mercatorYfromLat(this.bounds.getSouth())*a);return n.x>=o&&n.x<p&&n.y>=c&&n.y<y};var xt=function(n){function a(o,c,p,y){if(n.call(this),this.id=o,this.dispatcher=p,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,i.extend(this,i.pick(c,["url","scheme","tileSize","promoteId"])),this._options=i.extend({type:"vector"},c),this._collectResourceTiming=c.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(y)}return n&&(a.__proto__=n),(a.prototype=Object.create(n&&n.prototype)).constructor=a,a.prototype.load=function(){var o=this;this._loaded=!1,this.fire(new i.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=dt(this._options,this.map._requestManager,function(c,p){o._tileJSONRequest=null,o._loaded=!0,c?o.fire(new i.ErrorEvent(c)):p&&(i.extend(o,p),p.bounds&&(o.tileBounds=new Je(p.bounds,o.minzoom,o.maxzoom)),i.postTurnstileEvent(p.tiles,o.map._requestManager._customAccessToken),i.postMapLoadEvent(p.tiles,o.map._getMapId(),o.map._requestManager._skuToken,o.map._requestManager._customAccessToken),o.fire(new i.Event("data",{dataType:"source",sourceDataType:"metadata"})),o.fire(new i.Event("data",{dataType:"source",sourceDataType:"content"})))})},a.prototype.loaded=function(){return this._loaded},a.prototype.hasTile=function(o){return!this.tileBounds||this.tileBounds.contains(o.canonical)},a.prototype.onAdd=function(o){this.map=o,this.load()},a.prototype.setSourceProperty=function(o){this._tileJSONRequest&&this._tileJSONRequest.cancel(),o(),this.map.style.sourceCaches[this.id].clearTiles(),this.load()},a.prototype.setTiles=function(o){var c=this;return this.setSourceProperty(function(){c._options.tiles=o}),this},a.prototype.setUrl=function(o){var c=this;return this.setSourceProperty(function(){c.url=o,c._options.url=o}),this},a.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},a.prototype.serialize=function(){return i.extend({},this._options)},a.prototype.loadTile=function(o,c){var p=this.map._requestManager.normalizeTileURL(o.tileID.canonical.url(this.tiles,this.scheme)),y={request:this.map._requestManager.transformRequest(p,i.ResourceType.Tile),uid:o.uid,tileID:o.tileID,zoom:o.tileID.overscaledZ,tileSize:this.tileSize*o.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:i.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function _(Q,O){return delete o.request,o.aborted?c(null):Q&&404!==Q.status?c(Q):(O&&O.resourceTiming&&(o.resourceTiming=O.resourceTiming),this.map._refreshExpiredTiles&&O&&o.setExpiryData(O),o.loadVectorData(O,this.map.painter),i.cacheEntryPossiblyAdded(this.dispatcher),c(null),void(o.reloadCallback&&(this.loadTile(o,o.reloadCallback),o.reloadCallback=null)))}y.request.collectResourceTiming=this._collectResourceTiming,o.actor&&"expired"!==o.state?"loading"===o.state?o.reloadCallback=c:o.request=o.actor.send("reloadTile",y,_.bind(this)):(o.actor=this.dispatcher.getActor(),o.request=o.actor.send("loadTile",y,_.bind(this)))},a.prototype.abortTile=function(o){o.request&&(o.request.cancel(),delete o.request),o.actor&&o.actor.send("abortTile",{uid:o.uid,type:this.type,source:this.id},void 0)},a.prototype.unloadTile=function(o){o.unloadVectorData(),o.actor&&o.actor.send("removeTile",{uid:o.uid,type:this.type,source:this.id},void 0)},a.prototype.hasTransition=function(){return!1},a}(i.Evented),Xe=function(n){function a(o,c,p,y){n.call(this),this.id=o,this.dispatcher=p,this.setEventedParent(y),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=i.extend({type:"raster"},c),i.extend(this,i.pick(c,["url","scheme","tileSize"]))}return n&&(a.__proto__=n),(a.prototype=Object.create(n&&n.prototype)).constructor=a,a.prototype.load=function(){var o=this;this._loaded=!1,this.fire(new i.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=dt(this._options,this.map._requestManager,function(c,p){o._tileJSONRequest=null,o._loaded=!0,c?o.fire(new i.ErrorEvent(c)):p&&(i.extend(o,p),p.bounds&&(o.tileBounds=new Je(p.bounds,o.minzoom,o.maxzoom)),i.postTurnstileEvent(p.tiles),i.postMapLoadEvent(p.tiles,o.map._getMapId(),o.map._requestManager._skuToken),o.fire(new i.Event("data",{dataType:"source",sourceDataType:"metadata"})),o.fire(new i.Event("data",{dataType:"source",sourceDataType:"content"})))})},a.prototype.loaded=function(){return this._loaded},a.prototype.onAdd=function(o){this.map=o,this.load()},a.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},a.prototype.serialize=function(){return i.extend({},this._options)},a.prototype.hasTile=function(o){return!this.tileBounds||this.tileBounds.contains(o.canonical)},a.prototype.loadTile=function(o,c){var p=this,y=this.map._requestManager.normalizeTileURL(o.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);o.request=i.getImage(this.map._requestManager.transformRequest(y,i.ResourceType.Tile),function(_,Q){if(delete o.request,o.aborted)o.state="unloaded",c(null);else if(_)o.state="errored",c(_);else if(Q){p.map._refreshExpiredTiles&&o.setExpiryData(Q),delete Q.cacheControl,delete Q.expires;var O=p.map.painter.context,X=O.gl;o.texture=p.map.painter.getTileTexture(Q.width),o.texture?o.texture.update(Q,{useMipmap:!0}):(o.texture=new i.Texture(O,Q,X.RGBA,{useMipmap:!0}),o.texture.bind(X.LINEAR,X.CLAMP_TO_EDGE,X.LINEAR_MIPMAP_NEAREST),O.extTextureFilterAnisotropic&&X.texParameterf(X.TEXTURE_2D,O.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,O.extTextureFilterAnisotropicMax)),o.state="loaded",i.cacheEntryPossiblyAdded(p.dispatcher),c(null)}})},a.prototype.abortTile=function(o,c){o.request&&(o.request.cancel(),delete o.request),c()},a.prototype.unloadTile=function(o,c){o.texture&&this.map.painter.saveTileTexture(o.texture),c()},a.prototype.hasTransition=function(){return!1},a}(i.Evented),jt=function(n){function a(o,c,p,y){n.call(this,o,c,p,y),this.type="raster-dem",this.maxzoom=22,this._options=i.extend({type:"raster-dem"},c),this.encoding=c.encoding||"mapbox"}return n&&(a.__proto__=n),(a.prototype=Object.create(n&&n.prototype)).constructor=a,a.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},a.prototype.loadTile=function(o,c){var p=this.map._requestManager.normalizeTileURL(o.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function y(_,Q){_&&(o.state="errored",c(_)),Q&&(o.dem=Q,o.needsHillshadePrepare=!0,o.state="loaded",c(null))}o.request=i.getImage(this.map._requestManager.transformRequest(p,i.ResourceType.Tile),function(_,Q){if(delete o.request,o.aborted)o.state="unloaded",c(null);else if(_)o.state="errored",c(_);else if(Q){this.map._refreshExpiredTiles&&o.setExpiryData(Q),delete Q.cacheControl,delete Q.expires;var O=i.window.ImageBitmap&&Q instanceof i.window.ImageBitmap&&i.offscreenCanvasSupported()?Q:i.browser.getImageData(Q,1),X={uid:o.uid,coord:o.tileID,source:this.id,rawImageData:O,encoding:this.encoding};o.actor&&"expired"!==o.state||(o.actor=this.dispatcher.getActor(),o.actor.send("loadDEMTile",X,y.bind(this)))}}.bind(this)),o.neighboringTiles=this._getNeighboringTiles(o.tileID)},a.prototype._getNeighboringTiles=function(o){var c=o.canonical,p=Math.pow(2,c.z),y=(c.x-1+p)%p,_=0===c.x?o.wrap-1:o.wrap,Q=(c.x+1+p)%p,O=c.x+1===p?o.wrap+1:o.wrap,X={};return X[new i.OverscaledTileID(o.overscaledZ,_,c.z,y,c.y).key]={backfilled:!1},X[new i.OverscaledTileID(o.overscaledZ,O,c.z,Q,c.y).key]={backfilled:!1},c.y>0&&(X[new i.OverscaledTileID(o.overscaledZ,_,c.z,y,c.y-1).key]={backfilled:!1},X[new i.OverscaledTileID(o.overscaledZ,o.wrap,c.z,c.x,c.y-1).key]={backfilled:!1},X[new i.OverscaledTileID(o.overscaledZ,O,c.z,Q,c.y-1).key]={backfilled:!1}),c.y+1<p&&(X[new i.OverscaledTileID(o.overscaledZ,_,c.z,y,c.y+1).key]={backfilled:!1},X[new i.OverscaledTileID(o.overscaledZ,o.wrap,c.z,c.x,c.y+1).key]={backfilled:!1},X[new i.OverscaledTileID(o.overscaledZ,O,c.z,Q,c.y+1).key]={backfilled:!1}),X},a.prototype.unloadTile=function(o){o.demTexture&&this.map.painter.saveTileTexture(o.demTexture),o.fbo&&(o.fbo.destroy(),delete o.fbo),o.dem&&delete o.dem,delete o.neighboringTiles,o.state="unloaded",o.actor&&o.actor.send("removeDEMTile",{uid:o.uid,source:this.id})},a}(Xe),At=function(n){function a(o,c,p,y){n.call(this),this.id=o,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=p.getActor(),this.setEventedParent(y),this._data=c.data,this._options=i.extend({},c),this._collectResourceTiming=c.collectResourceTiming,this._resourceTiming=[],void 0!==c.maxzoom&&(this.maxzoom=c.maxzoom),c.type&&(this.type=c.type),c.attribution&&(this.attribution=c.attribution),this.promoteId=c.promoteId;var _=i.EXTENT/this.tileSize;this.workerOptions=i.extend({source:this.id,cluster:c.cluster||!1,geojsonVtOptions:{buffer:(void 0!==c.buffer?c.buffer:128)*_,tolerance:(void 0!==c.tolerance?c.tolerance:.375)*_,extent:i.EXTENT,maxZoom:this.maxzoom,lineMetrics:c.lineMetrics||!1,generateId:c.generateId||!1},superclusterOptions:{maxZoom:void 0!==c.clusterMaxZoom?Math.min(c.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,c.clusterMinPoints||2),extent:i.EXTENT,radius:(c.clusterRadius||50)*_,log:!1,generateId:c.generateId||!1},clusterProperties:c.clusterProperties,filter:c.filter},c.workerOptions)}return n&&(a.__proto__=n),(a.prototype=Object.create(n&&n.prototype)).constructor=a,a.prototype.load=function(){var o=this;this.fire(new i.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(c){if(c)o.fire(new i.ErrorEvent(c));else{var p={dataType:"source",sourceDataType:"metadata"};o._collectResourceTiming&&o._resourceTiming&&o._resourceTiming.length>0&&(p.resourceTiming=o._resourceTiming,o._resourceTiming=[]),o.fire(new i.Event("data",p))}})},a.prototype.onAdd=function(o){this.map=o,this.load()},a.prototype.setData=function(o){var c=this;return this._data=o,this.fire(new i.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(p){if(p)c.fire(new i.ErrorEvent(p));else{var y={dataType:"source",sourceDataType:"content"};c._collectResourceTiming&&c._resourceTiming&&c._resourceTiming.length>0&&(y.resourceTiming=c._resourceTiming,c._resourceTiming=[]),c.fire(new i.Event("data",y))}}),this},a.prototype.getClusterExpansionZoom=function(o,c){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:o,source:this.id},c),this},a.prototype.getClusterChildren=function(o,c){return this.actor.send("geojson.getClusterChildren",{clusterId:o,source:this.id},c),this},a.prototype.getClusterLeaves=function(o,c,p,y){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:o,limit:c,offset:p},y),this},a.prototype._updateWorkerData=function(o){var c=this;this._loaded=!1;var p=i.extend({},this.workerOptions),y=this._data;"string"==typeof y?(p.request=this.map._requestManager.transformRequest(i.browser.resolveURL(y),i.ResourceType.Source),p.request.collectResourceTiming=this._collectResourceTiming):p.data=JSON.stringify(y),this.actor.send(this.type+".loadData",p,function(_,Q){c._removed||Q&&Q.abandoned||(c._loaded=!0,Q&&Q.resourceTiming&&Q.resourceTiming[c.id]&&(c._resourceTiming=Q.resourceTiming[c.id].slice(0)),c.actor.send(c.type+".coalesce",{source:p.source},null),o(_))})},a.prototype.loaded=function(){return this._loaded},a.prototype.loadTile=function(o,c){var p=this,y=o.actor?"reloadTile":"loadTile";o.actor=this.actor,o.request=this.actor.send(y,{type:this.type,uid:o.uid,tileID:o.tileID,zoom:o.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:i.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},function(_,Q){return delete o.request,o.unloadVectorData(),o.aborted?c(null):_?c(_):(o.loadVectorData(Q,p.map.painter,"reloadTile"===y),c(null))})},a.prototype.abortTile=function(o){o.request&&(o.request.cancel(),delete o.request),o.aborted=!0},a.prototype.unloadTile=function(o){o.unloadVectorData(),this.actor.send("removeTile",{uid:o.uid,type:this.type,source:this.id})},a.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},a.prototype.serialize=function(){return i.extend({},this._options,{type:this.type,data:this._data})},a.prototype.hasTransition=function(){return!1},a}(i.Evented),tr=i.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),Oe=function(n){function a(o,c,p,y){n.call(this),this.id=o,this.dispatcher=p,this.coordinates=c.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(y),this.options=c}return n&&(a.__proto__=n),(a.prototype=Object.create(n&&n.prototype)).constructor=a,a.prototype.load=function(o,c){var p=this;this._loaded=!1,this.fire(new i.Event("dataloading",{dataType:"source"})),this.url=this.options.url,i.getImage(this.map._requestManager.transformRequest(this.url,i.ResourceType.Image),function(y,_){p._loaded=!0,y?p.fire(new i.ErrorEvent(y)):_&&(p.image=_,o&&(p.coordinates=o),c&&c(),p._finishLoading())})},a.prototype.loaded=function(){return this._loaded},a.prototype.updateImage=function(o){var c=this;return this.image&&o.url?(this.options.url=o.url,this.load(o.coordinates,function(){c.texture=null}),this):this},a.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new i.Event("data",{dataType:"source",sourceDataType:"metadata"})))},a.prototype.onAdd=function(o){this.map=o,this.load()},a.prototype.setCoordinates=function(o){var c=this;this.coordinates=o;var p=o.map(i.MercatorCoordinate.fromLngLat);this.tileID=function(_){for(var Q=1/0,O=1/0,X=-1/0,J=-1/0,$=0,te=_;$<te.length;$+=1){var le=te[$];Q=Math.min(Q,le.x),O=Math.min(O,le.y),X=Math.max(X,le.x),J=Math.max(J,le.y)}var se=Math.max(X-Q,J-O),be=Math.max(0,Math.floor(-Math.log(se)/Math.LN2)),oe=Math.pow(2,be);return new i.CanonicalTileID(be,Math.floor((Q+X)/2*oe),Math.floor((O+J)/2*oe))}(p),this.minzoom=this.maxzoom=this.tileID.z;var y=p.map(function(_){return c.tileID.getTilePoint(_)._round()});return this._boundsArray=new i.StructArrayLayout4i8,this._boundsArray.emplaceBack(y[0].x,y[0].y,0,0),this._boundsArray.emplaceBack(y[1].x,y[1].y,i.EXTENT,0),this._boundsArray.emplaceBack(y[3].x,y[3].y,0,i.EXTENT),this._boundsArray.emplaceBack(y[2].x,y[2].y,i.EXTENT,i.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new i.Event("data",{dataType:"source",sourceDataType:"content"})),this},a.prototype.prepare=function(){if(0!==Object.keys(this.tiles).length&&this.image){var o=this.map.painter.context,c=o.gl;for(var p in this.boundsBuffer||(this.boundsBuffer=o.createVertexBuffer(this._boundsArray,tr.members)),this.boundsSegments||(this.boundsSegments=i.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new i.Texture(o,this.image,c.RGBA),this.texture.bind(c.LINEAR,c.CLAMP_TO_EDGE)),this.tiles){var y=this.tiles[p];"loaded"!==y.state&&(y.state="loaded",y.texture=this.texture)}}},a.prototype.loadTile=function(o,c){this.tileID&&this.tileID.equals(o.tileID.canonical)?(this.tiles[String(o.tileID.wrap)]=o,o.buckets={},c(null)):(o.state="errored",c(null))},a.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},a.prototype.hasTransition=function(){return!1},a}(i.Evented),ct=function(n){function a(o,c,p,y){n.call(this,o,c,p,y),this.roundZoom=!0,this.type="video",this.options=c}return n&&(a.__proto__=n),(a.prototype=Object.create(n&&n.prototype)).constructor=a,a.prototype.load=function(){var o=this;this._loaded=!1;var c=this.options;this.urls=[];for(var p=0,y=c.urls;p<y.length;p+=1)this.urls.push(this.map._requestManager.transformRequest(y[p],i.ResourceType.Source).url);i.getVideo(this.urls,function(_,Q){o._loaded=!0,_?o.fire(new i.ErrorEvent(_)):Q&&(o.video=Q,o.video.loop=!0,o.video.addEventListener("playing",function(){o.map.triggerRepaint()}),o.map&&o.video.play(),o._finishLoading())})},a.prototype.pause=function(){this.video&&this.video.pause()},a.prototype.play=function(){this.video&&this.video.play()},a.prototype.seek=function(o){if(this.video){var c=this.video.seekable;o<c.start(0)||o>c.end(0)?this.fire(new i.ErrorEvent(new i.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+c.start(0)+" and "+c.end(0)+"-second mark."))):this.video.currentTime=o}},a.prototype.getVideo=function(){return this.video},a.prototype.onAdd=function(o){this.map||(this.map=o,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},a.prototype.prepare=function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var o=this.map.painter.context,c=o.gl;for(var p in this.boundsBuffer||(this.boundsBuffer=o.createVertexBuffer(this._boundsArray,tr.members)),this.boundsSegments||(this.boundsSegments=i.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(c.LINEAR,c.CLAMP_TO_EDGE),c.texSubImage2D(c.TEXTURE_2D,0,0,0,c.RGBA,c.UNSIGNED_BYTE,this.video)):(this.texture=new i.Texture(o,this.video,c.RGBA),this.texture.bind(c.LINEAR,c.CLAMP_TO_EDGE)),this.tiles){var y=this.tiles[p];"loaded"!==y.state&&(y.state="loaded",y.texture=this.texture)}}},a.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},a.prototype.hasTransition=function(){return this.video&&!this.video.paused},a}(Oe),vt=function(n){function a(o,c,p,y){n.call(this,o,c,p,y),c.coordinates?Array.isArray(c.coordinates)&&4===c.coordinates.length&&!c.coordinates.some(function(_){return!Array.isArray(_)||2!==_.length||_.some(function(Q){return"number"!=typeof Q})})||this.fire(new i.ErrorEvent(new i.ValidationError("sources."+o,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new i.ErrorEvent(new i.ValidationError("sources."+o,null,'missing required property "coordinates"'))),c.animate&&"boolean"!=typeof c.animate&&this.fire(new i.ErrorEvent(new i.ValidationError("sources."+o,null,'optional "animate" property must be a boolean value'))),c.canvas?"string"==typeof c.canvas||c.canvas instanceof i.window.HTMLCanvasElement||this.fire(new i.ErrorEvent(new i.ValidationError("sources."+o,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new i.ErrorEvent(new i.ValidationError("sources."+o,null,'missing required property "canvas"'))),this.options=c,this.animate=void 0===c.animate||c.animate}return n&&(a.__proto__=n),(a.prototype=Object.create(n&&n.prototype)).constructor=a,a.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof i.window.HTMLCanvasElement?this.options.canvas:i.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new i.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},a.prototype.getCanvas=function(){return this.canvas},a.prototype.onAdd=function(o){this.map=o,this.load(),this.canvas&&this.animate&&this.play()},a.prototype.onRemove=function(){this.pause()},a.prototype.prepare=function(){var o=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,o=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,o=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var c=this.map.painter.context,p=c.gl;for(var y in this.boundsBuffer||(this.boundsBuffer=c.createVertexBuffer(this._boundsArray,tr.members)),this.boundsSegments||(this.boundsSegments=i.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(o||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new i.Texture(c,this.canvas,p.RGBA,{premultiply:!0}),this.tiles){var _=this.tiles[y];"loaded"!==_.state&&(_.state="loaded",_.texture=this.texture)}}},a.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},a.prototype.hasTransition=function(){return this._playing},a.prototype._hasInvalidDimensions=function(){for(var o=0,c=[this.canvas.width,this.canvas.height];o<c.length;o+=1){var p=c[o];if(isNaN(p)||p<=0)return!0}return!1},a}(Oe),je={vector:xt,raster:Xe,"raster-dem":jt,geojson:At,video:ct,image:Oe,canvas:vt};function fr(n,a){var o=i.identity([]);return i.translate(o,o,[1,1,0]),i.scale(o,o,[.5*n.width,.5*n.height,1]),i.multiply(o,o,n.calculatePosMatrix(a.toUnwrapped()))}function dr(n,a,o,c,p,y){var _=function(be,oe,_e){if(be)for(var Qe=0,Me=be;Qe<Me.length;Qe+=1){var et=oe[Me[Qe]];if(et&&et.source===_e&&"fill-extrusion"===et.type)return!0}else for(var Ze in oe){var it=oe[Ze];if(it.source===_e&&"fill-extrusion"===it.type)return!0}return!1}(p&&p.layers,a,n.id),Q=y.maxPitchScaleFactor(),O=n.tilesIn(c,Q,_);O.sort(Fr);for(var X=[],J=0,$=O;J<$.length;J+=1){var te=$[J];X.push({wrappedTileID:te.tileID.wrapped().key,queryResults:te.tile.queryRenderedFeatures(a,o,n._state,te.queryGeometry,te.cameraQueryGeometry,te.scale,p,y,Q,fr(n.transform,te.tileID))})}var le=function(be){for(var oe={},_e={},Qe=0,Me=be;Qe<Me.length;Qe+=1){var et=Me[Qe],Ze=et.queryResults,it=et.wrappedTileID,ft=_e[it]=_e[it]||{};for(var Bt in Ze)for(var wt=Ze[Bt],Pt=ft[Bt]=ft[Bt]||{},qt=oe[Bt]=oe[Bt]||[],Jt=0,$t=wt;Jt<$t.length;Jt+=1){var Ur=$t[Jt];Pt[Ur.featureIndex]||(Pt[Ur.featureIndex]=!0,qt.push(Ur))}}return oe}(X);for(var se in le)le[se].forEach(function(be){var oe=be.feature,_e=n.getFeatureState(oe.layer["source-layer"],oe.id);oe.source=oe.layer.source,oe.layer["source-layer"]&&(oe.sourceLayer=oe.layer["source-layer"]),oe.state=_e});return le}function Fr(n,a){var o=n.tileID,c=a.tileID;return o.overscaledZ-c.overscaledZ||o.canonical.y-c.canonical.y||o.wrap-c.wrap||o.canonical.x-c.canonical.x}var Nt=function(n,a){this.max=n,this.onRemove=a,this.reset()};Nt.prototype.reset=function(){for(var n in this.data)for(var a=0,o=this.data[n];a<o.length;a+=1){var c=o[a];c.timeout&&clearTimeout(c.timeout),this.onRemove(c.value)}return this.data={},this.order=[],this},Nt.prototype.add=function(n,a,o){var c=this,p=n.wrapped().key;void 0===this.data[p]&&(this.data[p]=[]);var y={value:a,timeout:void 0};if(void 0!==o&&(y.timeout=setTimeout(function(){c.remove(n,y)},o)),this.data[p].push(y),this.order.push(p),this.order.length>this.max){var _=this._getAndRemoveByKey(this.order[0]);_&&this.onRemove(_)}return this},Nt.prototype.has=function(n){return n.wrapped().key in this.data},Nt.prototype.getAndRemove=function(n){return this.has(n)?this._getAndRemoveByKey(n.wrapped().key):null},Nt.prototype._getAndRemoveByKey=function(n){var a=this.data[n].shift();return a.timeout&&clearTimeout(a.timeout),0===this.data[n].length&&delete this.data[n],this.order.splice(this.order.indexOf(n),1),a.value},Nt.prototype.getByKey=function(n){var a=this.data[n];return a?a[0].value:null},Nt.prototype.get=function(n){return this.has(n)?this.data[n.wrapped().key][0].value:null},Nt.prototype.remove=function(n,a){if(!this.has(n))return this;var o=n.wrapped().key,c=void 0===a?0:this.data[o].indexOf(a),p=this.data[o][c];return this.data[o].splice(c,1),p.timeout&&clearTimeout(p.timeout),0===this.data[o].length&&delete this.data[o],this.onRemove(p.value),this.order.splice(this.order.indexOf(o),1),this},Nt.prototype.setMaxSize=function(n){for(this.max=n;this.order.length>this.max;){var a=this._getAndRemoveByKey(this.order[0]);a&&this.onRemove(a)}return this},Nt.prototype.filter=function(n){var a=[];for(var o in this.data)for(var c=0,p=this.data[o];c<p.length;c+=1){var y=p[c];n(y.value)||a.push(y)}for(var _=0,Q=a;_<Q.length;_+=1){var O=Q[_];this.remove(O.value.tileID,O)}};var kt=function(n,a,o){this.context=n;var c=n.gl;this.buffer=c.createBuffer(),this.dynamicDraw=Boolean(o),this.context.unbindVAO(),n.bindElementBuffer.set(this.buffer),c.bufferData(c.ELEMENT_ARRAY_BUFFER,a.arrayBuffer,this.dynamicDraw?c.DYNAMIC_DRAW:c.STATIC_DRAW),this.dynamicDraw||delete a.arrayBuffer};kt.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},kt.prototype.updateData=function(n){var a=this.context.gl;this.context.unbindVAO(),this.bind(),a.bufferSubData(a.ELEMENT_ARRAY_BUFFER,0,n.arrayBuffer)},kt.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var ze={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},_t=function(n,a,o,c){this.length=a.length,this.attributes=o,this.itemSize=a.bytesPerElement,this.dynamicDraw=c,this.context=n;var p=n.gl;this.buffer=p.createBuffer(),n.bindVertexBuffer.set(this.buffer),p.bufferData(p.ARRAY_BUFFER,a.arrayBuffer,this.dynamicDraw?p.DYNAMIC_DRAW:p.STATIC_DRAW),this.dynamicDraw||delete a.arrayBuffer};_t.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},_t.prototype.updateData=function(n){var a=this.context.gl;this.bind(),a.bufferSubData(a.ARRAY_BUFFER,0,n.arrayBuffer)},_t.prototype.enableAttributes=function(n,a){for(var o=0;o<this.attributes.length;o++){var c=a.attributes[this.attributes[o].name];void 0!==c&&n.enableVertexAttribArray(c)}},_t.prototype.setVertexAttribPointers=function(n,a,o){for(var c=0;c<this.attributes.length;c++){var p=this.attributes[c],y=a.attributes[p.name];void 0!==y&&n.vertexAttribPointer(y,p.components,n[ze[p.type]],!1,this.itemSize,p.offset+this.itemSize*(o||0))}},_t.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var fe=function(n){this.gl=n.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};fe.prototype.get=function(){return this.current},fe.prototype.set=function(n){},fe.prototype.getDefault=function(){return this.default},fe.prototype.setDefault=function(){this.set(this.default)};var ye=function(n){function a(){n.apply(this,arguments)}return n&&(a.__proto__=n),(a.prototype=Object.create(n&&n.prototype)).constructor=a,a.prototype.getDefault=function(){return i.Color.transparent},a.prototype.set=function(o){var c=this.current;(o.r!==c.r||o.g!==c.g||o.b!==c.b||o.a!==c.a||this.dirty)&&(this.gl.clearColor(o.r,o.g,o.b,o.a),this.current=o,this.dirty=!1)},a}(fe),rt=function(n){function a(){n.apply(this,arguments)}return n&&(a.__proto__=n),(a.prototype=Object.create(n&&n.prototype)).constructor=a,a.prototype.getDefault=function(){return 1},a.prototype.set=function(o){(o!==this.current||this.dirty)&&(this.gl.clearDepth(o),this.current=o,this.dirty=!1)},a}(fe),Dt=function(n){function a(){n.apply(this,arguments)}return n&&(a.__proto__=n),(a.prototype=Object.create(n&&n.prototype)).constructor=a,a.prototype.getDefault=function(){return 0},a.prototype.set=function(o){(o!==this.current||this.dirty)&&(this.gl.clearStencil(o),this.current=o,this.dirty=!1)},a}(fe),Wt=function(n){function a(){n.apply(this,arguments)}return n&&(a.__proto__=n),(a.prototype=Object.create(n&&n.prototype)).constructor=a,a.prototype.getDefault=function(){return[!0,!0,!0,!0]},a.prototype.set=function(o){var c=this.current;(o[0]!==c[0]||o[1]!==c[1]||o[2]!==c[2]||o[3]!==c[3]||this.dirty)&&(this.gl.colorMask(o[0],o[1],o[2],o[3]),this.current=o,this.dirty=!1)},a}(fe),Rt=function(n){function a(){n.apply(this,arguments)}return n&&(a.__proto__=n),(a.prototype=Object.create(n&&n.prototype)).constructor=a,a.prototype.getDefault=function(){return!0},a.prototype.set=function(o){(o!==this.current||this.dirty)&&(this.gl.depthMask(o),this.current=o,this.dirty=!1)},a}(fe),Ht=function(n){function a(){n.apply(this,arguments)}return n&&(a.__proto__=n),(a.prototype=Object.create(n&&n.prototype)).constructor=a,a.prototype.getDefault=function(){return 255},a.prototype.set=function(o){(o!==this.current||this.dirty)&&(this.gl.stencilMask(o),this.current=o,this.dirty=!1)},a}(fe),kr=function(n){function a(){n.apply(this,arguments)}return n&&(a.__proto__=n),(a.prototype=Object.create(n&&n.prototype)).constructor=a,a.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},a.prototype.set=function(o){var c=this.current;(o.func!==c.func||o.ref!==c.ref||o.mask!==c.mask||this.dirty)&&(this.gl.stencilFunc(o.func,o.ref,o.mask),this.current=o,this.dirty=!1)},a}(fe),Br=function(n){function a(){n.apply(this,arguments)}return n&&(a.__proto__=n),(a.prototype=Object.create(n&&n.prototype)).constructor=a,a.prototype.getDefault=function(){var o=this.gl;return[o.KEEP,o.KEEP,o.KEEP]},a.prototype.set=function(o){var c=this.current;(o[0]!==c[0]||o[1]!==c[1]||o[2]!==c[2]||this.dirty)&&(this.gl.stencilOp(o[0],o[1],o[2]),this.current=o,this.dirty=!1)},a}(fe),Mr=function(n){function a(){n.apply(this,arguments)}return n&&(a.__proto__=n),(a.prototype=Object.create(n&&n.prototype)).constructor=a,a.prototype.getDefault=function(){return!1},a.prototype.set=function(o){if(o!==this.current||this.dirty){var c=this.gl;o?c.enable(c.STENCIL_TEST):c.disable(c.STENCIL_TEST),this.current=o,this.dirty=!1}},a}(fe),jr=function(n){function a(){n.apply(this,arguments)}return n&&(a.__proto__=n),(a.prototype=Object.create(n&&n.prototype)).constructor=a,a.prototype.getDefault=function(){return[0,1]},a.prototype.set=function(o){var c=this.current;(o[0]!==c[0]||o[1]!==c[1]||this.dirty)&&(this.gl.depthRange(o[0],o[1]),this.current=o,this.dirty=!1)},a}(fe),vr=function(n){function a(){n.apply(this,arguments)}return n&&(a.__proto__=n),(a.prototype=Object.create(n&&n.prototype)).constructor=a,a.prototype.getDefault=function(){return!1},a.prototype.set=function(o){if(o!==this.current||this.dirty){var c=this.gl;o?c.enable(c.DEPTH_TEST):c.disable(c.DEPTH_TEST),this.current=o,this.dirty=!1}},a}(fe),Qt=function(n){function a(){n.apply(this,arguments)}return n&&(a.__proto__=n),(a.prototype=Object.create(n&&n.prototype)).constructor=a,a.prototype.getDefault=function(){return this.gl.LESS},a.prototype.set=function(o){(o!==this.current||this.dirty)&&(this.gl.depthFunc(o),this.current=o,this.dirty=!1)},a}(fe),It=function(n){function a(){n.apply(this,arguments)}return n&&(a.__proto__=n),(a.prototype=Object.create(n&&n.prototype)).constructor=a,a.prototype.getDefault=function(){return!1},a.prototype.set=function(o){if(o!==this.current||this.dirty){var c=this.gl;o?c.enable(c.BLEND):c.disable(c.BLEND),this.current=o,this.dirty=!1}},a}(fe),ar=function(n){function a(){n.apply(this,arguments)}return n&&(a.__proto__=n),(a.prototype=Object.create(n&&n.prototype)).constructor=a,a.prototype.getDefault=function(){var o=this.gl;return[o.ONE,o.ZERO]},a.prototype.set=function(o){var c=this.current;(o[0]!==c[0]||o[1]!==c[1]||this.dirty)&&(this.gl.blendFunc(o[0],o[1]),this.current=o,this.dirty=!1)},a}(fe),ir=function(n){function a(){n.apply(this,arguments)}return n&&(a.__proto__=n),(a.prototype=Object.create(n&&n.prototype)).constructor=a,a.prototype.getDefault=function(){return i.Color.transparent},a.prototype.set=function(o){var c=this.current;(o.r!==c.r||o.g!==c.g||o.b!==c.b||o.a!==c.a||this.dirty)&&(this.gl.blendColor(o.r,o.g,o.b,o.a),this.current=o,this.dirty=!1)},a}(fe),gr=function(n){function a(){n.apply(this,arguments)}return n&&(a.__proto__=n),(a.prototype=Object.create(n&&n.prototype)).constructor=a,a.prototype.getDefault=function(){return this.gl.FUNC_ADD},a.prototype.set=function(o){(o!==this.current||this.dirty)&&(this.gl.blendEquation(o),this.current=o,this.dirty=!1)},a}(fe),Lr=function(n){function a(){n.apply(this,arguments)}return n&&(a.__proto__=n),(a.prototype=Object.create(n&&n.prototype)).constructor=a,a.prototype.getDefault=function(){return!1},a.prototype.set=function(o){if(o!==this.current||this.dirty){var c=this.gl;o?c.enable(c.CULL_FACE):c.disable(c.CULL_FACE),this.current=o,this.dirty=!1}},a}(fe),an=function(n){function a(){n.apply(this,arguments)}return n&&(a.__proto__=n),(a.prototype=Object.create(n&&n.prototype)).constructor=a,a.prototype.getDefault=function(){return this.gl.BACK},a.prototype.set=function(o){(o!==this.current||this.dirty)&&(this.gl.cullFace(o),this.current=o,this.dirty=!1)},a}(fe),$r=function(n){function a(){n.apply(this,arguments)}return n&&(a.__proto__=n),(a.prototype=Object.create(n&&n.prototype)).constructor=a,a.prototype.getDefault=function(){return this.gl.CCW},a.prototype.set=function(o){(o!==this.current||this.dirty)&&(this.gl.frontFace(o),this.current=o,this.dirty=!1)},a}(fe),qr=function(n){function a(){n.apply(this,arguments)}return n&&(a.__proto__=n),(a.prototype=Object.create(n&&n.prototype)).constructor=a,a.prototype.getDefault=function(){return null},a.prototype.set=function(o){(o!==this.current||this.dirty)&&(this.gl.useProgram(o),this.current=o,this.dirty=!1)},a}(fe),en=function(n){function a(){n.apply(this,arguments)}return n&&(a.__proto__=n),(a.prototype=Object.create(n&&n.prototype)).constructor=a,a.prototype.getDefault=function(){return this.gl.TEXTURE0},a.prototype.set=function(o){(o!==this.current||this.dirty)&&(this.gl.activeTexture(o),this.current=o,this.dirty=!1)},a}(fe),fn=function(n){function a(){n.apply(this,arguments)}return n&&(a.__proto__=n),(a.prototype=Object.create(n&&n.prototype)).constructor=a,a.prototype.getDefault=function(){var o=this.gl;return[0,0,o.drawingBufferWidth,o.drawingBufferHeight]},a.prototype.set=function(o){var c=this.current;(o[0]!==c[0]||o[1]!==c[1]||o[2]!==c[2]||o[3]!==c[3]||this.dirty)&&(this.gl.viewport(o[0],o[1],o[2],o[3]),this.current=o,this.dirty=!1)},a}(fe),Pn=function(n){function a(){n.apply(this,arguments)}return n&&(a.__proto__=n),(a.prototype=Object.create(n&&n.prototype)).constructor=a,a.prototype.getDefault=function(){return null},a.prototype.set=function(o){if(o!==this.current||this.dirty){var c=this.gl;c.bindFramebuffer(c.FRAMEBUFFER,o),this.current=o,this.dirty=!1}},a}(fe),Rr=function(n){function a(){n.apply(this,arguments)}return n&&(a.__proto__=n),(a.prototype=Object.create(n&&n.prototype)).constructor=a,a.prototype.getDefault=function(){return null},a.prototype.set=function(o){if(o!==this.current||this.dirty){var c=this.gl;c.bindRenderbuffer(c.RENDERBUFFER,o),this.current=o,this.dirty=!1}},a}(fe),tn=function(n){function a(){n.apply(this,arguments)}return n&&(a.__proto__=n),(a.prototype=Object.create(n&&n.prototype)).constructor=a,a.prototype.getDefault=function(){return null},a.prototype.set=function(o){if(o!==this.current||this.dirty){var c=this.gl;c.bindTexture(c.TEXTURE_2D,o),this.current=o,this.dirty=!1}},a}(fe),zr=function(n){function a(){n.apply(this,arguments)}return n&&(a.__proto__=n),(a.prototype=Object.create(n&&n.prototype)).constructor=a,a.prototype.getDefault=function(){return null},a.prototype.set=function(o){if(o!==this.current||this.dirty){var c=this.gl;c.bindBuffer(c.ARRAY_BUFFER,o),this.current=o,this.dirty=!1}},a}(fe),si=function(n){function a(){n.apply(this,arguments)}return n&&(a.__proto__=n),(a.prototype=Object.create(n&&n.prototype)).constructor=a,a.prototype.getDefault=function(){return null},a.prototype.set=function(o){var c=this.gl;c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,o),this.current=o,this.dirty=!1},a}(fe),Vn=function(n){function a(o){n.call(this,o),this.vao=o.extVertexArrayObject}return n&&(a.__proto__=n),(a.prototype=Object.create(n&&n.prototype)).constructor=a,a.prototype.getDefault=function(){return null},a.prototype.set=function(o){this.vao&&(o!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(o),this.current=o,this.dirty=!1)},a}(fe),pn=function(n){function a(){n.apply(this,arguments)}return n&&(a.__proto__=n),(a.prototype=Object.create(n&&n.prototype)).constructor=a,a.prototype.getDefault=function(){return 4},a.prototype.set=function(o){if(o!==this.current||this.dirty){var c=this.gl;c.pixelStorei(c.UNPACK_ALIGNMENT,o),this.current=o,this.dirty=!1}},a}(fe),En=function(n){function a(){n.apply(this,arguments)}return n&&(a.__proto__=n),(a.prototype=Object.create(n&&n.prototype)).constructor=a,a.prototype.getDefault=function(){return!1},a.prototype.set=function(o){if(o!==this.current||this.dirty){var c=this.gl;c.pixelStorei(c.UNPACK_PREMULTIPLY_ALPHA_WEBGL,o),this.current=o,this.dirty=!1}},a}(fe),Ar=function(n){function a(){n.apply(this,arguments)}return n&&(a.__proto__=n),(a.prototype=Object.create(n&&n.prototype)).constructor=a,a.prototype.getDefault=function(){return!1},a.prototype.set=function(o){if(o!==this.current||this.dirty){var c=this.gl;c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,o),this.current=o,this.dirty=!1}},a}(fe),cn=function(n){function a(o,c){n.call(this,o),this.context=o,this.parent=c}return n&&(a.__proto__=n),(a.prototype=Object.create(n&&n.prototype)).constructor=a,a.prototype.getDefault=function(){return null},a}(fe),G=function(n){function a(){n.apply(this,arguments)}return n&&(a.__proto__=n),(a.prototype=Object.create(n&&n.prototype)).constructor=a,a.prototype.setDirty=function(){this.dirty=!0},a.prototype.set=function(o){if(o!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var c=this.gl;c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,o,0),this.current=o,this.dirty=!1}},a}(cn),Y=function(n){function a(){n.apply(this,arguments)}return n&&(a.__proto__=n),(a.prototype=Object.create(n&&n.prototype)).constructor=a,a.prototype.set=function(o){if(o!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var c=this.gl;c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_ATTACHMENT,c.RENDERBUFFER,o),this.current=o,this.dirty=!1}},a}(cn),Z=function(n,a,o,c){this.context=n,this.width=a,this.height=o;var p=this.framebuffer=n.gl.createFramebuffer();this.colorAttachment=new G(n,p),c&&(this.depthAttachment=new Y(n,p))};Z.prototype.destroy=function(){var n=this.context.gl,a=this.colorAttachment.get();if(a&&n.deleteTexture(a),this.depthAttachment){var o=this.depthAttachment.get();o&&n.deleteRenderbuffer(o)}n.deleteFramebuffer(this.framebuffer)};var re=function(n,a,o){this.func=n,this.mask=a,this.range=o};re.ReadOnly=!1,re.ReadWrite=!0,re.disabled=new re(519,re.ReadOnly,[0,1]);var ae=function(n,a,o,c,p,y){this.test=n,this.ref=a,this.mask=o,this.fail=c,this.depthFail=p,this.pass=y};ae.disabled=new ae({func:519,mask:0},0,0,7680,7680,7680);var we=function(n,a,o){this.blendFunction=n,this.blendColor=a,this.mask=o};we.disabled=new we(we.Replace=[1,0],i.Color.transparent,[!1,!1,!1,!1]),we.unblended=new we(we.Replace,i.Color.transparent,[!0,!0,!0,!0]),we.alphaBlended=new we([1,771],i.Color.transparent,[!0,!0,!0,!0]);var Ce=function(n,a,o){this.enable=n,this.mode=a,this.frontFace=o};Ce.disabled=new Ce(!1,1029,2305),Ce.backCCW=new Ce(!0,1029,2305);var ee=function(n){this.gl=n,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new ye(this),this.clearDepth=new rt(this),this.clearStencil=new Dt(this),this.colorMask=new Wt(this),this.depthMask=new Rt(this),this.stencilMask=new Ht(this),this.stencilFunc=new kr(this),this.stencilOp=new Br(this),this.stencilTest=new Mr(this),this.depthRange=new jr(this),this.depthTest=new vr(this),this.depthFunc=new Qt(this),this.blend=new It(this),this.blendFunc=new ar(this),this.blendColor=new ir(this),this.blendEquation=new gr(this),this.cullFace=new Lr(this),this.cullFaceSide=new an(this),this.frontFace=new $r(this),this.program=new qr(this),this.activeTexture=new en(this),this.viewport=new fn(this),this.bindFramebuffer=new Pn(this),this.bindRenderbuffer=new Rr(this),this.bindTexture=new tn(this),this.bindVertexBuffer=new zr(this),this.bindElementBuffer=new si(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new Vn(this),this.pixelStoreUnpack=new pn(this),this.pixelStoreUnpackPremultiplyAlpha=new En(this),this.pixelStoreUnpackFlipY=new Ar(this),this.extTextureFilterAnisotropic=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=n.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=n.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(n.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=n.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=n.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=n.getParameter(n.MAX_TEXTURE_SIZE)};ee.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},ee.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},ee.prototype.createIndexBuffer=function(n,a){return new kt(this,n,a)},ee.prototype.createVertexBuffer=function(n,a,o){return new _t(this,n,a,o)},ee.prototype.createRenderbuffer=function(n,a,o){var c=this.gl,p=c.createRenderbuffer();return this.bindRenderbuffer.set(p),c.renderbufferStorage(c.RENDERBUFFER,n,a,o),this.bindRenderbuffer.set(null),p},ee.prototype.createFramebuffer=function(n,a,o){return new Z(this,n,a,o)},ee.prototype.clear=function(n){var a=n.color,o=n.depth,c=this.gl,p=0;a&&(p|=c.COLOR_BUFFER_BIT,this.clearColor.set(a),this.colorMask.set([!0,!0,!0,!0])),void 0!==o&&(p|=c.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(o),this.depthMask.set(!0)),c.clear(p)},ee.prototype.setCullFace=function(n){!1===n.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(n.mode),this.frontFace.set(n.frontFace))},ee.prototype.setDepthMode=function(n){n.func!==this.gl.ALWAYS||n.mask?(this.depthTest.set(!0),this.depthFunc.set(n.func),this.depthMask.set(n.mask),this.depthRange.set(n.range)):this.depthTest.set(!1)},ee.prototype.setStencilMode=function(n){n.test.func!==this.gl.ALWAYS||n.mask?(this.stencilTest.set(!0),this.stencilMask.set(n.mask),this.stencilOp.set([n.fail,n.depthFail,n.pass]),this.stencilFunc.set({func:n.test.func,ref:n.ref,mask:n.test.mask})):this.stencilTest.set(!1)},ee.prototype.setColorMode=function(n){i.deepEqual(n.blendFunction,we.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(n.blendFunction),this.blendColor.set(n.blendColor)),this.colorMask.set(n.mask)},ee.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var ue=function(n){function a(o,c,p){var y=this;n.call(this),this.id=o,this.dispatcher=p,this.on("data",function(_){"source"===_.dataType&&"metadata"===_.sourceDataType&&(y._sourceLoaded=!0),y._sourceLoaded&&!y._paused&&"source"===_.dataType&&"content"===_.sourceDataType&&(y.reload(),y.transform&&y.update(y.transform))}),this.on("error",function(){y._sourceErrored=!0}),this._source=function(_,Q,O,X){var J=new je[Q.type](_,Q,O,X);if(J.id!==_)throw new Error("Expected Source id to be "+_+" instead of "+J.id);return i.bindAll(["load","abort","unload","serialize","prepare"],J),J}(o,c,p,this),this._tiles={},this._cache=new Nt(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new i.SourceFeatureState}return n&&(a.__proto__=n),(a.prototype=Object.create(n&&n.prototype)).constructor=a,a.prototype.onAdd=function(o){this.map=o,this._maxTileCacheSize=o?o._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(o)},a.prototype.onRemove=function(o){this._source&&this._source.onRemove&&this._source.onRemove(o)},a.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var o in this._tiles){var c=this._tiles[o];if("loaded"!==c.state&&"errored"!==c.state)return!1}return!0},a.prototype.getSource=function(){return this._source},a.prototype.pause=function(){this._paused=!0},a.prototype.resume=function(){if(this._paused){var o=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,o&&this.reload(),this.transform&&this.update(this.transform)}},a.prototype._loadTile=function(o,c){return this._source.loadTile(o,c)},a.prototype._unloadTile=function(o){if(this._source.unloadTile)return this._source.unloadTile(o,function(){})},a.prototype._abortTile=function(o){if(this._source.abortTile)return this._source.abortTile(o,function(){})},a.prototype.serialize=function(){return this._source.serialize()},a.prototype.prepare=function(o){for(var c in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var p=this._tiles[c];p.upload(o),p.prepare(this.map.style.imageManager)}},a.prototype.getIds=function(){return i.values(this._tiles).map(function(o){return o.tileID}).sort(Le).map(function(o){return o.key})},a.prototype.getRenderableIds=function(o){var c=this,p=[];for(var y in this._tiles)this._isIdRenderable(y,o)&&p.push(this._tiles[y]);return o?p.sort(function(_,Q){var O=_.tileID,X=Q.tileID,J=new i.Point(O.canonical.x,O.canonical.y)._rotate(c.transform.angle),$=new i.Point(X.canonical.x,X.canonical.y)._rotate(c.transform.angle);return O.overscaledZ-X.overscaledZ||$.y-J.y||$.x-J.x}).map(function(_){return _.tileID.key}):p.map(function(_){return _.tileID}).sort(Le).map(function(_){return _.key})},a.prototype.hasRenderableParent=function(o){var c=this.findLoadedParent(o,0);return!!c&&this._isIdRenderable(c.tileID.key)},a.prototype._isIdRenderable=function(o,c){return this._tiles[o]&&this._tiles[o].hasData()&&!this._coveredTiles[o]&&(c||!this._tiles[o].holdingForFade())},a.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var o in this._cache.reset(),this._tiles)"errored"!==this._tiles[o].state&&this._reloadTile(o,"reloading")},a.prototype._reloadTile=function(o,c){var p=this._tiles[o];p&&("loading"!==p.state&&(p.state=c),this._loadTile(p,this._tileLoaded.bind(this,p,o,c)))},a.prototype._tileLoaded=function(o,c,p,y){if(y)return o.state="errored",void(404!==y.status?this._source.fire(new i.ErrorEvent(y,{tile:o})):this.update(this.transform));o.timeAdded=i.browser.now(),"expired"===p&&(o.refreshedUponExpiration=!0),this._setTileReloadTimer(c,o),"raster-dem"===this.getSource().type&&o.dem&&this._backfillDEM(o),this._state.initializeTileState(o,this.map?this.map.painter:null),this._source.fire(new i.Event("data",{dataType:"source",tile:o,coord:o.tileID}))},a.prototype._backfillDEM=function(o){for(var c=this.getRenderableIds(),p=0;p<c.length;p++){var y=c[p];if(o.neighboringTiles&&o.neighboringTiles[y]){var _=this.getTileByID(y);Q(o,_),Q(_,o)}}function Q(O,X){O.needsHillshadePrepare=!0;var J=X.tileID.canonical.x-O.tileID.canonical.x,$=X.tileID.canonical.y-O.tileID.canonical.y,te=Math.pow(2,O.tileID.canonical.z),le=X.tileID.key;0===J&&0===$||Math.abs($)>1||(Math.abs(J)>1&&(1===Math.abs(J+te)?J+=te:1===Math.abs(J-te)&&(J-=te)),X.dem&&O.dem&&(O.dem.backfillBorder(X.dem,J,$),O.neighboringTiles&&O.neighboringTiles[le]&&(O.neighboringTiles[le].backfilled=!0)))}},a.prototype.getTile=function(o){return this.getTileByID(o.key)},a.prototype.getTileByID=function(o){return this._tiles[o]},a.prototype._retainLoadedChildren=function(o,c,p,y){for(var _ in this._tiles){var Q=this._tiles[_];if(!(y[_]||!Q.hasData()||Q.tileID.overscaledZ<=c||Q.tileID.overscaledZ>p)){for(var O=Q.tileID;Q&&Q.tileID.overscaledZ>c+1;){var X=Q.tileID.scaledTo(Q.tileID.overscaledZ-1);(Q=this._tiles[X.key])&&Q.hasData()&&(O=X)}for(var J=O;J.overscaledZ>c;)if(o[(J=J.scaledTo(J.overscaledZ-1)).key]){y[O.key]=O;break}}}},a.prototype.findLoadedParent=function(o,c){if(o.key in this._loadedParentTiles){var p=this._loadedParentTiles[o.key];return p&&p.tileID.overscaledZ>=c?p:null}for(var y=o.overscaledZ-1;y>=c;y--){var _=o.scaledTo(y),Q=this._getLoadedTile(_);if(Q)return Q}},a.prototype._getLoadedTile=function(o){var c=this._tiles[o.key];return c&&c.hasData()?c:this._cache.getByKey(o.wrapped().key)},a.prototype.updateCacheSize=function(o){var c=Math.ceil(o.width/this._source.tileSize)+1,p=Math.ceil(o.height/this._source.tileSize)+1,y=Math.floor(c*p*5),_="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,y):y;this._cache.setMaxSize(_)},a.prototype.handleWrapJump=function(o){var c=Math.round((o-(void 0===this._prevLng?o:this._prevLng))/360);if(this._prevLng=o,c){var p={};for(var y in this._tiles){var _=this._tiles[y];_.tileID=_.tileID.unwrapTo(_.tileID.wrap+c),p[_.tileID.key]=_}for(var Q in this._tiles=p,this._timers)clearTimeout(this._timers[Q]),delete this._timers[Q];for(var O in this._tiles)this._setTileReloadTimer(O,this._tiles[O])}},a.prototype.update=function(o){var c=this;if(this.transform=o,this._sourceLoaded&&!this._paused){var p;this.updateCacheSize(o),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?p=o.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(ft){return new i.OverscaledTileID(ft.canonical.z,ft.wrap,ft.canonical.z,ft.canonical.x,ft.canonical.y)}):(p=o.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(p=p.filter(function(ft){return c._source.hasTile(ft)}))):p=[];var y=o.coveringZoomLevel(this._source),_=Math.max(y-a.maxOverzooming,this._source.minzoom),Q=Math.max(y+a.maxUnderzooming,this._source.minzoom),O=this._updateRetainedTiles(p,y);if(lt(this._source.type)){for(var X={},J={},$=0,te=Object.keys(O);$<te.length;$+=1){var le=te[$],se=O[le],be=this._tiles[le];if(be&&!(be.fadeEndTime&&be.fadeEndTime<=i.browser.now())){var oe=this.findLoadedParent(se,_);oe&&(this._addTile(oe.tileID),X[oe.tileID.key]=oe.tileID),J[le]=se}}for(var _e in this._retainLoadedChildren(J,y,Q,O),X)O[_e]||(this._coveredTiles[_e]=!0,O[_e]=X[_e])}for(var Qe in O)this._tiles[Qe].clearFadeHold();for(var Me=0,et=i.keysDifference(this._tiles,O);Me<et.length;Me+=1){var Ze=et[Me],it=this._tiles[Ze];it.hasSymbolBuckets&&!it.holdingForFade()?it.setHoldDuration(this.map._fadeDuration):it.hasSymbolBuckets&&!it.symbolFadeFinished()||this._removeTile(Ze)}this._updateLoadedParentTileCache()}},a.prototype.releaseSymbolFadeTiles=function(){for(var o in this._tiles)this._tiles[o].holdingForFade()&&this._removeTile(o)},a.prototype._updateRetainedTiles=function(o,c){for(var p={},y={},_=Math.max(c-a.maxOverzooming,this._source.minzoom),Q=Math.max(c+a.maxUnderzooming,this._source.minzoom),O={},X=0,J=o;X<J.length;X+=1){var $=J[X],te=this._addTile($);p[$.key]=$,te.hasData()||c<this._source.maxzoom&&(O[$.key]=$)}this._retainLoadedChildren(O,c,Q,p);for(var le=0,se=o;le<se.length;le+=1){var be=se[le],oe=this._tiles[be.key];if(!oe.hasData()){if(c+1>this._source.maxzoom){var _e=be.children(this._source.maxzoom)[0],Qe=this.getTile(_e);if(Qe&&Qe.hasData()){p[_e.key]=_e;continue}}else{var Me=be.children(this._source.maxzoom);if(p[Me[0].key]&&p[Me[1].key]&&p[Me[2].key]&&p[Me[3].key])continue}for(var et=oe.wasRequested(),Ze=be.overscaledZ-1;Ze>=_;--Ze){var it=be.scaledTo(Ze);if(y[it.key]||(y[it.key]=!0,!(oe=this.getTile(it))&&et&&(oe=this._addTile(it)),oe&&(p[it.key]=it,et=oe.wasRequested(),oe.hasData())))break}}}return p},a.prototype._updateLoadedParentTileCache=function(){for(var o in this._loadedParentTiles={},this._tiles){for(var c=[],p=void 0,y=this._tiles[o].tileID;y.overscaledZ>0;){if(y.key in this._loadedParentTiles){p=this._loadedParentTiles[y.key];break}c.push(y.key);var _=y.scaledTo(y.overscaledZ-1);if(p=this._getLoadedTile(_))break;y=_}for(var Q=0,O=c;Q<O.length;Q+=1)this._loadedParentTiles[O[Q]]=p}},a.prototype._addTile=function(o){var c=this._tiles[o.key];if(c)return c;(c=this._cache.getAndRemove(o))&&(this._setTileReloadTimer(o.key,c),c.tileID=o,this._state.initializeTileState(c,this.map?this.map.painter:null),this._cacheTimers[o.key]&&(clearTimeout(this._cacheTimers[o.key]),delete this._cacheTimers[o.key],this._setTileReloadTimer(o.key,c)));var p=Boolean(c);return p||(c=new i.Tile(o,this._source.tileSize*o.overscaleFactor()),this._loadTile(c,this._tileLoaded.bind(this,c,o.key,c.state))),c?(c.uses++,this._tiles[o.key]=c,p||this._source.fire(new i.Event("dataloading",{tile:c,coord:c.tileID,dataType:"source"})),c):null},a.prototype._setTileReloadTimer=function(o,c){var p=this;o in this._timers&&(clearTimeout(this._timers[o]),delete this._timers[o]);var y=c.getExpiryTimeout();y&&(this._timers[o]=setTimeout(function(){p._reloadTile(o,"expired"),delete p._timers[o]},y))},a.prototype._removeTile=function(o){var c=this._tiles[o];c&&(c.uses--,delete this._tiles[o],this._timers[o]&&(clearTimeout(this._timers[o]),delete this._timers[o]),c.uses>0||(c.hasData()&&"reloading"!==c.state?this._cache.add(c.tileID,c,c.getExpiryTimeout()):(c.aborted=!0,this._abortTile(c),this._unloadTile(c))))},a.prototype.clearTiles=function(){for(var o in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(o);this._cache.reset()},a.prototype.tilesIn=function(o,c,p){var y=this,_=[],Q=this.transform;if(!Q)return _;for(var O=p?Q.getCameraQueryGeometry(o):o,X=o.map(function(Ze){return Q.pointCoordinate(Ze)}),J=O.map(function(Ze){return Q.pointCoordinate(Ze)}),$=this.getIds(),te=1/0,le=1/0,se=-1/0,be=-1/0,oe=0,_e=J;oe<_e.length;oe+=1){var Qe=_e[oe];te=Math.min(te,Qe.x),le=Math.min(le,Qe.y),se=Math.max(se,Qe.x),be=Math.max(be,Qe.y)}for(var Me=function(Ze){var it=y._tiles[$[Ze]];if(!it.holdingForFade()){var ft=it.tileID,Bt=Math.pow(2,Q.zoom-it.tileID.overscaledZ),wt=c*it.queryPadding*i.EXTENT/it.tileSize/Bt,Pt=[ft.getTilePoint(new i.MercatorCoordinate(te,le)),ft.getTilePoint(new i.MercatorCoordinate(se,be))];if(Pt[0].x-wt<i.EXTENT&&Pt[0].y-wt<i.EXTENT&&Pt[1].x+wt>=0&&Pt[1].y+wt>=0){var qt=X.map(function($t){return ft.getTilePoint($t)}),Jt=J.map(function($t){return ft.getTilePoint($t)});_.push({tile:it,tileID:ft,queryGeometry:qt,cameraQueryGeometry:Jt,scale:Bt})}}},et=0;et<$.length;et++)Me(et);return _},a.prototype.getVisibleCoordinates=function(o){for(var c=this,p=this.getRenderableIds(o).map(function(O){return c._tiles[O].tileID}),y=0,_=p;y<_.length;y+=1){var Q=_[y];Q.posMatrix=this.transform.calculatePosMatrix(Q.toUnwrapped())}return p},a.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(lt(this._source.type))for(var o in this._tiles){var c=this._tiles[o];if(void 0!==c.fadeEndTime&&c.fadeEndTime>=i.browser.now())return!0}return!1},a.prototype.setFeatureState=function(o,c,p){this._state.updateState(o=o||"_geojsonTileLayer",c,p)},a.prototype.removeFeatureState=function(o,c,p){this._state.removeFeatureState(o=o||"_geojsonTileLayer",c,p)},a.prototype.getFeatureState=function(o,c){return this._state.getState(o=o||"_geojsonTileLayer",c)},a.prototype.setDependencies=function(o,c,p){var y=this._tiles[o];y&&y.setDependencies(c,p)},a.prototype.reloadTilesForDependencies=function(o,c){for(var p in this._tiles)this._tiles[p].hasDependency(o,c)&&this._reloadTile(p,"reloading");this._cache.filter(function(y){return!y.hasDependency(o,c)})},a}(i.Evented);function Le(n,a){var o=Math.abs(2*n.wrap)-+(n.wrap<0),c=Math.abs(2*a.wrap)-+(a.wrap<0);return n.overscaledZ-a.overscaledZ||c-o||a.canonical.y-n.canonical.y||a.canonical.x-n.canonical.x}function lt(n){return"raster"===n||"image"===n||"video"===n}function mt(){return new i.window.Worker(La.workerUrl)}ue.maxOverzooming=10,ue.maxUnderzooming=3;var Ye="mapboxgl_preloaded_worker_pool",pt=function(){this.active={}};pt.prototype.acquire=function(n){if(!this.workers)for(this.workers=[];this.workers.length<pt.workerCount;)this.workers.push(new mt);return this.active[n]=!0,this.workers.slice()},pt.prototype.release=function(n){delete this.active[n],0===this.numActive()&&(this.workers.forEach(function(a){a.terminate()}),this.workers=null)},pt.prototype.isPreloaded=function(){return!!this.active[Ye]},pt.prototype.numActive=function(){return Object.keys(this.active).length};var Ut,ne=Math.floor(i.browser.hardwareConcurrency/2);function de(){return Ut||(Ut=new pt),Ut}function Ne(n,a){var o={};for(var c in n)"ref"!==c&&(o[c]=n[c]);return i.refProperties.forEach(function(p){p in a&&(o[p]=a[p])}),o}function Ie(n){n=n.slice();for(var a=Object.create(null),o=0;o<n.length;o++)a[n[o].id]=n[o];for(var c=0;c<n.length;c++)"ref"in n[c]&&(n[c]=Ne(n[c],a[n[c].ref]));return n}pt.workerCount=Math.max(Math.min(ne,6),1);var ot={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function He(n,a,o){o.push({command:ot.addSource,args:[n,a[n]]})}function ht(n,a,o){a.push({command:ot.removeSource,args:[n]}),o[n]=!0}function Gt(n,a,o,c){ht(n,o,c),He(n,a,o)}function Zt(n,a,o){var c;for(c in n[o])if(n[o].hasOwnProperty(c)&&"data"!==c&&!i.deepEqual(n[o][c],a[o][c]))return!1;for(c in a[o])if(a[o].hasOwnProperty(c)&&"data"!==c&&!i.deepEqual(n[o][c],a[o][c]))return!1;return!0}function ut(n,a,o,c,p,y){var _;for(_ in a=a||{},n=n||{})n.hasOwnProperty(_)&&(i.deepEqual(n[_],a[_])||o.push({command:y,args:[c,_,a[_],p]}));for(_ in a)a.hasOwnProperty(_)&&!n.hasOwnProperty(_)&&(i.deepEqual(n[_],a[_])||o.push({command:y,args:[c,_,a[_],p]}))}function Xt(n){return n.id}function Et(n,a){return n[a.id]=a,n}var Gr=function(n,a){this.reset(n,a)};Gr.prototype.reset=function(n,a){this.points=n||[],this._distances=[0];for(var o=1;o<this.points.length;o++)this._distances[o]=this._distances[o-1]+this.points[o].dist(this.points[o-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(a||0,.5*this.length),this.paddedLength=this.length-2*this.padding},Gr.prototype.lerp=function(n){if(1===this.points.length)return this.points[0];n=i.clamp(n,0,1);for(var a=1,o=this._distances[a],c=n*this.paddedLength+this.padding;o<c&&a<this._distances.length;)o=this._distances[++a];var p=a-1,y=this._distances[p],_=o-y,Q=_>0?(c-y)/_:0;return this.points[p].mult(1-Q).add(this.points[a].mult(Q))};var Dr=function(n,a,o){var c=this.boxCells=[],p=this.circleCells=[];this.xCellCount=Math.ceil(n/o),this.yCellCount=Math.ceil(a/o);for(var y=0;y<this.xCellCount*this.yCellCount;y++)c.push([]),p.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=n,this.height=a,this.xScale=this.xCellCount/n,this.yScale=this.yCellCount/a,this.boxUid=0,this.circleUid=0};function An(n,a,o,c,p){var y=i.create();return a?(i.scale(y,y,[1/p,1/p,1]),o||i.rotateZ(y,y,c.angle)):i.multiply(y,c.labelPlaneMatrix,n),y}function Sr(n,a,o,c,p){if(a){var y=i.clone(n);return i.scale(y,y,[p,p,1]),o||i.rotateZ(y,y,-c.angle),y}return c.glCoordMatrix}function br(n,a){var o=[n.x,n.y,0,1];Ln(o,o,a);var c=o[3];return{point:new i.Point(o[0]/c,o[1]/c),signedDistanceFromCamera:c}}function wr(n,a){return.5+n/a*.5}function Kr(n,a){var o=n[0]/n[3],c=n[1]/n[3];return o>=-a[0]&&o<=a[0]&&c>=-a[1]&&c<=a[1]}function jo(n,a,o,c,p,y,_,Q){var O=c?n.textSizeData:n.iconSizeData,X=i.evaluateSizeForZoom(O,o.transform.zoom),J=[256/o.width*2+1,256/o.height*2+1],$=c?n.text.dynamicLayoutVertexArray:n.icon.dynamicLayoutVertexArray;$.clear();for(var te=n.lineVertexArray,le=c?n.text.placedSymbolArray:n.icon.placedSymbolArray,se=o.transform.width/o.transform.height,be=!1,oe=0;oe<le.length;oe++){var _e=le.get(oe);if(_e.hidden||_e.writingMode===i.WritingMode.vertical&&!be)ri(_e.numGlyphs,$);else{be=!1;var Qe=[_e.anchorX,_e.anchorY,0,1];if(i.transformMat4(Qe,Qe,a),Kr(Qe,J)){var Me=wr(o.transform.cameraToCenterDistance,Qe[3]),et=i.evaluateSizeForFeature(O,X,_e),Ze=_?et/Me:et*Me,it=new i.Point(_e.anchorX,_e.anchorY),ft=br(it,p).point,Bt={},wt=wa(_e,Ze,!1,Q,a,p,y,n.glyphOffsetArray,te,$,ft,it,Bt,se);be=wt.useVertical,(wt.notEnoughRoom||be||wt.needsFlipping&&wa(_e,Ze,!0,Q,a,p,y,n.glyphOffsetArray,te,$,ft,it,Bt,se).notEnoughRoom)&&ri(_e.numGlyphs,$)}else ri(_e.numGlyphs,$)}}c?n.text.dynamicLayoutVertexBuffer.updateData($):n.icon.dynamicLayoutVertexBuffer.updateData($)}function Sn(n,a,o,c,p,y,_,Q,O,X,J){var $=Q.glyphStartIndex+Q.numGlyphs,te=Q.lineStartIndex,le=Q.lineStartIndex+Q.lineLength,se=a.getoffsetX(Q.glyphStartIndex),be=a.getoffsetX($-1),oe=mr(n*se,o,c,p,y,_,Q.segment,te,le,O,X,J);if(!oe)return null;var _e=mr(n*be,o,c,p,y,_,Q.segment,te,le,O,X,J);return _e?{first:oe,last:_e}:null}function rn(n,a,o,c){return n===i.WritingMode.horizontal&&Math.abs(o.y-a.y)>Math.abs(o.x-a.x)*c?{useVertical:!0}:(n===i.WritingMode.vertical?a.y<o.y:a.x>o.x)?{needsFlipping:!0}:null}function wa(n,a,o,c,p,y,_,Q,O,X,J,$,te,le){var se,be=a/24,oe=n.lineOffsetX*be,_e=n.lineOffsetY*be;if(n.numGlyphs>1){var Qe=n.glyphStartIndex+n.numGlyphs,Me=n.lineStartIndex,et=n.lineStartIndex+n.lineLength,Ze=Sn(be,Q,oe,_e,o,J,$,n,O,y,te);if(!Ze)return{notEnoughRoom:!0};var it=br(Ze.first.point,_).point,ft=br(Ze.last.point,_).point;if(c&&!o){var Bt=rn(n.writingMode,it,ft,le);if(Bt)return Bt}se=[Ze.first];for(var wt=n.glyphStartIndex+1;wt<Qe-1;wt++)se.push(mr(be*Q.getoffsetX(wt),oe,_e,o,J,$,n.segment,Me,et,O,y,te));se.push(Ze.last)}else{if(c&&!o){var Pt=br($,p).point,qt=n.lineStartIndex+n.segment+1,Jt=new i.Point(O.getx(qt),O.gety(qt)),$t=br(Jt,p),Ur=$t.signedDistanceFromCamera>0?$t.point:Wi($,Jt,Pt,1,p),Lt=rn(n.writingMode,Pt,Ur,le);if(Lt)return Lt}var pr=mr(be*Q.getoffsetX(n.glyphStartIndex),oe,_e,o,J,$,n.segment,n.lineStartIndex,n.lineStartIndex+n.lineLength,O,y,te);if(!pr)return{notEnoughRoom:!0};se=[pr]}for(var _r=0,hr=se;_r<hr.length;_r+=1){var ur=hr[_r];i.addDynamicAttributes(X,ur.point,ur.angle)}return{}}function Wi(n,a,o,c,p){var y=br(n.add(n.sub(a)._unit()),p).point,_=o.sub(y);return o.add(_._mult(c/_.mag()))}function mr(n,a,o,c,p,y,_,Q,O,X,J,$){var te=c?n-a:n+a,le=te>0?1:-1,se=0;c&&(le*=-1,se=Math.PI),le<0&&(se+=Math.PI);for(var be=le>0?Q+_:Q+_+1,oe=p,_e=p,Qe=0,Me=0,et=Math.abs(te),Ze=[];Qe+Me<=et;){if((be+=le)<Q||be>=O)return null;if(_e=oe,Ze.push(oe),void 0===(oe=$[be])){var it=new i.Point(X.getx(be),X.gety(be)),ft=br(it,J);if(ft.signedDistanceFromCamera>0)oe=$[be]=ft.point;else{var Bt=be-le;oe=Wi(0===Qe?y:new i.Point(X.getx(Bt),X.gety(Bt)),it,_e,et-Qe+1,J)}}Qe+=Me,Me=_e.dist(oe)}var wt=(et-Qe)/Me,Pt=oe.sub(_e),qt=Pt.mult(wt)._add(_e);qt._add(Pt._unit()._perp()._mult(o*le));var Jt=se+Math.atan2(oe.y-_e.y,oe.x-_e.x);return Ze.push(qt),{point:qt,angle:Jt,path:Ze}}Dr.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Dr.prototype.insert=function(n,a,o,c,p){this._forEachCell(a,o,c,p,this._insertBoxCell,this.boxUid++),this.boxKeys.push(n),this.bboxes.push(a),this.bboxes.push(o),this.bboxes.push(c),this.bboxes.push(p)},Dr.prototype.insertCircle=function(n,a,o,c){this._forEachCell(a-c,o-c,a+c,o+c,this._insertCircleCell,this.circleUid++),this.circleKeys.push(n),this.circles.push(a),this.circles.push(o),this.circles.push(c)},Dr.prototype._insertBoxCell=function(n,a,o,c,p,y){this.boxCells[p].push(y)},Dr.prototype._insertCircleCell=function(n,a,o,c,p,y){this.circleCells[p].push(y)},Dr.prototype._query=function(n,a,o,c,p,y){if(o<0||n>this.width||c<0||a>this.height)return!p&&[];var _=[];if(n<=0&&a<=0&&this.width<=o&&this.height<=c){if(p)return!0;for(var Q=0;Q<this.boxKeys.length;Q++)_.push({key:this.boxKeys[Q],x1:this.bboxes[4*Q],y1:this.bboxes[4*Q+1],x2:this.bboxes[4*Q+2],y2:this.bboxes[4*Q+3]});for(var O=0;O<this.circleKeys.length;O++){var X=this.circles[3*O],J=this.circles[3*O+1],$=this.circles[3*O+2];_.push({key:this.circleKeys[O],x1:X-$,y1:J-$,x2:X+$,y2:J+$})}return y?_.filter(y):_}return this._forEachCell(n,a,o,c,this._queryCell,_,{hitTest:p,seenUids:{box:{},circle:{}}},y),p?_.length>0:_},Dr.prototype._queryCircle=function(n,a,o,c,p){var y=n-o,_=n+o,Q=a-o,O=a+o;if(_<0||y>this.width||O<0||Q>this.height)return!c&&[];var X=[];return this._forEachCell(y,Q,_,O,this._queryCellCircle,X,{hitTest:c,circle:{x:n,y:a,radius:o},seenUids:{box:{},circle:{}}},p),c?X.length>0:X},Dr.prototype.query=function(n,a,o,c,p){return this._query(n,a,o,c,!1,p)},Dr.prototype.hitTest=function(n,a,o,c,p){return this._query(n,a,o,c,!0,p)},Dr.prototype.hitTestCircle=function(n,a,o,c){return this._queryCircle(n,a,o,!0,c)},Dr.prototype._queryCell=function(n,a,o,c,p,y,_,Q){var O=_.seenUids,X=this.boxCells[p];if(null!==X)for(var J=this.bboxes,$=0,te=X;$<te.length;$+=1){var le=te[$];if(!O.box[le]){O.box[le]=!0;var se=4*le;if(n<=J[se+2]&&a<=J[se+3]&&o>=J[se+0]&&c>=J[se+1]&&(!Q||Q(this.boxKeys[le]))){if(_.hitTest)return y.push(!0),!0;y.push({key:this.boxKeys[le],x1:J[se],y1:J[se+1],x2:J[se+2],y2:J[se+3]})}}}var be=this.circleCells[p];if(null!==be)for(var oe=this.circles,_e=0,Qe=be;_e<Qe.length;_e+=1){var Me=Qe[_e];if(!O.circle[Me]){O.circle[Me]=!0;var et=3*Me;if(this._circleAndRectCollide(oe[et],oe[et+1],oe[et+2],n,a,o,c)&&(!Q||Q(this.circleKeys[Me]))){if(_.hitTest)return y.push(!0),!0;var Ze=oe[et],it=oe[et+1],ft=oe[et+2];y.push({key:this.circleKeys[Me],x1:Ze-ft,y1:it-ft,x2:Ze+ft,y2:it+ft})}}}},Dr.prototype._queryCellCircle=function(n,a,o,c,p,y,_,Q){var O=_.circle,X=_.seenUids,J=this.boxCells[p];if(null!==J)for(var $=this.bboxes,te=0,le=J;te<le.length;te+=1){var se=le[te];if(!X.box[se]){X.box[se]=!0;var be=4*se;if(this._circleAndRectCollide(O.x,O.y,O.radius,$[be+0],$[be+1],$[be+2],$[be+3])&&(!Q||Q(this.boxKeys[se])))return y.push(!0),!0}}var oe=this.circleCells[p];if(null!==oe)for(var _e=this.circles,Qe=0,Me=oe;Qe<Me.length;Qe+=1){var et=Me[Qe];if(!X.circle[et]){X.circle[et]=!0;var Ze=3*et;if(this._circlesCollide(_e[Ze],_e[Ze+1],_e[Ze+2],O.x,O.y,O.radius)&&(!Q||Q(this.circleKeys[et])))return y.push(!0),!0}}},Dr.prototype._forEachCell=function(n,a,o,c,p,y,_,Q){for(var O=this._convertToXCellCoord(n),X=this._convertToYCellCoord(a),J=this._convertToXCellCoord(o),$=this._convertToYCellCoord(c),te=O;te<=J;te++)for(var le=X;le<=$;le++)if(p.call(this,n,a,o,c,this.xCellCount*le+te,y,_,Q))return},Dr.prototype._convertToXCellCoord=function(n){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(n*this.xScale)))},Dr.prototype._convertToYCellCoord=function(n){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(n*this.yScale)))},Dr.prototype._circlesCollide=function(n,a,o,c,p,y){var _=c-n,Q=p-a,O=o+y;return O*O>_*_+Q*Q},Dr.prototype._circleAndRectCollide=function(n,a,o,c,p,y,_){var Q=(y-c)/2,O=Math.abs(n-(c+Q));if(O>Q+o)return!1;var X=(_-p)/2,J=Math.abs(a-(p+X));if(J>X+o)return!1;if(O<=Q||J<=X)return!0;var $=O-Q,te=J-X;return $*$+te*te<=o*o};var Fn=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function ri(n,a){for(var o=0;o<n;o++){var c=a.length;a.resize(c+4),a.float32.set(Fn,3*c)}}function Ln(n,a,o){var c=a[0],p=a[1];return n[0]=o[0]*c+o[4]*p+o[12],n[1]=o[1]*c+o[5]*p+o[13],n[3]=o[3]*c+o[7]*p+o[15],n}var Ci=function(n,a,o){void 0===a&&(a=new Dr(n.width+200,n.height+200,25)),void 0===o&&(o=new Dr(n.width+200,n.height+200,25)),this.transform=n,this.grid=a,this.ignoredGrid=o,this.pitchfactor=Math.cos(n._pitch)*n.cameraToCenterDistance,this.screenRightBoundary=n.width+100,this.screenBottomBoundary=n.height+100,this.gridRightBoundary=n.width+200,this.gridBottomBoundary=n.height+200};function nn(n,a,o){return a*(i.EXTENT/(n.tileSize*Math.pow(2,o-n.tileID.overscaledZ)))}Ci.prototype.placeCollisionBox=function(n,a,o,c,p){var y=this.projectAndGetPerspectiveRatio(c,n.anchorPointX,n.anchorPointY),_=o*y.perspectiveRatio,Q=n.x1*_+y.point.x,O=n.y1*_+y.point.y,X=n.x2*_+y.point.x,J=n.y2*_+y.point.y;return!this.isInsideGrid(Q,O,X,J)||!a&&this.grid.hitTest(Q,O,X,J,p)?{box:[],offscreen:!1}:{box:[Q,O,X,J],offscreen:this.isOffscreen(Q,O,X,J)}},Ci.prototype.placeCollisionCircles=function(n,a,o,c,p,y,_,Q,O,X,J,$,te){var le=[],se=new i.Point(a.anchorX,a.anchorY),be=br(se,y),oe=wr(this.transform.cameraToCenterDistance,be.signedDistanceFromCamera),_e=(X?p/oe:p*oe)/i.ONE_EM,Qe=br(se,_).point,Me=Sn(_e,c,a.lineOffsetX*_e,a.lineOffsetY*_e,!1,Qe,se,a,o,_,{}),et=!1,Ze=!1,it=!0;if(Me){for(var ft=.5*$*oe+te,Bt=new i.Point(-100,-100),wt=new i.Point(this.screenRightBoundary,this.screenBottomBoundary),Pt=new Gr,qt=Me.first,Jt=Me.last,$t=[],Ur=qt.path.length-1;Ur>=1;Ur--)$t.push(qt.path[Ur]);for(var Lt=1;Lt<Jt.path.length;Lt++)$t.push(Jt.path[Lt]);var pr=2.5*ft;if(Q){var _r=$t.map(function(Re){return br(Re,Q)});$t=_r.some(function(Re){return Re.signedDistanceFromCamera<=0})?[]:_r.map(function(Re){return Re.point})}var hr=[];if($t.length>0){for(var ur=$t[0].clone(),yr=$t[0].clone(),lr=1;lr<$t.length;lr++)ur.x=Math.min(ur.x,$t[lr].x),ur.y=Math.min(ur.y,$t[lr].y),yr.x=Math.max(yr.x,$t[lr].x),yr.y=Math.max(yr.y,$t[lr].y);hr=ur.x>=Bt.x&&yr.x<=wt.x&&ur.y>=Bt.y&&yr.y<=wt.y?[$t]:yr.x<Bt.x||ur.x>wt.x||yr.y<Bt.y||ur.y>wt.y?[]:i.clipLine([$t],Bt.x,Bt.y,wt.x,wt.y)}for(var or=0,qn=hr;or<qn.length;or+=1){var _n;Pt.reset(qn[or],.25*ft),_n=Pt.length<=.5*ft?1:Math.ceil(Pt.paddedLength/pr)+1;for(var Gn=0;Gn<_n;Gn++){var Jn=Gn/Math.max(_n-1,1),bn=Pt.lerp(Jn),h=bn.x+100,E=bn.y+100;le.push(h,E,ft,0);var D=h-ft,H=E-ft,me=h+ft,ke=E+ft;if(it=it&&this.isOffscreen(D,H,me,ke),Ze=Ze||this.isInsideGrid(D,H,me,ke),!n&&this.grid.hitTestCircle(h,E,ft,J)&&(et=!0,!O))return{circles:[],offscreen:!1,collisionDetected:et}}}}return{circles:!O&&et||!Ze?[]:le,offscreen:it,collisionDetected:et}},Ci.prototype.queryRenderedSymbols=function(n){if(0===n.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};for(var a=[],o=1/0,c=1/0,p=-1/0,y=-1/0,_=0,Q=n;_<Q.length;_+=1){var O=Q[_],X=new i.Point(O.x+100,O.y+100);o=Math.min(o,X.x),c=Math.min(c,X.y),p=Math.max(p,X.x),y=Math.max(y,X.y),a.push(X)}for(var J={},$={},te=0,le=this.grid.query(o,c,p,y).concat(this.ignoredGrid.query(o,c,p,y));te<le.length;te+=1){var se=le[te],be=se.key;if(void 0===J[be.bucketInstanceId]&&(J[be.bucketInstanceId]={}),!J[be.bucketInstanceId][be.featureIndex]){var oe=[new i.Point(se.x1,se.y1),new i.Point(se.x2,se.y1),new i.Point(se.x2,se.y2),new i.Point(se.x1,se.y2)];i.polygonIntersectsPolygon(a,oe)&&(J[be.bucketInstanceId][be.featureIndex]=!0,void 0===$[be.bucketInstanceId]&&($[be.bucketInstanceId]=[]),$[be.bucketInstanceId].push(be.featureIndex))}}return $},Ci.prototype.insertCollisionBox=function(n,a,o,c,p){(a?this.ignoredGrid:this.grid).insert({bucketInstanceId:o,featureIndex:c,collisionGroupID:p},n[0],n[1],n[2],n[3])},Ci.prototype.insertCollisionCircles=function(n,a,o,c,p){for(var y=a?this.ignoredGrid:this.grid,_={bucketInstanceId:o,featureIndex:c,collisionGroupID:p},Q=0;Q<n.length;Q+=4)y.insertCircle(_,n[Q],n[Q+1],n[Q+2])},Ci.prototype.projectAndGetPerspectiveRatio=function(n,a,o){var c=[a,o,0,1];return Ln(c,c,n),{point:new i.Point((c[0]/c[3]+1)/2*this.transform.width+100,(-c[1]/c[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/c[3]*.5}},Ci.prototype.isOffscreen=function(n,a,o,c){return o<100||n>=this.screenRightBoundary||c<100||a>this.screenBottomBoundary},Ci.prototype.isInsideGrid=function(n,a,o,c){return o>=0&&n<this.gridRightBoundary&&c>=0&&a<this.gridBottomBoundary},Ci.prototype.getViewportMatrix=function(){var n=i.identity([]);return i.translate(n,n,[-100,-100,0]),n};var Ui=function(n,a,o,c){this.opacity=n?Math.max(0,Math.min(1,n.opacity+(n.placed?a:-a))):c&&o?1:0,this.placed=o};Ui.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var _i=function(n,a,o,c,p){this.text=new Ui(n?n.text:null,a,o,p),this.icon=new Ui(n?n.icon:null,a,c,p)};_i.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var IA=function(n,a,o){this.text=n,this.icon=a,this.skipFade=o},hi=function(){this.invProjMatrix=i.create(),this.viewportMatrix=i.create(),this.circles=[]},qA=function(n,a,o,c,p){this.bucketInstanceId=n,this.featureIndex=a,this.sourceLayerIndex=o,this.bucketIndex=c,this.tileID=p},Ji=function(n){this.crossSourceCollisions=n,this.maxGroupID=0,this.collisionGroups={}};function Mn(n,a,o,c,p){var y=i.getAnchorAlignment(n),_=-(y.horizontalAlign-.5)*a,Q=-(y.verticalAlign-.5)*o,O=i.evaluateVariableOffset(n,c);return new i.Point(_+O[0]*p,Q+O[1]*p)}function zi(n,a,o,c,p,y){var _=n.x1,Q=n.x2,O=n.y1,X=n.y2,J=n.anchorPointX,$=n.anchorPointY,te=new i.Point(a,o);return c&&te._rotate(p?y:-y),{x1:_+te.x,y1:O+te.y,x2:Q+te.x,y2:X+te.y,anchorPointX:J,anchorPointY:$}}Ji.prototype.get=function(n){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[n]){var a=++this.maxGroupID;this.collisionGroups[n]={ID:a,predicate:function(o){return o.collisionGroupID===a}}}return this.collisionGroups[n]};var ni=function(n,a,o,c){this.transform=n.clone(),this.collisionIndex=new Ci(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=a,this.retainedQueryData={},this.collisionGroups=new Ji(o),this.collisionCircleArrays={},this.prevPlacement=c,c&&(c.prevPlacement=void 0),this.placedOrientations={}};function ko(n,a,o,c,p){n.emplaceBack(a?1:0,o?1:0,c||0,p||0),n.emplaceBack(a?1:0,o?1:0,c||0,p||0),n.emplaceBack(a?1:0,o?1:0,c||0,p||0),n.emplaceBack(a?1:0,o?1:0,c||0,p||0)}ni.prototype.getBucketParts=function(n,a,o,c){var p=o.getBucket(a),y=o.latestFeatureIndex;if(p&&y&&a.id===p.layerIds[0]){var _=o.collisionBoxArray,Q=p.layers[0].layout,O=Math.pow(2,this.transform.zoom-o.tileID.overscaledZ),X=o.tileSize/i.EXTENT,J=this.transform.calculatePosMatrix(o.tileID.toUnwrapped()),$="map"===Q.get("text-pitch-alignment"),te="map"===Q.get("text-rotation-alignment"),le=nn(o,1,this.transform.zoom),se=An(J,$,te,this.transform,le),be=null;if($){var oe=Sr(J,$,te,this.transform,le);be=i.multiply([],this.transform.labelPlaneMatrix,oe)}this.retainedQueryData[p.bucketInstanceId]=new qA(p.bucketInstanceId,y,p.sourceLayerIndex,p.index,o.tileID);var _e={bucket:p,layout:Q,posMatrix:J,textLabelPlaneMatrix:se,labelToScreenMatrix:be,scale:O,textPixelRatio:X,holdingForFade:o.holdingForFade(),collisionBoxArray:_,partiallyEvaluatedTextSize:i.evaluateSizeForZoom(p.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(p.sourceID)};if(c)for(var Qe=0,Me=p.sortKeyRanges;Qe<Me.length;Qe+=1){var et=Me[Qe];n.push({sortKey:et.sortKey,symbolInstanceStart:et.symbolInstanceStart,symbolInstanceEnd:et.symbolInstanceEnd,parameters:_e})}else n.push({symbolInstanceStart:0,symbolInstanceEnd:p.symbolInstances.length,parameters:_e})}},ni.prototype.attemptAnchorPlacement=function(n,a,o,c,p,y,_,Q,O,X,J,$,te,le,se){var be,oe=[$.textOffset0,$.textOffset1],_e=Mn(n,o,c,oe,p),Qe=this.collisionIndex.placeCollisionBox(zi(a,_e.x,_e.y,y,_,this.transform.angle),J,Q,O,X.predicate);if(!se||0!==this.collisionIndex.placeCollisionBox(zi(se,_e.x,_e.y,y,_,this.transform.angle),J,Q,O,X.predicate).box.length)return Qe.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[$.crossTileID]&&this.prevPlacement.placements[$.crossTileID]&&this.prevPlacement.placements[$.crossTileID].text&&(be=this.prevPlacement.variableOffsets[$.crossTileID].anchor),this.variableOffsets[$.crossTileID]={textOffset:oe,width:o,height:c,anchor:n,textBoxScale:p,prevAnchor:be},this.markUsedJustification(te,n,$,le),te.allowVerticalPlacement&&(this.markUsedOrientation(te,le,$),this.placedOrientations[$.crossTileID]=le),{shift:_e,placedGlyphBoxes:Qe}):void 0},ni.prototype.placeLayerBucketPart=function(n,a,o){var c=this,p=n.parameters,y=p.bucket,_=p.layout,Q=p.posMatrix,O=p.textLabelPlaneMatrix,X=p.labelToScreenMatrix,J=p.textPixelRatio,$=p.holdingForFade,te=p.collisionBoxArray,le=p.partiallyEvaluatedTextSize,se=p.collisionGroup,be=_.get("text-optional"),oe=_.get("icon-optional"),_e=_.get("text-allow-overlap"),Qe=_.get("icon-allow-overlap"),Me="map"===_.get("text-rotation-alignment"),et="map"===_.get("text-pitch-alignment"),Ze="none"!==_.get("icon-text-fit"),it="viewport-y"===_.get("symbol-z-order"),ft=_e&&(Qe||!y.hasIconData()||oe),Bt=Qe&&(_e||!y.hasTextData()||be);!y.collisionArrays&&te&&y.deserializeCollisionBoxes(te);var wt=function(Lt,pr){if(!a[Lt.crossTileID])if($)c.placements[Lt.crossTileID]=new IA(!1,!1,!1);else{var _r,hr=!1,ur=!1,yr=!0,lr=null,or={box:null,offscreen:null},qn={box:null,offscreen:null},_n=null,Gn=null,Jn=0,bn=0,h=0;pr.textFeatureIndex?Jn=pr.textFeatureIndex:Lt.useRuntimeCollisionCircles&&(Jn=Lt.featureIndex),pr.verticalTextFeatureIndex&&(bn=pr.verticalTextFeatureIndex);var E=pr.textBox;if(E){var D=function(Jr){var so=i.WritingMode.horizontal;if(y.allowVerticalPlacement&&!Jr&&c.prevPlacement){var Mi=c.prevPlacement.placedOrientations[Lt.crossTileID];Mi&&(c.placedOrientations[Lt.crossTileID]=Mi,c.markUsedOrientation(y,so=Mi,Lt))}return so},H=function(Jr,so){if(y.allowVerticalPlacement&&Lt.numVerticalGlyphVertices>0&&pr.verticalTextBox)for(var Mi=0,vA=y.writingModes;Mi<vA.length&&(vA[Mi]===i.WritingMode.vertical?(or=so(),qn=or):or=Jr(),!(or&&or.box&&or.box.length));Mi+=1);else or=Jr()};if(_.get("text-variable-anchor")){var me=_.get("text-variable-anchor");if(c.prevPlacement&&c.prevPlacement.variableOffsets[Lt.crossTileID]){var ke=c.prevPlacement.variableOffsets[Lt.crossTileID];me.indexOf(ke.anchor)>0&&(me=me.filter(function(Jr){return Jr!==ke.anchor})).unshift(ke.anchor)}var Re=function(Jr,so,Mi){for(var vA=Jr.x2-Jr.x1,qc=Jr.y2-Jr.y1,gs=Lt.textBoxScale,Hc=Ze&&!Qe?so:null,ss={box:[],offscreen:!1},dc=_e?2*me.length:me.length,KA=0;KA<dc;++KA){var ms=c.attemptAnchorPlacement(me[KA%me.length],Jr,vA,qc,gs,Me,et,J,Q,se,KA>=me.length,Lt,y,Mi,Hc);if(ms&&(ss=ms.placedGlyphBoxes)&&ss.box&&ss.box.length){hr=!0,lr=ms.shift;break}}return ss};H(function(){return Re(E,pr.iconBox,i.WritingMode.horizontal)},function(){var Jr=pr.verticalTextBox;return y.allowVerticalPlacement&&!(or&&or.box&&or.box.length)&&Lt.numVerticalGlyphVertices>0&&Jr?Re(Jr,pr.verticalIconBox,i.WritingMode.vertical):{box:null,offscreen:null}}),or&&(hr=or.box,yr=or.offscreen);var gt=D(or&&or.box);if(!hr&&c.prevPlacement){var rr=c.prevPlacement.variableOffsets[Lt.crossTileID];rr&&(c.variableOffsets[Lt.crossTileID]=rr,c.markUsedJustification(y,rr.anchor,Lt,gt))}}else{var Cr=function(Jr,so){var Mi=c.collisionIndex.placeCollisionBox(Jr,_e,J,Q,se.predicate);return Mi&&Mi.box&&Mi.box.length&&(c.markUsedOrientation(y,so,Lt),c.placedOrientations[Lt.crossTileID]=so),Mi};H(function(){return Cr(E,i.WritingMode.horizontal)},function(){var Jr=pr.verticalTextBox;return y.allowVerticalPlacement&&Lt.numVerticalGlyphVertices>0&&Jr?Cr(Jr,i.WritingMode.vertical):{box:null,offscreen:null}}),D(or&&or.box&&or.box.length)}}if(hr=(_r=or)&&_r.box&&_r.box.length>0,yr=_r&&_r.offscreen,Lt.useRuntimeCollisionCircles){var Hn=y.text.placedSymbolArray.get(Lt.centerJustifiedTextSymbolIndex),Ao=i.evaluateSizeForFeature(y.textSizeData,le,Hn),Li=_.get("text-padding");_n=c.collisionIndex.placeCollisionCircles(_e,Hn,y.lineVertexArray,y.glyphOffsetArray,Ao,Q,O,X,o,et,se.predicate,Lt.collisionCircleDiameter,Li),hr=_e||_n.circles.length>0&&!_n.collisionDetected,yr=yr&&_n.offscreen}if(pr.iconFeatureIndex&&(h=pr.iconFeatureIndex),pr.iconBox){var ta=function(Jr){var so=Ze&&lr?zi(Jr,lr.x,lr.y,Me,et,c.transform.angle):Jr;return c.collisionIndex.placeCollisionBox(so,Qe,J,Q,se.predicate)};ur=qn&&qn.box&&qn.box.length&&pr.verticalIconBox?(Gn=ta(pr.verticalIconBox)).box.length>0:(Gn=ta(pr.iconBox)).box.length>0,yr=yr&&Gn.offscreen}var ra=be||0===Lt.numHorizontalGlyphVertices&&0===Lt.numVerticalGlyphVertices,oi=oe||0===Lt.numIconVertices;if(ra||oi?oi?ra||(ur=ur&&hr):hr=ur&&hr:ur=hr=ur&&hr,hr&&_r&&_r.box&&c.collisionIndex.insertCollisionBox(_r.box,_.get("text-ignore-placement"),y.bucketInstanceId,qn&&qn.box&&bn?bn:Jn,se.ID),ur&&Gn&&c.collisionIndex.insertCollisionBox(Gn.box,_.get("icon-ignore-placement"),y.bucketInstanceId,h,se.ID),_n&&(hr&&c.collisionIndex.insertCollisionCircles(_n.circles,_.get("text-ignore-placement"),y.bucketInstanceId,Jn,se.ID),o)){var ya=y.bucketInstanceId,Ma=c.collisionCircleArrays[ya];void 0===Ma&&(Ma=c.collisionCircleArrays[ya]=new hi);for(var yA=0;yA<_n.circles.length;yA+=4)Ma.circles.push(_n.circles[yA+0]),Ma.circles.push(_n.circles[yA+1]),Ma.circles.push(_n.circles[yA+2]),Ma.circles.push(_n.collisionDetected?1:0)}c.placements[Lt.crossTileID]=new IA(hr||ft,ur||Bt,yr||y.justReloaded),a[Lt.crossTileID]=!0}};if(it)for(var Pt=y.getSortedSymbolIndexes(this.transform.angle),qt=Pt.length-1;qt>=0;--qt){var Jt=Pt[qt];wt(y.symbolInstances.get(Jt),y.collisionArrays[Jt])}else for(var $t=n.symbolInstanceStart;$t<n.symbolInstanceEnd;$t++)wt(y.symbolInstances.get($t),y.collisionArrays[$t]);if(o&&y.bucketInstanceId in this.collisionCircleArrays){var Ur=this.collisionCircleArrays[y.bucketInstanceId];i.invert(Ur.invProjMatrix,Q),Ur.viewportMatrix=this.collisionIndex.getViewportMatrix()}y.justReloaded=!1},ni.prototype.markUsedJustification=function(n,a,o,c){var p;p=c===i.WritingMode.vertical?o.verticalPlacedTextSymbolIndex:{left:o.leftJustifiedTextSymbolIndex,center:o.centerJustifiedTextSymbolIndex,right:o.rightJustifiedTextSymbolIndex}[i.getAnchorJustification(a)];for(var y=0,_=[o.leftJustifiedTextSymbolIndex,o.centerJustifiedTextSymbolIndex,o.rightJustifiedTextSymbolIndex,o.verticalPlacedTextSymbolIndex];y<_.length;y+=1){var Q=_[y];Q>=0&&(n.text.placedSymbolArray.get(Q).crossTileID=p>=0&&Q!==p?0:o.crossTileID)}},ni.prototype.markUsedOrientation=function(n,a,o){for(var c=a===i.WritingMode.horizontal||a===i.WritingMode.horizontalOnly?a:0,p=a===i.WritingMode.vertical?a:0,y=0,_=[o.leftJustifiedTextSymbolIndex,o.centerJustifiedTextSymbolIndex,o.rightJustifiedTextSymbolIndex];y<_.length;y+=1)n.text.placedSymbolArray.get(_[y]).placedOrientation=c;o.verticalPlacedTextSymbolIndex&&(n.text.placedSymbolArray.get(o.verticalPlacedTextSymbolIndex).placedOrientation=p)},ni.prototype.commit=function(n){this.commitTime=n,this.zoomAtLastRecencyCheck=this.transform.zoom;var a=this.prevPlacement,o=!1;this.prevZoomAdjustment=a?a.zoomAdjustment(this.transform.zoom):0;var c=a?a.symbolFadeChange(n):1,p=a?a.opacities:{},y=a?a.variableOffsets:{},_=a?a.placedOrientations:{};for(var Q in this.placements){var O=this.placements[Q],X=p[Q];X?(this.opacities[Q]=new _i(X,c,O.text,O.icon),o=o||O.text!==X.text.placed||O.icon!==X.icon.placed):(this.opacities[Q]=new _i(null,c,O.text,O.icon,O.skipFade),o=o||O.text||O.icon)}for(var J in p){var $=p[J];if(!this.opacities[J]){var te=new _i($,c,!1,!1);te.isHidden()||(this.opacities[J]=te,o=o||$.text.placed||$.icon.placed)}}for(var le in y)this.variableOffsets[le]||!this.opacities[le]||this.opacities[le].isHidden()||(this.variableOffsets[le]=y[le]);for(var se in _)this.placedOrientations[se]||!this.opacities[se]||this.opacities[se].isHidden()||(this.placedOrientations[se]=_[se]);o?this.lastPlacementChangeTime=n:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=a?a.lastPlacementChangeTime:n)},ni.prototype.updateLayerOpacities=function(n,a){for(var o={},c=0,p=a;c<p.length;c+=1){var y=p[c],_=y.getBucket(n);_&&y.latestFeatureIndex&&n.id===_.layerIds[0]&&this.updateBucketOpacities(_,o,y.collisionBoxArray)}},ni.prototype.updateBucketOpacities=function(n,a,o){var c=this;n.hasTextData()&&n.text.opacityVertexArray.clear(),n.hasIconData()&&n.icon.opacityVertexArray.clear(),n.hasIconCollisionBoxData()&&n.iconCollisionBox.collisionVertexArray.clear(),n.hasTextCollisionBoxData()&&n.textCollisionBox.collisionVertexArray.clear();var p=n.layers[0].layout,y=new _i(null,0,!1,!1,!0),_=p.get("text-allow-overlap"),Q=p.get("icon-allow-overlap"),O=p.get("text-variable-anchor"),X="map"===p.get("text-rotation-alignment"),J="map"===p.get("text-pitch-alignment"),$="none"!==p.get("icon-text-fit"),te=new _i(null,0,_&&(Q||!n.hasIconData()||p.get("icon-optional")),Q&&(_||!n.hasTextData()||p.get("text-optional")),!0);!n.collisionArrays&&o&&(n.hasIconCollisionBoxData()||n.hasTextCollisionBoxData())&&n.deserializeCollisionBoxes(o);for(var le=function(_e,Qe,Me){for(var et=0;et<Qe/4;et++)_e.opacityVertexArray.emplaceBack(Me)},se=function(_e){var Qe=n.symbolInstances.get(_e),Me=Qe.numHorizontalGlyphVertices,et=Qe.numVerticalGlyphVertices,Ze=Qe.crossTileID,it=c.opacities[Ze];a[Ze]?it=y:it||(c.opacities[Ze]=it=te),a[Ze]=!0;var ft=Qe.numIconVertices>0,Bt=c.placedOrientations[Qe.crossTileID],wt=Bt===i.WritingMode.vertical,Pt=Bt===i.WritingMode.horizontal||Bt===i.WritingMode.horizontalOnly;if(Me>0||et>0){var qt=kA(it.text);le(n.text,Me,wt?Ro:qt),le(n.text,et,Pt?Ro:qt);var Jt=it.text.isHidden();[Qe.rightJustifiedTextSymbolIndex,Qe.centerJustifiedTextSymbolIndex,Qe.leftJustifiedTextSymbolIndex].forEach(function(or){or>=0&&(n.text.placedSymbolArray.get(or).hidden=Jt||wt?1:0)}),Qe.verticalPlacedTextSymbolIndex>=0&&(n.text.placedSymbolArray.get(Qe.verticalPlacedTextSymbolIndex).hidden=Jt||Pt?1:0);var $t=c.variableOffsets[Qe.crossTileID];$t&&c.markUsedJustification(n,$t.anchor,Qe,Bt);var Ur=c.placedOrientations[Qe.crossTileID];Ur&&(c.markUsedJustification(n,"left",Qe,Ur),c.markUsedOrientation(n,Ur,Qe))}if(ft){var Lt=kA(it.icon),pr=!($&&Qe.verticalPlacedIconSymbolIndex&&wt);Qe.placedIconSymbolIndex>=0&&(le(n.icon,Qe.numIconVertices,pr?Lt:Ro),n.icon.placedSymbolArray.get(Qe.placedIconSymbolIndex).hidden=it.icon.isHidden()),Qe.verticalPlacedIconSymbolIndex>=0&&(le(n.icon,Qe.numVerticalIconVertices,pr?Ro:Lt),n.icon.placedSymbolArray.get(Qe.verticalPlacedIconSymbolIndex).hidden=it.icon.isHidden())}if(n.hasIconCollisionBoxData()||n.hasTextCollisionBoxData()){var _r=n.collisionArrays[_e];if(_r){var hr=new i.Point(0,0);if(_r.textBox||_r.verticalTextBox){var ur=!0;if(O){var yr=c.variableOffsets[Ze];yr?(hr=Mn(yr.anchor,yr.width,yr.height,yr.textOffset,yr.textBoxScale),X&&hr._rotate(J?c.transform.angle:-c.transform.angle)):ur=!1}_r.textBox&&ko(n.textCollisionBox.collisionVertexArray,it.text.placed,!ur||wt,hr.x,hr.y),_r.verticalTextBox&&ko(n.textCollisionBox.collisionVertexArray,it.text.placed,!ur||Pt,hr.x,hr.y)}var lr=Boolean(!Pt&&_r.verticalIconBox);_r.iconBox&&ko(n.iconCollisionBox.collisionVertexArray,it.icon.placed,lr,$?hr.x:0,$?hr.y:0),_r.verticalIconBox&&ko(n.iconCollisionBox.collisionVertexArray,it.icon.placed,!lr,$?hr.x:0,$?hr.y:0)}}},be=0;be<n.symbolInstances.length;be++)se(be);if(n.sortFeatures(this.transform.angle),this.retainedQueryData[n.bucketInstanceId]&&(this.retainedQueryData[n.bucketInstanceId].featureSortOrder=n.featureSortOrder),n.hasTextData()&&n.text.opacityVertexBuffer&&n.text.opacityVertexBuffer.updateData(n.text.opacityVertexArray),n.hasIconData()&&n.icon.opacityVertexBuffer&&n.icon.opacityVertexBuffer.updateData(n.icon.opacityVertexArray),n.hasIconCollisionBoxData()&&n.iconCollisionBox.collisionVertexBuffer&&n.iconCollisionBox.collisionVertexBuffer.updateData(n.iconCollisionBox.collisionVertexArray),n.hasTextCollisionBoxData()&&n.textCollisionBox.collisionVertexBuffer&&n.textCollisionBox.collisionVertexBuffer.updateData(n.textCollisionBox.collisionVertexArray),n.bucketInstanceId in this.collisionCircleArrays){var oe=this.collisionCircleArrays[n.bucketInstanceId];n.placementInvProjMatrix=oe.invProjMatrix,n.placementViewportMatrix=oe.viewportMatrix,n.collisionCircleArray=oe.circles,delete this.collisionCircleArrays[n.bucketInstanceId]}},ni.prototype.symbolFadeChange=function(n){return 0===this.fadeDuration?1:(n-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},ni.prototype.zoomAdjustment=function(n){return Math.max(0,(this.transform.zoom-n)/1.5)},ni.prototype.hasTransitions=function(n){return this.stale||n-this.lastPlacementChangeTime<this.fadeDuration},ni.prototype.stillRecent=function(n,a){var o=this.zoomAtLastRecencyCheck===a?1-this.zoomAdjustment(a):1;return this.zoomAtLastRecencyCheck=a,this.commitTime+this.fadeDuration*o>n},ni.prototype.setStale=function(){this.stale=!0};var HA=Math.pow(2,25),ZA=Math.pow(2,24),Xa=Math.pow(2,17),WA=Math.pow(2,16),QA=Math.pow(2,9),JA=Math.pow(2,8),FA=Math.pow(2,1);function kA(n){if(0===n.opacity&&!n.placed)return 0;if(1===n.opacity&&n.placed)return 4294967295;var a=n.placed?1:0,o=Math.floor(127*n.opacity);return o*HA+a*ZA+o*Xa+a*WA+o*QA+a*JA+o*FA+a}var Ro=0,Va=function(n){this._sortAcrossTiles="viewport-y"!==n.layout.get("symbol-z-order")&&void 0!==n.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};Va.prototype.continuePlacement=function(n,a,o,c,p){for(var y=this._bucketParts;this._currentTileIndex<n.length;)if(a.getBucketParts(y,c,n[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,p())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,y.sort(function(_,Q){return _.sortKey-Q.sortKey}));this._currentPartIndex<y.length;)if(a.placeLayerBucketPart(y[this._currentPartIndex],this._seenCrossTileIDs,o),this._currentPartIndex++,p())return!0;return!1};var ia=function(n,a,o,c,p,y,_){this.placement=new ni(n,p,y,_),this._currentPlacementIndex=a.length-1,this._forceFullPlacement=o,this._showCollisionBoxes=c,this._done=!1};ia.prototype.isDone=function(){return this._done},ia.prototype.continuePlacement=function(n,a,o){for(var c=this,p=i.browser.now(),y=function(){var O=i.browser.now()-p;return!c._forceFullPlacement&&O>2};this._currentPlacementIndex>=0;){var _=a[n[this._currentPlacementIndex]],Q=this.placement.collisionIndex.transform.zoom;if("symbol"===_.type&&(!_.minzoom||_.minzoom<=Q)&&(!_.maxzoom||_.maxzoom>Q)){if(this._inProgressLayer||(this._inProgressLayer=new Va(_)),this._inProgressLayer.continuePlacement(o[_.source],this.placement,this._showCollisionBoxes,_,y))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},ia.prototype.commit=function(n){return this.placement.commit(n),this.placement};var PA=512/i.EXTENT/2,xa=function(n,a,o){this.tileID=n,this.indexedSymbolInstances={},this.bucketInstanceId=o;for(var c=0;c<a.length;c++){var p=a.get(c),y=p.key;this.indexedSymbolInstances[y]||(this.indexedSymbolInstances[y]=[]),this.indexedSymbolInstances[y].push({crossTileID:p.crossTileID,coord:this.getScaledCoordinates(p,n)})}};xa.prototype.getScaledCoordinates=function(n,a){var o=PA/Math.pow(2,a.canonical.z-this.tileID.canonical.z);return{x:Math.floor((a.canonical.x*i.EXTENT+n.anchorX)*o),y:Math.floor((a.canonical.y*i.EXTENT+n.anchorY)*o)}},xa.prototype.findMatches=function(n,a,o){for(var c=this.tileID.canonical.z<a.canonical.z?1:Math.pow(2,this.tileID.canonical.z-a.canonical.z),p=0;p<n.length;p++){var y=n.get(p);if(!y.crossTileID){var _=this.indexedSymbolInstances[y.key];if(_)for(var Q=this.getScaledCoordinates(y,a),O=0,X=_;O<X.length;O+=1){var J=X[O];if(Math.abs(J.coord.x-Q.x)<=c&&Math.abs(J.coord.y-Q.y)<=c&&!o[J.crossTileID]){o[J.crossTileID]=!0,y.crossTileID=J.crossTileID;break}}}}};var Ii=function(){this.maxCrossTileID=0};Ii.prototype.generate=function(){return++this.maxCrossTileID};var lo=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};lo.prototype.handleWrapJump=function(n){var a=Math.round((n-this.lng)/360);if(0!==a)for(var o in this.indexes){var c=this.indexes[o],p={};for(var y in c){var _=c[y];_.tileID=_.tileID.unwrapTo(_.tileID.wrap+a),p[_.tileID.key]=_}this.indexes[o]=p}this.lng=n},lo.prototype.addBucket=function(n,a,o){if(this.indexes[n.overscaledZ]&&this.indexes[n.overscaledZ][n.key]){if(this.indexes[n.overscaledZ][n.key].bucketInstanceId===a.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(n.overscaledZ,this.indexes[n.overscaledZ][n.key])}for(var c=0;c<a.symbolInstances.length;c++)a.symbolInstances.get(c).crossTileID=0;this.usedCrossTileIDs[n.overscaledZ]||(this.usedCrossTileIDs[n.overscaledZ]={});var p=this.usedCrossTileIDs[n.overscaledZ];for(var y in this.indexes){var _=this.indexes[y];if(Number(y)>n.overscaledZ)for(var Q in _){var O=_[Q];O.tileID.isChildOf(n)&&O.findMatches(a.symbolInstances,n,p)}else{var X=_[n.scaledTo(Number(y)).key];X&&X.findMatches(a.symbolInstances,n,p)}}for(var J=0;J<a.symbolInstances.length;J++){var $=a.symbolInstances.get(J);$.crossTileID||($.crossTileID=o.generate(),p[$.crossTileID]=!0)}return void 0===this.indexes[n.overscaledZ]&&(this.indexes[n.overscaledZ]={}),this.indexes[n.overscaledZ][n.key]=new xa(n,a.symbolInstances,a.bucketInstanceId),!0},lo.prototype.removeBucketCrossTileIDs=function(n,a){for(var o in a.indexedSymbolInstances)for(var c=0,p=a.indexedSymbolInstances[o];c<p.length;c+=1)delete this.usedCrossTileIDs[n][p[c].crossTileID]},lo.prototype.removeStaleBuckets=function(n){var a=!1;for(var o in this.indexes){var c=this.indexes[o];for(var p in c)n[c[p].bucketInstanceId]||(this.removeBucketCrossTileIDs(o,c[p]),delete c[p],a=!0)}return a};var uo=function(){this.layerIndexes={},this.crossTileIDs=new Ii,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};uo.prototype.addLayer=function(n,a,o){var c=this.layerIndexes[n.id];void 0===c&&(c=this.layerIndexes[n.id]=new lo);var p=!1,y={};c.handleWrapJump(o);for(var _=0,Q=a;_<Q.length;_+=1){var O=Q[_],X=O.getBucket(n);X&&n.id===X.layerIds[0]&&(X.bucketInstanceId||(X.bucketInstanceId=++this.maxBucketInstanceId),c.addBucket(O.tileID,X,this.crossTileIDs)&&(p=!0),y[X.bucketInstanceId]=!0)}return c.removeStaleBuckets(y)&&(p=!0),p},uo.prototype.pruneUnusedLayers=function(n){var a={};for(var o in n.forEach(function(c){a[c]=!0}),this.layerIndexes)a[o]||delete this.layerIndexes[o]};var Po=function(n,a){return i.emitValidationErrors(n,a&&a.filter(function(o){return"source.canvas"!==o.identifier}))},po=i.pick(ot,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),ho=i.pick(ot,["setCenter","setZoom","setBearing","setPitch"]),Ba=function(){var n={},a=i.styleSpec.$version;for(var o in i.styleSpec.$root){var c,p=i.styleSpec.$root[o];p.required&&null!=(c="version"===o?a:"array"===p.type?[]:{})&&(n[o]=c)}return n}(),fi=function(n){function a(o,c){var p=this;void 0===c&&(c={}),n.call(this),this.map=o,this.dispatcher=new tt(de(),this),this.imageManager=new N,this.imageManager.setEventedParent(this),this.glyphManager=new Ue(o._requestManager,c.localIdeographFontFamily),this.lineAtlas=new De(256,512),this.crossTileSymbolIndex=new uo,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new i.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",i.getReferrer());var y=this;this._rtlTextPluginCallback=a.registerForPluginStateChange(function(_){y.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:_.pluginStatus,pluginURL:_.pluginURL},function(Q,O){if(i.triggerPluginCompletionEvent(Q),O&&O.every(function(J){return J}))for(var X in y.sourceCaches)y.sourceCaches[X].reload()})}),this.on("data",function(_){if("source"===_.dataType&&"metadata"===_.sourceDataType){var Q=p.sourceCaches[_.sourceId];if(Q){var O=Q.getSource();if(O&&O.vectorLayerIds)for(var X in p._layers){var J=p._layers[X];J.source===O.id&&p._validateLayer(J)}}}})}return n&&(a.__proto__=n),(a.prototype=Object.create(n&&n.prototype)).constructor=a,a.prototype.loadURL=function(o,c){var p=this;void 0===c&&(c={}),this.fire(new i.Event("dataloading",{dataType:"style"}));var y="boolean"==typeof c.validate?c.validate:!i.isMapboxURL(o);o=this.map._requestManager.normalizeStyleURL(o,c.accessToken);var _=this.map._requestManager.transformRequest(o,i.ResourceType.Style);this._request=i.getJSON(_,function(Q,O){p._request=null,Q?p.fire(new i.ErrorEvent(Q)):O&&p._load(O,y)})},a.prototype.loadJSON=function(o,c){var p=this;void 0===c&&(c={}),this.fire(new i.Event("dataloading",{dataType:"style"})),this._request=i.browser.frame(function(){p._request=null,p._load(o,!1!==c.validate)})},a.prototype.loadEmpty=function(){this.fire(new i.Event("dataloading",{dataType:"style"})),this._load(Ba,!1)},a.prototype._load=function(o,c){if(!c||!Po(this,i.validateStyle(o))){for(var p in this._loaded=!0,this.stylesheet=o,o.sources)this.addSource(p,o.sources[p],{validate:!1});o.sprite?this._loadSprite(o.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(o.glyphs);var y=Ie(this.stylesheet.layers);this._order=y.map(function(X){return X.id}),this._layers={},this._serializedLayers={};for(var _=0,Q=y;_<Q.length;_+=1){var O=Q[_];(O=i.createStyleLayer(O)).setEventedParent(this,{layer:{id:O.id}}),this._layers[O.id]=O,this._serializedLayers[O.id]=O.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new Ke(this.stylesheet.light),this.fire(new i.Event("data",{dataType:"style"})),this.fire(new i.Event("style.load"))}},a.prototype._loadSprite=function(o){var c=this;this._spriteRequest=function(p,y,_){var Q,O,X,J=i.browser.devicePixelRatio>1?"@2x":"",$=i.getJSON(y.transformRequest(y.normalizeSpriteURL(p,J,".json"),i.ResourceType.SpriteJSON),function(se,be){$=null,X||(X=se,Q=be,le())}),te=i.getImage(y.transformRequest(y.normalizeSpriteURL(p,J,".png"),i.ResourceType.SpriteImage),function(se,be){te=null,X||(X=se,O=be,le())});function le(){if(X)_(X);else if(Q&&O){var se=i.browser.getImageData(O),be={};for(var oe in Q){var _e=Q[oe],Qe=_e.width,Me=_e.height,et=_e.x,Ze=_e.y,it=_e.sdf,ft=_e.pixelRatio,Bt=_e.stretchX,wt=_e.stretchY,Pt=_e.content,qt=new i.RGBAImage({width:Qe,height:Me});i.RGBAImage.copy(se,qt,{x:et,y:Ze},{x:0,y:0},{width:Qe,height:Me}),be[oe]={data:qt,pixelRatio:ft,sdf:it,stretchX:Bt,stretchY:wt,content:Pt}}_(null,be)}}return{cancel:function(){$&&($.cancel(),$=null),te&&(te.cancel(),te=null)}}}(o,this.map._requestManager,function(p,y){if(c._spriteRequest=null,p)c.fire(new i.ErrorEvent(p));else if(y)for(var _ in y)c.imageManager.addImage(_,y[_]);c.imageManager.setLoaded(!0),c._availableImages=c.imageManager.listImages(),c.dispatcher.broadcast("setImages",c._availableImages),c.fire(new i.Event("data",{dataType:"style"}))})},a.prototype._validateLayer=function(o){var c=this.sourceCaches[o.source];if(c){var p=o.sourceLayer;if(p){var y=c.getSource();("geojson"===y.type||y.vectorLayerIds&&-1===y.vectorLayerIds.indexOf(p))&&this.fire(new i.ErrorEvent(new Error('Source layer "'+p+'" does not exist on source "'+y.id+'" as specified by style layer "'+o.id+'"')))}}},a.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var o in this.sourceCaches)if(!this.sourceCaches[o].loaded())return!1;return!!this.imageManager.isLoaded()},a.prototype._serializeLayers=function(o){for(var c=[],p=0,y=o;p<y.length;p+=1){var _=this._layers[y[p]];"custom"!==_.type&&c.push(_.serialize())}return c},a.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var o in this.sourceCaches)if(this.sourceCaches[o].hasTransition())return!0;for(var c in this._layers)if(this._layers[c].hasTransition())return!0;return!1},a.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},a.prototype.update=function(o){if(this._loaded){var c=this._changed;if(this._changed){var p=Object.keys(this._updatedLayers),y=Object.keys(this._removedLayers);for(var _ in(p.length||y.length)&&this._updateWorkerLayers(p,y),this._updatedSources){var Q=this._updatedSources[_];"reload"===Q?this._reloadSource(_):"clear"===Q&&this._clearSource(_)}for(var O in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[O].updateTransitions(o);this.light.updateTransitions(o),this._resetUpdates()}var X={};for(var J in this.sourceCaches){var $=this.sourceCaches[J];X[J]=$.used,$.used=!1}for(var te=0,le=this._order;te<le.length;te+=1){var se=this._layers[le[te]];se.recalculate(o,this._availableImages),!se.isHidden(o.zoom)&&se.source&&(this.sourceCaches[se.source].used=!0)}for(var be in X){var oe=this.sourceCaches[be];X[be]!==oe.used&&oe.fire(new i.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:be}))}this.light.recalculate(o),this.z=o.zoom,c&&this.fire(new i.Event("data",{dataType:"style"}))}},a.prototype._updateTilesForChangedImages=function(){var o=Object.keys(this._changedImages);if(o.length){for(var c in this.sourceCaches)this.sourceCaches[c].reloadTilesForDependencies(["icons","patterns"],o);this._changedImages={}}},a.prototype._updateWorkerLayers=function(o,c){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(o),removedIds:c})},a.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},a.prototype.setState=function(o){var c=this;if(this._checkLoaded(),Po(this,i.validateStyle(o)))return!1;(o=i.clone$1(o)).layers=Ie(o.layers);var p=function(_,Q){if(!_)return[{command:ot.setStyle,args:[Q]}];var O=[];try{if(!i.deepEqual(_.version,Q.version))return[{command:ot.setStyle,args:[Q]}];i.deepEqual(_.center,Q.center)||O.push({command:ot.setCenter,args:[Q.center]}),i.deepEqual(_.zoom,Q.zoom)||O.push({command:ot.setZoom,args:[Q.zoom]}),i.deepEqual(_.bearing,Q.bearing)||O.push({command:ot.setBearing,args:[Q.bearing]}),i.deepEqual(_.pitch,Q.pitch)||O.push({command:ot.setPitch,args:[Q.pitch]}),i.deepEqual(_.sprite,Q.sprite)||O.push({command:ot.setSprite,args:[Q.sprite]}),i.deepEqual(_.glyphs,Q.glyphs)||O.push({command:ot.setGlyphs,args:[Q.glyphs]}),i.deepEqual(_.transition,Q.transition)||O.push({command:ot.setTransition,args:[Q.transition]}),i.deepEqual(_.light,Q.light)||O.push({command:ot.setLight,args:[Q.light]});var X={},J=[];!function(te,le,se,be){var oe;for(oe in le=le||{},te=te||{})te.hasOwnProperty(oe)&&(le.hasOwnProperty(oe)||ht(oe,se,be));for(oe in le)le.hasOwnProperty(oe)&&(te.hasOwnProperty(oe)?i.deepEqual(te[oe],le[oe])||("geojson"===te[oe].type&&"geojson"===le[oe].type&&Zt(te,le,oe)?se.push({command:ot.setGeoJSONSourceData,args:[oe,le[oe].data]}):Gt(oe,le,se,be)):He(oe,le,se))}(_.sources,Q.sources,J,X);var $=[];_.layers&&_.layers.forEach(function(te){X[te.source]?O.push({command:ot.removeLayer,args:[te.id]}):$.push(te)}),O=O.concat(J),function(te,le,se){le=le||[];var be,oe,_e,Qe,Me,et,Ze,it=(te=te||[]).map(Xt),ft=le.map(Xt),Bt=te.reduce(Et,{}),wt=le.reduce(Et,{}),Pt=it.slice(),qt=Object.create(null);for(be=0,oe=0;be<it.length;be++)wt.hasOwnProperty(_e=it[be])?oe++:(se.push({command:ot.removeLayer,args:[_e]}),Pt.splice(Pt.indexOf(_e,oe),1));for(be=0,oe=0;be<ft.length;be++)Pt[Pt.length-1-be]!==(_e=ft[ft.length-1-be])&&(Bt.hasOwnProperty(_e)?(se.push({command:ot.removeLayer,args:[_e]}),Pt.splice(Pt.lastIndexOf(_e,Pt.length-oe),1)):oe++,se.push({command:ot.addLayer,args:[wt[_e],et=Pt[Pt.length-be]]}),Pt.splice(Pt.length-be,0,_e),qt[_e]=!0);for(be=0;be<ft.length;be++)if(Qe=Bt[_e=ft[be]],Me=wt[_e],!qt[_e]&&!i.deepEqual(Qe,Me))if(i.deepEqual(Qe.source,Me.source)&&i.deepEqual(Qe["source-layer"],Me["source-layer"])&&i.deepEqual(Qe.type,Me.type)){for(Ze in ut(Qe.layout,Me.layout,se,_e,null,ot.setLayoutProperty),ut(Qe.paint,Me.paint,se,_e,null,ot.setPaintProperty),i.deepEqual(Qe.filter,Me.filter)||se.push({command:ot.setFilter,args:[_e,Me.filter]}),i.deepEqual(Qe.minzoom,Me.minzoom)&&i.deepEqual(Qe.maxzoom,Me.maxzoom)||se.push({command:ot.setLayerZoomRange,args:[_e,Me.minzoom,Me.maxzoom]}),Qe)Qe.hasOwnProperty(Ze)&&"layout"!==Ze&&"paint"!==Ze&&"filter"!==Ze&&"metadata"!==Ze&&"minzoom"!==Ze&&"maxzoom"!==Ze&&(0===Ze.indexOf("paint.")?ut(Qe[Ze],Me[Ze],se,_e,Ze.slice(6),ot.setPaintProperty):i.deepEqual(Qe[Ze],Me[Ze])||se.push({command:ot.setLayerProperty,args:[_e,Ze,Me[Ze]]}));for(Ze in Me)Me.hasOwnProperty(Ze)&&!Qe.hasOwnProperty(Ze)&&"layout"!==Ze&&"paint"!==Ze&&"filter"!==Ze&&"metadata"!==Ze&&"minzoom"!==Ze&&"maxzoom"!==Ze&&(0===Ze.indexOf("paint.")?ut(Qe[Ze],Me[Ze],se,_e,Ze.slice(6),ot.setPaintProperty):i.deepEqual(Qe[Ze],Me[Ze])||se.push({command:ot.setLayerProperty,args:[_e,Ze,Me[Ze]]}))}else se.push({command:ot.removeLayer,args:[_e]}),et=Pt[Pt.lastIndexOf(_e)+1],se.push({command:ot.addLayer,args:[Me,et]})}($,Q.layers,O)}catch(te){console.warn("Unable to compute style diff:",te),O=[{command:ot.setStyle,args:[Q]}]}return O}(this.serialize(),o).filter(function(_){return!(_.command in ho)});if(0===p.length)return!1;var y=p.filter(function(_){return!(_.command in po)});if(y.length>0)throw new Error("Unimplemented: "+y.map(function(_){return _.command}).join(", ")+".");return p.forEach(function(_){"setTransition"!==_.command&&c[_.command].apply(c,_.args)}),this.stylesheet=o,!0},a.prototype.addImage=function(o,c){if(this.getImage(o))return this.fire(new i.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(o,c),this._afterImageUpdated(o)},a.prototype.updateImage=function(o,c){this.imageManager.updateImage(o,c)},a.prototype.getImage=function(o){return this.imageManager.getImage(o)},a.prototype.removeImage=function(o){if(!this.getImage(o))return this.fire(new i.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(o),this._afterImageUpdated(o)},a.prototype._afterImageUpdated=function(o){this._availableImages=this.imageManager.listImages(),this._changedImages[o]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new i.Event("data",{dataType:"style"}))},a.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},a.prototype.addSource=function(o,c,p){var y=this;if(void 0===p&&(p={}),this._checkLoaded(),void 0!==this.sourceCaches[o])throw new Error("There is already a source with this ID");if(!c.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(c).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(c.type)>=0&&this._validate(i.validateStyle.source,"sources."+o,c,null,p))){this.map&&this.map._collectResourceTiming&&(c.collectResourceTiming=!0);var _=this.sourceCaches[o]=new ue(o,c,this.dispatcher);_.style=this,_.setEventedParent(this,function(){return{isSourceLoaded:y.loaded(),source:_.serialize(),sourceId:o}}),_.onAdd(this.map),this._changed=!0}},a.prototype.removeSource=function(o){if(this._checkLoaded(),void 0===this.sourceCaches[o])throw new Error("There is no source with this ID");for(var c in this._layers)if(this._layers[c].source===o)return this.fire(new i.ErrorEvent(new Error('Source "'+o+'" cannot be removed while layer "'+c+'" is using it.')));var p=this.sourceCaches[o];delete this.sourceCaches[o],delete this._updatedSources[o],p.fire(new i.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:o})),p.setEventedParent(null),p.clearTiles(),p.onRemove&&p.onRemove(this.map),this._changed=!0},a.prototype.setGeoJSONSourceData=function(o,c){this._checkLoaded(),this.sourceCaches[o].getSource().setData(c),this._changed=!0},a.prototype.getSource=function(o){return this.sourceCaches[o]&&this.sourceCaches[o].getSource()},a.prototype.addLayer=function(o,c,p){void 0===p&&(p={}),this._checkLoaded();var y=o.id;if(this.getLayer(y))this.fire(new i.ErrorEvent(new Error('Layer with id "'+y+'" already exists on this map')));else{var _;if("custom"===o.type){if(Po(this,i.validateCustomStyleLayer(o)))return;_=i.createStyleLayer(o)}else{if("object"==typeof o.source&&(this.addSource(y,o.source),o=i.clone$1(o),o=i.extend(o,{source:y})),this._validate(i.validateStyle.layer,"layers."+y,o,{arrayIndex:-1},p))return;_=i.createStyleLayer(o),this._validateLayer(_),_.setEventedParent(this,{layer:{id:y}}),this._serializedLayers[_.id]=_.serialize()}var Q=c?this._order.indexOf(c):this._order.length;if(c&&-1===Q)this.fire(new i.ErrorEvent(new Error('Layer with id "'+c+'" does not exist on this map.')));else{if(this._order.splice(Q,0,y),this._layerOrderChanged=!0,this._layers[y]=_,this._removedLayers[y]&&_.source&&"custom"!==_.type){var O=this._removedLayers[y];delete this._removedLayers[y],O.type!==_.type?this._updatedSources[_.source]="clear":(this._updatedSources[_.source]="reload",this.sourceCaches[_.source].pause())}this._updateLayer(_),_.onAdd&&_.onAdd(this.map)}}},a.prototype.moveLayer=function(o,c){if(this._checkLoaded(),this._changed=!0,this._layers[o]){if(o!==c){var p=this._order.indexOf(o);this._order.splice(p,1);var y=c?this._order.indexOf(c):this._order.length;c&&-1===y?this.fire(new i.ErrorEvent(new Error('Layer with id "'+c+'" does not exist on this map.'))):(this._order.splice(y,0,o),this._layerOrderChanged=!0)}}else this.fire(new i.ErrorEvent(new Error("The layer '"+o+"' does not exist in the map's style and cannot be moved.")))},a.prototype.removeLayer=function(o){this._checkLoaded();var c=this._layers[o];if(c){c.setEventedParent(null);var p=this._order.indexOf(o);this._order.splice(p,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[o]=c,delete this._layers[o],delete this._serializedLayers[o],delete this._updatedLayers[o],delete this._updatedPaintProps[o],c.onRemove&&c.onRemove(this.map)}else this.fire(new i.ErrorEvent(new Error("The layer '"+o+"' does not exist in the map's style and cannot be removed.")))},a.prototype.getLayer=function(o){return this._layers[o]},a.prototype.hasLayer=function(o){return o in this._layers},a.prototype.setLayerZoomRange=function(o,c,p){this._checkLoaded();var y=this.getLayer(o);y?y.minzoom===c&&y.maxzoom===p||(null!=c&&(y.minzoom=c),null!=p&&(y.maxzoom=p),this._updateLayer(y)):this.fire(new i.ErrorEvent(new Error("The layer '"+o+"' does not exist in the map's style and cannot have zoom extent.")))},a.prototype.setFilter=function(o,c,p){void 0===p&&(p={}),this._checkLoaded();var y=this.getLayer(o);if(y){if(!i.deepEqual(y.filter,c))return null==c?(y.filter=void 0,void this._updateLayer(y)):void(this._validate(i.validateStyle.filter,"layers."+y.id+".filter",c,null,p)||(y.filter=i.clone$1(c),this._updateLayer(y)))}else this.fire(new i.ErrorEvent(new Error("The layer '"+o+"' does not exist in the map's style and cannot be filtered.")))},a.prototype.getFilter=function(o){return i.clone$1(this.getLayer(o).filter)},a.prototype.setLayoutProperty=function(o,c,p,y){void 0===y&&(y={}),this._checkLoaded();var _=this.getLayer(o);_?i.deepEqual(_.getLayoutProperty(c),p)||(_.setLayoutProperty(c,p,y),this._updateLayer(_)):this.fire(new i.ErrorEvent(new Error("The layer '"+o+"' does not exist in the map's style and cannot be styled.")))},a.prototype.getLayoutProperty=function(o,c){var p=this.getLayer(o);if(p)return p.getLayoutProperty(c);this.fire(new i.ErrorEvent(new Error("The layer '"+o+"' does not exist in the map's style.")))},a.prototype.setPaintProperty=function(o,c,p,y){void 0===y&&(y={}),this._checkLoaded();var _=this.getLayer(o);_?i.deepEqual(_.getPaintProperty(c),p)||(_.setPaintProperty(c,p,y)&&this._updateLayer(_),this._changed=!0,this._updatedPaintProps[o]=!0):this.fire(new i.ErrorEvent(new Error("The layer '"+o+"' does not exist in the map's style and cannot be styled.")))},a.prototype.getPaintProperty=function(o,c){return this.getLayer(o).getPaintProperty(c)},a.prototype.setFeatureState=function(o,c){this._checkLoaded();var p=o.source,y=o.sourceLayer,_=this.sourceCaches[p];if(void 0!==_){var Q=_.getSource().type;"geojson"===Q&&y?this.fire(new i.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==Q||y?(void 0===o.id&&this.fire(new i.ErrorEvent(new Error("The feature id parameter must be provided."))),_.setFeatureState(y,o.id,c)):this.fire(new i.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new i.ErrorEvent(new Error("The source '"+p+"' does not exist in the map's style.")))},a.prototype.removeFeatureState=function(o,c){this._checkLoaded();var p=o.source,y=this.sourceCaches[p];if(void 0!==y){var _=y.getSource().type,Q="vector"===_?o.sourceLayer:void 0;"vector"!==_||Q?c&&"string"!=typeof o.id&&"number"!=typeof o.id?this.fire(new i.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):y.removeFeatureState(Q,o.id,c):this.fire(new i.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new i.ErrorEvent(new Error("The source '"+p+"' does not exist in the map's style.")))},a.prototype.getFeatureState=function(o){this._checkLoaded();var c=o.source,p=o.sourceLayer,y=this.sourceCaches[c];if(void 0!==y){if("vector"!==y.getSource().type||p)return void 0===o.id&&this.fire(new i.ErrorEvent(new Error("The feature id parameter must be provided."))),y.getFeatureState(p,o.id);this.fire(new i.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new i.ErrorEvent(new Error("The source '"+c+"' does not exist in the map's style.")))},a.prototype.getTransition=function(){return i.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},a.prototype.serialize=function(){return i.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:i.mapObject(this.sourceCaches,function(o){return o.serialize()}),layers:this._serializeLayers(this._order)},function(o){return void 0!==o})},a.prototype._updateLayer=function(o){this._updatedLayers[o.id]=!0,o.source&&!this._updatedSources[o.source]&&"raster"!==this.sourceCaches[o.source].getSource().type&&(this._updatedSources[o.source]="reload",this.sourceCaches[o.source].pause()),this._changed=!0},a.prototype._flattenAndSortRenderedFeatures=function(o){for(var c=this,p=function(Bt){return"fill-extrusion"===c._layers[Bt].type},y={},_=[],Q=this._order.length-1;Q>=0;Q--){var O=this._order[Q];if(p(O)){y[O]=Q;for(var X=0,J=o;X<J.length;X+=1){var $=J[X][O];if($)for(var te=0,le=$;te<le.length;te+=1)_.push(le[te])}}}_.sort(function(Bt,wt){return wt.intersectionZ-Bt.intersectionZ});for(var se=[],be=this._order.length-1;be>=0;be--){var oe=this._order[be];if(p(oe))for(var _e=_.length-1;_e>=0;_e--){var Qe=_[_e].feature;if(y[Qe.layer.id]<be)break;se.push(Qe),_.pop()}else for(var Me=0,et=o;Me<et.length;Me+=1){var Ze=et[Me][oe];if(Ze)for(var it=0,ft=Ze;it<ft.length;it+=1)se.push(ft[it].feature)}}return se},a.prototype.queryRenderedFeatures=function(o,c,p){c&&c.filter&&this._validate(i.validateStyle.filter,"queryRenderedFeatures.filter",c.filter,null,c);var y={};if(c&&c.layers){if(!Array.isArray(c.layers))return this.fire(new i.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var _=0,Q=c.layers;_<Q.length;_+=1){var O=Q[_],X=this._layers[O];if(!X)return this.fire(new i.ErrorEvent(new Error("The layer '"+O+"' does not exist in the map's style and cannot be queried for features."))),[];y[X.source]=!0}}var J=[];for(var $ in c.availableImages=this._availableImages,this.sourceCaches)c.layers&&!y[$]||J.push(dr(this.sourceCaches[$],this._layers,this._serializedLayers,o,c,p));return this.placement&&J.push(function(te,le,se,be,oe,_e,Qe){for(var Me={},et=_e.queryRenderedSymbols(be),Ze=[],it=0,ft=Object.keys(et).map(Number);it<ft.length;it+=1)Ze.push(Qe[ft[it]]);Ze.sort(Fr);for(var Bt=function(){var $t=Pt[wt],Ur=$t.featureIndex.lookupSymbolFeatures(et[$t.bucketInstanceId],le,$t.bucketIndex,$t.sourceLayerIndex,oe.filter,oe.layers,oe.availableImages,te);for(var Lt in Ur){var pr=Me[Lt]=Me[Lt]||[],_r=Ur[Lt];_r.sort(function(yr,lr){var or=$t.featureSortOrder;if(or){var qn=or.indexOf(yr.featureIndex);return or.indexOf(lr.featureIndex)-qn}return lr.featureIndex-yr.featureIndex});for(var hr=0,ur=_r;hr<ur.length;hr+=1)pr.push(ur[hr])}},wt=0,Pt=Ze;wt<Pt.length;wt+=1)Bt();var qt=function($t){Me[$t].forEach(function(Ur){var Lt=Ur.feature,pr=se[te[$t].source].getFeatureState(Lt.layer["source-layer"],Lt.id);Lt.source=Lt.layer.source,Lt.layer["source-layer"]&&(Lt.sourceLayer=Lt.layer["source-layer"]),Lt.state=pr})};for(var Jt in Me)qt(Jt);return Me}(this._layers,this._serializedLayers,this.sourceCaches,o,c,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(J)},a.prototype.querySourceFeatures=function(o,c){c&&c.filter&&this._validate(i.validateStyle.filter,"querySourceFeatures.filter",c.filter,null,c);var p=this.sourceCaches[o];return p?function(y,_){for(var Q=y.getRenderableIds().map(function(le){return y.getTileByID(le)}),O=[],X={},J=0;J<Q.length;J++){var $=Q[J],te=$.tileID.canonical.key;X[te]||(X[te]=!0,$.querySourceFeatures(O,_))}return O}(p,c):[]},a.prototype.addSourceType=function(o,c,p){return a.getSourceType(o)?p(new Error('A source type called "'+o+'" already exists.')):(a.setSourceType(o,c),c.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:o,url:c.workerSourceURL},p):p(null,null))},a.prototype.getLight=function(){return this.light.getLight()},a.prototype.setLight=function(o,c){void 0===c&&(c={}),this._checkLoaded();var p=this.light.getLight(),y=!1;for(var _ in o)if(!i.deepEqual(o[_],p[_])){y=!0;break}if(y){var Q={now:i.browser.now(),transition:i.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(o,c),this.light.updateTransitions(Q)}},a.prototype._validate=function(o,c,p,y,_){return void 0===_&&(_={}),(!_||!1!==_.validate)&&Po(this,o.call(i.validateStyle,i.extend({key:c,style:this.serialize(),value:p,styleSpec:i.styleSpec},y)))},a.prototype._remove=function(){for(var o in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),i.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[o].setEventedParent(null);for(var c in this.sourceCaches)this.sourceCaches[c].clearTiles(),this.sourceCaches[c].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},a.prototype._clearSource=function(o){this.sourceCaches[o].clearTiles()},a.prototype._reloadSource=function(o){this.sourceCaches[o].resume(),this.sourceCaches[o].reload()},a.prototype._updateSources=function(o){for(var c in this.sourceCaches)this.sourceCaches[c].update(o)},a.prototype._generateCollisionBoxes=function(){for(var o in this.sourceCaches)this._reloadSource(o)},a.prototype._updatePlacement=function(o,c,p,y,_){void 0===_&&(_=!1);for(var Q=!1,O=!1,X={},J=0,$=this._order;J<$.length;J+=1){var te=this._layers[$[J]];if("symbol"===te.type){if(!X[te.source]){var le=this.sourceCaches[te.source];X[te.source]=le.getRenderableIds(!0).map(function(Qe){return le.getTileByID(Qe)}).sort(function(Qe,Me){return Me.tileID.overscaledZ-Qe.tileID.overscaledZ||(Qe.tileID.isLessThan(Me.tileID)?-1:1)})}var se=this.crossTileSymbolIndex.addLayer(te,X[te.source],o.center.lng);Q=Q||se}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((_=_||this._layerOrderChanged||0===p)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(i.browser.now(),o.zoom))&&(this.pauseablePlacement=new ia(o,this._order,_,c,p,y,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,X),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(i.browser.now()),O=!0),Q&&this.pauseablePlacement.placement.setStale()),O||Q)for(var be=0,oe=this._order;be<oe.length;be+=1){var _e=this._layers[oe[be]];"symbol"===_e.type&&this.placement.updateLayerOpacities(_e,X[_e.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(i.browser.now())},a.prototype._releaseSymbolFadeTiles=function(){for(var o in this.sourceCaches)this.sourceCaches[o].releaseSymbolFadeTiles()},a.prototype.getImages=function(o,c,p){this.imageManager.getImages(c.icons,p),this._updateTilesForChangedImages();var y=this.sourceCaches[c.source];y&&y.setDependencies(c.tileID.key,c.type,c.icons)},a.prototype.getGlyphs=function(o,c,p){this.glyphManager.getGlyphs(c.stacks,p)},a.prototype.getResource=function(o,c,p){return i.makeRequest(c,p)},a}(i.Evented);fi.getSourceType=function(n){return je[n]},fi.setSourceType=function(n,a){je[n]=a},fi.registerForPluginStateChange=i.registerForPluginStateChange;var Cn=i.createLayout([{name:"a_pos",type:"Int16",components:2}]),zo=Hr("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}"),SA=Hr("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Ya=Hr("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),In=Hr("varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),oa=Hr("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),qa=Hr("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),Ha=Hr("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),Za=Hr("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),Wa=Hr("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),Ja=Hr("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),$A=Hr("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),Go=Hr("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),aa=Hr("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),$a=Hr("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),Dn=Hr("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),Aa=Hr("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),$i=Hr("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),eo=Hr("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),fo=Hr("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),Gi=Hr("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),ln=Hr("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),So=Hr("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),go=Hr("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),Ki=Hr("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}"),eA=Hr("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),tA=Hr("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}");function Hr(n,a){var o=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,c=a.match(/attribute ([\w]+) ([\w]+)/g),p=n.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),y=a.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),_=y?y.concat(p):p,Q={};return{fragmentSource:n=n.replace(o,function(O,X,J,$,te){return Q[te]=!0,"define"===X?"\n#ifndef HAS_UNIFORM_u_"+te+"\nvarying "+J+" "+$+" "+te+";\n#else\nuniform "+J+" "+$+" u_"+te+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+te+"\n    "+J+" "+$+" "+te+" = u_"+te+";\n#endif\n"}),vertexSource:a=a.replace(o,function(O,X,J,$,te){var le="float"===$?"vec2":"vec4",se=te.match(/color/)?"color":le;return Q[te]?"define"===X?"\n#ifndef HAS_UNIFORM_u_"+te+"\nuniform lowp float u_"+te+"_t;\nattribute "+J+" "+le+" a_"+te+";\nvarying "+J+" "+$+" "+te+";\n#else\nuniform "+J+" "+$+" u_"+te+";\n#endif\n":"vec4"===se?"\n#ifndef HAS_UNIFORM_u_"+te+"\n    "+te+" = a_"+te+";\n#else\n    "+J+" "+$+" "+te+" = u_"+te+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+te+"\n    "+te+" = unpack_mix_"+se+"(a_"+te+", u_"+te+"_t);\n#else\n    "+J+" "+$+" "+te+" = u_"+te+";\n#endif\n":"define"===X?"\n#ifndef HAS_UNIFORM_u_"+te+"\nuniform lowp float u_"+te+"_t;\nattribute "+J+" "+le+" a_"+te+";\n#else\nuniform "+J+" "+$+" u_"+te+";\n#endif\n":"vec4"===se?"\n#ifndef HAS_UNIFORM_u_"+te+"\n    "+J+" "+$+" "+te+" = a_"+te+";\n#else\n    "+J+" "+$+" "+te+" = u_"+te+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+te+"\n    "+J+" "+$+" "+te+" = unpack_mix_"+se+"(a_"+te+", u_"+te+"_t);\n#else\n    "+J+" "+$+" "+te+" = u_"+te+";\n#endif\n"}),staticAttributes:c,staticUniforms:_}}var Ea=Object.freeze({__proto__:null,prelude:zo,background:SA,backgroundPattern:Ya,circle:In,clippingMask:oa,heatmap:qa,heatmapTexture:Ha,collisionBox:Za,collisionCircle:Wa,debug:Ja,fill:$A,fillOutline:Go,fillOutlinePattern:aa,fillPattern:$a,fillExtrusion:Dn,fillExtrusionPattern:Aa,hillshadePrepare:$i,hillshade:eo,line:fo,lineGradient:Gi,linePattern:ln,lineSDF:So,raster:go,symbolIcon:Ki,symbolSDF:eA,symbolTextAndIcon:tA}),to=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};function DA(n){for(var a=[],o=0;o<n.length;o++)if(null!==n[o]){var c=n[o].split(" ");a.push(c.pop())}return a}to.prototype.bind=function(n,a,o,c,p,y,_,Q){this.context=n;for(var O=this.boundPaintVertexBuffers.length!==c.length,X=0;!O&&X<c.length;X++)this.boundPaintVertexBuffers[X]!==c[X]&&(O=!0);n.extVertexArrayObject&&this.vao&&this.boundProgram===a&&this.boundLayoutVertexBuffer===o&&!O&&this.boundIndexBuffer===p&&this.boundVertexOffset===y&&this.boundDynamicVertexBuffer===_&&this.boundDynamicVertexBuffer2===Q?(n.bindVertexArrayOES.set(this.vao),_&&_.bind(),p&&p.dynamicDraw&&p.bind(),Q&&Q.bind()):this.freshBind(a,o,c,p,y,_,Q)},to.prototype.freshBind=function(n,a,o,c,p,y,_){var Q,O=n.numAttributes,X=this.context,J=X.gl;if(X.extVertexArrayObject)this.vao&&this.destroy(),this.vao=X.extVertexArrayObject.createVertexArrayOES(),X.bindVertexArrayOES.set(this.vao),Q=0,this.boundProgram=n,this.boundLayoutVertexBuffer=a,this.boundPaintVertexBuffers=o,this.boundIndexBuffer=c,this.boundVertexOffset=p,this.boundDynamicVertexBuffer=y,this.boundDynamicVertexBuffer2=_;else{Q=X.currentNumAttributes||0;for(var $=O;$<Q;$++)J.disableVertexAttribArray($)}a.enableAttributes(J,n);for(var te=0,le=o;te<le.length;te+=1)le[te].enableAttributes(J,n);y&&y.enableAttributes(J,n),_&&_.enableAttributes(J,n),a.bind(),a.setVertexAttribPointers(J,n,p);for(var se=0,be=o;se<be.length;se+=1){var oe=be[se];oe.bind(),oe.setVertexAttribPointers(J,n,p)}y&&(y.bind(),y.setVertexAttribPointers(J,n,p)),c&&c.bind(),_&&(_.bind(),_.setVertexAttribPointers(J,n,p)),X.currentNumAttributes=O},to.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var rA=function(n,a,o,c,p,y){var _=n.gl;this.program=_.createProgram();for(var Q=DA(o.staticAttributes),O=c?c.getBinderAttributes():[],X=Q.concat(O),J=o.staticUniforms?DA(o.staticUniforms):[],$=c?c.getBinderUniforms():[],te=[],le=0,se=J.concat($);le<se.length;le+=1){var be=se[le];te.indexOf(be)<0&&te.push(be)}var oe=c?c.defines():[];y&&oe.push("#define OVERDRAW_INSPECTOR;");var _e=oe.concat(zo.fragmentSource,o.fragmentSource).join("\n"),Qe=oe.concat(zo.vertexSource,o.vertexSource).join("\n"),Me=_.createShader(_.FRAGMENT_SHADER);if(_.isContextLost())this.failedToCreate=!0;else{_.shaderSource(Me,_e),_.compileShader(Me),_.attachShader(this.program,Me);var et=_.createShader(_.VERTEX_SHADER);if(_.isContextLost())this.failedToCreate=!0;else{_.shaderSource(et,Qe),_.compileShader(et),_.attachShader(this.program,et),this.attributes={};var Ze={};this.numAttributes=X.length;for(var it=0;it<this.numAttributes;it++)X[it]&&(_.bindAttribLocation(this.program,it,X[it]),this.attributes[X[it]]=it);_.linkProgram(this.program),_.deleteShader(et),_.deleteShader(Me);for(var ft=0;ft<te.length;ft++){var Bt=te[ft];if(Bt&&!Ze[Bt]){var wt=_.getUniformLocation(this.program,Bt);wt&&(Ze[Bt]=wt)}}this.fixedUniforms=p(n,Ze),this.binderUniforms=c?c.getUniforms(n,Ze):[]}}};function Ca(n,a,o){var c=1/nn(o,1,a.transform.tileZoom),p=Math.pow(2,o.tileID.overscaledZ),y=o.tileSize*Math.pow(2,a.transform.tileZoom)/p,_=y*(o.tileID.canonical.x+o.tileID.wrap*p),Q=y*o.tileID.canonical.y;return{u_image:0,u_texsize:o.imageAtlasTexture.size,u_scale:[c,n.fromScale,n.toScale],u_fade:n.t,u_pixel_coord_upper:[_>>16,Q>>16],u_pixel_coord_lower:[65535&_,65535&Q]}}rA.prototype.draw=function(n,a,o,c,p,y,_,Q,O,X,J,$,te,le,se,be){var oe,_e=n.gl;if(!this.failedToCreate){for(var Qe in n.program.set(this.program),n.setDepthMode(o),n.setStencilMode(c),n.setColorMode(p),n.setCullFace(y),this.fixedUniforms)this.fixedUniforms[Qe].set(_[Qe]);le&&le.setUniforms(n,this.binderUniforms,$,{zoom:te});for(var Me=(oe={},oe[_e.LINES]=2,oe[_e.TRIANGLES]=3,oe[_e.LINE_STRIP]=1,oe)[a],et=0,Ze=J.get();et<Ze.length;et+=1){var it=Ze[et],ft=it.vaos||(it.vaos={});(ft[Q]||(ft[Q]=new to)).bind(n,this,O,le?le.getPaintVertexBuffers():[],X,it.vertexOffset,se,be),_e.drawElements(a,it.primitiveLength*Me,_e.UNSIGNED_SHORT,it.primitiveOffset*Me*2)}}};var nA=function(n,a,o,c){var p=a.style.light,y=p.properties.get("position"),_=[y.x,y.y,y.z],Q=i.create$1();"viewport"===p.properties.get("anchor")&&i.fromRotation(Q,-a.transform.angle),i.transformMat3(_,_,Q);var O=p.properties.get("color");return{u_matrix:n,u_lightpos:_,u_lightintensity:p.properties.get("intensity"),u_lightcolor:[O.r,O.g,O.b],u_vertical_gradient:+o,u_opacity:c}},mo=function(n,a,o,c,p,y,_){return i.extend(nA(n,a,o,c),Ca(y,a,_),{u_height_factor:-Math.pow(2,p.overscaledZ)/_.tileSize/8})},yo=function(n){return{u_matrix:n}},vo=function(n,a,o,c){return i.extend(yo(n),Ca(o,a,c))},Ia=function(n,a){return{u_matrix:n,u_world:a}},iA=function(n,a,o,c,p){return i.extend(vo(n,a,o,c),{u_world:p})},Qa=function(n,a,o,c){var p,y,_=n.transform;if("map"===c.paint.get("circle-pitch-alignment")){var Q=nn(o,1,_.zoom);p=!0,y=[Q,Q]}else p=!1,y=_.pixelsToGLUnits;return{u_camera_to_center_distance:_.cameraToCenterDistance,u_scale_with_map:+("map"===c.paint.get("circle-pitch-scale")),u_matrix:n.translatePosMatrix(a.posMatrix,o,c.paint.get("circle-translate"),c.paint.get("circle-translate-anchor")),u_pitch_with_map:+p,u_device_pixel_ratio:i.browser.devicePixelRatio,u_extrude_scale:y}},bi=function(n,a,o){var c=nn(o,1,a.zoom),p=Math.pow(2,a.zoom-o.tileID.overscaledZ),y=o.tileID.overscaleFactor();return{u_matrix:n,u_camera_to_center_distance:a.cameraToCenterDistance,u_pixels_to_tile_units:c,u_extrude_scale:[a.pixelsToGLUnits[0]/(c*p),a.pixelsToGLUnits[1]/(c*p)],u_overscale_factor:y}},oA=function(n,a,o){return{u_matrix:n,u_inv_matrix:a,u_camera_to_center_distance:o.cameraToCenterDistance,u_viewport_size:[o.width,o.height]}},jn=function(n,a,o){return void 0===o&&(o=1),{u_matrix:n,u_color:a,u_overlay:0,u_overlay_scale:o}},Do=function(n){return{u_matrix:n}},aA=function(n,a,o,c){return{u_matrix:n,u_extrude_scale:nn(a,1,o),u_intensity:c}},To=function(n,a,o){var c=n.transform;return{u_matrix:TA(n,a,o),u_ratio:1/nn(a,1,c.zoom),u_device_pixel_ratio:i.browser.devicePixelRatio,u_units_to_pixels:[1/c.pixelsToGLUnits[0],1/c.pixelsToGLUnits[1]]}},on=function(n,a,o,c){return i.extend(To(n,a,o),{u_image:0,u_image_height:c})},sa=function(n,a,o,c){var p=n.transform,y=Ko(a,p);return{u_matrix:TA(n,a,o),u_texsize:a.imageAtlasTexture.size,u_ratio:1/nn(a,1,p.zoom),u_device_pixel_ratio:i.browser.devicePixelRatio,u_image:0,u_scale:[y,c.fromScale,c.toScale],u_fade:c.t,u_units_to_pixels:[1/p.pixelsToGLUnits[0],1/p.pixelsToGLUnits[1]]}},es=function(n,a,o,c,p){var y=n.lineAtlas,_=Ko(a,n.transform),Q="round"===o.layout.get("line-cap"),O=y.getDash(c.from,Q),X=y.getDash(c.to,Q),J=O.width*p.fromScale,$=X.width*p.toScale;return i.extend(To(n,a,o),{u_patternscale_a:[_/J,-O.height/2],u_patternscale_b:[_/$,-X.height/2],u_sdfgamma:y.width/(256*Math.min(J,$)*i.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:O.y,u_tex_y_b:X.y,u_mix:p.t})};function Ko(n,a){return 1/nn(n,1,a.tileZoom)}function TA(n,a,o){return n.translatePosMatrix(a.tileID.posMatrix,a,o.paint.get("line-translate"),o.paint.get("line-translate-anchor"))}var ts=function(n,a,o,c,p){return{u_matrix:n,u_tl_parent:a,u_scale_parent:o,u_buffer_scale:1,u_fade_t:c.mix,u_opacity:c.opacity*p.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:p.paint.get("raster-brightness-min"),u_brightness_high:p.paint.get("raster-brightness-max"),u_saturation_factor:(_=p.paint.get("raster-saturation"),_>0?1-1/(1.001-_):-_),u_contrast_factor:(y=p.paint.get("raster-contrast"),y>0?1/(1-y):1+y),u_spin_weights:AA(p.paint.get("raster-hue-rotate"))};var y,_};function AA(n){n*=Math.PI/180;var a=Math.sin(n),o=Math.cos(n);return[(2*o+1)/3,(-Math.sqrt(3)*a-o+1)/3,(Math.sqrt(3)*a-o+1)/3]}var No,Ni=function(n,a,o,c,p,y,_,Q,O,X){var J=p.transform;return{u_is_size_zoom_constant:+("constant"===n||"source"===n),u_is_size_feature_constant:+("constant"===n||"camera"===n),u_size_t:a?a.uSizeT:0,u_size:a?a.uSize:0,u_camera_to_center_distance:J.cameraToCenterDistance,u_pitch:J.pitch/360*2*Math.PI,u_rotate_symbol:+o,u_aspect_ratio:J.width/J.height,u_fade_change:p.options.fadeDuration?p.symbolFadeChange:1,u_matrix:y,u_label_plane_matrix:_,u_coord_matrix:Q,u_is_text:+O,u_pitch_with_map:+c,u_texsize:X,u_texture:0}},ca=function(n,a,o,c,p,y,_,Q,O,X,J){var $=p.transform;return i.extend(Ni(n,a,o,c,p,y,_,Q,O,X),{u_gamma_scale:c?Math.cos($._pitch)*$.cameraToCenterDistance:1,u_device_pixel_ratio:i.browser.devicePixelRatio,u_is_halo:+J})},la=function(n,a,o,c,p,y,_,Q,O,X){return i.extend(ca(n,a,o,c,p,y,_,Q,!0,O,!0),{u_texsize_icon:X,u_texture_icon:1})},ua=function(n,a,o){return{u_matrix:n,u_opacity:a,u_color:o}},Xo=function(n,a,o,c,p,y){return i.extend((Q=y,X=p,J=(O=o).imageManager.getPattern((_=c).from.toString()),$=O.imageManager.getPattern(_.to.toString()),le=(te=O.imageManager.getPixelSize()).width,se=te.height,be=Math.pow(2,X.tileID.overscaledZ),_e=(oe=X.tileSize*Math.pow(2,O.transform.tileZoom)/be)*(X.tileID.canonical.x+X.tileID.wrap*be),Qe=oe*X.tileID.canonical.y,{u_image:0,u_pattern_tl_a:J.tl,u_pattern_br_a:J.br,u_pattern_tl_b:$.tl,u_pattern_br_b:$.br,u_texsize:[le,se],u_mix:Q.t,u_pattern_size_a:J.displaySize,u_pattern_size_b:$.displaySize,u_scale_a:Q.fromScale,u_scale_b:Q.toScale,u_tile_units_to_pixels:1/nn(X,1,O.transform.tileZoom),u_pixel_coord_upper:[_e>>16,Qe>>16],u_pixel_coord_lower:[65535&_e,65535&Qe]}),{u_matrix:n,u_opacity:a});var _,Q,O,X,J,$,te,le,se,be,oe,_e,Qe},Uo={fillExtrusion:function(n,a){return{u_matrix:new i.UniformMatrix4f(n,a.u_matrix),u_lightpos:new i.Uniform3f(n,a.u_lightpos),u_lightintensity:new i.Uniform1f(n,a.u_lightintensity),u_lightcolor:new i.Uniform3f(n,a.u_lightcolor),u_vertical_gradient:new i.Uniform1f(n,a.u_vertical_gradient),u_opacity:new i.Uniform1f(n,a.u_opacity)}},fillExtrusionPattern:function(n,a){return{u_matrix:new i.UniformMatrix4f(n,a.u_matrix),u_lightpos:new i.Uniform3f(n,a.u_lightpos),u_lightintensity:new i.Uniform1f(n,a.u_lightintensity),u_lightcolor:new i.Uniform3f(n,a.u_lightcolor),u_vertical_gradient:new i.Uniform1f(n,a.u_vertical_gradient),u_height_factor:new i.Uniform1f(n,a.u_height_factor),u_image:new i.Uniform1i(n,a.u_image),u_texsize:new i.Uniform2f(n,a.u_texsize),u_pixel_coord_upper:new i.Uniform2f(n,a.u_pixel_coord_upper),u_pixel_coord_lower:new i.Uniform2f(n,a.u_pixel_coord_lower),u_scale:new i.Uniform3f(n,a.u_scale),u_fade:new i.Uniform1f(n,a.u_fade),u_opacity:new i.Uniform1f(n,a.u_opacity)}},fill:function(n,a){return{u_matrix:new i.UniformMatrix4f(n,a.u_matrix)}},fillPattern:function(n,a){return{u_matrix:new i.UniformMatrix4f(n,a.u_matrix),u_image:new i.Uniform1i(n,a.u_image),u_texsize:new i.Uniform2f(n,a.u_texsize),u_pixel_coord_upper:new i.Uniform2f(n,a.u_pixel_coord_upper),u_pixel_coord_lower:new i.Uniform2f(n,a.u_pixel_coord_lower),u_scale:new i.Uniform3f(n,a.u_scale),u_fade:new i.Uniform1f(n,a.u_fade)}},fillOutline:function(n,a){return{u_matrix:new i.UniformMatrix4f(n,a.u_matrix),u_world:new i.Uniform2f(n,a.u_world)}},fillOutlinePattern:function(n,a){return{u_matrix:new i.UniformMatrix4f(n,a.u_matrix),u_world:new i.Uniform2f(n,a.u_world),u_image:new i.Uniform1i(n,a.u_image),u_texsize:new i.Uniform2f(n,a.u_texsize),u_pixel_coord_upper:new i.Uniform2f(n,a.u_pixel_coord_upper),u_pixel_coord_lower:new i.Uniform2f(n,a.u_pixel_coord_lower),u_scale:new i.Uniform3f(n,a.u_scale),u_fade:new i.Uniform1f(n,a.u_fade)}},circle:function(n,a){return{u_camera_to_center_distance:new i.Uniform1f(n,a.u_camera_to_center_distance),u_scale_with_map:new i.Uniform1i(n,a.u_scale_with_map),u_pitch_with_map:new i.Uniform1i(n,a.u_pitch_with_map),u_extrude_scale:new i.Uniform2f(n,a.u_extrude_scale),u_device_pixel_ratio:new i.Uniform1f(n,a.u_device_pixel_ratio),u_matrix:new i.UniformMatrix4f(n,a.u_matrix)}},collisionBox:function(n,a){return{u_matrix:new i.UniformMatrix4f(n,a.u_matrix),u_camera_to_center_distance:new i.Uniform1f(n,a.u_camera_to_center_distance),u_pixels_to_tile_units:new i.Uniform1f(n,a.u_pixels_to_tile_units),u_extrude_scale:new i.Uniform2f(n,a.u_extrude_scale),u_overscale_factor:new i.Uniform1f(n,a.u_overscale_factor)}},collisionCircle:function(n,a){return{u_matrix:new i.UniformMatrix4f(n,a.u_matrix),u_inv_matrix:new i.UniformMatrix4f(n,a.u_inv_matrix),u_camera_to_center_distance:new i.Uniform1f(n,a.u_camera_to_center_distance),u_viewport_size:new i.Uniform2f(n,a.u_viewport_size)}},debug:function(n,a){return{u_color:new i.UniformColor(n,a.u_color),u_matrix:new i.UniformMatrix4f(n,a.u_matrix),u_overlay:new i.Uniform1i(n,a.u_overlay),u_overlay_scale:new i.Uniform1f(n,a.u_overlay_scale)}},clippingMask:function(n,a){return{u_matrix:new i.UniformMatrix4f(n,a.u_matrix)}},heatmap:function(n,a){return{u_extrude_scale:new i.Uniform1f(n,a.u_extrude_scale),u_intensity:new i.Uniform1f(n,a.u_intensity),u_matrix:new i.UniformMatrix4f(n,a.u_matrix)}},heatmapTexture:function(n,a){return{u_matrix:new i.UniformMatrix4f(n,a.u_matrix),u_world:new i.Uniform2f(n,a.u_world),u_image:new i.Uniform1i(n,a.u_image),u_color_ramp:new i.Uniform1i(n,a.u_color_ramp),u_opacity:new i.Uniform1f(n,a.u_opacity)}},hillshade:function(n,a){return{u_matrix:new i.UniformMatrix4f(n,a.u_matrix),u_image:new i.Uniform1i(n,a.u_image),u_latrange:new i.Uniform2f(n,a.u_latrange),u_light:new i.Uniform2f(n,a.u_light),u_shadow:new i.UniformColor(n,a.u_shadow),u_highlight:new i.UniformColor(n,a.u_highlight),u_accent:new i.UniformColor(n,a.u_accent)}},hillshadePrepare:function(n,a){return{u_matrix:new i.UniformMatrix4f(n,a.u_matrix),u_image:new i.Uniform1i(n,a.u_image),u_dimension:new i.Uniform2f(n,a.u_dimension),u_zoom:new i.Uniform1f(n,a.u_zoom),u_unpack:new i.Uniform4f(n,a.u_unpack)}},line:function(n,a){return{u_matrix:new i.UniformMatrix4f(n,a.u_matrix),u_ratio:new i.Uniform1f(n,a.u_ratio),u_device_pixel_ratio:new i.Uniform1f(n,a.u_device_pixel_ratio),u_units_to_pixels:new i.Uniform2f(n,a.u_units_to_pixels)}},lineGradient:function(n,a){return{u_matrix:new i.UniformMatrix4f(n,a.u_matrix),u_ratio:new i.Uniform1f(n,a.u_ratio),u_device_pixel_ratio:new i.Uniform1f(n,a.u_device_pixel_ratio),u_units_to_pixels:new i.Uniform2f(n,a.u_units_to_pixels),u_image:new i.Uniform1i(n,a.u_image),u_image_height:new i.Uniform1f(n,a.u_image_height)}},linePattern:function(n,a){return{u_matrix:new i.UniformMatrix4f(n,a.u_matrix),u_texsize:new i.Uniform2f(n,a.u_texsize),u_ratio:new i.Uniform1f(n,a.u_ratio),u_device_pixel_ratio:new i.Uniform1f(n,a.u_device_pixel_ratio),u_image:new i.Uniform1i(n,a.u_image),u_units_to_pixels:new i.Uniform2f(n,a.u_units_to_pixels),u_scale:new i.Uniform3f(n,a.u_scale),u_fade:new i.Uniform1f(n,a.u_fade)}},lineSDF:function(n,a){return{u_matrix:new i.UniformMatrix4f(n,a.u_matrix),u_ratio:new i.Uniform1f(n,a.u_ratio),u_device_pixel_ratio:new i.Uniform1f(n,a.u_device_pixel_ratio),u_units_to_pixels:new i.Uniform2f(n,a.u_units_to_pixels),u_patternscale_a:new i.Uniform2f(n,a.u_patternscale_a),u_patternscale_b:new i.Uniform2f(n,a.u_patternscale_b),u_sdfgamma:new i.Uniform1f(n,a.u_sdfgamma),u_image:new i.Uniform1i(n,a.u_image),u_tex_y_a:new i.Uniform1f(n,a.u_tex_y_a),u_tex_y_b:new i.Uniform1f(n,a.u_tex_y_b),u_mix:new i.Uniform1f(n,a.u_mix)}},raster:function(n,a){return{u_matrix:new i.UniformMatrix4f(n,a.u_matrix),u_tl_parent:new i.Uniform2f(n,a.u_tl_parent),u_scale_parent:new i.Uniform1f(n,a.u_scale_parent),u_buffer_scale:new i.Uniform1f(n,a.u_buffer_scale),u_fade_t:new i.Uniform1f(n,a.u_fade_t),u_opacity:new i.Uniform1f(n,a.u_opacity),u_image0:new i.Uniform1i(n,a.u_image0),u_image1:new i.Uniform1i(n,a.u_image1),u_brightness_low:new i.Uniform1f(n,a.u_brightness_low),u_brightness_high:new i.Uniform1f(n,a.u_brightness_high),u_saturation_factor:new i.Uniform1f(n,a.u_saturation_factor),u_contrast_factor:new i.Uniform1f(n,a.u_contrast_factor),u_spin_weights:new i.Uniform3f(n,a.u_spin_weights)}},symbolIcon:function(n,a){return{u_is_size_zoom_constant:new i.Uniform1i(n,a.u_is_size_zoom_constant),u_is_size_feature_constant:new i.Uniform1i(n,a.u_is_size_feature_constant),u_size_t:new i.Uniform1f(n,a.u_size_t),u_size:new i.Uniform1f(n,a.u_size),u_camera_to_center_distance:new i.Uniform1f(n,a.u_camera_to_center_distance),u_pitch:new i.Uniform1f(n,a.u_pitch),u_rotate_symbol:new i.Uniform1i(n,a.u_rotate_symbol),u_aspect_ratio:new i.Uniform1f(n,a.u_aspect_ratio),u_fade_change:new i.Uniform1f(n,a.u_fade_change),u_matrix:new i.UniformMatrix4f(n,a.u_matrix),u_label_plane_matrix:new i.UniformMatrix4f(n,a.u_label_plane_matrix),u_coord_matrix:new i.UniformMatrix4f(n,a.u_coord_matrix),u_is_text:new i.Uniform1i(n,a.u_is_text),u_pitch_with_map:new i.Uniform1i(n,a.u_pitch_with_map),u_texsize:new i.Uniform2f(n,a.u_texsize),u_texture:new i.Uniform1i(n,a.u_texture)}},symbolSDF:function(n,a){return{u_is_size_zoom_constant:new i.Uniform1i(n,a.u_is_size_zoom_constant),u_is_size_feature_constant:new i.Uniform1i(n,a.u_is_size_feature_constant),u_size_t:new i.Uniform1f(n,a.u_size_t),u_size:new i.Uniform1f(n,a.u_size),u_camera_to_center_distance:new i.Uniform1f(n,a.u_camera_to_center_distance),u_pitch:new i.Uniform1f(n,a.u_pitch),u_rotate_symbol:new i.Uniform1i(n,a.u_rotate_symbol),u_aspect_ratio:new i.Uniform1f(n,a.u_aspect_ratio),u_fade_change:new i.Uniform1f(n,a.u_fade_change),u_matrix:new i.UniformMatrix4f(n,a.u_matrix),u_label_plane_matrix:new i.UniformMatrix4f(n,a.u_label_plane_matrix),u_coord_matrix:new i.UniformMatrix4f(n,a.u_coord_matrix),u_is_text:new i.Uniform1i(n,a.u_is_text),u_pitch_with_map:new i.Uniform1i(n,a.u_pitch_with_map),u_texsize:new i.Uniform2f(n,a.u_texsize),u_texture:new i.Uniform1i(n,a.u_texture),u_gamma_scale:new i.Uniform1f(n,a.u_gamma_scale),u_device_pixel_ratio:new i.Uniform1f(n,a.u_device_pixel_ratio),u_is_halo:new i.Uniform1i(n,a.u_is_halo)}},symbolTextAndIcon:function(n,a){return{u_is_size_zoom_constant:new i.Uniform1i(n,a.u_is_size_zoom_constant),u_is_size_feature_constant:new i.Uniform1i(n,a.u_is_size_feature_constant),u_size_t:new i.Uniform1f(n,a.u_size_t),u_size:new i.Uniform1f(n,a.u_size),u_camera_to_center_distance:new i.Uniform1f(n,a.u_camera_to_center_distance),u_pitch:new i.Uniform1f(n,a.u_pitch),u_rotate_symbol:new i.Uniform1i(n,a.u_rotate_symbol),u_aspect_ratio:new i.Uniform1f(n,a.u_aspect_ratio),u_fade_change:new i.Uniform1f(n,a.u_fade_change),u_matrix:new i.UniformMatrix4f(n,a.u_matrix),u_label_plane_matrix:new i.UniformMatrix4f(n,a.u_label_plane_matrix),u_coord_matrix:new i.UniformMatrix4f(n,a.u_coord_matrix),u_is_text:new i.Uniform1i(n,a.u_is_text),u_pitch_with_map:new i.Uniform1i(n,a.u_pitch_with_map),u_texsize:new i.Uniform2f(n,a.u_texsize),u_texsize_icon:new i.Uniform2f(n,a.u_texsize_icon),u_texture:new i.Uniform1i(n,a.u_texture),u_texture_icon:new i.Uniform1i(n,a.u_texture_icon),u_gamma_scale:new i.Uniform1f(n,a.u_gamma_scale),u_device_pixel_ratio:new i.Uniform1f(n,a.u_device_pixel_ratio),u_is_halo:new i.Uniform1i(n,a.u_is_halo)}},background:function(n,a){return{u_matrix:new i.UniformMatrix4f(n,a.u_matrix),u_opacity:new i.Uniform1f(n,a.u_opacity),u_color:new i.UniformColor(n,a.u_color)}},backgroundPattern:function(n,a){return{u_matrix:new i.UniformMatrix4f(n,a.u_matrix),u_opacity:new i.Uniform1f(n,a.u_opacity),u_image:new i.Uniform1i(n,a.u_image),u_pattern_tl_a:new i.Uniform2f(n,a.u_pattern_tl_a),u_pattern_br_a:new i.Uniform2f(n,a.u_pattern_br_a),u_pattern_tl_b:new i.Uniform2f(n,a.u_pattern_tl_b),u_pattern_br_b:new i.Uniform2f(n,a.u_pattern_br_b),u_texsize:new i.Uniform2f(n,a.u_texsize),u_mix:new i.Uniform1f(n,a.u_mix),u_pattern_size_a:new i.Uniform2f(n,a.u_pattern_size_a),u_pattern_size_b:new i.Uniform2f(n,a.u_pattern_size_b),u_scale_a:new i.Uniform1f(n,a.u_scale_a),u_scale_b:new i.Uniform1f(n,a.u_scale_b),u_pixel_coord_upper:new i.Uniform2f(n,a.u_pixel_coord_upper),u_pixel_coord_lower:new i.Uniform2f(n,a.u_pixel_coord_lower),u_tile_units_to_pixels:new i.Uniform1f(n,a.u_tile_units_to_pixels)}}};function Wn(n,a,o,c,p,y,_){for(var Q=n.context,O=Q.gl,X=n.useProgram("collisionBox"),J=[],$=0,te=0,le=0;le<c.length;le++){var se=c[le],be=a.getTile(se),oe=be.getBucket(o);if(oe){var _e=se.posMatrix;0===p[0]&&0===p[1]||(_e=n.translatePosMatrix(se.posMatrix,be,p,y));var Qe=_?oe.textCollisionBox:oe.iconCollisionBox,Me=oe.collisionCircleArray;if(Me.length>0){var et=i.create(),Ze=_e;i.mul(et,oe.placementInvProjMatrix,n.transform.glCoordMatrix),i.mul(et,et,oe.placementViewportMatrix),J.push({circleArray:Me,circleOffset:te,transform:Ze,invTransform:et}),te=$+=Me.length/4}Qe&&X.draw(Q,O.LINES,re.disabled,ae.disabled,n.colorModeForRenderPass(),Ce.disabled,bi(_e,n.transform,be),o.id,Qe.layoutVertexBuffer,Qe.indexBuffer,Qe.segments,null,n.transform.zoom,null,null,Qe.collisionVertexBuffer)}}if(_&&J.length){var it=n.useProgram("collisionCircle"),ft=new i.StructArrayLayout2f1f2i16;ft.resize(4*$),ft._trim();for(var Bt=0,wt=0,Pt=J;wt<Pt.length;wt+=1)for(var qt=Pt[wt],Jt=0;Jt<qt.circleArray.length/4;Jt++){var $t=4*Jt,Ur=qt.circleArray[$t+0],Lt=qt.circleArray[$t+1],pr=qt.circleArray[$t+2],_r=qt.circleArray[$t+3];ft.emplace(Bt++,Ur,Lt,pr,_r,0),ft.emplace(Bt++,Ur,Lt,pr,_r,1),ft.emplace(Bt++,Ur,Lt,pr,_r,2),ft.emplace(Bt++,Ur,Lt,pr,_r,3)}(!No||No.length<2*$)&&(No=function(_n){var Gn=2*_n,Jn=new i.StructArrayLayout3ui6;Jn.resize(Gn),Jn._trim();for(var bn=0;bn<Gn;bn++){var h=6*bn;Jn.uint16[h+0]=4*bn+0,Jn.uint16[h+1]=4*bn+1,Jn.uint16[h+2]=4*bn+2,Jn.uint16[h+3]=4*bn+2,Jn.uint16[h+4]=4*bn+3,Jn.uint16[h+5]=4*bn+0}return Jn}($));for(var hr=Q.createIndexBuffer(No,!0),ur=Q.createVertexBuffer(ft,i.collisionCircleLayout.members,!0),yr=0,lr=J;yr<lr.length;yr+=1){var or=lr[yr],qn=oA(or.transform,or.invTransform,n.transform);it.draw(Q,O.TRIANGLES,re.disabled,ae.disabled,n.colorModeForRenderPass(),Ce.disabled,qn,o.id,ur,hr,i.SegmentVector.simpleSegment(0,2*or.circleOffset,or.circleArray.length,or.circleArray.length/2),null,n.transform.zoom,null,null,null)}ur.destroy(),hr.destroy()}}var wi=i.identity(new Float32Array(16));function UA(n,a,o,c,p,y){var _=i.getAnchorAlignment(n),Q=-(_.horizontalAlign-.5)*a,O=-(_.verticalAlign-.5)*o,X=i.evaluateVariableOffset(n,c);return new i.Point((Q/p+X[0])*y,(O/p+X[1])*y)}function Vo(n,a,o,c,p,y,_,Q,O,X,J){var $=n.text.placedSymbolArray,te=n.text.dynamicLayoutVertexArray,le=n.icon.dynamicLayoutVertexArray,se={};te.clear();for(var be=0;be<$.length;be++){var oe=$.get(be),_e=oe.hidden||!oe.crossTileID||n.allowVerticalPlacement&&!oe.placedOrientation?null:c[oe.crossTileID];if(_e){var Qe=new i.Point(oe.anchorX,oe.anchorY),Me=br(Qe,o?Q:_),et=wr(y.cameraToCenterDistance,Me.signedDistanceFromCamera),Ze=p.evaluateSizeForFeature(n.textSizeData,X,oe)*et/i.ONE_EM;o&&(Ze*=n.tilePixelRatio/O);for(var it=UA(_e.anchor,_e.width,_e.height,_e.textOffset,_e.textBoxScale,Ze),ft=o?br(Qe.add(it),_).point:Me.point.add(a?it.rotate(-y.angle):it),Bt=n.allowVerticalPlacement&&oe.placedOrientation===i.WritingMode.vertical?Math.PI/2:0,wt=0;wt<oe.numGlyphs;wt++)i.addDynamicAttributes(te,ft,Bt);J&&oe.associatedIconIndex>=0&&(se[oe.associatedIconIndex]={shiftedAnchor:ft,angle:Bt})}else ri(oe.numGlyphs,te)}if(J){le.clear();for(var Pt=n.icon.placedSymbolArray,qt=0;qt<Pt.length;qt++){var Jt=Pt.get(qt);if(Jt.hidden)ri(Jt.numGlyphs,le);else{var $t=se[qt];if($t)for(var Ur=0;Ur<Jt.numGlyphs;Ur++)i.addDynamicAttributes(le,$t.shiftedAnchor,$t.angle);else ri(Jt.numGlyphs,le)}}n.icon.dynamicLayoutVertexBuffer.updateData(le)}n.text.dynamicLayoutVertexBuffer.updateData(te)}function Fa(n,a,o){return o.iconsInText&&a?"symbolTextAndIcon":n?"symbolSDF":"symbolIcon"}function _o(n,a,o,c,p,y,_,Q,O,X,J,$){for(var te=n.context,le=te.gl,se=n.transform,be="map"===Q,oe="map"===O,_e=be&&"point"!==o.layout.get("symbol-placement"),Qe=be&&!oe&&!_e,Me=void 0!==o.layout.get("symbol-sort-key").constantOr(1),et=!1,Ze=n.depthModeForSublayer(0,re.ReadOnly),it=o.layout.get("text-variable-anchor"),ft=[],Bt=0,wt=c;Bt<wt.length;Bt+=1){var Pt=wt[Bt],qt=a.getTile(Pt),Jt=qt.getBucket(o);if(Jt){var $t=p?Jt.text:Jt.icon;if($t&&$t.segments.get().length){var Ur=$t.programConfigurations.get(o.id),Lt=p||Jt.sdfIcons,pr=p?Jt.textSizeData:Jt.iconSizeData,_r=oe||0!==se.pitch,hr=n.useProgram(Fa(Lt,p,Jt),Ur),ur=i.evaluateSizeForZoom(pr,se.zoom),yr=void 0,lr=[0,0],or=void 0,qn=void 0,_n=null,Gn=void 0;if(p)or=qt.glyphAtlasTexture,qn=le.LINEAR,yr=qt.glyphAtlasTexture.size,Jt.iconsInText&&(lr=qt.imageAtlasTexture.size,_n=qt.imageAtlasTexture,Gn=_r||n.options.rotating||n.options.zooming||"composite"===pr.kind||"camera"===pr.kind?le.LINEAR:le.NEAREST);else{var Jn=1!==o.layout.get("icon-size").constantOr(0)||Jt.iconsNeedLinear;or=qt.imageAtlasTexture,qn=Lt||n.options.rotating||n.options.zooming||Jn||_r?le.LINEAR:le.NEAREST,yr=qt.imageAtlasTexture.size}var bn=nn(qt,1,n.transform.zoom),h=An(Pt.posMatrix,oe,be,n.transform,bn),E=Sr(Pt.posMatrix,oe,be,n.transform,bn),D=it&&Jt.hasTextData(),H="none"!==o.layout.get("icon-text-fit")&&D&&Jt.hasIconData();_e&&jo(Jt,Pt.posMatrix,n,p,h,E,oe,X);var me=n.translatePosMatrix(Pt.posMatrix,qt,y,_),ke=_e||p&&it||H?wi:h,Re=n.translatePosMatrix(E,qt,y,_,!0),gt=Lt&&0!==o.paint.get(p?"text-halo-width":"icon-halo-width").constantOr(1),rr={program:hr,buffers:$t,uniformValues:Lt?Jt.iconsInText?la(pr.kind,ur,Qe,oe,n,me,ke,Re,yr,lr):ca(pr.kind,ur,Qe,oe,n,me,ke,Re,p,yr,!0):Ni(pr.kind,ur,Qe,oe,n,me,ke,Re,p,yr),atlasTexture:or,atlasTextureIcon:_n,atlasInterpolation:qn,atlasInterpolationIcon:Gn,isSDF:Lt,hasHalo:gt};if(Me&&Jt.canOverlap){et=!0;for(var Cr=0,Hn=$t.segments.get();Cr<Hn.length;Cr+=1){var Ao=Hn[Cr];ft.push({segments:new i.SegmentVector([Ao]),sortKey:Ao.sortKey,state:rr})}}else ft.push({segments:$t.segments,sortKey:0,state:rr})}}}et&&ft.sort(function(Ma,yA){return Ma.sortKey-yA.sortKey});for(var Li=0,ta=ft;Li<ta.length;Li+=1){var ra=ta[Li],oi=ra.state;if(te.activeTexture.set(le.TEXTURE0),oi.atlasTexture.bind(oi.atlasInterpolation,le.CLAMP_TO_EDGE),oi.atlasTextureIcon&&(te.activeTexture.set(le.TEXTURE1),oi.atlasTextureIcon&&oi.atlasTextureIcon.bind(oi.atlasInterpolationIcon,le.CLAMP_TO_EDGE)),oi.isSDF){var ya=oi.uniformValues;oi.hasHalo&&(ya.u_is_halo=1,Yo(oi.buffers,ra.segments,o,n,oi.program,Ze,J,$,ya)),ya.u_is_halo=0}Yo(oi.buffers,ra.segments,o,n,oi.program,Ze,J,$,oi.uniformValues)}}function Yo(n,a,o,c,p,y,_,Q,O){var X=c.context;p.draw(X,X.gl.TRIANGLES,y,_,Q,Ce.disabled,O,o.id,n.layoutVertexBuffer,n.indexBuffer,a,o.paint,c.transform.zoom,n.programConfigurations.get(o.id),n.dynamicLayoutVertexBuffer,n.opacityVertexBuffer)}function Qn(n,a,o,c,p,y,_){var Q,O,X,J,$,te=n.context.gl,le=o.paint.get("fill-pattern"),se=le&&le.constantOr(1),be=o.getCrossfadeParameters();_?(O=se&&!o.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",Q=te.LINES):(O=se?"fillPattern":"fill",Q=te.TRIANGLES);for(var oe=0,_e=c;oe<_e.length;oe+=1){var Qe=_e[oe],Me=a.getTile(Qe);if(!se||Me.patternsLoaded()){var et=Me.getBucket(o);if(et){var Ze=et.programConfigurations.get(o.id),it=n.useProgram(O,Ze);se&&(n.context.activeTexture.set(te.TEXTURE0),Me.imageAtlasTexture.bind(te.LINEAR,te.CLAMP_TO_EDGE),Ze.updatePaintBuffers(be));var ft=le.constantOr(null);if(ft&&Me.imageAtlas){var Bt=Me.imageAtlas,wt=Bt.patternPositions[ft.to.toString()],Pt=Bt.patternPositions[ft.from.toString()];wt&&Pt&&Ze.setConstantPatternPositions(wt,Pt)}var qt=n.translatePosMatrix(Qe.posMatrix,Me,o.paint.get("fill-translate"),o.paint.get("fill-translate-anchor"));if(_){J=et.indexBuffer2,$=et.segments2;var Jt=[te.drawingBufferWidth,te.drawingBufferHeight];X="fillOutlinePattern"===O&&se?iA(qt,n,be,Me,Jt):Ia(qt,Jt)}else J=et.indexBuffer,$=et.segments,X=se?vo(qt,n,be,Me):yo(qt);it.draw(n.context,Q,p,n.stencilModeForClipping(Qe),y,Ce.disabled,X,o.id,et.layoutVertexBuffer,J,$,o.paint,n.transform.zoom,Ze)}}}}function sA(n,a,o,c,p,y,_){for(var Q=n.context,O=Q.gl,X=o.paint.get("fill-extrusion-pattern"),J=X.constantOr(1),$=o.getCrossfadeParameters(),te=o.paint.get("fill-extrusion-opacity"),le=0,se=c;le<se.length;le+=1){var be=se[le],oe=a.getTile(be),_e=oe.getBucket(o);if(_e){var Qe=_e.programConfigurations.get(o.id),Me=n.useProgram(J?"fillExtrusionPattern":"fillExtrusion",Qe);J&&(n.context.activeTexture.set(O.TEXTURE0),oe.imageAtlasTexture.bind(O.LINEAR,O.CLAMP_TO_EDGE),Qe.updatePaintBuffers($));var et=X.constantOr(null);if(et&&oe.imageAtlas){var Ze=oe.imageAtlas,it=Ze.patternPositions[et.to.toString()],ft=Ze.patternPositions[et.from.toString()];it&&ft&&Qe.setConstantPatternPositions(it,ft)}var Bt=n.translatePosMatrix(be.posMatrix,oe,o.paint.get("fill-extrusion-translate"),o.paint.get("fill-extrusion-translate-anchor")),wt=o.paint.get("fill-extrusion-vertical-gradient"),Pt=J?mo(Bt,n,wt,te,be,$,oe):nA(Bt,n,wt,te);Me.draw(Q,Q.gl.TRIANGLES,p,y,_,Ce.backCCW,Pt,o.id,_e.layoutVertexBuffer,_e.indexBuffer,_e.segments,o.paint,n.transform.zoom,Qe)}}}function pa(n,a,o,c,p,y){var _=n.context,Q=_.gl,O=a.fbo;if(O){var X=n.useProgram("hillshade");_.activeTexture.set(Q.TEXTURE0),Q.bindTexture(Q.TEXTURE_2D,O.colorAttachment.get());var J=function($,te,le){var se=le.paint.get("hillshade-shadow-color"),be=le.paint.get("hillshade-highlight-color"),oe=le.paint.get("hillshade-accent-color"),_e=le.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===le.paint.get("hillshade-illumination-anchor")&&(_e-=$.transform.angle);var Qe,Me,et,Ze=!$.options.moving;return{u_matrix:$.transform.calculatePosMatrix(te.tileID.toUnwrapped(),Ze),u_image:0,u_latrange:(Qe=te.tileID,Me=Math.pow(2,Qe.canonical.z),et=Qe.canonical.y,[new i.MercatorCoordinate(0,et/Me).toLngLat().lat,new i.MercatorCoordinate(0,(et+1)/Me).toLngLat().lat]),u_light:[le.paint.get("hillshade-exaggeration"),_e],u_shadow:se,u_highlight:be,u_accent:oe}}(n,a,o);X.draw(_,Q.TRIANGLES,c,p,y,Ce.disabled,J,o.id,n.rasterBoundsBuffer,n.quadTriangleIndexBuffer,n.rasterBoundsSegments)}}function rs(n,a,o,c,p,y){var be,oe,_e,Qe,_=n.context,Q=_.gl,O=a.dem;if(O&&O.data){var X=O.dim,J=O.stride,$=O.getPixels();if(_.activeTexture.set(Q.TEXTURE1),_.pixelStoreUnpackPremultiplyAlpha.set(!1),a.demTexture=a.demTexture||n.getTileTexture(J),a.demTexture){var te=a.demTexture;te.update($,{premultiply:!1}),te.bind(Q.NEAREST,Q.CLAMP_TO_EDGE)}else a.demTexture=new i.Texture(_,$,Q.RGBA,{premultiply:!1}),a.demTexture.bind(Q.NEAREST,Q.CLAMP_TO_EDGE);_.activeTexture.set(Q.TEXTURE0);var le=a.fbo;if(!le){var se=new i.Texture(_,{width:X,height:X,data:null},Q.RGBA);se.bind(Q.LINEAR,Q.CLAMP_TO_EDGE),(le=a.fbo=_.createFramebuffer(X,X,!0)).colorAttachment.set(se.texture)}_.bindFramebuffer.set(le.framebuffer),_.viewport.set([0,0,X,X]),n.useProgram("hillshadePrepare").draw(_,Q.TRIANGLES,c,p,y,Ce.disabled,(be=a.tileID,_e=(oe=O).stride,Qe=i.create(),i.ortho(Qe,0,i.EXTENT,-i.EXTENT,0,0,1),i.translate(Qe,Qe,[0,-i.EXTENT,0]),{u_matrix:Qe,u_image:1,u_dimension:[_e,_e],u_zoom:be.overscaledZ,u_unpack:oe.getUnpackVector()}),o.id,n.rasterBoundsBuffer,n.quadTriangleIndexBuffer,n.rasterBoundsSegments),a.needsHillshadePrepare=!1}}function ka(n,a,o,c,p){var y=c.paint.get("raster-fade-duration");if(y>0){var _=i.browser.now(),Q=(_-n.timeAdded)/y,O=a?(_-a.timeAdded)/y:-1,X=o.getSource(),J=p.coveringZoomLevel({tileSize:X.tileSize,roundZoom:X.roundZoom}),$=!a||Math.abs(a.tileID.overscaledZ-J)>Math.abs(n.tileID.overscaledZ-J),te=$&&n.refreshedUponExpiration?1:i.clamp($?Q:1-O,0,1);return n.refreshedUponExpiration&&Q>=1&&(n.refreshedUponExpiration=!1),a?{opacity:1,mix:1-te}:{opacity:te,mix:0}}return{opacity:1,mix:0}}var ha=new i.Color(1,0,0,1),Oo=new i.Color(0,1,0,1),ro=new i.Color(0,0,1,1),di=new i.Color(1,0,1,1),cA=new i.Color(0,1,1,1);function lA(n,a,o,c){Lo(n,0,a+o/2,n.transform.width,o,c)}function fa(n,a,o,c){Lo(n,a-o/2,0,o,n.transform.height,c)}function Lo(n,a,o,c,p,y){var _=n.context,Q=_.gl;Q.enable(Q.SCISSOR_TEST),Q.scissor(a*i.browser.devicePixelRatio,o*i.browser.devicePixelRatio,c*i.browser.devicePixelRatio,p*i.browser.devicePixelRatio),_.clear({color:y}),Q.disable(Q.SCISSOR_TEST)}function OA(n,a,o){var c=n.context,p=c.gl,y=o.posMatrix,_=n.useProgram("debug"),Q=re.disabled,O=ae.disabled,X=n.colorModeForRenderPass();c.activeTexture.set(p.TEXTURE0),n.emptyTexture.bind(p.LINEAR,p.CLAMP_TO_EDGE),_.draw(c,p.LINE_STRIP,Q,O,X,Ce.disabled,jn(y,i.Color.red),"$debug",n.debugBuffer,n.tileBorderIndexBuffer,n.debugSegments);var J=a.getTileByID(o.key).latestRawTileData,$=Math.floor((J&&J.byteLength||0)/1024),te=a.getTile(o).tileSize,le=512/Math.min(te,512)*(o.overscaledZ/n.transform.zoom)*.5,se=o.canonical.toString();o.overscaledZ!==o.canonical.z&&(se+=" => "+o.overscaledZ),function(be,oe){be.initDebugOverlayCanvas();var _e=be.debugOverlayCanvas,Qe=be.context.gl,Me=be.debugOverlayCanvas.getContext("2d");Me.clearRect(0,0,_e.width,_e.height),Me.shadowColor="white",Me.shadowBlur=2,Me.lineWidth=1.5,Me.strokeStyle="white",Me.textBaseline="top",Me.font="bold 36px Open Sans, sans-serif",Me.fillText(oe,5,5),Me.strokeText(oe,5,5),be.debugOverlayTexture.update(_e),be.debugOverlayTexture.bind(Qe.LINEAR,Qe.CLAMP_TO_EDGE)}(n,se+" "+$+"kb"),_.draw(c,p.TRIANGLES,Q,O,we.alphaBlended,Ce.disabled,jn(y,i.Color.transparent,le),"$debug",n.debugBuffer,n.quadTriangleIndexBuffer,n.debugSegments)}var bo={symbol:function(n,a,o,c,p){if("translucent"===n.renderPass){var y=ae.disabled,_=n.colorModeForRenderPass();o.layout.get("text-variable-anchor")&&function(Q,O,X,J,$,te,le){for(var se=O.transform,be="map"===$,oe="map"===te,_e=0,Qe=Q;_e<Qe.length;_e+=1){var Me=Qe[_e],et=J.getTile(Me),Ze=et.getBucket(X);if(Ze&&Ze.text&&Ze.text.segments.get().length){var it=i.evaluateSizeForZoom(Ze.textSizeData,se.zoom),ft=nn(et,1,O.transform.zoom),Bt=An(Me.posMatrix,oe,be,O.transform,ft),wt="none"!==X.layout.get("icon-text-fit")&&Ze.hasIconData();if(it){var Pt=Math.pow(2,se.zoom-et.tileID.overscaledZ);Vo(Ze,be,oe,le,i.symbolSize,se,Bt,Me.posMatrix,Pt,it,wt)}}}}(c,n,o,a,o.layout.get("text-rotation-alignment"),o.layout.get("text-pitch-alignment"),p),0!==o.paint.get("icon-opacity").constantOr(1)&&_o(n,a,o,c,!1,o.paint.get("icon-translate"),o.paint.get("icon-translate-anchor"),o.layout.get("icon-rotation-alignment"),o.layout.get("icon-pitch-alignment"),o.layout.get("icon-keep-upright"),y,_),0!==o.paint.get("text-opacity").constantOr(1)&&_o(n,a,o,c,!0,o.paint.get("text-translate"),o.paint.get("text-translate-anchor"),o.layout.get("text-rotation-alignment"),o.layout.get("text-pitch-alignment"),o.layout.get("text-keep-upright"),y,_),a.map.showCollisionBoxes&&(Wn(n,a,o,c,o.paint.get("text-translate"),o.paint.get("text-translate-anchor"),!0),Wn(n,a,o,c,o.paint.get("icon-translate"),o.paint.get("icon-translate-anchor"),!1))}},circle:function(n,a,o,c){if("translucent"===n.renderPass){var p=o.paint.get("circle-opacity"),y=o.paint.get("circle-stroke-width"),_=o.paint.get("circle-stroke-opacity"),Q=void 0!==o.layout.get("circle-sort-key").constantOr(1);if(0!==p.constantOr(1)||0!==y.constantOr(1)&&0!==_.constantOr(1)){for(var O=n.context,X=O.gl,J=n.depthModeForSublayer(0,re.ReadOnly),$=ae.disabled,te=n.colorModeForRenderPass(),le=[],se=0;se<c.length;se++){var be=c[se],oe=a.getTile(be),_e=oe.getBucket(o);if(_e){var Qe=_e.programConfigurations.get(o.id),Me={programConfiguration:Qe,program:n.useProgram("circle",Qe),layoutVertexBuffer:_e.layoutVertexBuffer,indexBuffer:_e.indexBuffer,uniformValues:Qa(n,be,oe,o)};if(Q)for(var et=0,Ze=_e.segments.get();et<Ze.length;et+=1){var it=Ze[et];le.push({segments:new i.SegmentVector([it]),sortKey:it.sortKey,state:Me})}else le.push({segments:_e.segments,sortKey:0,state:Me})}}Q&&le.sort(function(qt,Jt){return qt.sortKey-Jt.sortKey});for(var ft=0,Bt=le;ft<Bt.length;ft+=1){var wt=Bt[ft],Pt=wt.state;Pt.program.draw(O,X.TRIANGLES,J,$,te,Ce.disabled,Pt.uniformValues,o.id,Pt.layoutVertexBuffer,Pt.indexBuffer,wt.segments,o.paint,n.transform.zoom,Pt.programConfiguration)}}}},heatmap:function(n,a,o,c){if(0!==o.paint.get("heatmap-opacity"))if("offscreen"===n.renderPass){var p=n.context,y=p.gl,_=ae.disabled,Q=new we([y.ONE,y.ONE],i.Color.transparent,[!0,!0,!0,!0]);(function(le,se,be){var oe=le.gl;le.activeTexture.set(oe.TEXTURE1),le.viewport.set([0,0,se.width/4,se.height/4]);var Me,et,Ze,it,ft,_e=be.heatmapFbo;if(_e)oe.bindTexture(oe.TEXTURE_2D,_e.colorAttachment.get()),le.bindFramebuffer.set(_e.framebuffer);else{var Qe=oe.createTexture();oe.bindTexture(oe.TEXTURE_2D,Qe),oe.texParameteri(oe.TEXTURE_2D,oe.TEXTURE_WRAP_S,oe.CLAMP_TO_EDGE),oe.texParameteri(oe.TEXTURE_2D,oe.TEXTURE_WRAP_T,oe.CLAMP_TO_EDGE),oe.texParameteri(oe.TEXTURE_2D,oe.TEXTURE_MIN_FILTER,oe.LINEAR),oe.texParameteri(oe.TEXTURE_2D,oe.TEXTURE_MAG_FILTER,oe.LINEAR),Ze=Qe,it=_e=be.heatmapFbo=le.createFramebuffer(se.width/4,se.height/4,!1),(ft=(Me=le).gl).texImage2D(ft.TEXTURE_2D,0,ft.RGBA,(et=se).width/4,et.height/4,0,ft.RGBA,Me.extRenderToTextureHalfFloat?Me.extTextureHalfFloat.HALF_FLOAT_OES:ft.UNSIGNED_BYTE,null),it.colorAttachment.set(Ze)}})(p,n,o),p.clear({color:i.Color.transparent});for(var O=0;O<c.length;O++){var X=c[O];if(!a.hasRenderableParent(X)){var J=a.getTile(X),$=J.getBucket(o);if($){var te=$.programConfigurations.get(o.id);n.useProgram("heatmap",te).draw(p,y.TRIANGLES,re.disabled,_,Q,Ce.disabled,aA(X.posMatrix,J,n.transform.zoom,o.paint.get("heatmap-intensity")),o.id,$.layoutVertexBuffer,$.indexBuffer,$.segments,o.paint,n.transform.zoom,te)}}}p.viewport.set([0,0,n.width,n.height])}else"translucent"===n.renderPass&&(n.context.setColorMode(n.colorModeForRenderPass()),function(le,se){var be=le.context,oe=be.gl,_e=se.heatmapFbo;if(_e){be.activeTexture.set(oe.TEXTURE0),oe.bindTexture(oe.TEXTURE_2D,_e.colorAttachment.get()),be.activeTexture.set(oe.TEXTURE1);var Qe=se.colorRampTexture;Qe||(Qe=se.colorRampTexture=new i.Texture(be,se.colorRamp,oe.RGBA)),Qe.bind(oe.LINEAR,oe.CLAMP_TO_EDGE),le.useProgram("heatmapTexture").draw(be,oe.TRIANGLES,re.disabled,ae.disabled,le.colorModeForRenderPass(),Ce.disabled,function(Me,et,Ze,it){var ft=i.create();i.ortho(ft,0,Me.width,Me.height,0,0,1);var Bt=Me.context.gl;return{u_matrix:ft,u_world:[Bt.drawingBufferWidth,Bt.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:et.paint.get("heatmap-opacity")}}(le,se),se.id,le.viewportBuffer,le.quadTriangleIndexBuffer,le.viewportSegments,se.paint,le.transform.zoom)}}(n,o))},line:function(n,a,o,c){if("translucent"===n.renderPass){var p=o.paint.get("line-opacity"),y=o.paint.get("line-width");if(0!==p.constantOr(1)&&0!==y.constantOr(1))for(var _=n.depthModeForSublayer(0,re.ReadOnly),Q=n.colorModeForRenderPass(),O=o.paint.get("line-dasharray"),X=o.paint.get("line-pattern"),J=X.constantOr(1),$=o.paint.get("line-gradient"),te=o.getCrossfadeParameters(),le=J?"linePattern":O?"lineSDF":$?"lineGradient":"line",se=n.context,be=se.gl,oe=!0,_e=0,Qe=c;_e<Qe.length;_e+=1){var Me=Qe[_e],et=a.getTile(Me);if(!J||et.patternsLoaded()){var Ze=et.getBucket(o);if(Ze){var it=Ze.programConfigurations.get(o.id),ft=n.context.program.get(),Bt=n.useProgram(le,it),wt=oe||Bt.program!==ft,Pt=X.constantOr(null);if(Pt&&et.imageAtlas){var qt=et.imageAtlas,Jt=qt.patternPositions[Pt.to.toString()],$t=qt.patternPositions[Pt.from.toString()];Jt&&$t&&it.setConstantPatternPositions(Jt,$t)}var Ur=J?sa(n,et,o,te):O?es(n,et,o,O,te):$?on(n,et,o,Ze.lineClipsArray.length):To(n,et,o);if(J)se.activeTexture.set(be.TEXTURE0),et.imageAtlasTexture.bind(be.LINEAR,be.CLAMP_TO_EDGE),it.updatePaintBuffers(te);else if(O&&(wt||n.lineAtlas.dirty))se.activeTexture.set(be.TEXTURE0),n.lineAtlas.bind(se);else if($){var Lt=Ze.gradients[o.id],pr=Lt.texture;if(o.gradientVersion!==Lt.version){var _r=256;if(o.stepInterpolant){var hr=a.getSource().maxzoom,ur=Me.canonical.z===hr?Math.ceil(1<<n.transform.maxZoom-Me.canonical.z):1;_r=i.clamp(i.nextPowerOfTwo(Ze.maxLineLength/i.EXTENT*1024*ur),256,se.maxTextureSize)}Lt.gradient=i.renderColorRamp({expression:o.gradientExpression(),evaluationKey:"lineProgress",resolution:_r,image:Lt.gradient||void 0,clips:Ze.lineClipsArray}),Lt.texture?Lt.texture.update(Lt.gradient):Lt.texture=new i.Texture(se,Lt.gradient,be.RGBA),Lt.version=o.gradientVersion,pr=Lt.texture}se.activeTexture.set(be.TEXTURE0),pr.bind(o.stepInterpolant?be.NEAREST:be.LINEAR,be.CLAMP_TO_EDGE)}Bt.draw(se,be.TRIANGLES,_,n.stencilModeForClipping(Me),Q,Ce.disabled,Ur,o.id,Ze.layoutVertexBuffer,Ze.indexBuffer,Ze.segments,o.paint,n.transform.zoom,it,Ze.layoutVertexBuffer2),oe=!1}}}}},fill:function(n,a,o,c){var p=o.paint.get("fill-color"),y=o.paint.get("fill-opacity");if(0!==y.constantOr(1)){var _=n.colorModeForRenderPass(),Q=o.paint.get("fill-pattern"),O=n.opaquePassEnabledForLayer()&&!Q.constantOr(1)&&1===p.constantOr(i.Color.transparent).a&&1===y.constantOr(0)?"opaque":"translucent";if(n.renderPass===O){var X=n.depthModeForSublayer(1,"opaque"===n.renderPass?re.ReadWrite:re.ReadOnly);Qn(n,a,o,c,X,_,!1)}if("translucent"===n.renderPass&&o.paint.get("fill-antialias")){var J=n.depthModeForSublayer(o.getPaintProperty("fill-outline-color")?2:0,re.ReadOnly);Qn(n,a,o,c,J,_,!0)}}},"fill-extrusion":function(n,a,o,c){var p=o.paint.get("fill-extrusion-opacity");if(0!==p&&"translucent"===n.renderPass){var y=new re(n.context.gl.LEQUAL,re.ReadWrite,n.depthRangeFor3D);if(1!==p||o.paint.get("fill-extrusion-pattern").constantOr(1))sA(n,a,o,c,y,ae.disabled,we.disabled),sA(n,a,o,c,y,n.stencilModeFor3D(),n.colorModeForRenderPass());else{var _=n.colorModeForRenderPass();sA(n,a,o,c,y,ae.disabled,_)}}},hillshade:function(n,a,o,c){if("offscreen"===n.renderPass||"translucent"===n.renderPass){for(var p=n.context,y=n.depthModeForSublayer(0,re.ReadOnly),_=n.colorModeForRenderPass(),Q="translucent"===n.renderPass?n.stencilConfigForOverlap(c):[{},c],O=Q[0],X=0,J=Q[1];X<J.length;X+=1){var $=J[X],te=a.getTile($);te.needsHillshadePrepare&&"offscreen"===n.renderPass?rs(n,te,o,y,ae.disabled,_):"translucent"===n.renderPass&&pa(n,te,o,y,O[$.overscaledZ],_)}p.viewport.set([0,0,n.width,n.height])}},raster:function(n,a,o,c){if("translucent"===n.renderPass&&0!==o.paint.get("raster-opacity")&&c.length)for(var p=n.context,y=p.gl,_=a.getSource(),Q=n.useProgram("raster"),O=n.colorModeForRenderPass(),X=_ instanceof Oe?[{},c]:n.stencilConfigForOverlap(c),J=X[0],$=X[1],te=$[$.length-1].overscaledZ,le=!n.options.moving,se=0,be=$;se<be.length;se+=1){var oe=be[se],_e=n.depthModeForSublayer(oe.overscaledZ-te,1===o.paint.get("raster-opacity")?re.ReadWrite:re.ReadOnly,y.LESS),Qe=a.getTile(oe),Me=n.transform.calculatePosMatrix(oe.toUnwrapped(),le);Qe.registerFadeDuration(o.paint.get("raster-fade-duration"));var et=a.findLoadedParent(oe,0),Ze=ka(Qe,et,a,o,n.transform),it=void 0,ft=void 0,Bt="nearest"===o.paint.get("raster-resampling")?y.NEAREST:y.LINEAR;p.activeTexture.set(y.TEXTURE0),Qe.texture.bind(Bt,y.CLAMP_TO_EDGE,y.LINEAR_MIPMAP_NEAREST),p.activeTexture.set(y.TEXTURE1),et?(et.texture.bind(Bt,y.CLAMP_TO_EDGE,y.LINEAR_MIPMAP_NEAREST),it=Math.pow(2,et.tileID.overscaledZ-Qe.tileID.overscaledZ),ft=[Qe.tileID.canonical.x*it%1,Qe.tileID.canonical.y*it%1]):Qe.texture.bind(Bt,y.CLAMP_TO_EDGE,y.LINEAR_MIPMAP_NEAREST);var wt=ts(Me,ft||[0,0],it||1,Ze,o);_ instanceof Oe?Q.draw(p,y.TRIANGLES,_e,ae.disabled,O,Ce.disabled,wt,o.id,_.boundsBuffer,n.quadTriangleIndexBuffer,_.boundsSegments):Q.draw(p,y.TRIANGLES,_e,J[oe.overscaledZ],O,Ce.disabled,wt,o.id,n.rasterBoundsBuffer,n.quadTriangleIndexBuffer,n.rasterBoundsSegments)}},background:function(n,a,o){var c=o.paint.get("background-color"),p=o.paint.get("background-opacity");if(0!==p){var y=n.context,_=y.gl,Q=n.transform,O=Q.tileSize,X=o.paint.get("background-pattern");if(!n.isPatternMissing(X)){var J=!X&&1===c.a&&1===p&&n.opaquePassEnabledForLayer()?"opaque":"translucent";if(n.renderPass===J){var $=ae.disabled,te=n.depthModeForSublayer(0,"opaque"===J?re.ReadWrite:re.ReadOnly),le=n.colorModeForRenderPass(),se=n.useProgram(X?"backgroundPattern":"background"),be=Q.coveringTiles({tileSize:O});X&&(y.activeTexture.set(_.TEXTURE0),n.imageManager.bind(n.context));for(var oe=o.getCrossfadeParameters(),_e=0,Qe=be;_e<Qe.length;_e+=1){var Me=Qe[_e],et=n.transform.calculatePosMatrix(Me.toUnwrapped()),Ze=X?Xo(et,p,n,X,{tileID:Me,tileSize:O},oe):ua(et,p,c);se.draw(y,_.TRIANGLES,te,$,le,Ce.disabled,Ze,o.id,n.tileExtentBuffer,n.quadTriangleIndexBuffer,n.tileExtentSegments)}}}}},debug:function(n,a,o){for(var c=0;c<o.length;c++)OA(n,a,o[c])},custom:function(n,a,o){var c=n.context,p=o.implementation;if("offscreen"===n.renderPass){var y=p.prerender;y&&(n.setCustomLayerDefaults(),c.setColorMode(n.colorModeForRenderPass()),y.call(p,c.gl,n.transform.customLayerMatrix()),c.setDirty(),n.setBaseState())}else if("translucent"===n.renderPass){n.setCustomLayerDefaults(),c.setColorMode(n.colorModeForRenderPass()),c.setStencilMode(ae.disabled);var _="3d"===p.renderingMode?new re(n.context.gl.LEQUAL,re.ReadWrite,n.depthRangeFor3D):n.depthModeForSublayer(0,re.ReadOnly);c.setDepthMode(_),p.render(c.gl,n.transform.customLayerMatrix()),c.setDirty(),n.setBaseState(),c.bindFramebuffer.set(null)}}},Zr=function(n,a){this.context=new ee(n),this.transform=a,this._tileTextures={},this.setup(),this.numSublayers=ue.maxUnderzooming+ue.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new uo,this.gpuTimers={}};Zr.prototype.resize=function(n,a){if(this.width=n*i.browser.devicePixelRatio,this.height=a*i.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var o=0,c=this.style._order;o<c.length;o+=1)this.style._layers[c[o]].resize()},Zr.prototype.setup=function(){var n=this.context,a=new i.StructArrayLayout2i4;a.emplaceBack(0,0),a.emplaceBack(i.EXTENT,0),a.emplaceBack(0,i.EXTENT),a.emplaceBack(i.EXTENT,i.EXTENT),this.tileExtentBuffer=n.createVertexBuffer(a,Cn.members),this.tileExtentSegments=i.SegmentVector.simpleSegment(0,0,4,2);var o=new i.StructArrayLayout2i4;o.emplaceBack(0,0),o.emplaceBack(i.EXTENT,0),o.emplaceBack(0,i.EXTENT),o.emplaceBack(i.EXTENT,i.EXTENT),this.debugBuffer=n.createVertexBuffer(o,Cn.members),this.debugSegments=i.SegmentVector.simpleSegment(0,0,4,5);var c=new i.StructArrayLayout4i8;c.emplaceBack(0,0,0,0),c.emplaceBack(i.EXTENT,0,i.EXTENT,0),c.emplaceBack(0,i.EXTENT,0,i.EXTENT),c.emplaceBack(i.EXTENT,i.EXTENT,i.EXTENT,i.EXTENT),this.rasterBoundsBuffer=n.createVertexBuffer(c,tr.members),this.rasterBoundsSegments=i.SegmentVector.simpleSegment(0,0,4,2);var p=new i.StructArrayLayout2i4;p.emplaceBack(0,0),p.emplaceBack(1,0),p.emplaceBack(0,1),p.emplaceBack(1,1),this.viewportBuffer=n.createVertexBuffer(p,Cn.members),this.viewportSegments=i.SegmentVector.simpleSegment(0,0,4,2);var y=new i.StructArrayLayout1ui2;y.emplaceBack(0),y.emplaceBack(1),y.emplaceBack(3),y.emplaceBack(2),y.emplaceBack(0),this.tileBorderIndexBuffer=n.createIndexBuffer(y);var _=new i.StructArrayLayout3ui6;_.emplaceBack(0,1,2),_.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=n.createIndexBuffer(_),this.emptyTexture=new i.Texture(n,{width:1,height:1,data:new Uint8Array([0,0,0,0])},n.gl.RGBA);var Q=this.context.gl;this.stencilClearMode=new ae({func:Q.ALWAYS,mask:0},0,255,Q.ZERO,Q.ZERO,Q.ZERO)},Zr.prototype.clearStencil=function(){var n=this.context,a=n.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var o=i.create();i.ortho(o,0,this.width,this.height,0,0,1),i.scale(o,o,[a.drawingBufferWidth,a.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(n,a.TRIANGLES,re.disabled,this.stencilClearMode,we.disabled,Ce.disabled,Do(o),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},Zr.prototype._renderTileClippingMasks=function(n,a){if(this.currentStencilSource!==n.source&&n.isTileClipped()&&a&&a.length){this.currentStencilSource=n.source;var o=this.context,c=o.gl;this.nextStencilID+a.length>256&&this.clearStencil(),o.setColorMode(we.disabled),o.setDepthMode(re.disabled);var p=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var y=0,_=a;y<_.length;y+=1){var Q=_[y],O=this._tileClippingMaskIDs[Q.key]=this.nextStencilID++;p.draw(o,c.TRIANGLES,re.disabled,new ae({func:c.ALWAYS,mask:0},O,255,c.KEEP,c.KEEP,c.REPLACE),we.disabled,Ce.disabled,Do(Q.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},Zr.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var n=this.nextStencilID++,a=this.context.gl;return new ae({func:a.NOTEQUAL,mask:255},n,255,a.KEEP,a.KEEP,a.REPLACE)},Zr.prototype.stencilModeForClipping=function(n){var a=this.context.gl;return new ae({func:a.EQUAL,mask:255},this._tileClippingMaskIDs[n.key],0,a.KEEP,a.KEEP,a.REPLACE)},Zr.prototype.stencilConfigForOverlap=function(n){var a,o=this.context.gl,c=n.sort(function(O,X){return X.overscaledZ-O.overscaledZ}),p=c[c.length-1].overscaledZ,y=c[0].overscaledZ-p+1;if(y>1){this.currentStencilSource=void 0,this.nextStencilID+y>256&&this.clearStencil();for(var _={},Q=0;Q<y;Q++)_[Q+p]=new ae({func:o.GEQUAL,mask:255},Q+this.nextStencilID,255,o.KEEP,o.KEEP,o.REPLACE);return this.nextStencilID+=y,[_,c]}return[(a={},a[p]=ae.disabled,a),c]},Zr.prototype.colorModeForRenderPass=function(){var n=this.context.gl;return this._showOverdrawInspector?new we([n.CONSTANT_COLOR,n.ONE],new i.Color(.125,.125,.125,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?we.unblended:we.alphaBlended},Zr.prototype.depthModeForSublayer=function(n,a,o){if(!this.opaquePassEnabledForLayer())return re.disabled;var c=1-((1+this.currentLayer)*this.numSublayers+n)*this.depthEpsilon;return new re(o||this.context.gl.LEQUAL,a,[c,c])},Zr.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},Zr.prototype.render=function(n,a){var o=this;this.style=n,this.options=a,this.lineAtlas=n.lineAtlas,this.imageManager=n.imageManager,this.glyphManager=n.glyphManager,this.symbolFadeChange=n.placement.symbolFadeChange(i.browser.now()),this.imageManager.beginFrame();var c=this.style._order,p=this.style.sourceCaches;for(var y in p){var _=p[y];_.used&&_.prepare(this.context)}var Q,O,X={},J={},$={};for(var te in p){var le=p[te];X[te]=le.getVisibleCoordinates(),J[te]=X[te].slice().reverse(),$[te]=le.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var se=0;se<c.length;se++)if(this.style._layers[c[se]].is3D()){this.opaquePassCutoff=se;break}this.renderPass="offscreen";for(var be=0,oe=c;be<oe.length;be+=1){var _e=this.style._layers[oe[be]];if(_e.hasOffscreenPass()&&!_e.isHidden(this.transform.zoom)){var Qe=J[_e.source];("custom"===_e.type||Qe.length)&&this.renderLayer(this,p[_e.source],_e,Qe)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:a.showOverdrawInspector?i.Color.black:i.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=a.showOverdrawInspector,this.depthRangeFor3D=[0,1-(n._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=c.length-1;this.currentLayer>=0;this.currentLayer--){var Me=this.style._layers[c[this.currentLayer]],et=p[Me.source],Ze=X[Me.source];this._renderTileClippingMasks(Me,Ze),this.renderLayer(this,et,Me,Ze)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<c.length;this.currentLayer++){var it=this.style._layers[c[this.currentLayer]],ft=p[it.source],Bt=("symbol"===it.type?$:J)[it.source];this._renderTileClippingMasks(it,X[it.source]),this.renderLayer(this,ft,it,Bt)}this.options.showTileBoundaries&&(i.values(this.style._layers).forEach(function(wt){wt.source&&!wt.isHidden(o.transform.zoom)&&(wt.source!==(O&&O.id)&&(O=o.style.sourceCaches[wt.source]),(!Q||Q.getSource().maxzoom<O.getSource().maxzoom)&&(Q=O))}),Q&&bo.debug(this,Q,Q.getVisibleCoordinates())),this.options.showPadding&&function(wt){var Pt=wt.transform.padding;lA(wt,wt.transform.height-(Pt.top||0),3,ha),lA(wt,Pt.bottom||0,3,Oo),fa(wt,Pt.left||0,3,ro),fa(wt,wt.transform.width-(Pt.right||0),3,di);var Jt,$t,Ur,Lt,qt=wt.transform.centerPoint;Lo(Jt=wt,($t=qt.x)-1,(Ur=wt.transform.height-qt.y)-10,2,20,Lt=cA),Lo(Jt,$t-10,Ur-1,20,2,Lt)}(this),this.context.setDefault()},Zr.prototype.renderLayer=function(n,a,o,c){o.isHidden(this.transform.zoom)||("background"===o.type||"custom"===o.type||c.length)&&(this.id=o.id,this.gpuTimingStart(o),bo[o.type](n,a,o,c,this.style.placement.variableOffsets),this.gpuTimingEnd())},Zr.prototype.gpuTimingStart=function(n){if(this.options.gpuTiming){var a=this.context.extTimerQuery,o=this.gpuTimers[n.id];o||(o=this.gpuTimers[n.id]={calls:0,cpuTime:0,query:a.createQueryEXT()}),o.calls++,a.beginQueryEXT(a.TIME_ELAPSED_EXT,o.query)}},Zr.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var n=this.context.extTimerQuery;n.endQueryEXT(n.TIME_ELAPSED_EXT)}},Zr.prototype.collectGpuTimers=function(){var n=this.gpuTimers;return this.gpuTimers={},n},Zr.prototype.queryGpuTimers=function(n){var a={};for(var o in n){var c=n[o],p=this.context.extTimerQuery,y=p.getQueryObjectEXT(c.query,p.QUERY_RESULT_EXT)/1e6;p.deleteQueryEXT(c.query),a[o]=y}return a},Zr.prototype.translatePosMatrix=function(n,a,o,c,p){if(!o[0]&&!o[1])return n;var y=p?"map"===c?this.transform.angle:0:"viewport"===c?-this.transform.angle:0;if(y){var _=Math.sin(y),Q=Math.cos(y);o=[o[0]*Q-o[1]*_,o[0]*_+o[1]*Q]}var O=[p?o[0]:nn(a,o[0],this.transform.zoom),p?o[1]:nn(a,o[1],this.transform.zoom),0],X=new Float32Array(16);return i.translate(X,n,O),X},Zr.prototype.saveTileTexture=function(n){var a=this._tileTextures[n.size[0]];a?a.push(n):this._tileTextures[n.size[0]]=[n]},Zr.prototype.getTileTexture=function(n){var a=this._tileTextures[n];return a&&a.length>0?a.pop():null},Zr.prototype.isPatternMissing=function(n){if(!n)return!1;if(!n.from||!n.to)return!0;var a=this.imageManager.getPattern(n.from.toString()),o=this.imageManager.getPattern(n.to.toString());return!a||!o},Zr.prototype.useProgram=function(n,a){this.cache=this.cache||{};var o=""+n+(a?a.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[o]||(this.cache[o]=new rA(this.context,n,Ea[n],a,Uo[n],this._showOverdrawInspector)),this.cache[o]},Zr.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},Zr.prototype.setBaseState=function(){var n=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(n.FUNC_ADD)},Zr.prototype.initDebugOverlayCanvas=function(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=i.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new i.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))},Zr.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var qo=function(n,a){this.points=n,this.planes=a};qo.fromInvProjectionMatrix=function(n,a,o){var c=Math.pow(2,o),p=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(function(_){return i.transformMat4([],_,n)}).map(function(_){return i.scale$1([],_,1/_[3]/a*c)}),y=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(function(_){var Q=i.sub([],p[_[0]],p[_[1]]),O=i.sub([],p[_[2]],p[_[1]]),X=i.normalize([],i.cross([],Q,O)),J=-i.dot(X,p[_[1]]);return X.concat(J)});return new qo(p,y)};var no=function(n,a){this.min=n,this.max=a,this.center=i.scale$2([],i.add([],this.min,this.max),.5)};no.prototype.quadrant=function(n){for(var a=[n%2==0,n<2],o=i.clone$2(this.min),c=i.clone$2(this.max),p=0;p<a.length;p++)o[p]=a[p]?this.min[p]:this.center[p],c[p]=a[p]?this.center[p]:this.max[p];return c[2]=this.max[2],new no(o,c)},no.prototype.distanceX=function(n){return Math.max(Math.min(this.max[0],n[0]),this.min[0])-n[0]},no.prototype.distanceY=function(n){return Math.max(Math.min(this.max[1],n[1]),this.min[1])-n[1]},no.prototype.intersects=function(n){for(var a=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],o=!0,c=0;c<n.planes.length;c++){for(var p=n.planes[c],y=0,_=0;_<a.length;_++)y+=i.dot$1(p,a[_])>=0;if(0===y)return 0;y!==a.length&&(o=!1)}if(o)return 2;for(var Q=0;Q<3;Q++){for(var O=Number.MAX_VALUE,X=-Number.MAX_VALUE,J=0;J<n.points.length;J++){var $=n.points[J][Q]-this.min[Q];O=Math.min(O,$),X=Math.max(X,$)}if(X<0||O>this.max[Q]-this.min[Q])return 0}return 1};var R=function(n,a,o,c){if(void 0===n&&(n=0),void 0===a&&(a=0),void 0===o&&(o=0),void 0===c&&(c=0),isNaN(n)||n<0||isNaN(a)||a<0||isNaN(o)||o<0||isNaN(c)||c<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=n,this.bottom=a,this.left=o,this.right=c};R.prototype.interpolate=function(n,a,o){return null!=a.top&&null!=n.top&&(this.top=i.number(n.top,a.top,o)),null!=a.bottom&&null!=n.bottom&&(this.bottom=i.number(n.bottom,a.bottom,o)),null!=a.left&&null!=n.left&&(this.left=i.number(n.left,a.left,o)),null!=a.right&&null!=n.right&&(this.right=i.number(n.right,a.right,o)),this},R.prototype.getCenter=function(n,a){var o=i.clamp((this.left+n-this.right)/2,0,n),c=i.clamp((this.top+a-this.bottom)/2,0,a);return new i.Point(o,c)},R.prototype.equals=function(n){return this.top===n.top&&this.bottom===n.bottom&&this.left===n.left&&this.right===n.right},R.prototype.clone=function(){return new R(this.top,this.bottom,this.left,this.right)},R.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var z=function(n,a,o,c,p){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===p||p,this._minZoom=n||0,this._maxZoom=a||22,this._minPitch=o??0,this._maxPitch=c??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new i.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new R,this._posMatrixCache={},this._alignedPosMatrixCache={}},V={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};z.prototype.clone=function(){var n=new z(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return n.tileSize=this.tileSize,n.latRange=this.latRange,n.width=this.width,n.height=this.height,n._center=this._center,n.zoom=this.zoom,n.angle=this.angle,n._fov=this._fov,n._pitch=this._pitch,n._unmodified=this._unmodified,n._edgeInsets=this._edgeInsets.clone(),n._calcMatrices(),n},V.minZoom.get=function(){return this._minZoom},V.minZoom.set=function(n){this._minZoom!==n&&(this._minZoom=n,this.zoom=Math.max(this.zoom,n))},V.maxZoom.get=function(){return this._maxZoom},V.maxZoom.set=function(n){this._maxZoom!==n&&(this._maxZoom=n,this.zoom=Math.min(this.zoom,n))},V.minPitch.get=function(){return this._minPitch},V.minPitch.set=function(n){this._minPitch!==n&&(this._minPitch=n,this.pitch=Math.max(this.pitch,n))},V.maxPitch.get=function(){return this._maxPitch},V.maxPitch.set=function(n){this._maxPitch!==n&&(this._maxPitch=n,this.pitch=Math.min(this.pitch,n))},V.renderWorldCopies.get=function(){return this._renderWorldCopies},V.renderWorldCopies.set=function(n){void 0===n?n=!0:null===n&&(n=!1),this._renderWorldCopies=n},V.worldSize.get=function(){return this.tileSize*this.scale},V.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},V.size.get=function(){return new i.Point(this.width,this.height)},V.bearing.get=function(){return-this.angle/Math.PI*180},V.bearing.set=function(n){var a=-i.wrap(n,-180,180)*Math.PI/180;this.angle!==a&&(this._unmodified=!1,this.angle=a,this._calcMatrices(),this.rotationMatrix=i.create$2(),i.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},V.pitch.get=function(){return this._pitch/Math.PI*180},V.pitch.set=function(n){var a=i.clamp(n,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==a&&(this._unmodified=!1,this._pitch=a,this._calcMatrices())},V.fov.get=function(){return this._fov/Math.PI*180},V.fov.set=function(n){n=Math.max(.01,Math.min(60,n)),this._fov!==n&&(this._unmodified=!1,this._fov=n/180*Math.PI,this._calcMatrices())},V.zoom.get=function(){return this._zoom},V.zoom.set=function(n){var a=Math.min(Math.max(n,this.minZoom),this.maxZoom);this._zoom!==a&&(this._unmodified=!1,this._zoom=a,this.scale=this.zoomScale(a),this.tileZoom=Math.floor(a),this.zoomFraction=a-this.tileZoom,this._constrain(),this._calcMatrices())},V.center.get=function(){return this._center},V.center.set=function(n){n.lat===this._center.lat&&n.lng===this._center.lng||(this._unmodified=!1,this._center=n,this._constrain(),this._calcMatrices())},V.padding.get=function(){return this._edgeInsets.toJSON()},V.padding.set=function(n){this._edgeInsets.equals(n)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,n,1),this._calcMatrices())},V.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},z.prototype.isPaddingEqual=function(n){return this._edgeInsets.equals(n)},z.prototype.interpolatePadding=function(n,a,o){this._unmodified=!1,this._edgeInsets.interpolate(n,a,o),this._constrain(),this._calcMatrices()},z.prototype.coveringZoomLevel=function(n){var a=(n.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/n.tileSize));return Math.max(0,a)},z.prototype.getVisibleUnwrappedCoordinates=function(n){var a=[new i.UnwrappedTileID(0,n)];if(this._renderWorldCopies)for(var o=this.pointCoordinate(new i.Point(0,0)),c=this.pointCoordinate(new i.Point(this.width,0)),p=this.pointCoordinate(new i.Point(this.width,this.height)),y=this.pointCoordinate(new i.Point(0,this.height)),_=Math.floor(Math.min(o.x,c.x,p.x,y.x)),Q=Math.floor(Math.max(o.x,c.x,p.x,y.x)),O=_-1;O<=Q+1;O++)0!==O&&a.push(new i.UnwrappedTileID(O,n));return a},z.prototype.coveringTiles=function(n){var a=this.coveringZoomLevel(n),o=a;if(void 0!==n.minzoom&&a<n.minzoom)return[];void 0!==n.maxzoom&&a>n.maxzoom&&(a=n.maxzoom);var c=i.MercatorCoordinate.fromLngLat(this.center),p=Math.pow(2,a),y=[p*c.x,p*c.y,0],_=qo.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,a),Q=n.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(Q=a);var O=function(wt){return{aabb:new no([wt*p,0,0],[(wt+1)*p,p,0]),zoom:0,x:0,y:0,wrap:wt,fullyVisible:!1}},X=[],J=[],$=a,te=n.reparseOverscaled?o:a;if(this._renderWorldCopies)for(var le=1;le<=3;le++)X.push(O(-le)),X.push(O(le));for(X.push(O(0));X.length>0;){var se=X.pop(),be=se.x,oe=se.y,_e=se.fullyVisible;if(!_e){var Qe=se.aabb.intersects(_);if(0===Qe)continue;_e=2===Qe}var Me=se.aabb.distanceX(y),et=se.aabb.distanceY(y),Ze=Math.max(Math.abs(Me),Math.abs(et));if(se.zoom===$||Ze>3+(1<<$-se.zoom)-2&&se.zoom>=Q)J.push({tileID:new i.OverscaledTileID(se.zoom===$?te:se.zoom,se.wrap,se.zoom,be,oe),distanceSq:i.sqrLen([y[0]-.5-be,y[1]-.5-oe])});else for(var it=0;it<4;it++){var ft=(be<<1)+it%2,Bt=(oe<<1)+(it>>1);X.push({aabb:se.aabb.quadrant(it),zoom:se.zoom+1,x:ft,y:Bt,wrap:se.wrap,fullyVisible:_e})}}return J.sort(function(wt,Pt){return wt.distanceSq-Pt.distanceSq}).map(function(wt){return wt.tileID})},z.prototype.resize=function(n,a){this.width=n,this.height=a,this.pixelsToGLUnits=[2/n,-2/a],this._constrain(),this._calcMatrices()},V.unmodified.get=function(){return this._unmodified},z.prototype.zoomScale=function(n){return Math.pow(2,n)},z.prototype.scaleZoom=function(n){return Math.log(n)/Math.LN2},z.prototype.project=function(n){var a=i.clamp(n.lat,-this.maxValidLatitude,this.maxValidLatitude);return new i.Point(i.mercatorXfromLng(n.lng)*this.worldSize,i.mercatorYfromLat(a)*this.worldSize)},z.prototype.unproject=function(n){return new i.MercatorCoordinate(n.x/this.worldSize,n.y/this.worldSize).toLngLat()},V.point.get=function(){return this.project(this.center)},z.prototype.setLocationAtPoint=function(n,a){var o=this.pointCoordinate(a),c=this.pointCoordinate(this.centerPoint),p=this.locationCoordinate(n),y=new i.MercatorCoordinate(p.x-(o.x-c.x),p.y-(o.y-c.y));this.center=this.coordinateLocation(y),this._renderWorldCopies&&(this.center=this.center.wrap())},z.prototype.locationPoint=function(n){return this.coordinatePoint(this.locationCoordinate(n))},z.prototype.pointLocation=function(n){return this.coordinateLocation(this.pointCoordinate(n))},z.prototype.locationCoordinate=function(n){return i.MercatorCoordinate.fromLngLat(n)},z.prototype.coordinateLocation=function(n){return n.toLngLat()},z.prototype.pointCoordinate=function(n){var a=[n.x,n.y,0,1],o=[n.x,n.y,1,1];i.transformMat4(a,a,this.pixelMatrixInverse),i.transformMat4(o,o,this.pixelMatrixInverse);var c=a[3],p=o[3],y=a[1]/c,_=o[1]/p,Q=a[2]/c,O=o[2]/p,X=Q===O?0:(0-Q)/(O-Q);return new i.MercatorCoordinate(i.number(a[0]/c,o[0]/p,X)/this.worldSize,i.number(y,_,X)/this.worldSize)},z.prototype.coordinatePoint=function(n){var a=[n.x*this.worldSize,n.y*this.worldSize,0,1];return i.transformMat4(a,a,this.pixelMatrix),new i.Point(a[0]/a[3],a[1]/a[3])},z.prototype.getBounds=function(){return(new i.LngLatBounds).extend(this.pointLocation(new i.Point(0,0))).extend(this.pointLocation(new i.Point(this.width,0))).extend(this.pointLocation(new i.Point(this.width,this.height))).extend(this.pointLocation(new i.Point(0,this.height)))},z.prototype.getMaxBounds=function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new i.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},z.prototype.setMaxBounds=function(n){n?(this.lngRange=[n.getWest(),n.getEast()],this.latRange=[n.getSouth(),n.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},z.prototype.calculatePosMatrix=function(n,a){void 0===a&&(a=!1);var o=n.key,c=a?this._alignedPosMatrixCache:this._posMatrixCache;if(c[o])return c[o];var p=n.canonical,y=this.worldSize/this.zoomScale(p.z),_=p.x+Math.pow(2,p.z)*n.wrap,Q=i.identity(new Float64Array(16));return i.translate(Q,Q,[_*y,p.y*y,0]),i.scale(Q,Q,[y/i.EXTENT,y/i.EXTENT,1]),i.multiply(Q,a?this.alignedProjMatrix:this.projMatrix,Q),c[o]=new Float32Array(Q),c[o]},z.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},z.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var n,a,o,c,p=-90,y=90,_=-180,Q=180,O=this.size,X=this._unmodified;if(this.latRange){var J=this.latRange;p=i.mercatorYfromLat(J[1])*this.worldSize,n=(y=i.mercatorYfromLat(J[0])*this.worldSize)-p<O.y?O.y/(y-p):0}if(this.lngRange){var $=this.lngRange;_=i.mercatorXfromLng($[0])*this.worldSize,a=(Q=i.mercatorXfromLng($[1])*this.worldSize)-_<O.x?O.x/(Q-_):0}var te=this.point,le=Math.max(a||0,n||0);if(le)return this.center=this.unproject(new i.Point(a?(Q+_)/2:te.x,n?(y+p)/2:te.y)),this.zoom+=this.scaleZoom(le),this._unmodified=X,void(this._constraining=!1);if(this.latRange){var se=te.y,be=O.y/2;se-be<p&&(c=p+be),se+be>y&&(c=y-be)}if(this.lngRange){var oe=te.x,_e=O.x/2;oe-_e<_&&(o=_+_e),oe+_e>Q&&(o=Q-_e)}void 0===o&&void 0===c||(this.center=this.unproject(new i.Point(void 0!==o?o:te.x,void 0!==c?c:te.y))),this._unmodified=X,this._constraining=!1}},z.prototype._calcMatrices=function(){if(this.height){var n=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var a=Math.PI/2+this._pitch,o=this._fov*(.5+n.y/this.height),c=Math.sin(o)*this.cameraToCenterDistance/Math.sin(i.clamp(Math.PI-a-o,.01,Math.PI-.01)),p=this.point,y=p.x,_=p.y,Q=1.01*(Math.cos(Math.PI/2-this._pitch)*c+this.cameraToCenterDistance),O=this.height/50,X=new Float64Array(16);i.perspective(X,this._fov,this.width/this.height,O,Q),X[8]=2*-n.x/this.width,X[9]=2*n.y/this.height,i.scale(X,X,[1,-1,1]),i.translate(X,X,[0,0,-this.cameraToCenterDistance]),i.rotateX(X,X,this._pitch),i.rotateZ(X,X,this.angle),i.translate(X,X,[-y,-_,0]),this.mercatorMatrix=i.scale([],X,[this.worldSize,this.worldSize,this.worldSize]),i.scale(X,X,[1,1,i.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=X,this.invProjMatrix=i.invert([],this.projMatrix);var J=this.width%2/2,$=this.height%2/2,te=Math.cos(this.angle),le=Math.sin(this.angle),se=y-Math.round(y)+te*J+le*$,be=_-Math.round(_)+te*$+le*J,oe=new Float64Array(X);if(i.translate(oe,oe,[se>.5?se-1:se,be>.5?be-1:be,0]),this.alignedProjMatrix=oe,X=i.create(),i.scale(X,X,[this.width/2,-this.height/2,1]),i.translate(X,X,[1,-1,0]),this.labelPlaneMatrix=X,X=i.create(),i.scale(X,X,[1,-1,1]),i.translate(X,X,[-1,-1,0]),i.scale(X,X,[2/this.width,2/this.height,1]),this.glCoordMatrix=X,this.pixelMatrix=i.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(X=i.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=X,this._posMatrixCache={},this._alignedPosMatrixCache={}}},z.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var n=this.pointCoordinate(new i.Point(0,0)),a=[n.x*this.worldSize,n.y*this.worldSize,0,1];return i.transformMat4(a,a,this.pixelMatrix)[3]/this.cameraToCenterDistance},z.prototype.getCameraPoint=function(){var n=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new i.Point(0,n))},z.prototype.getCameraQueryGeometry=function(n){var a=this.getCameraPoint();if(1===n.length)return[n[0],a];for(var o=a.x,c=a.y,p=a.x,y=a.y,_=0,Q=n;_<Q.length;_+=1){var O=Q[_];o=Math.min(o,O.x),c=Math.min(c,O.y),p=Math.max(p,O.x),y=Math.max(y,O.y)}return[new i.Point(o,c),new i.Point(p,c),new i.Point(p,y),new i.Point(o,y),new i.Point(o,c)]},Object.defineProperties(z.prototype,V);var ie=function(n){var a,o,c,p;this._hashName=n&&encodeURIComponent(n),i.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=(a=this._updateHashUnthrottled.bind(this),o=!1,c=null,p=function(){c=null,o&&(a(),c=setTimeout(p,300),o=!1)},function(){return o=!0,c||p(),c})};ie.prototype.addTo=function(n){return this._map=n,i.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},ie.prototype.remove=function(){return i.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},ie.prototype.getHashString=function(n){var a=this._map.getCenter(),o=Math.round(100*this._map.getZoom())/100,c=Math.ceil((o*Math.LN2+Math.log(512/360/.5))/Math.LN10),p=Math.pow(10,c),y=Math.round(a.lng*p)/p,_=Math.round(a.lat*p)/p,Q=this._map.getBearing(),O=this._map.getPitch(),X="";if(X+=n?"/"+y+"/"+_+"/"+o:o+"/"+_+"/"+y,(Q||O)&&(X+="/"+Math.round(10*Q)/10),O&&(X+="/"+Math.round(O)),this._hashName){var J=this._hashName,$=!1,te=i.window.location.hash.slice(1).split("&").map(function(le){var se=le.split("=")[0];return se===J?($=!0,se+"="+X):le}).filter(function(le){return le});return $||te.push(J+"="+X),"#"+te.join("&")}return"#"+X},ie.prototype._getCurrentHash=function(){var n,a=this,o=i.window.location.hash.replace("#","");return this._hashName?(o.split("&").map(function(c){return c.split("=")}).forEach(function(c){c[0]===a._hashName&&(n=c)}),(n&&n[1]||"").split("/")):o.split("/")},ie.prototype._onHashChange=function(){var n=this._getCurrentHash();if(n.length>=3&&!n.some(function(o){return isNaN(o)})){var a=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(n[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+n[2],+n[1]],zoom:+n[0],bearing:a,pitch:+(n[4]||0)}),!0}return!1},ie.prototype._updateHashUnthrottled=function(){var n=i.window.location.href.replace(/(#.+)?$/,this.getHashString());try{i.window.history.replaceState(i.window.history.state,null,n)}catch{}};var Te={linearity:.3,easing:i.bezier(0,0,.3,1)},nt=i.extend({deceleration:2500,maxSpeed:1400},Te),at=i.extend({deceleration:20,maxSpeed:1400},Te),bt=i.extend({deceleration:1e3,maxSpeed:360},Te),Kt=i.extend({deceleration:1e3,maxSpeed:90},Te),xr=function(n){this._map=n,this.clear()};function dn(n,a){(!n.duration||n.duration<a.duration)&&(n.duration=a.duration,n.easing=a.easing)}function Tn(n,a,o){var c=o.maxSpeed,p=o.linearity,y=o.deceleration,_=i.clamp(n*p/(a/1e3),-c,c),Q=Math.abs(_)/(y*p);return{easing:o.easing,duration:1e3*Q,amount:_*(Q/2)}}xr.prototype.clear=function(){this._inertiaBuffer=[]},xr.prototype.record=function(n){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:i.browser.now(),settings:n})},xr.prototype._drainInertiaBuffer=function(){for(var n=this._inertiaBuffer,a=i.browser.now();n.length>0&&a-n[0].time>160;)n.shift()},xr.prototype._onMoveEnd=function(n){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var a={zoom:0,bearing:0,pitch:0,pan:new i.Point(0,0),pinchAround:void 0,around:void 0},o=0,c=this._inertiaBuffer;o<c.length;o+=1){var p=c[o].settings;a.zoom+=p.zoomDelta||0,a.bearing+=p.bearingDelta||0,a.pitch+=p.pitchDelta||0,p.panDelta&&a.pan._add(p.panDelta),p.around&&(a.around=p.around),p.pinchAround&&(a.pinchAround=p.pinchAround)}var y=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,_={};if(a.pan.mag()){var Q=Tn(a.pan.mag(),y,i.extend({},nt,n||{}));_.offset=a.pan.mult(Q.amount/a.pan.mag()),_.center=this._map.transform.center,dn(_,Q)}if(a.zoom){var O=Tn(a.zoom,y,at);_.zoom=this._map.transform.zoom+O.amount,dn(_,O)}if(a.bearing){var X=Tn(a.bearing,y,bt);_.bearing=this._map.transform.bearing+i.clamp(X.amount,-179,179),dn(_,X)}if(a.pitch){var J=Tn(a.pitch,y,Kt);_.pitch=this._map.transform.pitch+J.amount,dn(_,J)}if(_.zoom||_.bearing){var $=void 0===a.pinchAround?a.around:a.pinchAround;_.around=$?this._map.unproject($):this._map.getCenter()}return this.clear(),i.extend(_,{noMoveStart:!0})}};var Xr=function(n){function a(c,p,y,_){void 0===_&&(_={});var Q=g.mousePos(p.getCanvasContainer(),y),O=p.unproject(Q);n.call(this,c,i.extend({point:Q,lngLat:O,originalEvent:y},_)),this._defaultPrevented=!1,this.target=p}n&&(a.__proto__=n),(a.prototype=Object.create(n&&n.prototype)).constructor=a;var o={defaultPrevented:{configurable:!0}};return a.prototype.preventDefault=function(){this._defaultPrevented=!0},o.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(a.prototype,o),a}(i.Event),Oi=function(n){function a(c,p,y){var _="touchend"===c?y.changedTouches:y.touches,Q=g.touchPos(p.getCanvasContainer(),_),O=Q.map(function($){return p.unproject($)}),X=Q.reduce(function($,te,le,se){return $.add(te.div(se.length))},new i.Point(0,0)),J=p.unproject(X);n.call(this,c,{points:Q,point:X,lngLats:O,lngLat:J,originalEvent:y}),this._defaultPrevented=!1}n&&(a.__proto__=n),(a.prototype=Object.create(n&&n.prototype)).constructor=a;var o={defaultPrevented:{configurable:!0}};return a.prototype.preventDefault=function(){this._defaultPrevented=!0},o.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(a.prototype,o),a}(i.Event),io=function(n){function a(c,p,y){n.call(this,c,{originalEvent:y}),this._defaultPrevented=!1}n&&(a.__proto__=n),(a.prototype=Object.create(n&&n.prototype)).constructor=a;var o={defaultPrevented:{configurable:!0}};return a.prototype.preventDefault=function(){this._defaultPrevented=!0},o.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(a.prototype,o),a}(i.Event),mn=function(n,a){this._map=n,this._clickTolerance=a.clickTolerance};mn.prototype.reset=function(){delete this._mousedownPos},mn.prototype.wheel=function(n){return this._firePreventable(new io(n.type,this._map,n))},mn.prototype.mousedown=function(n,a){return this._mousedownPos=a,this._firePreventable(new Xr(n.type,this._map,n))},mn.prototype.mouseup=function(n){this._map.fire(new Xr(n.type,this._map,n))},mn.prototype.click=function(n,a){this._mousedownPos&&this._mousedownPos.dist(a)>=this._clickTolerance||this._map.fire(new Xr(n.type,this._map,n))},mn.prototype.dblclick=function(n){return this._firePreventable(new Xr(n.type,this._map,n))},mn.prototype.mouseover=function(n){this._map.fire(new Xr(n.type,this._map,n))},mn.prototype.mouseout=function(n){this._map.fire(new Xr(n.type,this._map,n))},mn.prototype.touchstart=function(n){return this._firePreventable(new Oi(n.type,this._map,n))},mn.prototype.touchmove=function(n){this._map.fire(new Oi(n.type,this._map,n))},mn.prototype.touchend=function(n){this._map.fire(new Oi(n.type,this._map,n))},mn.prototype.touchcancel=function(n){this._map.fire(new Oi(n.type,this._map,n))},mn.prototype._firePreventable=function(n){if(this._map.fire(n),n.defaultPrevented)return{}},mn.prototype.isEnabled=function(){return!0},mn.prototype.isActive=function(){return!1},mn.prototype.enable=function(){},mn.prototype.disable=function(){};var Ot=function(n){this._map=n};Ot.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},Ot.prototype.mousemove=function(n){this._map.fire(new Xr(n.type,this._map,n))},Ot.prototype.mousedown=function(){this._delayContextMenu=!0},Ot.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Xr("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},Ot.prototype.contextmenu=function(n){this._delayContextMenu?this._contextMenuEvent=n:this._map.fire(new Xr(n.type,this._map,n)),this._map.listens("contextmenu")&&n.preventDefault()},Ot.prototype.isEnabled=function(){return!0},Ot.prototype.isActive=function(){return!1},Ot.prototype.enable=function(){},Ot.prototype.disable=function(){};var Qi=function(n,a){this._map=n,this._el=n.getCanvasContainer(),this._container=n.getContainer(),this._clickTolerance=a.clickTolerance||1};function LA(n,a){for(var o={},c=0;c<n.length;c++)o[n[c].identifier]=a[c];return o}Qi.prototype.isEnabled=function(){return!!this._enabled},Qi.prototype.isActive=function(){return!!this._active},Qi.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},Qi.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Qi.prototype.mousedown=function(n,a){this.isEnabled()&&n.shiftKey&&0===n.button&&(g.disableDrag(),this._startPos=this._lastPos=a,this._active=!0)},Qi.prototype.mousemoveWindow=function(n,a){if(this._active){var o=a;if(!(this._lastPos.equals(o)||!this._box&&o.dist(this._startPos)<this._clickTolerance)){var c=this._startPos;this._lastPos=o,this._box||(this._box=g.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",n));var p=Math.min(c.x,o.x),y=Math.max(c.x,o.x),_=Math.min(c.y,o.y),Q=Math.max(c.y,o.y);g.setTransform(this._box,"translate("+p+"px,"+_+"px)"),this._box.style.width=y-p+"px",this._box.style.height=Q-_+"px"}}},Qi.prototype.mouseupWindow=function(n,a){var o=this;if(this._active&&0===n.button){var c=this._startPos,p=a;if(this.reset(),g.suppressClick(),c.x!==p.x||c.y!==p.y)return this._map.fire(new i.Event("boxzoomend",{originalEvent:n})),{cameraAnimation:function(y){return y.fitScreenCoordinates(c,p,o._map.getBearing(),{linear:!0})}};this._fireEvent("boxzoomcancel",n)}},Qi.prototype.keydown=function(n){this._active&&27===n.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",n))},Qi.prototype.blur=function(){this.reset()},Qi.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(g.remove(this._box),this._box=null),g.enableDrag(),delete this._startPos,delete this._lastPos},Qi.prototype._fireEvent=function(n,a){return this._map.fire(new i.Event(n,{originalEvent:a}))};var Pa=function(n){this.reset(),this.numTouches=n.numTouches};Pa.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},Pa.prototype.touchstart=function(n,a,o){(this.centroid||o.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=n.timeStamp),o.length===this.numTouches&&(this.centroid=function(c){for(var p=new i.Point(0,0),y=0,_=c;y<_.length;y+=1)p._add(_[y]);return p.div(c.length)}(a),this.touches=LA(o,a)))},Pa.prototype.touchmove=function(n,a,o){if(!this.aborted&&this.centroid){var c=LA(o,a);for(var p in this.touches){var y=c[p];(!y||y.dist(this.touches[p])>30)&&(this.aborted=!0)}}},Pa.prototype.touchend=function(n,a,o){if((!this.centroid||n.timeStamp-this.startTime>500)&&(this.aborted=!0),0===o.length){var c=!this.aborted&&this.centroid;if(this.reset(),c)return c}};var Xi=function(n){this.singleTap=new Pa(n),this.numTaps=n.numTaps,this.reset()};Xi.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},Xi.prototype.touchstart=function(n,a,o){this.singleTap.touchstart(n,a,o)},Xi.prototype.touchmove=function(n,a,o){this.singleTap.touchmove(n,a,o)},Xi.prototype.touchend=function(n,a,o){var c=this.singleTap.touchend(n,a,o);if(c){var p=n.timeStamp-this.lastTime<500,y=!this.lastTap||this.lastTap.dist(c)<30;if(p&&y||this.reset(),this.count++,this.lastTime=n.timeStamp,this.lastTap=c,this.count===this.numTaps)return this.reset(),c}};var Rn=function(){this._zoomIn=new Xi({numTouches:1,numTaps:2}),this._zoomOut=new Xi({numTouches:2,numTaps:1}),this.reset()};Rn.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},Rn.prototype.touchstart=function(n,a,o){this._zoomIn.touchstart(n,a,o),this._zoomOut.touchstart(n,a,o)},Rn.prototype.touchmove=function(n,a,o){this._zoomIn.touchmove(n,a,o),this._zoomOut.touchmove(n,a,o)},Rn.prototype.touchend=function(n,a,o){var c=this,p=this._zoomIn.touchend(n,a,o),y=this._zoomOut.touchend(n,a,o);return p?(this._active=!0,n.preventDefault(),setTimeout(function(){return c.reset()},0),{cameraAnimation:function(_){return _.easeTo({duration:300,zoom:_.getZoom()+1,around:_.unproject(p)},{originalEvent:n})}}):y?(this._active=!0,n.preventDefault(),setTimeout(function(){return c.reset()},0),{cameraAnimation:function(_){return _.easeTo({duration:300,zoom:_.getZoom()-1,around:_.unproject(y)},{originalEvent:n})}}):void 0},Rn.prototype.touchcancel=function(){this.reset()},Rn.prototype.enable=function(){this._enabled=!0},Rn.prototype.disable=function(){this._enabled=!1,this.reset()},Rn.prototype.isEnabled=function(){return this._enabled},Rn.prototype.isActive=function(){return this._active};var ns={0:1,2:2},Ct=function(n){this.reset(),this._clickTolerance=n.clickTolerance||1};Ct.prototype.blur=function(){this.reset()},Ct.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},Ct.prototype._correctButton=function(n,a){return!1},Ct.prototype._move=function(n,a){return{}},Ct.prototype.mousedown=function(n,a){if(!this._lastPoint){var o=g.mouseButton(n);this._correctButton(n,o)&&(this._lastPoint=a,this._eventButton=o)}},Ct.prototype.mousemoveWindow=function(n,a){var c,y,o=this._lastPoint;if(o)if(n.preventDefault(),y=ns[this._eventButton],void 0===(c=n).buttons||(c.buttons&y)!==y)this.reset();else if(this._moved||!(a.dist(o)<this._clickTolerance))return this._moved=!0,this._lastPoint=a,this._move(o,a)},Ct.prototype.mouseupWindow=function(n){this._lastPoint&&g.mouseButton(n)===this._eventButton&&(this._moved&&g.suppressClick(),this.reset())},Ct.prototype.enable=function(){this._enabled=!0},Ct.prototype.disable=function(){this._enabled=!1,this.reset()},Ct.prototype.isEnabled=function(){return this._enabled},Ct.prototype.isActive=function(){return this._active};var Sa=function(n){function a(){n.apply(this,arguments)}return n&&(a.__proto__=n),(a.prototype=Object.create(n&&n.prototype)).constructor=a,a.prototype.mousedown=function(o,c){n.prototype.mousedown.call(this,o,c),this._lastPoint&&(this._active=!0)},a.prototype._correctButton=function(o,c){return 0===c&&!o.ctrlKey},a.prototype._move=function(o,c){return{around:c,panDelta:c.sub(o)}},a}(Ct),Ho=function(n){function a(){n.apply(this,arguments)}return n&&(a.__proto__=n),(a.prototype=Object.create(n&&n.prototype)).constructor=a,a.prototype._correctButton=function(o,c){return 0===c&&o.ctrlKey||2===c},a.prototype._move=function(o,c){var p=.8*(c.x-o.x);if(p)return this._active=!0,{bearingDelta:p}},a.prototype.contextmenu=function(o){o.preventDefault()},a}(Ct),Da=function(n){function a(){n.apply(this,arguments)}return n&&(a.__proto__=n),(a.prototype=Object.create(n&&n.prototype)).constructor=a,a.prototype._correctButton=function(o,c){return 0===c&&o.ctrlKey||2===c},a.prototype._move=function(o,c){var p=-.5*(c.y-o.y);if(p)return this._active=!0,{pitchDelta:p}},a.prototype.contextmenu=function(o){o.preventDefault()},a}(Ct),Fi=function(n){this._minTouches=1,this._clickTolerance=n.clickTolerance||1,this.reset()};Fi.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new i.Point(0,0)},Fi.prototype.touchstart=function(n,a,o){return this._calculateTransform(n,a,o)},Fi.prototype.touchmove=function(n,a,o){if(this._active&&!(o.length<this._minTouches))return n.preventDefault(),this._calculateTransform(n,a,o)},Fi.prototype.touchend=function(n,a,o){this._calculateTransform(n,a,o),this._active&&o.length<this._minTouches&&this.reset()},Fi.prototype.touchcancel=function(){this.reset()},Fi.prototype._calculateTransform=function(n,a,o){o.length>0&&(this._active=!0);var c=LA(o,a),p=new i.Point(0,0),y=new i.Point(0,0),_=0;for(var Q in c){var O=c[Q],X=this._touches[Q];X&&(p._add(O),y._add(O.sub(X)),_++,c[Q]=O)}if(this._touches=c,!(_<this._minTouches)&&y.mag()){var J=y.div(_);if(this._sum._add(J),!(this._sum.mag()<this._clickTolerance))return{around:p.div(_),panDelta:J}}},Fi.prototype.enable=function(){this._enabled=!0},Fi.prototype.disable=function(){this._enabled=!1,this.reset()},Fi.prototype.isEnabled=function(){return this._enabled},Fi.prototype.isActive=function(){return this._active};var ci=function(){this.reset()};function da(n,a,o){for(var c=0;c<n.length;c++)if(n[c].identifier===o)return a[c]}function ga(n,a){return Math.log(n/a)/Math.LN2}ci.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},ci.prototype._start=function(n){},ci.prototype._move=function(n,a,o){return{}},ci.prototype.touchstart=function(n,a,o){this._firstTwoTouches||o.length<2||(this._firstTwoTouches=[o[0].identifier,o[1].identifier],this._start([a[0],a[1]]))},ci.prototype.touchmove=function(n,a,o){if(this._firstTwoTouches){n.preventDefault();var c=this._firstTwoTouches,p=c[1],y=da(o,a,c[0]),_=da(o,a,p);if(y&&_){var Q=this._aroundCenter?null:y.add(_).div(2);return this._move([y,_],Q,n)}}},ci.prototype.touchend=function(n,a,o){if(this._firstTwoTouches){var c=this._firstTwoTouches,p=c[1],y=da(o,a,c[0]),_=da(o,a,p);y&&_||(this._active&&g.suppressClick(),this.reset())}},ci.prototype.touchcancel=function(){this.reset()},ci.prototype.enable=function(n){this._enabled=!0,this._aroundCenter=!!n&&"center"===n.around},ci.prototype.disable=function(){this._enabled=!1,this.reset()},ci.prototype.isEnabled=function(){return this._enabled},ci.prototype.isActive=function(){return this._active};var xi=function(n){function a(){n.apply(this,arguments)}return n&&(a.__proto__=n),(a.prototype=Object.create(n&&n.prototype)).constructor=a,a.prototype.reset=function(){n.prototype.reset.call(this),delete this._distance,delete this._startDistance},a.prototype._start=function(o){this._startDistance=this._distance=o[0].dist(o[1])},a.prototype._move=function(o,c){var p=this._distance;if(this._distance=o[0].dist(o[1]),this._active||!(Math.abs(ga(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:ga(this._distance,p),pinchAround:c}},a}(ci);function wo(n,a){return 180*n.angleWith(a)/Math.PI}var uA=function(n){function a(){n.apply(this,arguments)}return n&&(a.__proto__=n),(a.prototype=Object.create(n&&n.prototype)).constructor=a,a.prototype.reset=function(){n.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},a.prototype._start=function(o){this._startVector=this._vector=o[0].sub(o[1]),this._minDiameter=o[0].dist(o[1])},a.prototype._move=function(o,c){var p=this._vector;if(this._vector=o[0].sub(o[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:wo(this._vector,p),pinchAround:c}},a.prototype._isBelowThreshold=function(o){this._minDiameter=Math.min(this._minDiameter,o.mag());var c=25/(Math.PI*this._minDiameter)*360,p=wo(o,this._startVector);return Math.abs(p)<c},a}(ci);function xo(n){return Math.abs(n.y)>Math.abs(n.x)}var is=function(n){function a(){n.apply(this,arguments)}return n&&(a.__proto__=n),(a.prototype=Object.create(n&&n.prototype)).constructor=a,a.prototype.reset=function(){n.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},a.prototype._start=function(o){this._lastPoints=o,xo(o[0].sub(o[1]))&&(this._valid=!1)},a.prototype._move=function(o,c,p){var y=o[0].sub(this._lastPoints[0]),_=o[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(y,_,p.timeStamp),this._valid)return this._lastPoints=o,this._active=!0,{pitchDelta:(y.y+_.y)/2*-.5}},a.prototype.gestureBeginsVertically=function(o,c,p){if(void 0!==this._valid)return this._valid;var y=o.mag()>=2,_=c.mag()>=2;if(y||_){if(!y||!_)return void 0===this._firstMove&&(this._firstMove=p),p-this._firstMove<100&&void 0;var Q=o.y>0==c.y>0;return xo(o)&&xo(c)&&Q}},a}(ci),Ta={panStep:100,bearingStep:15,pitchStep:10},oo=function(){var n=Ta;this._panStep=n.panStep,this._bearingStep=n.bearingStep,this._pitchStep=n.pitchStep,this._rotationDisabled=!1};function gi(n){return n*(2-n)}oo.prototype.blur=function(){this.reset()},oo.prototype.reset=function(){this._active=!1},oo.prototype.keydown=function(n){var a=this;if(!(n.altKey||n.ctrlKey||n.metaKey)){var o=0,c=0,p=0,y=0,_=0;switch(n.keyCode){case 61:case 107:case 171:case 187:o=1;break;case 189:case 109:case 173:o=-1;break;case 37:n.shiftKey?c=-1:(n.preventDefault(),y=-1);break;case 39:n.shiftKey?c=1:(n.preventDefault(),y=1);break;case 38:n.shiftKey?p=1:(n.preventDefault(),_=-1);break;case 40:n.shiftKey?p=-1:(n.preventDefault(),_=1);break;default:return}return this._rotationDisabled&&(c=0,p=0),{cameraAnimation:function(Q){var O=Q.getZoom();Q.easeTo({duration:300,easeId:"keyboardHandler",easing:gi,zoom:o?Math.round(O)+o*(n.shiftKey?2:1):O,bearing:Q.getBearing()+c*a._bearingStep,pitch:Q.getPitch()+p*a._pitchStep,offset:[-y*a._panStep,-_*a._panStep],center:Q.getCenter()},{originalEvent:n})}}}},oo.prototype.enable=function(){this._enabled=!0},oo.prototype.disable=function(){this._enabled=!1,this.reset()},oo.prototype.isEnabled=function(){return this._enabled},oo.prototype.isActive=function(){return this._active},oo.prototype.disableRotation=function(){this._rotationDisabled=!0},oo.prototype.enableRotation=function(){this._rotationDisabled=!1};var Er=function(n,a){this._map=n,this._el=n.getCanvasContainer(),this._handler=a,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=1/450,i.bindAll(["_onTimeout"],this)};Er.prototype.setZoomRate=function(n){this._defaultZoomRate=n},Er.prototype.setWheelZoomRate=function(n){this._wheelZoomRate=n},Er.prototype.isEnabled=function(){return!!this._enabled},Er.prototype.isActive=function(){return!!this._active||void 0!==this._finishTimeout},Er.prototype.isZooming=function(){return!!this._zooming},Er.prototype.enable=function(n){this.isEnabled()||(this._enabled=!0,this._aroundCenter=n&&"center"===n.around)},Er.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Er.prototype.wheel=function(n){if(this.isEnabled()){var a=n.deltaMode===i.window.WheelEvent.DOM_DELTA_LINE?40*n.deltaY:n.deltaY,o=i.browser.now(),c=o-(this._lastWheelEventTime||0);this._lastWheelEventTime=o,0!==a&&a%4.000244140625==0?this._type="wheel":0!==a&&Math.abs(a)<4?this._type="trackpad":c>400?(this._type=null,this._lastValue=a,this._timeout=setTimeout(this._onTimeout,40,n)):this._type||(this._type=Math.abs(c*a)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,a+=this._lastValue)),n.shiftKey&&a&&(a/=4),this._type&&(this._lastWheelEvent=n,this._delta-=a,this._active||this._start(n)),n.preventDefault()}},Er.prototype._onTimeout=function(n){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(n)},Er.prototype._start=function(n){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var a=g.mousePos(this._el,n);this._around=i.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(a)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},Er.prototype.renderFrame=function(){var n=this;if(this._frameId&&(this._frameId=null,this.isActive())){var a=this._map.transform;if(0!==this._delta){var o="wheel"===this._type&&Math.abs(this._delta)>4.000244140625?this._wheelZoomRate:this._defaultZoomRate,c=2/(1+Math.exp(-Math.abs(this._delta*o)));this._delta<0&&0!==c&&(c=1/c);var p="number"==typeof this._targetZoom?a.zoomScale(this._targetZoom):a.scale;this._targetZoom=Math.min(a.maxZoom,Math.max(a.minZoom,a.scaleZoom(p*c))),"wheel"===this._type&&(this._startZoom=a.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var y,_="number"==typeof this._targetZoom?this._targetZoom:a.zoom,Q=this._startZoom,O=this._easing,X=!1;if("wheel"===this._type&&Q&&O){var J=Math.min((i.browser.now()-this._lastWheelEventTime)/200,1),$=O(J);y=i.number(Q,_,$),J<1?this._frameId||(this._frameId=!0):X=!0}else y=_,X=!0;return this._active=!0,X&&(this._active=!1,this._finishTimeout=setTimeout(function(){n._zooming=!1,n._handler._triggerRenderFrame(),delete n._targetZoom,delete n._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!X,zoomDelta:y-a.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},Er.prototype._smoothOutEasing=function(n){var a=i.ease;if(this._prevEase){var o=this._prevEase,c=(i.browser.now()-o.start)/o.duration,p=o.easing(c+.01)-o.easing(c),y=.27/Math.sqrt(p*p+1e-4)*.01,_=Math.sqrt(.0729-y*y);a=i.bezier(y,_,.25,1)}return this._prevEase={start:i.browser.now(),duration:n,easing:a},a},Er.prototype.blur=function(){this.reset()},Er.prototype.reset=function(){this._active=!1};var Bo=function(n,a){this._clickZoom=n,this._tapZoom=a};Bo.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},Bo.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},Bo.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},Bo.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var Vi=function(){this.reset()};Vi.prototype.reset=function(){this._active=!1},Vi.prototype.blur=function(){this.reset()},Vi.prototype.dblclick=function(n,a){return n.preventDefault(),{cameraAnimation:function(o){o.easeTo({duration:300,zoom:o.getZoom()+(n.shiftKey?-1:1),around:o.unproject(a)},{originalEvent:n})}}},Vi.prototype.enable=function(){this._enabled=!0},Vi.prototype.disable=function(){this._enabled=!1,this.reset()},Vi.prototype.isEnabled=function(){return this._enabled},Vi.prototype.isActive=function(){return this._active};var Yn=function(){this._tap=new Xi({numTouches:1,numTaps:1}),this.reset()};Yn.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},Yn.prototype.touchstart=function(n,a,o){this._swipePoint||(this._tapTime&&n.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?o.length>0&&(this._swipePoint=a[0],this._swipeTouch=o[0].identifier):this._tap.touchstart(n,a,o))},Yn.prototype.touchmove=function(n,a,o){if(this._tapTime){if(this._swipePoint){if(o[0].identifier!==this._swipeTouch)return;var c=a[0],p=c.y-this._swipePoint.y;return this._swipePoint=c,n.preventDefault(),this._active=!0,{zoomDelta:p/128}}}else this._tap.touchmove(n,a,o)},Yn.prototype.touchend=function(n,a,o){this._tapTime?this._swipePoint&&0===o.length&&this.reset():this._tap.touchend(n,a,o)&&(this._tapTime=n.timeStamp)},Yn.prototype.touchcancel=function(){this.reset()},Yn.prototype.enable=function(){this._enabled=!0},Yn.prototype.disable=function(){this._enabled=!1,this.reset()},Yn.prototype.isEnabled=function(){return this._enabled},Yn.prototype.isActive=function(){return this._active};var ma=function(n,a,o){this._el=n,this._mousePan=a,this._touchPan=o};ma.prototype.enable=function(n){this._inertiaOptions=n||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},ma.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},ma.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},ma.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var Zo=function(n,a,o){this._pitchWithRotate=n.pitchWithRotate,this._mouseRotate=a,this._mousePitch=o};Zo.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},Zo.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},Zo.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},Zo.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var ao=function(n,a,o,c){this._el=n,this._touchZoom=a,this._touchRotate=o,this._tapDragZoom=c,this._rotationDisabled=!1,this._enabled=!0};ao.prototype.enable=function(n){this._touchZoom.enable(n),this._rotationDisabled||this._touchRotate.enable(n),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},ao.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},ao.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},ao.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},ao.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},ao.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var mi=function(n){return n.zoom||n.drag||n.pitch||n.rotate},pA=function(n){function a(){n.apply(this,arguments)}return n&&(a.__proto__=n),(a.prototype=Object.create(n&&n.prototype)).constructor=a,a}(i.Event);function Yt(n){return n.panDelta&&n.panDelta.mag()||n.zoomDelta||n.bearingDelta||n.pitchDelta}var Mt=function(n,a){this._map=n,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new xr(n),this._bearingSnap=a.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(a),i.bindAll(["handleEvent","handleWindowEvent"],this);var o=this._el;this._listeners=[[o,"touchstart",{passive:!0}],[o,"touchmove",{passive:!1}],[o,"touchend",void 0],[o,"touchcancel",void 0],[o,"mousedown",void 0],[o,"mousemove",void 0],[o,"mouseup",void 0],[i.window.document,"mousemove",{capture:!0}],[i.window.document,"mouseup",void 0],[o,"mouseover",void 0],[o,"mouseout",void 0],[o,"dblclick",void 0],[o,"click",void 0],[o,"keydown",{capture:!1}],[o,"keyup",void 0],[o,"wheel",{passive:!1}],[o,"contextmenu",void 0],[i.window,"blur",void 0]];for(var c=0,p=this._listeners;c<p.length;c+=1){var y=p[c],_=y[0];g.addEventListener(_,y[1],_===i.window.document?this.handleWindowEvent:this.handleEvent,y[2])}};Mt.prototype.destroy=function(){for(var n=0,a=this._listeners;n<a.length;n+=1){var o=a[n],c=o[0];g.removeEventListener(c,o[1],c===i.window.document?this.handleWindowEvent:this.handleEvent,o[2])}},Mt.prototype._addDefaultHandlers=function(n){var a=this._map,o=a.getCanvasContainer();this._add("mapEvent",new mn(a,n));var c=a.boxZoom=new Qi(a,n);this._add("boxZoom",c);var p=new Rn,y=new Vi;a.doubleClickZoom=new Bo(y,p),this._add("tapZoom",p),this._add("clickZoom",y);var _=new Yn;this._add("tapDragZoom",_);var Q=a.touchPitch=new is;this._add("touchPitch",Q);var O=new Ho(n),X=new Da(n);a.dragRotate=new Zo(n,O,X),this._add("mouseRotate",O,["mousePitch"]),this._add("mousePitch",X,["mouseRotate"]);var J=new Sa(n),$=new Fi(n);a.dragPan=new ma(o,J,$),this._add("mousePan",J),this._add("touchPan",$,["touchZoom","touchRotate"]);var te=new uA,le=new xi;a.touchZoomRotate=new ao(o,le,te,_),this._add("touchRotate",te,["touchPan","touchZoom"]),this._add("touchZoom",le,["touchPan","touchRotate"]);var se=a.scrollZoom=new Er(a,this);this._add("scrollZoom",se,["mousePan"]);var be=a.keyboard=new oo;this._add("keyboard",be),this._add("blockableMapEvent",new Ot(a));for(var oe=0,_e=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];oe<_e.length;oe+=1){var Qe=_e[oe];n.interactive&&n[Qe]&&a[Qe].enable(n[Qe])}},Mt.prototype._add=function(n,a,o){this._handlers.push({handlerName:n,handler:a,allowed:o}),this._handlersById[n]=a},Mt.prototype.stop=function(n){if(!this._updatingCamera){for(var a=0,o=this._handlers;a<o.length;a+=1)o[a].handler.reset();this._inertia.clear(),this._fireEvents({},{},n),this._changes=[]}},Mt.prototype.isActive=function(){for(var n=0,a=this._handlers;n<a.length;n+=1)if(a[n].handler.isActive())return!0;return!1},Mt.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},Mt.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},Mt.prototype.isMoving=function(){return Boolean(mi(this._eventsInProgress))||this.isZooming()},Mt.prototype._blockedByActive=function(n,a,o){for(var c in n)if(c!==o&&(!a||a.indexOf(c)<0))return!0;return!1},Mt.prototype.handleWindowEvent=function(n){this.handleEvent(n,n.type+"Window")},Mt.prototype._getMapTouches=function(n){for(var a=[],o=0,c=n;o<c.length;o+=1){var p=c[o];this._el.contains(p.target)&&a.push(p)}return a},Mt.prototype.handleEvent=function(n,a){this._updatingCamera=!0;for(var o="renderFrame"===n.type?void 0:n,c={needsRenderFrame:!1},p={},y={},_=n.touches?this._getMapTouches(n.touches):void 0,Q=_?g.touchPos(this._el,_):g.mousePos(this._el,n),O=0,X=this._handlers;O<X.length;O+=1){var J=X[O],$=J.handlerName,te=J.handler,le=J.allowed;if(te.isEnabled()){var se=void 0;this._blockedByActive(y,le,$)?te.reset():te[a||n.type]&&(se=te[a||n.type](n,Q,_),this.mergeHandlerResult(c,p,se,$,o),se&&se.needsRenderFrame&&this._triggerRenderFrame()),(se||te.isActive())&&(y[$]=te)}}var be={};for(var oe in this._previousActiveHandlers)y[oe]||(be[oe]=o);this._previousActiveHandlers=y,(Object.keys(be).length||Yt(c))&&(this._changes.push([c,p,be]),this._triggerRenderFrame()),(Object.keys(y).length||Yt(c))&&this._map._stop(!0),this._updatingCamera=!1;var _e=c.cameraAnimation;_e&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],_e(this._map))},Mt.prototype.mergeHandlerResult=function(n,a,o,c,p){if(o){i.extend(n,o);var y={handlerName:c,originalEvent:o.originalEvent||p};void 0!==o.zoomDelta&&(a.zoom=y),void 0!==o.panDelta&&(a.drag=y),void 0!==o.pitchDelta&&(a.pitch=y),void 0!==o.bearingDelta&&(a.rotate=y)}},Mt.prototype._applyChanges=function(){for(var n={},a={},o={},c=0,p=this._changes;c<p.length;c+=1){var y=p[c],_=y[0],Q=y[1],O=y[2];_.panDelta&&(n.panDelta=(n.panDelta||new i.Point(0,0))._add(_.panDelta)),_.zoomDelta&&(n.zoomDelta=(n.zoomDelta||0)+_.zoomDelta),_.bearingDelta&&(n.bearingDelta=(n.bearingDelta||0)+_.bearingDelta),_.pitchDelta&&(n.pitchDelta=(n.pitchDelta||0)+_.pitchDelta),void 0!==_.around&&(n.around=_.around),void 0!==_.pinchAround&&(n.pinchAround=_.pinchAround),_.noInertia&&(n.noInertia=_.noInertia),i.extend(a,Q),i.extend(o,O)}this._updateMapTransform(n,a,o),this._changes=[]},Mt.prototype._updateMapTransform=function(n,a,o){var c=this._map,p=c.transform;if(!Yt(n))return this._fireEvents(a,o,!0);var y=n.panDelta,_=n.zoomDelta,Q=n.bearingDelta,O=n.pitchDelta,X=n.around,J=n.pinchAround;void 0!==J&&(X=J),c._stop(!0),X=X||c.transform.centerPoint;var $=p.pointLocation(y?X.sub(y):X);Q&&(p.bearing+=Q),O&&(p.pitch+=O),_&&(p.zoom+=_),p.setLocationAtPoint($,X),this._map._update(),n.noInertia||this._inertia.record(n),this._fireEvents(a,o,!0)},Mt.prototype._fireEvents=function(n,a,o){var c=this,p=mi(this._eventsInProgress),y=mi(n),_={};for(var Q in n)this._eventsInProgress[Q]||(_[Q+"start"]=n[Q].originalEvent),this._eventsInProgress[Q]=n[Q];for(var O in!p&&y&&this._fireEvent("movestart",y.originalEvent),_)this._fireEvent(O,_[O]);for(var X in y&&this._fireEvent("move",y.originalEvent),n)this._fireEvent(X,n[X].originalEvent);var J,$={};for(var te in this._eventsInProgress){var le=this._eventsInProgress[te],se=le.handlerName,be=le.originalEvent;this._handlersById[se].isActive()||(delete this._eventsInProgress[te],$[te+"end"]=J=a[se]||be)}for(var oe in $)this._fireEvent(oe,$[oe]);var _e=mi(this._eventsInProgress);if(o&&(p||y)&&!_e){this._updatingCamera=!0;var Qe=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Me=function(et){return 0!==et&&-c._bearingSnap<et&&et<c._bearingSnap};Qe?(Me(Qe.bearing||this._map.getBearing())&&(Qe.bearing=0),this._map.easeTo(Qe,{originalEvent:J})):(this._map.fire(new i.Event("moveend",{originalEvent:J})),Me(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},Mt.prototype._fireEvent=function(n,a){this._map.fire(new i.Event(n,a?{originalEvent:a}:{}))},Mt.prototype._requestFrame=function(){var n=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add(function(a){delete n._frameId,n.handleEvent(new pA("renderFrame",{timeStamp:a})),n._applyChanges()})},Mt.prototype._triggerRenderFrame=function(){void 0===this._frameId&&(this._frameId=this._requestFrame())};var hA=function(n){function a(o,c){n.call(this),this._moving=!1,this._zooming=!1,this.transform=o,this._bearingSnap=c.bearingSnap,i.bindAll(["_renderFrameCallback"],this)}return n&&(a.__proto__=n),(a.prototype=Object.create(n&&n.prototype)).constructor=a,a.prototype.getCenter=function(){return new i.LngLat(this.transform.center.lng,this.transform.center.lat)},a.prototype.setCenter=function(o,c){return this.jumpTo({center:o},c)},a.prototype.panBy=function(o,c,p){return o=i.Point.convert(o).mult(-1),this.panTo(this.transform.center,i.extend({offset:o},c),p)},a.prototype.panTo=function(o,c,p){return this.easeTo(i.extend({center:o},c),p)},a.prototype.getZoom=function(){return this.transform.zoom},a.prototype.setZoom=function(o,c){return this.jumpTo({zoom:o},c),this},a.prototype.zoomTo=function(o,c,p){return this.easeTo(i.extend({zoom:o},c),p)},a.prototype.zoomIn=function(o,c){return this.zoomTo(this.getZoom()+1,o,c),this},a.prototype.zoomOut=function(o,c){return this.zoomTo(this.getZoom()-1,o,c),this},a.prototype.getBearing=function(){return this.transform.bearing},a.prototype.setBearing=function(o,c){return this.jumpTo({bearing:o},c),this},a.prototype.getPadding=function(){return this.transform.padding},a.prototype.setPadding=function(o,c){return this.jumpTo({padding:o},c),this},a.prototype.rotateTo=function(o,c,p){return this.easeTo(i.extend({bearing:o},c),p)},a.prototype.resetNorth=function(o,c){return this.rotateTo(0,i.extend({duration:1e3},o),c),this},a.prototype.resetNorthPitch=function(o,c){return this.easeTo(i.extend({bearing:0,pitch:0,duration:1e3},o),c),this},a.prototype.snapToNorth=function(o,c){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(o,c):this},a.prototype.getPitch=function(){return this.transform.pitch},a.prototype.setPitch=function(o,c){return this.jumpTo({pitch:o},c),this},a.prototype.cameraForBounds=function(o,c){o=i.LngLatBounds.convert(o);var p=c&&c.bearing||0;return this._cameraForBoxAndBearing(o.getNorthWest(),o.getSouthEast(),p,c)},a.prototype._cameraForBoxAndBearing=function(o,c,p,y){var _={top:0,bottom:0,right:0,left:0};if("number"==typeof(y=i.extend({padding:_,offset:[0,0],maxZoom:this.transform.maxZoom},y)).padding){var Q=y.padding;y.padding={top:Q,bottom:Q,right:Q,left:Q}}y.padding=i.extend(_,y.padding);var O=this.transform,X=O.padding,J=O.project(i.LngLat.convert(o)),$=O.project(i.LngLat.convert(c)),te=J.rotate(-p*Math.PI/180),le=$.rotate(-p*Math.PI/180),se=new i.Point(Math.max(te.x,le.x),Math.max(te.y,le.y)),be=new i.Point(Math.min(te.x,le.x),Math.min(te.y,le.y)),oe=se.sub(be),_e=(O.width-(X.left+X.right+y.padding.left+y.padding.right))/oe.x,Qe=(O.height-(X.top+X.bottom+y.padding.top+y.padding.bottom))/oe.y;if(!(Qe<0||_e<0)){var Me=Math.min(O.scaleZoom(O.scale*Math.min(_e,Qe)),y.maxZoom),et="number"==typeof y.offset.x?new i.Point(y.offset.x,y.offset.y):i.Point.convert(y.offset),Ze=new i.Point((y.padding.left-y.padding.right)/2,(y.padding.top-y.padding.bottom)/2).rotate(p*Math.PI/180),it=et.add(Ze).mult(O.scale/O.zoomScale(Me));return{center:O.unproject(J.add($).div(2).sub(it)),zoom:Me,bearing:p}}i.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")},a.prototype.fitBounds=function(o,c,p){return this._fitInternal(this.cameraForBounds(o,c),c,p)},a.prototype.fitScreenCoordinates=function(o,c,p,y,_){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(i.Point.convert(o)),this.transform.pointLocation(i.Point.convert(c)),p,y),y,_)},a.prototype._fitInternal=function(o,c,p){return o?(delete(c=i.extend(o,c)).padding,c.linear?this.easeTo(c,p):this.flyTo(c,p)):this},a.prototype.jumpTo=function(o,c){this.stop();var p=this.transform,y=!1,_=!1,Q=!1;return"zoom"in o&&p.zoom!==+o.zoom&&(y=!0,p.zoom=+o.zoom),void 0!==o.center&&(p.center=i.LngLat.convert(o.center)),"bearing"in o&&p.bearing!==+o.bearing&&(_=!0,p.bearing=+o.bearing),"pitch"in o&&p.pitch!==+o.pitch&&(Q=!0,p.pitch=+o.pitch),null==o.padding||p.isPaddingEqual(o.padding)||(p.padding=o.padding),this.fire(new i.Event("movestart",c)).fire(new i.Event("move",c)),y&&this.fire(new i.Event("zoomstart",c)).fire(new i.Event("zoom",c)).fire(new i.Event("zoomend",c)),_&&this.fire(new i.Event("rotatestart",c)).fire(new i.Event("rotate",c)).fire(new i.Event("rotateend",c)),Q&&this.fire(new i.Event("pitchstart",c)).fire(new i.Event("pitch",c)).fire(new i.Event("pitchend",c)),this.fire(new i.Event("moveend",c))},a.prototype.easeTo=function(o,c){var p=this;this._stop(!1,o.easeId),(!1===(o=i.extend({offset:[0,0],duration:500,easing:i.ease},o)).animate||!o.essential&&i.browser.prefersReducedMotion)&&(o.duration=0);var y=this.transform,_=this.getZoom(),Q=this.getBearing(),O=this.getPitch(),X=this.getPadding(),J="zoom"in o?+o.zoom:_,$="bearing"in o?this._normalizeBearing(o.bearing,Q):Q,te="pitch"in o?+o.pitch:O,le="padding"in o?o.padding:y.padding,se=i.Point.convert(o.offset),be=y.centerPoint.add(se),oe=y.pointLocation(be),_e=i.LngLat.convert(o.center||oe);this._normalizeCenter(_e);var Qe,Me,et=y.project(oe),Ze=y.project(_e).sub(et),it=y.zoomScale(J-_);o.around&&(Qe=i.LngLat.convert(o.around),Me=y.locationPoint(Qe));var ft={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||J!==_,this._rotating=this._rotating||Q!==$,this._pitching=this._pitching||te!==O,this._padding=!y.isPaddingEqual(le),this._easeId=o.easeId,this._prepareEase(c,o.noMoveStart,ft),this._ease(function(Bt){if(p._zooming&&(y.zoom=i.number(_,J,Bt)),p._rotating&&(y.bearing=i.number(Q,$,Bt)),p._pitching&&(y.pitch=i.number(O,te,Bt)),p._padding&&(y.interpolatePadding(X,le,Bt),be=y.centerPoint.add(se)),Qe)y.setLocationAtPoint(Qe,Me);else{var wt=y.zoomScale(y.zoom-_),Pt=J>_?Math.min(2,it):Math.max(.5,it),qt=Math.pow(Pt,1-Bt),Jt=y.unproject(et.add(Ze.mult(Bt*qt)).mult(wt));y.setLocationAtPoint(y.renderWorldCopies?Jt.wrap():Jt,be)}p._fireMoveEvents(c)},function(Bt){p._afterEase(c,Bt)},o),this},a.prototype._prepareEase=function(o,c,p){void 0===p&&(p={}),this._moving=!0,c||p.moving||this.fire(new i.Event("movestart",o)),this._zooming&&!p.zooming&&this.fire(new i.Event("zoomstart",o)),this._rotating&&!p.rotating&&this.fire(new i.Event("rotatestart",o)),this._pitching&&!p.pitching&&this.fire(new i.Event("pitchstart",o))},a.prototype._fireMoveEvents=function(o){this.fire(new i.Event("move",o)),this._zooming&&this.fire(new i.Event("zoom",o)),this._rotating&&this.fire(new i.Event("rotate",o)),this._pitching&&this.fire(new i.Event("pitch",o))},a.prototype._afterEase=function(o,c){if(!this._easeId||!c||this._easeId!==c){delete this._easeId;var p=this._zooming,y=this._rotating,_=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,p&&this.fire(new i.Event("zoomend",o)),y&&this.fire(new i.Event("rotateend",o)),_&&this.fire(new i.Event("pitchend",o)),this.fire(new i.Event("moveend",o))}},a.prototype.flyTo=function(o,c){var p=this;if(!o.essential&&i.browser.prefersReducedMotion){var y=i.pick(o,["center","zoom","bearing","pitch","around"]);return this.jumpTo(y,c)}this.stop(),o=i.extend({offset:[0,0],speed:1.2,curve:1.42,easing:i.ease},o);var _=this.transform,Q=this.getZoom(),O=this.getBearing(),X=this.getPitch(),J=this.getPadding(),$="zoom"in o?i.clamp(+o.zoom,_.minZoom,_.maxZoom):Q,te="bearing"in o?this._normalizeBearing(o.bearing,O):O,le="pitch"in o?+o.pitch:X,se="padding"in o?o.padding:_.padding,be=_.zoomScale($-Q),oe=i.Point.convert(o.offset),_e=_.centerPoint.add(oe),Qe=_.pointLocation(_e),Me=i.LngLat.convert(o.center||Qe);this._normalizeCenter(Me);var et=_.project(Qe),Ze=_.project(Me).sub(et),it=o.curve,ft=Math.max(_.width,_.height),Bt=ft/be,wt=Ze.mag();if("minZoom"in o){var Pt=i.clamp(Math.min(o.minZoom,Q,$),_.minZoom,_.maxZoom),qt=ft/_.zoomScale(Pt-Q);it=Math.sqrt(qt/wt*2)}var Jt=it*it;function $t(lr){var or=(Bt*Bt-ft*ft+(lr?-1:1)*Jt*Jt*wt*wt)/(2*(lr?Bt:ft)*Jt*wt);return Math.log(Math.sqrt(or*or+1)-or)}function Ur(lr){return(Math.exp(lr)-Math.exp(-lr))/2}function Lt(lr){return(Math.exp(lr)+Math.exp(-lr))/2}var pr=$t(0),_r=function(lr){return Lt(pr)/Lt(pr+it*lr)},hr=function(lr){return ft*((Lt(pr)*(Ur(or=pr+it*lr)/Lt(or))-Ur(pr))/Jt)/wt;var or},ur=($t(1)-pr)/it;if(Math.abs(wt)<1e-6||!isFinite(ur)){if(Math.abs(ft-Bt)<1e-6)return this.easeTo(o,c);var yr=Bt<ft?-1:1;ur=Math.abs(Math.log(Bt/ft))/it,hr=function(){return 0},_r=function(lr){return Math.exp(yr*it*lr)}}return o.duration="duration"in o?+o.duration:1e3*ur/("screenSpeed"in o?+o.screenSpeed/it:+o.speed),o.maxDuration&&o.duration>o.maxDuration&&(o.duration=0),this._zooming=!0,this._rotating=O!==te,this._pitching=le!==X,this._padding=!_.isPaddingEqual(se),this._prepareEase(c,!1),this._ease(function(lr){var or=lr*ur,qn=1/_r(or);_.zoom=1===lr?$:Q+_.scaleZoom(qn),p._rotating&&(_.bearing=i.number(O,te,lr)),p._pitching&&(_.pitch=i.number(X,le,lr)),p._padding&&(_.interpolatePadding(J,se,lr),_e=_.centerPoint.add(oe));var _n=1===lr?Me:_.unproject(et.add(Ze.mult(hr(or))).mult(qn));_.setLocationAtPoint(_.renderWorldCopies?_n.wrap():_n,_e),p._fireMoveEvents(c)},function(){return p._afterEase(c)},o),this},a.prototype.isEasing=function(){return!!this._easeFrameId},a.prototype.stop=function(){return this._stop()},a.prototype._stop=function(o,c){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var p=this._onEaseEnd;delete this._onEaseEnd,p.call(this,c)}if(!o){var y=this.handlers;y&&y.stop(!1)}return this},a.prototype._ease=function(o,c,p){!1===p.animate||0===p.duration?(o(1),c()):(this._easeStart=i.browser.now(),this._easeOptions=p,this._onEaseFrame=o,this._onEaseEnd=c,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},a.prototype._renderFrameCallback=function(){var o=Math.min((i.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(o)),o<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},a.prototype._normalizeBearing=function(o,c){o=i.wrap(o,-180,180);var p=Math.abs(o-c);return Math.abs(o-360-c)<p&&(o-=360),Math.abs(o+360-c)<p&&(o+=360),o},a.prototype._normalizeCenter=function(o){var c=this.transform;if(c.renderWorldCopies&&!c.lngRange){var p=o.lng-c.center.lng;o.lng+=p>180?-360:p<-180?360:0}},a}(i.Evented),yi=function(n){void 0===n&&(n={}),this.options=n,i.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};yi.prototype.getDefaultPosition=function(){return"bottom-right"},yi.prototype.onAdd=function(n){var a=this.options&&this.options.compact;return this._map=n,this._container=g.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=g.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=g.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),a&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===a&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},yi.prototype.onRemove=function(){g.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},yi.prototype._setElementTitle=function(n,a){var o=this._map._getUIString("AttributionControl."+a);n.title=o,n.setAttribute("aria-label",o)},yi.prototype._toggleAttribution=function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},yi.prototype._updateEditLink=function(){var n=this._editLink;n||(n=this._editLink=this._container.querySelector(".mapbox-improve-map"));var a=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||i.config.ACCESS_TOKEN}];if(n){var o=a.reduce(function(c,p,y){return p.value&&(c+=p.key+"="+p.value+(y<a.length-1?"&":"")),c},"?");n.href=i.config.FEEDBACK_URL+"/"+o+(this._map._hash?this._map._hash.getHashString(!0):""),n.rel="noopener nofollow",this._setElementTitle(n,"MapFeedback")}},yi.prototype._updateData=function(n){!n||"metadata"!==n.sourceDataType&&"visibility"!==n.sourceDataType&&"style"!==n.dataType||(this._updateAttributions(),this._updateEditLink())},yi.prototype._updateAttributions=function(){if(this._map.style){var n=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?n=n.concat(this.options.customAttribution.map(function(Q){return"string"!=typeof Q?"":Q})):"string"==typeof this.options.customAttribution&&n.push(this.options.customAttribution)),this._map.style.stylesheet){var a=this._map.style.stylesheet;this.styleOwner=a.owner,this.styleId=a.id}var o=this._map.style.sourceCaches;for(var c in o){var p=o[c];if(p.used){var y=p.getSource();y.attribution&&n.indexOf(y.attribution)<0&&n.push(y.attribution)}}n.sort(function(Q,O){return Q.length-O.length});var _=(n=n.filter(function(Q,O){for(var X=O+1;X<n.length;X++)if(n[X].indexOf(Q)>=0)return!1;return!0})).join(" | ");_!==this._attribHTML&&(this._attribHTML=_,n.length?(this._innerContainer.innerHTML=_,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},yi.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")};var Yi=function(){i.bindAll(["_updateLogo"],this),i.bindAll(["_updateCompact"],this)};Yi.prototype.onAdd=function(n){this._map=n,this._container=g.create("div","mapboxgl-ctrl");var a=g.create("a","mapboxgl-ctrl-logo");return a.target="_blank",a.rel="noopener nofollow",a.href="https://www.mapbox.com/",a.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),a.setAttribute("rel","noopener nofollow"),this._container.appendChild(a),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},Yi.prototype.onRemove=function(){g.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},Yi.prototype.getDefaultPosition=function(){return"bottom-left"},Yi.prototype._updateLogo=function(n){n&&"metadata"!==n.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},Yi.prototype._logoRequired=function(){if(this._map.style){var n=this._map.style.sourceCaches;for(var a in n)if(n[a].getSource().mapbox_logo)return!0;return!1}},Yi.prototype._updateCompact=function(){var n=this._container.children;if(n.length){var a=n[0];this._map.getCanvasContainer().offsetWidth<250?a.classList.add("mapboxgl-compact"):a.classList.remove("mapboxgl-compact")}};var ii=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};ii.prototype.add=function(n){var a=++this._id;return this._queue.push({callback:n,id:a,cancelled:!1}),a},ii.prototype.remove=function(n){for(var a=this._currentlyRunning,o=0,c=a?this._queue.concat(a):this._queue;o<c.length;o+=1){var p=c[o];if(p.id===n)return void(p.cancelled=!0)}},ii.prototype.run=function(n){void 0===n&&(n=0);var a=this._currentlyRunning=this._queue;this._queue=[];for(var o=0,c=a;o<c.length;o+=1){var p=c[o];if(!p.cancelled&&(p.callback(n),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},ii.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var Eo={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},os=i.window.HTMLImageElement,fA=i.window.HTMLElement,Wr=i.window.ImageBitmap,zn={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},as=function(n){function a(c){var p=this;if(null!=(c=i.extend({},zn,c)).minZoom&&null!=c.maxZoom&&c.minZoom>c.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=c.minPitch&&null!=c.maxPitch&&c.minPitch>c.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=c.minPitch&&c.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=c.maxPitch&&c.maxPitch>60)throw new Error("maxPitch must be less than or equal to 60");var y=new z(c.minZoom,c.maxZoom,c.minPitch,c.maxPitch,c.renderWorldCopies);if(n.call(this,y,c),this._interactive=c.interactive,this._maxTileCacheSize=c.maxTileCacheSize,this._failIfMajorPerformanceCaveat=c.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=c.preserveDrawingBuffer,this._antialias=c.antialias,this._trackResize=c.trackResize,this._bearingSnap=c.bearingSnap,this._refreshExpiredTiles=c.refreshExpiredTiles,this._fadeDuration=c.fadeDuration,this._crossSourceCollisions=c.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=c.collectResourceTiming,this._renderTaskQueue=new ii,this._controls=[],this._mapId=i.uniqueId(),this._locale=i.extend({},Eo,c.locale),this._clickTolerance=c.clickTolerance,this._requestManager=new i.RequestManager(c.transformRequest,c.accessToken),"string"==typeof c.container){if(this._container=i.window.document.getElementById(c.container),!this._container)throw new Error("Container '"+c.container+"' not found.")}else{if(!(c.container instanceof fA))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=c.container}if(c.maxBounds&&this.setMaxBounds(c.maxBounds),i.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return p._update(!1)}),this.on("moveend",function(){return p._update(!1)}),this.on("zoom",function(){return p._update(!0)}),void 0!==i.window&&(i.window.addEventListener("online",this._onWindowOnline,!1),i.window.addEventListener("resize",this._onWindowResize,!1),i.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new Mt(this,c),this._hash=c.hash&&new ie("string"==typeof c.hash&&c.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:c.center,zoom:c.zoom,bearing:c.bearing,pitch:c.pitch}),c.bounds&&(this.resize(),this.fitBounds(c.bounds,i.extend({},c.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=c.localIdeographFontFamily,c.style&&this.setStyle(c.style,{localIdeographFontFamily:c.localIdeographFontFamily}),c.attributionControl&&this.addControl(new yi({customAttribution:c.customAttribution})),this.addControl(new Yi,c.logoPosition),this.on("style.load",function(){p.transform.unmodified&&p.jumpTo(p.style.stylesheet)}),this.on("data",function(_){p._update("style"===_.dataType),p.fire(new i.Event(_.dataType+"data",_))}),this.on("dataloading",function(_){p.fire(new i.Event(_.dataType+"dataloading",_))})}n&&(a.__proto__=n),(a.prototype=Object.create(n&&n.prototype)).constructor=a;var o={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return a.prototype._getMapId=function(){return this._mapId},a.prototype.addControl=function(c,p){if(void 0===p&&(p=c.getDefaultPosition?c.getDefaultPosition():"top-right"),!c||!c.onAdd)return this.fire(new i.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var y=c.onAdd(this);this._controls.push(c);var _=this._controlPositions[p];return-1!==p.indexOf("bottom")?_.insertBefore(y,_.firstChild):_.appendChild(y),this},a.prototype.removeControl=function(c){if(!c||!c.onRemove)return this.fire(new i.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var p=this._controls.indexOf(c);return p>-1&&this._controls.splice(p,1),c.onRemove(this),this},a.prototype.hasControl=function(c){return this._controls.indexOf(c)>-1},a.prototype.resize=function(c){var p=this._containerDimensions(),y=p[0],_=p[1];if(y===this.transform.width&&_===this.transform.height)return this;this._resizeCanvas(y,_),this.transform.resize(y,_),this.painter.resize(y,_);var Q=!this._moving;return Q&&this.fire(new i.Event("movestart",c)).fire(new i.Event("move",c)),this.fire(new i.Event("resize",c)),Q&&this.fire(new i.Event("moveend",c)),this},a.prototype.getBounds=function(){return this.transform.getBounds()},a.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},a.prototype.setMaxBounds=function(c){return this.transform.setMaxBounds(i.LngLatBounds.convert(c)),this._update()},a.prototype.setMinZoom=function(c){if((c=c??-2)>=-2&&c<=this.transform.maxZoom)return this.transform.minZoom=c,this._update(),this.getZoom()<c&&this.setZoom(c),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},a.prototype.getMinZoom=function(){return this.transform.minZoom},a.prototype.setMaxZoom=function(c){if((c=c??22)>=this.transform.minZoom)return this.transform.maxZoom=c,this._update(),this.getZoom()>c&&this.setZoom(c),this;throw new Error("maxZoom must be greater than the current minZoom")},a.prototype.getMaxZoom=function(){return this.transform.maxZoom},a.prototype.setMinPitch=function(c){if((c=c??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(c>=0&&c<=this.transform.maxPitch)return this.transform.minPitch=c,this._update(),this.getPitch()<c&&this.setPitch(c),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},a.prototype.getMinPitch=function(){return this.transform.minPitch},a.prototype.setMaxPitch=function(c){if((c=c??60)>60)throw new Error("maxPitch must be less than or equal to 60");if(c>=this.transform.minPitch)return this.transform.maxPitch=c,this._update(),this.getPitch()>c&&this.setPitch(c),this;throw new Error("maxPitch must be greater than the current minPitch")},a.prototype.getMaxPitch=function(){return this.transform.maxPitch},a.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},a.prototype.setRenderWorldCopies=function(c){return this.transform.renderWorldCopies=c,this._update()},a.prototype.project=function(c){return this.transform.locationPoint(i.LngLat.convert(c))},a.prototype.unproject=function(c){return this.transform.pointLocation(i.Point.convert(c))},a.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},a.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},a.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},a.prototype._createDelegatedListener=function(c,p,y){var _,Q=this;if("mouseenter"===c||"mouseover"===c){var O=!1;return{layer:p,listener:y,delegates:{mousemove:function(J){var $=Q.getLayer(p)?Q.queryRenderedFeatures(J.point,{layers:[p]}):[];$.length?O||(O=!0,y.call(Q,new Xr(c,Q,J.originalEvent,{features:$}))):O=!1},mouseout:function(){O=!1}}}}if("mouseleave"===c||"mouseout"===c){var X=!1;return{layer:p,listener:y,delegates:{mousemove:function(J){(Q.getLayer(p)?Q.queryRenderedFeatures(J.point,{layers:[p]}):[]).length?X=!0:X&&(X=!1,y.call(Q,new Xr(c,Q,J.originalEvent)))},mouseout:function(J){X&&(X=!1,y.call(Q,new Xr(c,Q,J.originalEvent)))}}}}return{layer:p,listener:y,delegates:(_={},_[c]=function(J){var $=Q.getLayer(p)?Q.queryRenderedFeatures(J.point,{layers:[p]}):[];$.length&&(J.features=$,y.call(Q,J),delete J.features)},_)}},a.prototype.on=function(c,p,y){if(void 0===y)return n.prototype.on.call(this,c,p);var _=this._createDelegatedListener(c,p,y);for(var Q in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[c]=this._delegatedListeners[c]||[],this._delegatedListeners[c].push(_),_.delegates)this.on(Q,_.delegates[Q]);return this},a.prototype.once=function(c,p,y){if(void 0===y)return n.prototype.once.call(this,c,p);var _=this._createDelegatedListener(c,p,y);for(var Q in _.delegates)this.once(Q,_.delegates[Q]);return this},a.prototype.off=function(c,p,y){var _=this;return void 0===y?n.prototype.off.call(this,c,p):(this._delegatedListeners&&this._delegatedListeners[c]&&function(Q){for(var O=Q[c],X=0;X<O.length;X++){var J=O[X];if(J.layer===p&&J.listener===y){for(var $ in J.delegates)_.off($,J.delegates[$]);return O.splice(X,1),_}}}(this._delegatedListeners),this)},a.prototype.queryRenderedFeatures=function(c,p){if(!this.style)return[];var y;if(void 0!==p||void 0===c||c instanceof i.Point||Array.isArray(c)||(p=c,c=void 0),p=p||{},(c=c||[[0,0],[this.transform.width,this.transform.height]])instanceof i.Point||"number"==typeof c[0])y=[i.Point.convert(c)];else{var _=i.Point.convert(c[0]),Q=i.Point.convert(c[1]);y=[_,new i.Point(Q.x,_.y),Q,new i.Point(_.x,Q.y),_]}return this.style.queryRenderedFeatures(y,p,this.transform)},a.prototype.querySourceFeatures=function(c,p){return this.style.querySourceFeatures(c,p)},a.prototype.setStyle=function(c,p){return!1!==(p=i.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},p)).diff&&p.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&c?(this._diffStyle(c,p),this):(this._localIdeographFontFamily=p.localIdeographFontFamily,this._updateStyle(c,p))},a.prototype._getUIString=function(c){var p=this._locale[c];if(null==p)throw new Error("Missing UI string '"+c+"'");return p},a.prototype._updateStyle=function(c,p){return this.style&&(this.style.setEventedParent(null),this.style._remove()),c?(this.style=new fi(this,p||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof c?this.style.loadURL(c):this.style.loadJSON(c),this):(delete this.style,this)},a.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new fi(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},a.prototype._diffStyle=function(c,p){var y=this;if("string"==typeof c){var _=this._requestManager.normalizeStyleURL(c),Q=this._requestManager.transformRequest(_,i.ResourceType.Style);i.getJSON(Q,function(O,X){O?y.fire(new i.ErrorEvent(O)):X&&y._updateDiff(X,p)})}else"object"==typeof c&&this._updateDiff(c,p)},a.prototype._updateDiff=function(c,p){try{this.style.setState(c)&&this._update(!0)}catch(y){i.warnOnce("Unable to perform style diff: "+(y.message||y.error||y)+".  Rebuilding the style from scratch."),this._updateStyle(c,p)}},a.prototype.getStyle=function(){if(this.style)return this.style.serialize()},a.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():i.warnOnce("There is no style added to the map.")},a.prototype.addSource=function(c,p){return this._lazyInitEmptyStyle(),this.style.addSource(c,p),this._update(!0)},a.prototype.isSourceLoaded=function(c){var p=this.style&&this.style.sourceCaches[c];if(void 0!==p)return p.loaded();this.fire(new i.ErrorEvent(new Error("There is no source with ID '"+c+"'")))},a.prototype.areTilesLoaded=function(){var c=this.style&&this.style.sourceCaches;for(var p in c){var y=c[p]._tiles;for(var _ in y){var Q=y[_];if("loaded"!==Q.state&&"errored"!==Q.state)return!1}}return!0},a.prototype.addSourceType=function(c,p,y){return this._lazyInitEmptyStyle(),this.style.addSourceType(c,p,y)},a.prototype.removeSource=function(c){return this.style.removeSource(c),this._update(!0)},a.prototype.getSource=function(c){return this.style.getSource(c)},a.prototype.addImage=function(c,p,y){void 0===y&&(y={});var _=y.pixelRatio;void 0===_&&(_=1);var Q=y.sdf;void 0===Q&&(Q=!1);var O=y.stretchX,X=y.stretchY,J=y.content;if(this._lazyInitEmptyStyle(),p instanceof os||Wr&&p instanceof Wr){var $=i.browser.getImageData(p);this.style.addImage(c,{data:new i.RGBAImage({width:$.width,height:$.height},$.data),pixelRatio:_,stretchX:O,stretchY:X,content:J,sdf:Q,version:0})}else{if(void 0===p.width||void 0===p.height)return this.fire(new i.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var te=p;this.style.addImage(c,{data:new i.RGBAImage({width:p.width,height:p.height},new Uint8Array(p.data)),pixelRatio:_,stretchX:O,stretchY:X,content:J,sdf:Q,version:0,userImage:te}),te.onAdd&&te.onAdd(this,c)}},a.prototype.updateImage=function(c,p){var y=this.style.getImage(c);if(!y)return this.fire(new i.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var _=p instanceof os||Wr&&p instanceof Wr?i.browser.getImageData(p):p,Q=_.width,O=_.height,X=_.data;return void 0===Q||void 0===O?this.fire(new i.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):Q!==y.data.width||O!==y.data.height?this.fire(new i.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(y.data.replace(X,!(p instanceof os||Wr&&p instanceof Wr)),void this.style.updateImage(c,y))},a.prototype.hasImage=function(c){return c?!!this.style.getImage(c):(this.fire(new i.ErrorEvent(new Error("Missing required image id"))),!1)},a.prototype.removeImage=function(c){this.style.removeImage(c)},a.prototype.loadImage=function(c,p){i.getImage(this._requestManager.transformRequest(c,i.ResourceType.Image),p)},a.prototype.listImages=function(){return this.style.listImages()},a.prototype.addLayer=function(c,p){return this._lazyInitEmptyStyle(),this.style.addLayer(c,p),this._update(!0)},a.prototype.moveLayer=function(c,p){return this.style.moveLayer(c,p),this._update(!0)},a.prototype.removeLayer=function(c){return this.style.removeLayer(c),this._update(!0)},a.prototype.getLayer=function(c){return this.style.getLayer(c)},a.prototype.setLayerZoomRange=function(c,p,y){return this.style.setLayerZoomRange(c,p,y),this._update(!0)},a.prototype.setFilter=function(c,p,y){return void 0===y&&(y={}),this.style.setFilter(c,p,y),this._update(!0)},a.prototype.getFilter=function(c){return this.style.getFilter(c)},a.prototype.setPaintProperty=function(c,p,y,_){return void 0===_&&(_={}),this.style.setPaintProperty(c,p,y,_),this._update(!0)},a.prototype.getPaintProperty=function(c,p){return this.style.getPaintProperty(c,p)},a.prototype.setLayoutProperty=function(c,p,y,_){return void 0===_&&(_={}),this.style.setLayoutProperty(c,p,y,_),this._update(!0)},a.prototype.getLayoutProperty=function(c,p){return this.style.getLayoutProperty(c,p)},a.prototype.setLight=function(c,p){return void 0===p&&(p={}),this._lazyInitEmptyStyle(),this.style.setLight(c,p),this._update(!0)},a.prototype.getLight=function(){return this.style.getLight()},a.prototype.setFeatureState=function(c,p){return this.style.setFeatureState(c,p),this._update()},a.prototype.removeFeatureState=function(c,p){return this.style.removeFeatureState(c,p),this._update()},a.prototype.getFeatureState=function(c){return this.style.getFeatureState(c)},a.prototype.getContainer=function(){return this._container},a.prototype.getCanvasContainer=function(){return this._canvasContainer},a.prototype.getCanvas=function(){return this._canvas},a.prototype._containerDimensions=function(){var c=0,p=0;return this._container&&(c=this._container.clientWidth||400,p=this._container.clientHeight||300),[c,p]},a.prototype._detectMissingCSS=function(){"rgb(250, 128, 114)"!==i.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&i.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},a.prototype._setupContainer=function(){var c=this._container;c.classList.add("mapboxgl-map"),(this._missingCSSCanary=g.create("div","mapboxgl-canary",c)).style.visibility="hidden",this._detectMissingCSS();var p=this._canvasContainer=g.create("div","mapboxgl-canvas-container",c);this._interactive&&p.classList.add("mapboxgl-interactive"),this._canvas=g.create("canvas","mapboxgl-canvas",p),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var y=this._containerDimensions();this._resizeCanvas(y[0],y[1]);var _=this._controlContainer=g.create("div","mapboxgl-control-container",c),Q=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(O){Q[O]=g.create("div","mapboxgl-ctrl-"+O,_)}),this._container.addEventListener("scroll",this._onMapScroll,!1)},a.prototype._resizeCanvas=function(c,p){var y=i.browser.devicePixelRatio||1;this._canvas.width=y*c,this._canvas.height=y*p,this._canvas.style.width=c+"px",this._canvas.style.height=p+"px"},a.prototype._setupPainter=function(){var c=i.extend({},v.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),p=this._canvas.getContext("webgl",c)||this._canvas.getContext("experimental-webgl",c);p?(this.painter=new Zr(p,this.transform),i.webpSupported.testSupport(p)):this.fire(new i.ErrorEvent(new Error("Failed to initialize WebGL")))},a.prototype._contextLost=function(c){c.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new i.Event("webglcontextlost",{originalEvent:c}))},a.prototype._contextRestored=function(c){this._setupPainter(),this.resize(),this._update(),this.fire(new i.Event("webglcontextrestored",{originalEvent:c}))},a.prototype._onMapScroll=function(c){if(c.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},a.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},a.prototype._update=function(c){return this.style?(this._styleDirty=this._styleDirty||c,this._sourcesDirty=!0,this.triggerRepaint(),this):this},a.prototype._requestRenderFrame=function(c){return this._update(),this._renderTaskQueue.add(c)},a.prototype._cancelRenderFrame=function(c){this._renderTaskQueue.remove(c)},a.prototype._render=function(c){var p,y=this,_=0,Q=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(p=Q.createQueryEXT(),Q.beginQueryEXT(Q.TIME_ELAPSED_EXT,p),_=i.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(c),!this._removed){var O=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var X=this.transform.zoom,J=i.browser.now();this.style.zoomHistory.update(X,J);var $=new i.EvaluationParameters(X,{now:J,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),te=$.crossFadingFactor();1===te&&te===this._crossFadingFactor||(O=!0,this._crossFadingFactor=te),this.style.update($)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new i.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new i.Event("load"))),this.style&&(this.style.hasTransitions()||O)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var le=i.browser.now()-_;Q.endQueryEXT(Q.TIME_ELAPSED_EXT,p),setTimeout(function(){var oe=Q.getQueryObjectEXT(p,Q.QUERY_RESULT_EXT)/1e6;Q.deleteQueryEXT(p),y.fire(new i.Event("gpu-timing-frame",{cpuTime:le,gpuTime:oe}))},50)}if(this.listens("gpu-timing-layer")){var se=this.painter.collectGpuTimers();setTimeout(function(){var oe=y.painter.queryGpuTimers(se);y.fire(new i.Event("gpu-timing-layer",{layerTimes:oe}))},50)}var be=this._sourcesDirty||this._styleDirty||this._placementDirty;return be||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new i.Event("idle")),!this._loaded||this._fullyLoaded||be||(this._fullyLoaded=!0),this}},a.prototype.remove=function(){this._hash&&this._hash.remove();for(var c=0,p=this._controls;c<p.length;c+=1)p[c].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),void 0!==i.window&&(i.window.removeEventListener("resize",this._onWindowResize,!1),i.window.removeEventListener("orientationchange",this._onWindowResize,!1),i.window.removeEventListener("online",this._onWindowOnline,!1));var y=this.painter.context.gl.getExtension("WEBGL_lose_context");y&&y.loseContext(),Wo(this._canvasContainer),Wo(this._controlContainer),Wo(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new i.Event("remove"))},a.prototype.triggerRepaint=function(){var c=this;this.style&&!this._frame&&(this._frame=i.browser.frame(function(p){c._frame=null,c._render(p)}))},a.prototype._onWindowOnline=function(){this._update()},a.prototype._onWindowResize=function(c){this._trackResize&&this.resize({originalEvent:c})._update()},o.showTileBoundaries.get=function(){return!!this._showTileBoundaries},o.showTileBoundaries.set=function(c){this._showTileBoundaries!==c&&(this._showTileBoundaries=c,this._update())},o.showPadding.get=function(){return!!this._showPadding},o.showPadding.set=function(c){this._showPadding!==c&&(this._showPadding=c,this._update())},o.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},o.showCollisionBoxes.set=function(c){this._showCollisionBoxes!==c&&(this._showCollisionBoxes=c,c?this.style._generateCollisionBoxes():this._update())},o.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},o.showOverdrawInspector.set=function(c){this._showOverdrawInspector!==c&&(this._showOverdrawInspector=c,this._update())},o.repaint.get=function(){return!!this._repaint},o.repaint.set=function(c){this._repaint!==c&&(this._repaint=c,this.triggerRepaint())},o.vertices.get=function(){return!!this._vertices},o.vertices.set=function(c){this._vertices=c,this._update()},a.prototype._setCacheLimits=function(c,p){i.setCacheLimits(c,p)},o.version.get=function(){return i.version},Object.defineProperties(a.prototype,o),a}(hA);function Wo(n){n.parentNode&&n.parentNode.removeChild(n)}var As={showCompass:!0,showZoom:!0,visualizePitch:!1},ki=function(n){var a=this;this.options=i.extend({},As,n),this._container=g.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(o){return o.preventDefault()}),this.options.showZoom&&(i.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(o){return a._map.zoomIn({},{originalEvent:o})}),g.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(o){return a._map.zoomOut({},{originalEvent:o})}),g.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(i.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(o){a.options.visualizePitch?a._map.resetNorthPitch({},{originalEvent:o}):a._map.resetNorth({},{originalEvent:o})}),this._compassIcon=g.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};ki.prototype._updateZoomButtons=function(){var n=this._map.getZoom(),a=n===this._map.getMaxZoom(),o=n===this._map.getMinZoom();this._zoomInButton.disabled=a,this._zoomOutButton.disabled=o,this._zoomInButton.setAttribute("aria-disabled",a.toString()),this._zoomOutButton.setAttribute("aria-disabled",o.toString())},ki.prototype._rotateCompassArrow=function(){var n=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=n},ki.prototype.onAdd=function(n){return this._map=n,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new vi(this._map,this._compass,this.options.visualizePitch)),this._container},ki.prototype.onRemove=function(){g.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},ki.prototype._createButton=function(n,a){var o=g.create("button",n,this._container);return o.type="button",o.addEventListener("click",a),o},ki.prototype._setButtonTitle=function(n,a){var o=this._map._getUIString("NavigationControl."+a);n.title=o,n.setAttribute("aria-label",o)};var vi=function(n,a,o){void 0===o&&(o=!1),this._clickTolerance=10,this.element=a,this.mouseRotate=new Ho({clickTolerance:n.dragRotate._mouseRotate._clickTolerance}),this.map=n,o&&(this.mousePitch=new Da({clickTolerance:n.dragRotate._mousePitch._clickTolerance})),i.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),g.addEventListener(a,"mousedown",this.mousedown),g.addEventListener(a,"touchstart",this.touchstart,{passive:!1}),g.addEventListener(a,"touchmove",this.touchmove),g.addEventListener(a,"touchend",this.touchend),g.addEventListener(a,"touchcancel",this.reset)};function Jo(n,a,o){if(n=new i.LngLat(n.lng,n.lat),a){var c=new i.LngLat(n.lng-360,n.lat),p=new i.LngLat(n.lng+360,n.lat),y=o.locationPoint(n).distSqr(a);o.locationPoint(c).distSqr(a)<y?n=c:o.locationPoint(p).distSqr(a)<y&&(n=p)}for(;Math.abs(n.lng-o.center.lng)>180;){var _=o.locationPoint(n);if(_.x>=0&&_.y>=0&&_.x<=o.width&&_.y<=o.height)break;n.lng>o.center.lng?n.lng-=360:n.lng+=360}return n}vi.prototype.down=function(n,a){this.mouseRotate.mousedown(n,a),this.mousePitch&&this.mousePitch.mousedown(n,a),g.disableDrag()},vi.prototype.move=function(n,a){var o=this.map,c=this.mouseRotate.mousemoveWindow(n,a);if(c&&c.bearingDelta&&o.setBearing(o.getBearing()+c.bearingDelta),this.mousePitch){var p=this.mousePitch.mousemoveWindow(n,a);p&&p.pitchDelta&&o.setPitch(o.getPitch()+p.pitchDelta)}},vi.prototype.off=function(){var n=this.element;g.removeEventListener(n,"mousedown",this.mousedown),g.removeEventListener(n,"touchstart",this.touchstart,{passive:!1}),g.removeEventListener(n,"touchmove",this.touchmove),g.removeEventListener(n,"touchend",this.touchend),g.removeEventListener(n,"touchcancel",this.reset),this.offTemp()},vi.prototype.offTemp=function(){g.enableDrag(),g.removeEventListener(i.window,"mousemove",this.mousemove),g.removeEventListener(i.window,"mouseup",this.mouseup)},vi.prototype.mousedown=function(n){this.down(i.extend({},n,{ctrlKey:!0,preventDefault:function(){return n.preventDefault()}}),g.mousePos(this.element,n)),g.addEventListener(i.window,"mousemove",this.mousemove),g.addEventListener(i.window,"mouseup",this.mouseup)},vi.prototype.mousemove=function(n){this.move(n,g.mousePos(this.element,n))},vi.prototype.mouseup=function(n){this.mouseRotate.mouseupWindow(n),this.mousePitch&&this.mousePitch.mouseupWindow(n),this.offTemp()},vi.prototype.touchstart=function(n){1!==n.targetTouches.length?this.reset():(this._startPos=this._lastPos=g.touchPos(this.element,n.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return n.preventDefault()}},this._startPos))},vi.prototype.touchmove=function(n){1!==n.targetTouches.length?this.reset():(this._lastPos=g.touchPos(this.element,n.targetTouches)[0],this.move({preventDefault:function(){return n.preventDefault()}},this._lastPos))},vi.prototype.touchend=function(n){0===n.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},vi.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};var qi={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function dA(n,a,o){var c=n.classList;for(var p in qi)c.remove("mapboxgl-"+o+"-anchor-"+p);c.add("mapboxgl-"+o+"-anchor-"+a)}var Ua,gA=function(n){function a(o,c){if(n.call(this),(o instanceof i.window.HTMLElement||c)&&(o=i.extend({element:o},c)),i.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=o&&o.anchor||"center",this._color=o&&o.color||"#3FB1CE",this._scale=o&&o.scale||1,this._draggable=o&&o.draggable||!1,this._clickTolerance=o&&o.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=o&&o.rotation||0,this._rotationAlignment=o&&o.rotationAlignment||"auto",this._pitchAlignment=o&&o.pitchAlignment&&"auto"!==o.pitchAlignment?o.pitchAlignment:this._rotationAlignment,o&&o.element)this._element=o.element,this._offset=i.Point.convert(o&&o.offset||[0,0]);else{this._defaultMarker=!0,this._element=g.create("div"),this._element.setAttribute("aria-label","Map marker");var p=g.createNS("http://www.w3.org/2000/svg","svg");p.setAttributeNS(null,"display","block"),p.setAttributeNS(null,"height","41px"),p.setAttributeNS(null,"width","27px"),p.setAttributeNS(null,"viewBox","0 0 27 41");var y=g.createNS("http://www.w3.org/2000/svg","g");y.setAttributeNS(null,"stroke","none"),y.setAttributeNS(null,"stroke-width","1"),y.setAttributeNS(null,"fill","none"),y.setAttributeNS(null,"fill-rule","evenodd");var _=g.createNS("http://www.w3.org/2000/svg","g");_.setAttributeNS(null,"fill-rule","nonzero");var Q=g.createNS("http://www.w3.org/2000/svg","g");Q.setAttributeNS(null,"transform","translate(3.0, 29.0)"),Q.setAttributeNS(null,"fill","#000000");for(var O=0,X=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];O<X.length;O+=1){var J=X[O],$=g.createNS("http://www.w3.org/2000/svg","ellipse");$.setAttributeNS(null,"opacity","0.04"),$.setAttributeNS(null,"cx","10.5"),$.setAttributeNS(null,"cy","5.80029008"),$.setAttributeNS(null,"rx",J.rx),$.setAttributeNS(null,"ry",J.ry),Q.appendChild($)}var te=g.createNS("http://www.w3.org/2000/svg","g");te.setAttributeNS(null,"fill",this._color);var le=g.createNS("http://www.w3.org/2000/svg","path");le.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),te.appendChild(le);var se=g.createNS("http://www.w3.org/2000/svg","g");se.setAttributeNS(null,"opacity","0.25"),se.setAttributeNS(null,"fill","#000000");var be=g.createNS("http://www.w3.org/2000/svg","path");be.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),se.appendChild(be);var oe=g.createNS("http://www.w3.org/2000/svg","g");oe.setAttributeNS(null,"transform","translate(6.0, 7.0)"),oe.setAttributeNS(null,"fill","#FFFFFF");var _e=g.createNS("http://www.w3.org/2000/svg","g");_e.setAttributeNS(null,"transform","translate(8.0, 8.0)");var Qe=g.createNS("http://www.w3.org/2000/svg","circle");Qe.setAttributeNS(null,"fill","#000000"),Qe.setAttributeNS(null,"opacity","0.25"),Qe.setAttributeNS(null,"cx","5.5"),Qe.setAttributeNS(null,"cy","5.5"),Qe.setAttributeNS(null,"r","5.4999962");var Me=g.createNS("http://www.w3.org/2000/svg","circle");Me.setAttributeNS(null,"fill","#FFFFFF"),Me.setAttributeNS(null,"cx","5.5"),Me.setAttributeNS(null,"cy","5.5"),Me.setAttributeNS(null,"r","5.4999962"),_e.appendChild(Qe),_e.appendChild(Me),_.appendChild(Q),_.appendChild(te),_.appendChild(se),_.appendChild(oe),_.appendChild(_e),p.appendChild(_),p.setAttributeNS(null,"height",41*this._scale+"px"),p.setAttributeNS(null,"width",27*this._scale+"px"),this._element.appendChild(p),this._offset=i.Point.convert(o&&o.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(et){et.preventDefault()}),this._element.addEventListener("mousedown",function(et){et.preventDefault()}),dA(this._element,this._anchor,"marker"),this._popup=null}return n&&(a.__proto__=n),(a.prototype=Object.create(n&&n.prototype)).constructor=a,a.prototype.addTo=function(o){return this.remove(),this._map=o,o.getCanvasContainer().appendChild(this._element),o.on("move",this._update),o.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},a.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),g.remove(this._element),this._popup&&this._popup.remove(),this},a.prototype.getLngLat=function(){return this._lngLat},a.prototype.setLngLat=function(o){return this._lngLat=i.LngLat.convert(o),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},a.prototype.getElement=function(){return this._element},a.prototype.setPopup=function(o){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),o){if(!("offset"in o.options)){var c=Math.sqrt(Math.pow(13.5,2)/2);o.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[c,-1*(24.6+c)],"bottom-right":[-c,-1*(24.6+c)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=o,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},a.prototype._onKeyPress=function(o){var c=o.code,p=o.charCode||o.keyCode;"Space"!==c&&"Enter"!==c&&32!==p&&13!==p||this.togglePopup()},a.prototype._onMapClick=function(o){var c=o.originalEvent.target,p=this._element;this._popup&&(c===p||p.contains(c))&&this.togglePopup()},a.prototype.getPopup=function(){return this._popup},a.prototype.togglePopup=function(){var o=this._popup;return o?(o.isOpen()?o.remove():o.addTo(this._map),this):this},a.prototype._update=function(o){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=Jo(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var c="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?c="rotateZ("+this._rotation+"deg)":"map"===this._rotationAlignment&&(c="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var p="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?p="rotateX(0deg)":"map"===this._pitchAlignment&&(p="rotateX("+this._map.getPitch()+"deg)"),o&&"moveend"!==o.type||(this._pos=this._pos.round()),g.setTransform(this._element,qi[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+p+" "+c)}},a.prototype.getOffset=function(){return this._offset},a.prototype.setOffset=function(o){return this._offset=i.Point.convert(o),this._update(),this},a.prototype._onMove=function(o){if(!this._isDragging){var c=this._clickTolerance||this._map._clickTolerance;this._isDragging=o.point.dist(this._pointerdownPos)>=c}this._isDragging&&(this._pos=o.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new i.Event("dragstart"))),this.fire(new i.Event("drag")))},a.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new i.Event("dragend")),this._state="inactive"},a.prototype._addDragHandler=function(o){this._element.contains(o.originalEvent.target)&&(o.preventDefault(),this._positionDelta=o.point.sub(this._pos).add(this._offset),this._pointerdownPos=o.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},a.prototype.setDraggable=function(o){return this._draggable=!!o,this._map&&(o?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},a.prototype.isDraggable=function(){return this._draggable},a.prototype.setRotation=function(o){return this._rotation=o||0,this._update(),this},a.prototype.getRotation=function(){return this._rotation},a.prototype.setRotationAlignment=function(o){return this._rotationAlignment=o||"auto",this._update(),this},a.prototype.getRotationAlignment=function(){return this._rotationAlignment},a.prototype.setPitchAlignment=function(o){return this._pitchAlignment=o&&"auto"!==o?o:this._rotationAlignment,this._update(),this},a.prototype.getPitchAlignment=function(){return this._pitchAlignment},a}(i.Evented),MA={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},Oa=0,Mo=!1,jA=function(n){function a(o){n.call(this),this.options=i.extend({},MA,o),i.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return n&&(a.__proto__=n),(a.prototype=Object.create(n&&n.prototype)).constructor=a,a.prototype.onAdd=function(o){var c;return this._map=o,this._container=g.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),c=this._setupUI,void 0!==Ua?c(Ua):void 0!==i.window.navigator.permissions?i.window.navigator.permissions.query({name:"geolocation"}).then(function(p){c(Ua="denied"!==p.state)}):c(Ua=!!i.window.navigator.geolocation),this._container},a.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(i.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),g.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Oa=0,Mo=!1},a.prototype._isOutOfMapMaxBounds=function(o){var c=this._map.getMaxBounds(),p=o.coords;return c&&(p.longitude<c.getWest()||p.longitude>c.getEast()||p.latitude<c.getSouth()||p.latitude>c.getNorth())},a.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},a.prototype._onSuccess=function(o){if(this._map){if(this._isOutOfMapMaxBounds(o))return this._setErrorState(),this.fire(new i.Event("outofmaxbounds",o)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=o,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(o),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(o),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new i.Event("geolocate",o)),this._finish()}},a.prototype._updateCamera=function(o){var c=new i.LngLat(o.coords.longitude,o.coords.latitude),p=o.coords.accuracy,y=this._map.getBearing(),_=i.extend({bearing:y},this.options.fitBoundsOptions);this._map.fitBounds(c.toBounds(p),_,{geolocateSource:!0})},a.prototype._updateMarker=function(o){if(o){var c=new i.LngLat(o.coords.longitude,o.coords.latitude);this._accuracyCircleMarker.setLngLat(c).addTo(this._map),this._userLocationDotMarker.setLngLat(c).addTo(this._map),this._accuracy=o.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},a.prototype._updateCircleRadius=function(){var o=this._map._container.clientHeight/2,c=this._map.unproject([0,o]),p=this._map.unproject([1,o]),y=c.distanceTo(p),_=Math.ceil(2*this._accuracy/y);this._circleElement.style.width=_+"px",this._circleElement.style.height=_+"px"},a.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},a.prototype._onError=function(o){if(this._map){if(this.options.trackUserLocation)if(1===o.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var c=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=c,this._geolocateButton.setAttribute("aria-label",c),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===o.code&&Mo)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new i.Event("error",o)),this._finish()}},a.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},a.prototype._setupUI=function(o){var c=this;if(this._container.addEventListener("contextmenu",function(_){return _.preventDefault()}),this._geolocateButton=g.create("button","mapboxgl-ctrl-geolocate",this._container),g.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",!1===o){i.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var p=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=p,this._geolocateButton.setAttribute("aria-label",p)}else{var y=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=y,this._geolocateButton.setAttribute("aria-label",y)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=g.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new gA(this._dotElement),this._circleElement=g.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new gA({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(_){_.geolocateSource||"ACTIVE_LOCK"!==c._watchState||_.originalEvent&&"resize"===_.originalEvent.type||(c._watchState="BACKGROUND",c._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),c._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),c.fire(new i.Event("trackuserlocationend")))})},a.prototype.trigger=function(){if(!this._setup)return i.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new i.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Oa--,Mo=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new i.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new i.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){var o;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++Oa>1?(o={maximumAge:6e5,timeout:0},Mo=!0):(o=this.options.positionOptions,Mo=!1),this._geolocationWatchID=i.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,o)}}else i.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},a.prototype._clearWatch=function(){i.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},a}(i.Evented),$o={maxWidth:100,unit:"metric"},Co=function(n){this.options=i.extend({},$o,n),i.bindAll(["_onMove","setUnit"],this)};function RA(n,a,o){var c=o&&o.maxWidth||100,p=n._container.clientHeight/2,y=n.unproject([0,p]),_=n.unproject([c,p]),Q=y.distanceTo(_);if(o&&"imperial"===o.unit){var O=3.2808*Q;O>5280?ea(a,c,O/5280,n._getUIString("ScaleControl.Miles")):ea(a,c,O,n._getUIString("ScaleControl.Feet"))}else o&&"nautical"===o.unit?ea(a,c,Q/1852,n._getUIString("ScaleControl.NauticalMiles")):Q>=1e3?ea(a,c,Q/1e3,n._getUIString("ScaleControl.Kilometers")):ea(a,c,Q,n._getUIString("ScaleControl.Meters"))}function ea(n,a,o,c){var p,y,_,O,X,Q=(p=o,(y=Math.pow(10,(""+Math.floor(p)).length-1))*(_=(_=p/y)>=10?10:_>=5?5:_>=3?3:_>=2?2:_>=1?1:(O=_,X=Math.pow(10,Math.ceil(-Math.log(O)/Math.LN10)),Math.round(O*X)/X)));n.style.width=a*(Q/o)+"px",n.innerHTML=Q+"&nbsp;"+c}Co.prototype.getDefaultPosition=function(){return"bottom-left"},Co.prototype._onMove=function(){RA(this._map,this._container,this.options)},Co.prototype.onAdd=function(n){return this._map=n,this._container=g.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",n.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Co.prototype.onRemove=function(){g.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Co.prototype.setUnit=function(n){this.options.unit=n,RA(this._map,this._container,this.options)};var Pi=function(n){this._fullscreen=!1,n&&n.container&&(n.container instanceof i.window.HTMLElement?this._container=n.container:i.warnOnce("Full screen control 'container' must be a DOM element.")),i.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in i.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in i.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in i.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in i.window.document&&(this._fullscreenchange="MSFullscreenChange")};Pi.prototype.onAdd=function(n){return this._map=n,this._container||(this._container=this._map.getContainer()),this._controlContainer=g.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",i.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Pi.prototype.onRemove=function(){g.remove(this._controlContainer),this._map=null,i.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Pi.prototype._checkFullscreenSupport=function(){return!!(i.window.document.fullscreenEnabled||i.window.document.mozFullScreenEnabled||i.window.document.msFullscreenEnabled||i.window.document.webkitFullscreenEnabled)},Pi.prototype._setupUI=function(){var n=this._fullscreenButton=g.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);g.create("span","mapboxgl-ctrl-icon",n).setAttribute("aria-hidden",!0),n.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),i.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Pi.prototype._updateTitle=function(){var n=this._getTitle();this._fullscreenButton.setAttribute("aria-label",n),this._fullscreenButton.title=n},Pi.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},Pi.prototype._isFullscreen=function(){return this._fullscreen},Pi.prototype._changeIcon=function(){(i.window.document.fullscreenElement||i.window.document.mozFullScreenElement||i.window.document.webkitFullscreenElement||i.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},Pi.prototype._onClickFullscreen=function(){this._isFullscreen()?i.window.document.exitFullscreen?i.window.document.exitFullscreen():i.window.document.mozCancelFullScreen?i.window.document.mozCancelFullScreen():i.window.document.msExitFullscreen?i.window.document.msExitFullscreen():i.window.document.webkitCancelFullScreen&&i.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var zA={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},mA=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),GA=function(n){function a(o){n.call(this),this.options=i.extend(Object.create(zA),o),i.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return n&&(a.__proto__=n),(a.prototype=Object.create(n&&n.prototype)).constructor=a,a.prototype.addTo=function(o){return this._map&&this.remove(),this._map=o,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new i.Event("open")),this},a.prototype.isOpen=function(){return!!this._map},a.prototype.remove=function(){return this._content&&g.remove(this._content),this._container&&(g.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new i.Event("close")),this},a.prototype.getLngLat=function(){return this._lngLat},a.prototype.setLngLat=function(o){return this._lngLat=i.LngLat.convert(o),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},a.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},a.prototype.getElement=function(){return this._container},a.prototype.setText=function(o){return this.setDOMContent(i.window.document.createTextNode(o))},a.prototype.setHTML=function(o){var c,p=i.window.document.createDocumentFragment(),y=i.window.document.createElement("body");for(y.innerHTML=o;c=y.firstChild;)p.appendChild(c);return this.setDOMContent(p)},a.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},a.prototype.setMaxWidth=function(o){return this.options.maxWidth=o,this._update(),this},a.prototype.setDOMContent=function(o){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=g.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(o),this._createCloseButton(),this._update(),this._focusFirstElement(),this},a.prototype.addClassName=function(o){this._container&&this._container.classList.add(o)},a.prototype.removeClassName=function(o){this._container&&this._container.classList.remove(o)},a.prototype.setOffset=function(o){return this.options.offset=o,this._update(),this},a.prototype.toggleClassName=function(o){if(this._container)return this._container.classList.toggle(o)},a.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=g.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},a.prototype._onMouseUp=function(o){this._update(o.point)},a.prototype._onMouseMove=function(o){this._update(o.point)},a.prototype._onDrag=function(o){this._update(o.point)},a.prototype._update=function(o){var c=this;if(this._map&&(this._lngLat||this._trackPointer)&&this._content&&(this._container||(this._container=g.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=g.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function($){return c._container.classList.add($)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Jo(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||o)){var p=this._pos=this._trackPointer&&o?o:this._map.project(this._lngLat),y=this.options.anchor,_=function $(te){if(te){if("number"==typeof te){var le=Math.round(Math.sqrt(.5*Math.pow(te,2)));return{center:new i.Point(0,0),top:new i.Point(0,te),"top-left":new i.Point(le,le),"top-right":new i.Point(-le,le),bottom:new i.Point(0,-te),"bottom-left":new i.Point(le,-le),"bottom-right":new i.Point(-le,-le),left:new i.Point(te,0),right:new i.Point(-te,0)}}if(te instanceof i.Point||Array.isArray(te)){var se=i.Point.convert(te);return{center:se,top:se,"top-left":se,"top-right":se,bottom:se,"bottom-left":se,"bottom-right":se,left:se,right:se}}return{center:i.Point.convert(te.center||[0,0]),top:i.Point.convert(te.top||[0,0]),"top-left":i.Point.convert(te["top-left"]||[0,0]),"top-right":i.Point.convert(te["top-right"]||[0,0]),bottom:i.Point.convert(te.bottom||[0,0]),"bottom-left":i.Point.convert(te["bottom-left"]||[0,0]),"bottom-right":i.Point.convert(te["bottom-right"]||[0,0]),left:i.Point.convert(te.left||[0,0]),right:i.Point.convert(te.right||[0,0])}}return $(new i.Point(0,0))}(this.options.offset);if(!y){var Q,O=this._container.offsetWidth,X=this._container.offsetHeight;Q=p.y+_.bottom.y<X?["top"]:p.y>this._map.transform.height-X?["bottom"]:[],p.x<O/2?Q.push("left"):p.x>this._map.transform.width-O/2&&Q.push("right"),y=0===Q.length?"bottom":Q.join("-")}var J=p.add(_[y]).round();g.setTransform(this._container,qi[y]+" translate("+J.x+"px,"+J.y+"px)"),dA(this._container,y,"popup")}},a.prototype._focusFirstElement=function(){if(this.options.focusAfterOpen&&this._container){var o=this._container.querySelector(mA);o&&o.focus()}},a.prototype._onClose=function(){this.remove()},a}(i.Evented),La={version:i.version,supported:v,setRTLTextPlugin:i.setRTLTextPlugin,getRTLTextPluginStatus:i.getRTLTextPluginStatus,Map:as,NavigationControl:ki,GeolocateControl:jA,AttributionControl:yi,ScaleControl:Co,FullscreenControl:Pi,Popup:GA,Marker:gA,Style:fi,LngLat:i.LngLat,LngLatBounds:i.LngLatBounds,Point:i.Point,MercatorCoordinate:i.MercatorCoordinate,Evented:i.Evented,config:i.config,prewarm:function(){de().acquire(Ye)},clearPrewarmedResources:function(){var n=Ut;n&&(n.isPreloaded()&&1===n.numActive()?(n.release(Ye),Ut=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return i.config.ACCESS_TOKEN},set accessToken(n){i.config.ACCESS_TOKEN=n},get baseApiUrl(){return i.config.API_URL},set baseApiUrl(n){i.config.API_URL=n},get workerCount(){return pt.workerCount},set workerCount(n){pt.workerCount=n},get maxParallelImageRequests(){return i.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(n){i.config.MAX_PARALLEL_IMAGE_REQUESTS=n},clearStorage:function(n){i.clearTileCache(n)},workerUrl:""};return La}),d}()},function(m,x,s){var d=s(293),w=s(299);m.exports=function(i){return!0===i||!1===i||w(i)&&"[object Boolean]"==d(i)}},function(m,x,s){var d=s(294),w=s(297),i=s(298),v=d?d.toStringTag:void 0;m.exports=function(g){return null==g?void 0===g?"[object Undefined]":"[object Null]":v&&v in Object(g)?w(g):i(g)}},function(m,x,s){var d=s(295).Symbol;m.exports=d},function(m,x,s){var d=s(296),w="object"==typeof self&&self&&self.Object===Object&&self,i=d||w||Function("return this")();m.exports=i},function(m,x,s){m.exports="object"==typeof s.g&&s.g&&s.g.Object===Object&&s.g},function(m,x,s){var d=s(294),w=Object.prototype,i=w.hasOwnProperty,v=w.toString,g=d?d.toStringTag:void 0;m.exports=function(C){var F=i.call(C,g),P=C[g];try{C[g]=void 0;var B=!0}catch{}var S=v.call(C);return B&&(F?C[g]=P:delete C[g]),S}},function(m){var x=Object.prototype.toString;m.exports=function(s){return x.call(s)}},function(m){m.exports=function(x){return null!=x&&"object"==typeof x}},function(m){m.exports=function(x){var s=typeof x;return null!=x&&("object"==s||"function"==s)}},function(m){m.exports=function(x){return null==x}},function(m,x,s){var d=s(293),w=s(300);m.exports=function(i){if(!w(i))return!1;var v=d(i);return"[object Function]"==v||"[object GeneratorFunction]"==v||"[object AsyncFunction]"==v||"[object Proxy]"==v}},function(m){const x="api.tomtom.com";m.exports={"sdk.name":"MapsWebSDK","sdk.version":"6.23.0","sdk.examples.version":"SDK-${version}","analytics.header.name":"TomTom-User-Agent","analytics.header.sdkName":"MapsWebSDK","endpoints.copyrightsV2":"".concat(x,"/map/2/copyrights"),"endpoints.captionV2":"".concat(x,"/map/2/copyrights/caption.{contentType}"),"endpoints.geocode":"".concat(x,"/search/2/geocode/{query}.{contentType}"),"endpoints.structuredGeocode":"".concat(x,"/search/2/structuredGeocode.{contentType}"),"endpoints.search":"".concat(x,"/search/2/{type}/{query}.{contentType}"),"endpoints.nearbySearch":"".concat(x,"/search/2/nearbySearch/.{contentType}"),"endpoints.batchNearbySearchQuery":"/{type}/.{contentType}","endpoints.batchSearch":"".concat(x,"/search/2/batch.{contentType}"),"endpoints.batchSyncSearch":"".concat(x,"/search/2/batch/sync.{contentType}"),"endpoints.batchSearchQuery":"/{type}/{query}.{contentType}","endpoints.batchStructuredGeocodeQuery":"/structuredGeocode.{contentType}","endpoints.adp":"".concat(x,"/search/2/additionalData.{contentType}"),"endpoints.batchAdpQuery":"/additionalData.{contentType}","endpoints.reverseGeocode":"".concat(x,"/search/2/{type}/{position}.{contentType}"),"endpoints.batchReverseGeocodeQuery":"/{type}/{position}.{contentType}","endpoints.autocomplete":"".concat(x,"/search/2/autocomplete/{query}.{contentType}"),"endpoints.poiCategories":"".concat(x,"/search/2/poiCategories.{contentType}"),"endpoints.chargingAvailability":"".concat(x,"/search/2/chargingAvailability.{contentType}"),"endpoints.batchChargingAvailabilityQuery":"/chargingAvailability.{contentType}","endpoints.placeById":"".concat(x,"/search/2/place.{contentType}"),"endpoints.incidentDetailsV5":"".concat(x,"/traffic/services/5/incidentDetails"),"endpoints.incidentViewport":"".concat(x,"/traffic/services/4/incidentViewport/0,0,.1,.1/0/0,0,.1,.1/0/false/{contentType}"),"endpoints.flowSegmentData":"".concat(x,"/traffic/services/4/flowSegmentData/{style}/{zoom}/{contentType}"),"endpoints.incidentRegions":"".concat(x,"/traffic/services/4/incidentRegions/{contentType}"),"endpoints.rasterTrafficIncidentTilesLayer":"{s}.".concat(x,"/traffic/map/4/tile/incidents/{style}/{z}/{x}/{y}.png?tileSize={tileSize}"),"endpoints.vectorTrafficIncidentTilesLayer":"{s}.".concat(x,"/traffic/map/4/tile/incidents/{z}/{x}/{y}.pbf"),"endpoints.rasterTrafficFlowTilesLayer":"{s}.".concat(x,"/traffic/map/4/tile/flow/{style}/{z}/{x}/{y}.png"),"endpoints.vectorTrafficFlowTilesLayer":"{s}.".concat(x,"/traffic/map/4/tile/flow/{style}/{z}/{x}/{y}.pbf"),"endpoints.tileLayer":"{s}.".concat(x,"/map/1/tile/{layer}/{style}/{z}/{x}/{y}.png?tileSize={tileSize}"),"endpoints.wmsLayer":"{s}.".concat(x,"/map/1/wms/?service=WMS&version=1.1.1&request=GetMap&bbox={bbox-epsg-3857}&srs=EPSG:3857&width=512&height=512&layers=basic&styles=&format={format}"),"endpoints.vectorTileLayer":"{s}.".concat(x,"/map/1/tile/{layer}/{style}/{z}/{x}/{y}.pbf"),"endpoints.routing":"".concat(x,"/routing/1/calculateRoute/{locations}/{contentType}"),"endpoints.calculateReachableRange":"".concat(x,"/routing/1/calculateReachableRange/{origin}/{contentType}"),"endpoints.batchRouting":"".concat(x,"/routing/1/batch/{contentType}"),"endpoints.batchSyncRouting":"".concat(x,"/routing/1/batch/sync/{contentType}"),"endpoints.batchRoutingQuery":"/calculateRoute/{locations}/{contentType}","endpoints.batchReachableRangeQuery":"/calculateReachableRange/{origin}/{contentType}","endpoints.matrixRouting":"".concat(x,"/routing/1/matrix/{contentType}"),"endpoints.matrixSyncRouting":"".concat(x,"/routing/1/matrix/sync/{contentType}"),"endpoints.longDistanceEVRouting":"".concat(x,"/routing/1/calculateLongDistanceEVRoute/{locations}/{contentType}"),"endpoints.staticImage":"https://".concat(x,"/map/1/staticimage"),"vector.glyphs":"https://"+x+"/maps-sdk-js/6.23.0/glyphs/{fontstack}/{range}.pbf","vector.sprites":"https://"+x+"/maps-sdk-js/6.23.0/sprites/sprite","endpoints.styles":"https://".concat(x,"/style/1/style/{version}?map=basic_main&traffic_incidents=incidents_day&traffic_flow=flow_relative0&poi=poi_main"),origin:x,hostedStylesVersion:"21.1.0-*"}},function(m,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var d=i(s(305)),w=i(s(306));function i(g){return g&&g.__esModule?g:{default:g}}x.default=function(g,C,F){const P=(g=g||{}).random||(g.rng||d.default)();if(P[6]=15&P[6]|64,P[8]=63&P[8]|128,C){F=F||0;for(let B=0;B<16;++B)C[F+B]=P[B];return C}return(0,w.default)(P)}},function(m,x){"use strict";let s;Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(){if(!s&&(s=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),!s))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return s(d)};const d=new Uint8Array(16)},function(m,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var d,w=(d=s(307))&&d.__esModule?d:{default:d};const i=[];for(let g=0;g<256;++g)i.push((g+256).toString(16).substr(1));x.default=function(g,C=0){const F=(i[g[C+0]]+i[g[C+1]]+i[g[C+2]]+i[g[C+3]]+"-"+i[g[C+4]]+i[g[C+5]]+"-"+i[g[C+6]]+i[g[C+7]]+"-"+i[g[C+8]]+i[g[C+9]]+"-"+i[g[C+10]]+i[g[C+11]]+i[g[C+12]]+i[g[C+13]]+i[g[C+14]]+i[g[C+15]]).toLowerCase();if(!(0,w.default)(F))throw TypeError("Stringified UUID is invalid");return F}},function(m,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var d,w=(d=s(308))&&d.__esModule?d:{default:d};x.default=function(v){return"string"==typeof v&&w.default.test(v)}},function(m,x){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0,x.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},function(m,x,s){var d=s(310);m.exports=function(){if(!arguments.length)return[];var w=arguments[0];return d(w)?w:[w]}},function(m){m.exports=Array.isArray},function(m,x,s){var d=s(293),w=s(310),i=s(299);m.exports=function(v){return"string"==typeof v||!w(v)&&i(v)&&"[object String]"==d(v)}},function(m,x,s){var d=s(313);m.exports=function(w){return"number"==typeof w&&w==d(w)}},function(m,x,s){var d=s(314);m.exports=function(w){var i=d(w),v=i%1;return i==i?v?i-v:i:0}},function(m,x,s){var d=s(315);m.exports=function(i){return i?Infinity===(i=d(i))||i===-1/0?17976931348623157e292*(i<0?-1:1):i==i?i:0:0===i?i:0}},function(m,x,s){var d=s(316),w=s(300),i=s(318),v=/^[-+]0x[0-9a-f]+$/i,g=/^0b[01]+$/i,C=/^0o[0-7]+$/i,F=parseInt;m.exports=function(P){if("number"==typeof P)return P;if(i(P))return NaN;if(w(P)){var B="function"==typeof P.valueOf?P.valueOf():P;P=w(B)?B+"":B}if("string"!=typeof P)return 0===P?P:+P;P=d(P);var S=g.test(P);return S||C.test(P)?F(P.slice(2),S?2:8):v.test(P)?NaN:+P}},function(m,x,s){var d=s(317),w=/^\s+/;m.exports=function(i){return i&&i.slice(0,d(i)+1).replace(w,"")}},function(m){var x=/\s/;m.exports=function(s){for(var d=s.length;d--&&x.test(s.charAt(d)););return d}},function(m,x,s){var d=s(293),w=s(299);m.exports=function(i){return"symbol"==typeof i||w(i)&&"[object Symbol]"==d(i)}},function(m,x,s){var d=s(300),w=s(320),i=s(315),v=Math.max,g=Math.min;m.exports=function(C,F,P){var B,S,I,T,L,M,N=0,pe=!1,ve=!1,Fe=!0;if("function"!=typeof C)throw new TypeError("Expected a function");function Be(Ke){var De=B,tt=S;return B=S=void 0,N=Ke,T=C.apply(tt,De)}function Ee(Ke){var De=Ke-M;return void 0===M||De>=F||De<0||ve&&Ke-N>=I}function Ue(){var De,tt,Ke=w();if(Ee(Ke))return We(Ke);L=setTimeout(Ue,(tt=F-((De=Ke)-M),ve?g(tt,I-(De-N)):tt))}function We(Ke){return L=void 0,Fe&&B?Be(Ke):(B=S=void 0,T)}function Ve(){var Ke=w(),De=Ee(Ke);if(B=arguments,S=this,M=Ke,De){if(void 0===L)return function Se(Ke){return N=Ke,L=setTimeout(Ue,F),pe?Be(Ke):T}(M);if(ve)return clearTimeout(L),L=setTimeout(Ue,F),Be(M)}return void 0===L&&(L=setTimeout(Ue,F)),T}return F=i(F)||0,d(P)&&(pe=!!P.leading,I=(ve="maxWait"in P)?v(i(P.maxWait)||0,F):I,Fe="trailing"in P?!!P.trailing:Fe),Ve.cancel=function(){void 0!==L&&clearTimeout(L),N=0,B=M=S=L=void 0},Ve.flush=function(){return void 0===L?T:We(w())},Ve}},function(m,x,s){var d=s(295);m.exports=function(){return d.Date.now()}},function(m,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),Object.defineProperty(x,"v1",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(x,"v3",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(x,"v4",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(x,"v5",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(x,"NIL",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(x,"version",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(x,"validate",{enumerable:!0,get:function(){return F.default}}),Object.defineProperty(x,"stringify",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(x,"parse",{enumerable:!0,get:function(){return B.default}});var d=S(s(322)),w=S(s(323)),i=S(s(304)),v=S(s(327)),g=S(s(329)),C=S(s(330)),F=S(s(307)),P=S(s(306)),B=S(s(325));function S(I){return I&&I.__esModule?I:{default:I}}},function(m,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var d=i(s(305)),w=i(s(306));function i(B){return B&&B.__esModule?B:{default:B}}let v,g,C=0,F=0;x.default=function(B,S,I){let T=S&&I||0;const L=S||new Array(16);let M=(B=B||{}).node||v,N=void 0!==B.clockseq?B.clockseq:g;if(null==M||null==N){const Ee=B.random||(B.rng||d.default)();null==M&&(M=v=[1|Ee[0],Ee[1],Ee[2],Ee[3],Ee[4],Ee[5]]),null==N&&(N=g=16383&(Ee[6]<<8|Ee[7]))}let pe=void 0!==B.msecs?B.msecs:Date.now(),ve=void 0!==B.nsecs?B.nsecs:F+1;const Fe=pe-C+(ve-F)/1e4;if(Fe<0&&void 0===B.clockseq&&(N=N+1&16383),(Fe<0||pe>C)&&void 0===B.nsecs&&(ve=0),ve>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");C=pe,F=ve,g=N,pe+=122192928e5;const Be=(1e4*(268435455&pe)+ve)%4294967296;L[T++]=Be>>>24&255,L[T++]=Be>>>16&255,L[T++]=Be>>>8&255,L[T++]=255&Be;const Se=pe/4294967296*1e4&268435455;L[T++]=Se>>>8&255,L[T++]=255&Se,L[T++]=Se>>>24&15|16,L[T++]=Se>>>16&255,L[T++]=N>>>8|128,L[T++]=255&N;for(let Ee=0;Ee<6;++Ee)L[T+Ee]=M[Ee];return S||(0,w.default)(L)}},function(m,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var d=i(s(324)),w=i(s(326));function i(g){return g&&g.__esModule?g:{default:g}}var v=(0,d.default)("v3",48,w.default);x.default=v},function(m,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(C,F,P){function B(S,I,T,L){if("string"==typeof S&&(S=function(N){N=unescape(encodeURIComponent(N));const pe=[];for(let ve=0;ve<N.length;++ve)pe.push(N.charCodeAt(ve));return pe}(S)),"string"==typeof I&&(I=(0,w.default)(I)),16!==I.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let M=new Uint8Array(16+S.length);if(M.set(I),M.set(S,I.length),M=P(M),M[6]=15&M[6]|F,M[8]=63&M[8]|128,T){L=L||0;for(let N=0;N<16;++N)T[L+N]=M[N];return T}return(0,d.default)(M)}try{B.name=C}catch{}return B.DNS=v,B.URL=g,B},x.URL=x.DNS=void 0;var d=i(s(306)),w=i(s(325));function i(C){return C&&C.__esModule?C:{default:C}}const v="6ba7b810-9dad-11d1-80b4-00c04fd430c8";x.DNS=v;const g="6ba7b811-9dad-11d1-80b4-00c04fd430c8";x.URL=g},function(m,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var d,w=(d=s(307))&&d.__esModule?d:{default:d};x.default=function(v){if(!(0,w.default)(v))throw TypeError("Invalid UUID");let g;const C=new Uint8Array(16);return C[0]=(g=parseInt(v.slice(0,8),16))>>>24,C[1]=g>>>16&255,C[2]=g>>>8&255,C[3]=255&g,C[4]=(g=parseInt(v.slice(9,13),16))>>>8,C[5]=255&g,C[6]=(g=parseInt(v.slice(14,18),16))>>>8,C[7]=255&g,C[8]=(g=parseInt(v.slice(19,23),16))>>>8,C[9]=255&g,C[10]=(g=parseInt(v.slice(24,36),16))/1099511627776&255,C[11]=g/4294967296&255,C[12]=g>>>24&255,C[13]=g>>>16&255,C[14]=g>>>8&255,C[15]=255&g,C}},function(m,x){"use strict";function s(P){return 14+(P+64>>>9<<4)+1}function d(P,B){const S=(65535&P)+(65535&B);return(P>>16)+(B>>16)+(S>>16)<<16|65535&S}function w(P,B,S,I,T,L){return d((M=d(d(B,P),d(I,L)))<<(N=T)|M>>>32-N,S);var M,N}function i(P,B,S,I,T,L,M){return w(B&S|~B&I,P,B,T,L,M)}function v(P,B,S,I,T,L,M){return w(B&I|S&~I,P,B,T,L,M)}function g(P,B,S,I,T,L,M){return w(B^S^I,P,B,T,L,M)}function C(P,B,S,I,T,L,M){return w(S^(B|~I),P,B,T,L,M)}Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0,x.default=function(P){if("string"==typeof P){const B=unescape(encodeURIComponent(P));P=new Uint8Array(B.length);for(let S=0;S<B.length;++S)P[S]=B.charCodeAt(S)}return function(B){const S=[],I=32*B.length,T="0123456789abcdef";for(let L=0;L<I;L+=8){const M=B[L>>5]>>>L%32&255,N=parseInt(T.charAt(M>>>4&15)+T.charAt(15&M),16);S.push(N)}return S}(function(B,S){B[S>>5]|=128<<S%32,B[s(S)-1]=S;let I=1732584193,T=-271733879,L=-1732584194,M=271733878;for(let N=0;N<B.length;N+=16){const pe=I,ve=T,Fe=L,Be=M;I=i(I,T,L,M,B[N],7,-680876936),M=i(M,I,T,L,B[N+1],12,-389564586),L=i(L,M,I,T,B[N+2],17,606105819),T=i(T,L,M,I,B[N+3],22,-1044525330),I=i(I,T,L,M,B[N+4],7,-176418897),M=i(M,I,T,L,B[N+5],12,1200080426),L=i(L,M,I,T,B[N+6],17,-1473231341),T=i(T,L,M,I,B[N+7],22,-45705983),I=i(I,T,L,M,B[N+8],7,1770035416),M=i(M,I,T,L,B[N+9],12,-1958414417),L=i(L,M,I,T,B[N+10],17,-42063),T=i(T,L,M,I,B[N+11],22,-1990404162),I=i(I,T,L,M,B[N+12],7,1804603682),M=i(M,I,T,L,B[N+13],12,-40341101),L=i(L,M,I,T,B[N+14],17,-1502002290),T=i(T,L,M,I,B[N+15],22,1236535329),I=v(I,T,L,M,B[N+1],5,-165796510),M=v(M,I,T,L,B[N+6],9,-1069501632),L=v(L,M,I,T,B[N+11],14,643717713),T=v(T,L,M,I,B[N],20,-373897302),I=v(I,T,L,M,B[N+5],5,-701558691),M=v(M,I,T,L,B[N+10],9,38016083),L=v(L,M,I,T,B[N+15],14,-660478335),T=v(T,L,M,I,B[N+4],20,-405537848),I=v(I,T,L,M,B[N+9],5,568446438),M=v(M,I,T,L,B[N+14],9,-1019803690),L=v(L,M,I,T,B[N+3],14,-187363961),T=v(T,L,M,I,B[N+8],20,1163531501),I=v(I,T,L,M,B[N+13],5,-1444681467),M=v(M,I,T,L,B[N+2],9,-51403784),L=v(L,M,I,T,B[N+7],14,1735328473),T=v(T,L,M,I,B[N+12],20,-1926607734),I=g(I,T,L,M,B[N+5],4,-378558),M=g(M,I,T,L,B[N+8],11,-2022574463),L=g(L,M,I,T,B[N+11],16,1839030562),T=g(T,L,M,I,B[N+14],23,-35309556),I=g(I,T,L,M,B[N+1],4,-1530992060),M=g(M,I,T,L,B[N+4],11,1272893353),L=g(L,M,I,T,B[N+7],16,-155497632),T=g(T,L,M,I,B[N+10],23,-1094730640),I=g(I,T,L,M,B[N+13],4,681279174),M=g(M,I,T,L,B[N],11,-358537222),L=g(L,M,I,T,B[N+3],16,-722521979),T=g(T,L,M,I,B[N+6],23,76029189),I=g(I,T,L,M,B[N+9],4,-640364487),M=g(M,I,T,L,B[N+12],11,-421815835),L=g(L,M,I,T,B[N+15],16,530742520),T=g(T,L,M,I,B[N+2],23,-995338651),I=C(I,T,L,M,B[N],6,-198630844),M=C(M,I,T,L,B[N+7],10,1126891415),L=C(L,M,I,T,B[N+14],15,-1416354905),T=C(T,L,M,I,B[N+5],21,-57434055),I=C(I,T,L,M,B[N+12],6,1700485571),M=C(M,I,T,L,B[N+3],10,-1894986606),L=C(L,M,I,T,B[N+10],15,-1051523),T=C(T,L,M,I,B[N+1],21,-2054922799),I=C(I,T,L,M,B[N+8],6,1873313359),M=C(M,I,T,L,B[N+15],10,-30611744),L=C(L,M,I,T,B[N+6],15,-1560198380),T=C(T,L,M,I,B[N+13],21,1309151649),I=C(I,T,L,M,B[N+4],6,-145523070),M=C(M,I,T,L,B[N+11],10,-1120210379),L=C(L,M,I,T,B[N+2],15,718787259),T=C(T,L,M,I,B[N+9],21,-343485551),I=d(I,pe),T=d(T,ve),L=d(L,Fe),M=d(M,Be)}return[I,T,L,M]}(function(B){if(0===B.length)return[];const S=8*B.length,I=new Uint32Array(s(S));for(let T=0;T<S;T+=8)I[T>>5]|=(255&B[T/8])<<T%32;return I}(P),8*P.length))}},function(m,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var d=i(s(324)),w=i(s(328));function i(g){return g&&g.__esModule?g:{default:g}}var v=(0,d.default)("v5",80,w.default);x.default=v},function(m,x){"use strict";function s(i,v,g,C){switch(i){case 0:return v&g^~v&C;case 1:case 3:return v^g^C;case 2:return v&g^v&C^g&C}}function d(i,v){return i<<v|i>>>32-v}Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0,x.default=function(i){const v=[1518500249,1859775393,2400959708,3395469782],g=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof i){const B=unescape(encodeURIComponent(i));i=[];for(let S=0;S<B.length;++S)i.push(B.charCodeAt(S))}else Array.isArray(i)||(i=Array.prototype.slice.call(i));i.push(128);const F=Math.ceil((i.length/4+2)/16),P=new Array(F);for(let B=0;B<F;++B){const S=new Uint32Array(16);for(let I=0;I<16;++I)S[I]=i[64*B+4*I]<<24|i[64*B+4*I+1]<<16|i[64*B+4*I+2]<<8|i[64*B+4*I+3];P[B]=S}P[F-1][14]=8*(i.length-1)/Math.pow(2,32),P[F-1][14]=Math.floor(P[F-1][14]),P[F-1][15]=8*(i.length-1)&4294967295;for(let B=0;B<F;++B){const S=new Uint32Array(80);for(let pe=0;pe<16;++pe)S[pe]=P[B][pe];for(let pe=16;pe<80;++pe)S[pe]=d(S[pe-3]^S[pe-8]^S[pe-14]^S[pe-16],1);let I=g[0],T=g[1],L=g[2],M=g[3],N=g[4];for(let pe=0;pe<80;++pe){const ve=Math.floor(pe/20),Fe=d(I,5)+s(ve,T,L,M)+N+v[ve]+S[pe]>>>0;N=M,M=L,L=d(T,30)>>>0,T=I,I=Fe}g[0]=g[0]+I>>>0,g[1]=g[1]+T>>>0,g[2]=g[2]+L>>>0,g[3]=g[3]+M>>>0,g[4]=g[4]+N>>>0}return[g[0]>>24&255,g[0]>>16&255,g[0]>>8&255,255&g[0],g[1]>>24&255,g[1]>>16&255,g[1]>>8&255,255&g[1],g[2]>>24&255,g[2]>>16&255,g[2]>>8&255,255&g[2],g[3]>>24&255,g[3]>>16&255,g[3]>>8&255,255&g[3],g[4]>>24&255,g[4]>>16&255,g[4]>>8&255,255&g[4]]}},function(m,x){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0,x.default="00000000-0000-0000-0000-000000000000"},function(m,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var d,w=(d=s(307))&&d.__esModule?d:{default:d};x.default=function(v){if(!(0,w.default)(v))throw TypeError("Invalid UUID");return parseInt(v.substr(14,1),16)}},function(m){m.exports=function(x){return void 0===x}},function(m,x,s){var d=s(333),w=s(337),i=s(349),v=s(310),g=s(351),C=s(353),F=s(334),P=s(355),B=Object.prototype.hasOwnProperty;m.exports=function(S){if(null==S)return!0;if(g(S)&&(v(S)||"string"==typeof S||"function"==typeof S.splice||C(S)||P(S)||i(S)))return!S.length;var I=w(S);if("[object Map]"==I||"[object Set]"==I)return!S.size;if(F(S))return!d(S).length;for(var T in S)if(B.call(S,T))return!1;return!0}},function(m,x,s){var d=s(334),w=s(335),i=Object.prototype.hasOwnProperty;m.exports=function(v){if(!d(v))return w(v);var g=[];for(var C in Object(v))i.call(v,C)&&"constructor"!=C&&g.push(C);return g}},function(m){var x=Object.prototype;m.exports=function(s){var d=s&&s.constructor;return s===("function"==typeof d&&d.prototype||x)}},function(m,x,s){var d=s(336)(Object.keys,Object);m.exports=d},function(m){m.exports=function(x,s){return function(d){return x(s(d))}}},function(m,x,s){var d=s(338),w=s(345),i=s(346),v=s(347),g=s(348),C=s(293),F=s(343),P="[object Map]",B="[object Promise]",S="[object Set]",I="[object WeakMap]",T="[object DataView]",L=F(d),M=F(w),N=F(i),pe=F(v),ve=F(g),Fe=C;(d&&Fe(new d(new ArrayBuffer(1)))!=T||w&&Fe(new w)!=P||i&&Fe(i.resolve())!=B||v&&Fe(new v)!=S||g&&Fe(new g)!=I)&&(Fe=function(Be){var Se=C(Be),Ee="[object Object]"==Se?Be.constructor:void 0,Ue=Ee?F(Ee):"";if(Ue)switch(Ue){case L:return T;case M:return P;case N:return B;case pe:return S;case ve:return I}return Se}),m.exports=Fe},function(m,x,s){var d=s(339)(s(295),"DataView");m.exports=d},function(m,x,s){var d=s(340),w=s(344);m.exports=function(i,v){var g=w(i,v);return d(g)?g:void 0}},function(m,x,s){var d=s(302),w=s(341),i=s(300),v=s(343),g=/^\[object .+?Constructor\]$/,S=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");m.exports=function(I){return!(!i(I)||w(I))&&(d(I)?S:g).test(v(I))}},function(m,x,s){var d,w=s(342),i=(d=/[^.]+$/.exec(w&&w.keys&&w.keys.IE_PROTO||""))?"Symbol(src)_1."+d:"";m.exports=function(v){return!!i&&i in v}},function(m,x,s){var d=s(295)["__core-js_shared__"];m.exports=d},function(m){var x=Function.prototype.toString;m.exports=function(s){if(null!=s){try{return x.call(s)}catch{}try{return s+""}catch{}}return""}},function(m){m.exports=function(x,s){return x?.[s]}},function(m,x,s){var d=s(339)(s(295),"Map");m.exports=d},function(m,x,s){var d=s(339)(s(295),"Promise");m.exports=d},function(m,x,s){var d=s(339)(s(295),"Set");m.exports=d},function(m,x,s){var d=s(339)(s(295),"WeakMap");m.exports=d},function(m,x,s){var d=s(350),w=s(299),i=Object.prototype,v=i.hasOwnProperty,g=i.propertyIsEnumerable,C=d(function(){return arguments}())?d:function(F){return w(F)&&v.call(F,"callee")&&!g.call(F,"callee")};m.exports=C},function(m,x,s){var d=s(293),w=s(299);m.exports=function(i){return w(i)&&"[object Arguments]"==d(i)}},function(m,x,s){var d=s(302),w=s(352);m.exports=function(i){return null!=i&&w(i.length)&&!d(i)}},function(m){m.exports=function(x){return"number"==typeof x&&x>-1&&x%1==0&&x<=9007199254740991}},function(m,x,s){m=s.nmd(m);var d=s(295),w=s(354),i=x&&!x.nodeType&&x,v=i&&m&&!m.nodeType&&m,g=v&&v.exports===i?d.Buffer:void 0;m.exports=(g?g.isBuffer:void 0)||w},function(m){m.exports=function(){return!1}},function(m,x,s){var d=s(356),w=s(357),i=s(358),v=i&&i.isTypedArray,g=v?w(v):d;m.exports=g},function(m,x,s){var d=s(293),w=s(352),i=s(299),v={};v["[object Float32Array]"]=v["[object Float64Array]"]=v["[object Int8Array]"]=v["[object Int16Array]"]=v["[object Int32Array]"]=v["[object Uint8Array]"]=v["[object Uint8ClampedArray]"]=v["[object Uint16Array]"]=v["[object Uint32Array]"]=!0,v["[object Arguments]"]=v["[object Array]"]=v["[object ArrayBuffer]"]=v["[object Boolean]"]=v["[object DataView]"]=v["[object Date]"]=v["[object Error]"]=v["[object Function]"]=v["[object Map]"]=v["[object Number]"]=v["[object Object]"]=v["[object RegExp]"]=v["[object Set]"]=v["[object String]"]=v["[object WeakMap]"]=!1,m.exports=function(g){return i(g)&&w(g.length)&&!!v[d(g)]}},function(m){m.exports=function(x){return function(s){return x(s)}}},function(m,x,s){m=s.nmd(m);var d=s(296),w=x&&!x.nodeType&&x,i=w&&m&&!m.nodeType&&m,v=i&&i.exports===w&&d.process,g=function(){try{return i&&i.require&&i.require("util").types||v&&v.binding&&v.binding("util")}catch{}}();m.exports=g},function(m){m.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" viewBox="0, 0, 30, 36" preserveAspectRatio="none"><ellipse cx="15" cy="34" rx="7.661" ry="2" fill="#000000" opacity=".2"></ellipse><path d="M25.6 4.4C22.9 1.7 19.1 0 15 0S7.1 1.7 4.4 4.4C1.7 7.1 0 10.9 0 15s1.7 7.9 4.4 10.6C7.1 28.3 15 34.5 15 34.5s7.9-6.2 10.6-8.9C28.3 22.9 30 19.1 30 15s-1.7-7.9-4.4-10.6z"></path><path d="M25.6 4.4C22.9 1.7 19.1 0 15 0S7.1 1.7 4.4 4.4C1.7 7.1 0 10.9 0 15s1.7 7.9 4.4 10.6C7.1 28.3 15 34.5 15 34.5s7.9-6.2 10.6-8.9C28.3 22.9 30 19.1 30 15s-1.7-7.9-4.4-10.6z"></path><circle class="innerCircle" cx="15" cy="15" r="12" fill="none"></circle></svg>'},function(m){m.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30" preserveAspectRatio="none"><path d="M285.81 179.765a11.96 11.96 0 0 0-8.483-3.513 11.97 11.97 0 0 0-8.486 3.514 11.962 11.962 0 0 0-3.51 8.486c0 3.315 1.344 6.316 3.517 8.488 2.17 2.17 8.482 7.112 8.482 7.112s6.312-4.943 8.484-7.115a11.962 11.962 0 0 0 3.515-8.485 11.97 11.97 0 0 0-3.518-8.487zM22.957 13.3L13.03 8.53v9.535zM11.71 7.674c.01-1.144-1.99-1.202-1.99-.096v16.207h1.986"></path></svg>'},function(m){m.exports='<svg viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><path d="M7.86448004,5 L16.13552,5 C16.3527157,5 16.5450704,5.14021887 16.6115342,5.34699541 L20.7901057,18.3469954 C20.8746078,18.6098908 20.7299914,18.8915122 20.467096,18.9760143 C20.4176498,18.9919077 20.3660291,19 20.3140914,19 L3.68590861,19 C3.40976624,19 3.18590861,18.7761424 3.18590861,18.5 C3.18590861,18.4480623 3.19400091,18.3964416 3.20989433,18.3469954 L7.38846576,5.34699541 C7.45492965,5.14021887 7.64728431,5 7.86448004,5 Z" id="Rectangle" fill="#333333"></path></g></svg>'},function(m){m.exports='<svg viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Group" transform="translate(1.000000, 2.000000)"><path d="M9.42180132,7.82352941 L20.0370222,7.82352941 C20.589307,7.82352941 21.0370222,8.27124466 21.0370222,8.82352941 C21.0370222,9.05060091 20.9597415,9.27091141 20.817891,9.44822446 L13.1764706,19 L2.08062485,19 C1.5283401,19 1.08062485,18.5522847 1.08062485,18 C1.08062485,17.7729285 1.1579056,17.552618 1.29975604,17.375305 L8.64093251,8.19883436 C8.8307047,7.96161913 9.1180176,7.82352941 9.42180132,7.82352941 Z" id="Rectangle" fill="#D8D8D8" transform="translate(11.058824, 13.411765) scale(-1, 1) translate(-11.058824, -13.411765) "></path><g id="Group-2" transform="translate(13.294118, 6.705882) scale(1, -1) translate(-13.294118, -6.705882) translate(8.823529, 0.000000)" fill="#333333"><path d="M5.58823529,7.82352941 L7.26572047,7.82352941 C7.72621639,7.82352941 7.98907684,8.34925033 7.7127793,8.71764706 L4.35983812,13.1882353 C4.13630871,13.4862745 3.68924988,13.4862745 3.46572047,13.1882353 L0.112779296,8.71764706 C-0.163518252,8.34925033 0.099342206,7.82352941 0.559838119,7.82352941 L2.23529412,7.82352941 L2.23529412,1.5 C2.23529412,0.671572875 2.90686699,1.52179594e-16 3.73529412,0 L4.08823529,0 C4.91666242,-1.52179594e-16 5.58823529,0.671572875 5.58823529,1.5 L5.58823529,7.82352941 Z" id="Combined-Shape"></path></g></g></g></svg>'},function(m){m.exports='<svg viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Group" transform="translate(1.000000, 2.000000)"><path d="M8.94117647,7.82352941 L20.0370222,7.82352941 C20.589307,7.82352941 21.0370222,8.27124466 21.0370222,8.82352941 C21.0370222,9.05060091 20.9597415,9.27091141 20.817891,9.44822446 L13.1764706,19 L2.08062485,19 C1.5283401,19 1.08062485,18.5522847 1.08062485,18 C1.08062485,17.7729285 1.1579056,17.552618 1.29975604,17.375305 L8.94117647,7.82352941 Z" id="Rectangle" fill="#D8D8D8"></path><path d="M9.94117647,7.82352941 L11.6186616,7.82352941 C12.0791576,7.82352941 12.342018,8.34925033 12.0657205,8.71764706 L8.7127793,13.1882353 C8.48924988,13.4862745 8.04219106,13.4862745 7.81866165,13.1882353 L4.46572047,8.71764706 C4.18942292,8.34925033 4.45228338,7.82352941 4.9127793,7.82352941 L6.58823529,7.82352941 L6.58823529,1.5 C6.58823529,0.671572875 7.25980817,1.52179594e-16 8.08823529,0 L8.44117647,0 C9.2696036,-3.74224199e-16 9.94117647,0.671572875 9.94117647,1.5 L9.94117647,7.82352941 Z" id="Combined-Shape" fill="#333333"></path></g></g></svg>'},function(m){m.exports='<svg viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linejoin="round"><g id="Group-11" transform="translate(12.642489, 12.433332) scale(-1, 1) rotate(-330.000000) translate(-12.642489, -12.433332) translate(4.642489, 5.004760)" stroke="#333333"><path d="M10.9918611,-1.72905482 C9.33732937,-0.0745231022 8.31398022,2.21119118 8.31398022,4.73592147 C8.31398022,7.26065175 9.33732937,9.54636604 10.9918611,11.2008978" id="Oval-Copy-5" stroke-width="3" stroke-linecap="round" transform="translate(9.652921, 4.735921) rotate(-300.000000) translate(-9.652921, -4.735921) "></path><polygon id="Triangle-Copy-3" fill="#333333" transform="translate(4.986815, 11.798597) rotate(-180.000000) translate(-4.986815, -11.798597) " points="4.98681536 9.51288222 8.98681536 14.0843108 0.986815356 14.0843108"></polygon></g></g></svg>'},function(m){m.exports='<svg viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linejoin="round"><g id="Group-11" transform="translate(10.642489, 12.433332) rotate(-330.000000) translate(-10.642489, -12.433332) translate(2.642489, 5.004760)" stroke="#333333"><path d="M10.9918611,-1.72905482 C9.33732937,-0.0745231022 8.31398022,2.21119118 8.31398022,4.73592147 C8.31398022,7.26065175 9.33732937,9.54636604 10.9918611,11.2008978" id="Oval-Copy-5" stroke-width="3" stroke-linecap="round" transform="translate(9.652921, 4.735921) rotate(-300.000000) translate(-9.652921, -4.735921) "></path><polygon id="Triangle-Copy-3" fill="#333333" transform="translate(4.986815, 11.798597) rotate(-180.000000) translate(-4.986815, -11.798597) " points="4.98681536 9.51288222 8.98681536 14.0843108 0.986815356 14.0843108"></polygon></g></g></svg>'},function(m){m.exports='<svg viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Group-12" transform="translate(1.000000, 2.000000)" fill="#333333" fill-rule="nonzero"><path d="M2.26675079,6.99128099 C2.26766357,6.98777505 2.26858954,6.98426949 2.26952874,6.98076436 C2.83913027,4.8549825 4.21884757,3.02890582 6.16333743,1.90625408 C8.10782729,0.783602333 10.3791147,0.501770441 12.5048966,1.07137197 C13.6158662,1.36905538 14.6560611,1.89220565 15.5569667,2.61108605 C16.2045056,3.12779177 16.3105669,4.07159856 15.7938612,4.71913752 C15.2771555,5.36667647 14.3333487,5.47273775 13.6858097,4.95603202 C13.1091738,4.49590358 12.4419523,4.16033464 11.7284395,3.96914945 C10.3635773,3.60343573 8.9116921,3.78359238 7.66333743,4.50433029 C6.65576989,5.08604968 5.88688352,5.9586703 5.43547108,6.99128099 L7,6.99128099 C7.4295794,6.99128099 7.65916836,7.49724184 7.37628835,7.82053329 L4.37628835,11.2491047 C4.1770827,11.4767683 3.8229173,11.4767683 3.62371165,11.2491047 L0.623711653,7.82053329 C0.340831635,7.49724184 0.570420595,6.99128099 1,6.99128099 L2.26675079,6.99128099 Z M18.7332492,13.008719 C18.7323364,13.0122249 18.7314105,13.0157305 18.7304713,13.0192356 C18.1608697,15.1450175 16.7811524,16.9710942 14.8366626,18.0937459 C12.8921727,19.2163977 10.6208853,19.4982296 8.49510341,18.928628 C7.38413381,18.6309446 6.34393886,18.1077943 5.44303331,17.388914 C4.79549436,16.8722082 4.68943307,15.9284014 5.2061388,15.2808625 C5.72284453,14.6333235 6.66665132,14.5272622 7.31419027,15.043968 C7.89082621,15.5040964 8.55804772,15.8396654 9.27156054,16.0308505 C10.6364227,16.3965643 12.0883079,16.2164076 13.3366626,15.4956697 C14.3442301,14.9139503 15.1131165,14.0413297 15.5645289,13.008719 L14,13.008719 C13.5704206,13.008719 13.3408316,12.5027582 13.6237117,12.1794667 L16.6237117,8.75089528 C16.8229173,8.52323168 17.1770827,8.52323168 17.3762883,8.75089528 L20.3762883,12.1794667 C20.6591684,12.5027582 20.4295794,13.008719 20,13.008719 L18.7332492,13.008719 Z" id="Combined-Shape"></path></g><g id="Group-12-Copy" transform="translate(13.500000, 16.000000) scale(-1, -1) translate(-13.500000, -16.000000) translate(5.000000, 10.000000)"></g></g></svg>'}],nr={};function he(m){if(nr[m])return nr[m].exports;var x=nr[m]={id:m,loaded:!1,exports:{}};return Zi[m].call(x.exports,x,x.exports,he),x.loaded=!0,x.exports}he.n=function(m){var x=m&&m.__esModule?function(){return m.default}:function(){return m};return he.d(x,{a:x}),x},he.d=function(m,x){for(var s in x)he.o(x,s)&&!he.o(m,s)&&Object.defineProperty(m,s,{enumerable:!0,get:x[s]})},he.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch{if("object"==typeof window)return window}}(),he.o=function(m,x){return Object.prototype.hasOwnProperty.call(m,x)},he.r=function(m){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})},he.nmd=function(m){return m.paths=[],m.children||(m.children=[]),m};var vn={};return function(){"use strict";he.r(vn),he.d(vn,{default:function(){return no}});var m={};he.r(m),he.d(m,{adpEndpoint:function(){return Ro},autocompleteEndpoint:function(){return xa},batchAdpQueryEndpoint:function(){return Va},batchChargingAvailabilityQueryEndpoint:function(){return uo},batchNearbySearchQueryEndpoint:function(){return PA},batchReachableRangeQueryEndpoint:function(){return Ya},batchReverseGeocodeQueryEndpoint:function(){return QA},batchRoutingEndpoint:function(){return fi},batchRoutingQueryEndpoint:function(){return Ba},batchSearchEndpoint:function(){return ko},batchSearchQueryEndpoint:function(){return ZA},batchStructuredGeocodeQueryEndpoint:function(){return kA},batchSyncRoutingEndpoint:function(){return Cn},batchSyncSearchEndpoint:function(){return HA},calculateReachableRangeEndpoint:function(){return ho},captionV2Endpoint:function(){return ni},chargingAvailabilityEndpoint:function(){return lo},copyrightsV2Endpoint:function(){return zi},flowSegmentDataEndpoint:function(){return Ha},geocodeEndpoint:function(){return Xa},incidentDetailsV5Endpoint:function(){return oa},incidentRegionsEndpoint:function(){return Za},incidentViewportEndpoint:function(){return qa},longDistanceEVRoutingEndpoint:function(){return In},matrixRoutingEndpoint:function(){return zo},matrixSyncRoutingEndpoint:function(){return SA},nearbySearchEndpoint:function(){return ia},origin:function(){return $a},placeByIdEndpoint:function(){return Po},poiCategoriesEndpoint:function(){return Ii},rasterTrafficFlowTilesLayerEndpoint:function(){return Ja},reverseGeocodeEndpoint:function(){return WA},routingEndpoint:function(){return po},searchEndpoint:function(){return FA},staticMapImageEndpoint:function(){return aa},structuredGeocodeEndpoint:function(){return JA},tileLayerEndpoint:function(){return Go},trafficLayerEndpoint:function(){return Wa},vectorTrafficFlowTilesLayerEndpoint:function(){return $A}}),he(1),he(45),he(51),he(52),he(53),he(54),he(55),he(62),he(63),he(67),he(68),he(69),he(75),he(76),he(90),he(91),he(94),he(96),he(105),he(118),he(119),he(120),he(125),he(126),he(127),he(130),he(131),he(138),he(139),he(141),he(142),he(143),he(147),he(148),he(149),he(157),he(158),he(159),he(160),he(161),he(162),he(163),he(164),he(165),he(166),he(167),he(168),he(169),he(170),he(171),he(183),he(184),he(186),he(188),he(191),he(192),he(193),he(194),he(196),he(197),he(199),he(200),he(201),he(202),he(203),he(204),he(206),he(207),he(208),he(209),he(210),he(211),he(212),he(216),he(217),he(218),he(219),he(220),he(221),he(222),he(224),he(225),he(226),he(228),he(229),he(231),he(232),he(233),he(235),he(236),he(237),he(239),he(240),he(241),he(242),he(243),he(244),he(246),he(247),he(248),he(250),he(251),he(252),he(253),he(254),he(255),he(256),he(257),he(258),he(259),he(260),he(261),he(262),he(263),he(264),he(265),he(266),he(268),he(269),he(270),he(271),he(272),he(273),he(274),he(275),he(276),he(277),he(278),he(279),he(282),he(283),he(284),he(290),he(289);var x=he(291),s=he.n(x),d=he(292),w=he.n(d),i=he(300),v=he.n(i),g=he(301),C=he.n(g),F=he(302),P=he.n(F),B=he(304),S=he(303),I=he.n(S);const T=I()["analytics.header.sdkName"]+"/"+I()["sdk.version"],L=I()["analytics.header.name"],M=()=>he.g.__tomtomAnalyticsInfo_=he.g.__tomtomAnalyticsInfo_?he.g.__tomtomAnalyticsInfo_:{},N=()=>{const R=void 0!==M().productInfo?" "+M().productInfo:"";return T+R},pe=()=>{const R={};return R[L]=N(),R};var ve=R=>R.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&").replace(/\\\{.+?\\\}/g,".+");const Fe=I().origin,Be=(I(),I(),I()["endpoints.vectorTileLayer"]),Se=(I(),I(),I(),I(),I()["endpoints.styles"]);I();var Ee=(R,z,V)=>{const ie=new RegExp("([?&])"+z+"=.*?(&|$)","i");return R.match(ie)?V?R.replace(ie,"$1"+z+"="+V+"$2"):R.replace(ie,"$1$2").replace("&&","&"):V?R+function(nt){const at=nt.indexOf("?");return-1===at?"?":at===nt.length-1?"":"&"}(R)+z+"="+V:R};function Ue(R,z){var V=Object.keys(R);if(Object.getOwnPropertySymbols){var ie=Object.getOwnPropertySymbols(R);z&&(ie=ie.filter(function(Te){return Object.getOwnPropertyDescriptor(R,Te).enumerable})),V.push.apply(V,ie)}return V}function We(R){for(var z=1;z<arguments.length;z++){var V=null!=arguments[z]?arguments[z]:{};z%2?Ue(Object(V),!0).forEach(function(ie){Ve(R,ie,V[ie])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(V)):Ue(Object(V)).forEach(function(ie){Object.defineProperty(R,ie,Object.getOwnPropertyDescriptor(V,ie))})}return R}function Ve(R,z,V){return z in R?Object.defineProperty(R,z,{value:V,enumerable:!0,configurable:!0,writable:!0}):R[z]=V,R}const Ke=new RegExp(ve(Fe)),De=new RegExp(ve(Be));he(309);var dt=he(311),Je=he.n(dt);const Xe={"af-ZA":{synonyms:{af:null,afr:null,"af-za":null,af_za:null,afrikaans:null},label:"Afrikaans"},ar:{synonyms:{ar:null,ara:null,"ar-ar":null,ar_ar:null,arabic:null},label:"Arabic"},"bg-BG":{synonyms:{bg:null,bul:null,"bg-bg":null,bg_bg:null,bulgarian:null},label:"Bulgarian"},"ca-ES":{synonyms:{ca:null,cat:null,"ca-fr":null,ca_fr:null,"ca-es":null,ca_es:null,catalan:null},label:"Catalan"},"zh-CN":{synonyms:{"zh-cn":null,zh_cn:null},label:"Chinese (PRC)"},"zh-TW":{synonyms:{zh:null,chi:null,"zh-tw":null,zh_tw:null,chinese:null},label:"Chinese (Taiwan)"},"cs-CZ":{synonyms:{cs:null,cz:null,cze:null,"cs-cz":null,cs_cz:null,czech:null},label:"Czech"},"da-DK":{synonyms:{da:null,dan:null,"da-dk":null,da_dk:null,danish:null},label:"Danish"},"nl-BE":{synonyms:{"nl-be":null,nl_be:null,"dutch belgium":null},label:"Dutch (Belgium)"},"nl-NL":{synonyms:{nl:null,dut:null,"nl-nl":null,nl_nl:null,dutch:null},label:"Dutch"},"en-AU":{synonyms:{aue:null,aus:null,"en-au":null,en_au:null,"english au":null},label:"English (Australia)"},"en-GB":{synonyms:{en:null,eng:null,"en-gb":null,en_gb:null,english:null,default:null},label:"English (Great Britain)"},"en-NZ":{synonyms:{"en-nz":null,en_nz:null,"english new zealand":null},label:"English (New Zealand)"},"en-US":{synonyms:{us:null,ame:null,"en-us":null,en_us:null,"english us":null},label:"English (US)"},"et-EE":{synonyms:{"et-ee":null,et_ee:null,estonian:null},label:"Estonian"},"eu-ES":{synonyms:{"eu-es":null,eu_es:null,basque:null},label:"Basque (Spain)"},"fi-FI":{synonyms:{fi:null,fin:null,"fi-fi":null,fi_fi:null,finnish:null},label:"Finnish"},"fr-CA":{synonyms:{"fr-ca":null,fr_ca:null,"french canadian":null},label:"French (Canadian)"},"fr-FR":{synonyms:{fr:null,fre:null,"fr-fr":null,fr_fr:null,french:null},label:"French"},"de-DE":{synonyms:{de:null,ger:null,"de-de":null,de_de:null,german:null},label:"German"},"el-GR":{synonyms:{el:null,gre:null,"el-gr":null,el_gr:null,greek:null},label:"Greek"},"gl-ES":{synonyms:{"gl-es":null,gl_es:null,galician:null},label:"Galician (Spain)"},"he-IL":{synonyms:{"he-il":null,he_il:null,hebrew:null},label:"Hebrew (Israel)"},"hr-HR":{synonyms:{hr:null,"hr-hr":null,hr_hr:null,croatian:null},label:"Croatian"},"hu-HU":{synonyms:{hu:null,hun:null,"hu-hu":null,hu_hu:null,hungarian:null},label:"Hungarian"},"id-ID":{synonyms:{id:null,ind:null,"id-id":null,id_id:null,indonesian:null},label:"Indonesian"},"it-IT":{synonyms:{it:null,ita:null,"it-it":null,it_it:null,italian:null},label:"Italian"},"kk-KZ":{synonyms:{"kk-kz":null,kk_kz:null,kazakh:null},label:"Kazakh (Kazakhstan)"},"lv-LV":{synonyms:{lt:null,"lv-lv":null,lv_lv:null,latvian:null},label:"Latvian"},"lt-LT":{synonyms:{lt:null,lit:null,"lt-lt":null,lt_lt:null,lithuanian:null},label:"Lithuanian"},"ms-MY":{synonyms:{ms:null,mal:null,"ms-my":null,ms_my:null,malay:null},label:"Malay"},"no-NO":{synonyms:{no:null,nb:null,nor:null,"nb-no":null,nb_no:null,"no-no":null,no_no:null,norwegian:null},label:"Norwegian"},"pl-PL":{synonyms:{pl:null,pol:null,"pl-pl":null,pl_pl:null,polish:null},label:"Polish"},"ro-RO":{synonyms:{"ro-ro":null,ro_ro:null,romanian:null},label:"Romanian"},"ru-RU":{synonyms:{ru:null,rus:null,"ru-ru":null,ru_ru:null,russian:null},label:"Russian"},"sr-RS":{synonyms:{"sr-rs":null,sr_rs:null,serbian:null},label:"Serbian"},"sk-SK":{synonyms:{sk:null,slo:null,"sk-sk":null,sk_sk:null,slovak:null},label:"Slovak"},"sl-SI":{synonyms:{sl:null,slv:null,"sl-si":null,sl_si:null,slovenian:null},label:"Slovenian"},"es-ES":{synonyms:{es:null,spa:null,"es-es":null,es_es:null,spanish:null},label:"Spanish"},"es-419":{synonyms:{"es-419":null,es_419:null,"latin america spanish":null},label:"Latin American Spanish"},"sv-SE":{synonyms:{sv:null,swe:null,"sv-se":null,sv_se:null,swedish:null},label:"Swedish"},"th-TH":{synonyms:{th:null,tha:null,"th-th":null,th_th:null,thai:null},label:"Thai"},"tr-TR":{synonyms:{tr:null,tur:null,"tr-tr":null,tr_tr:null,turkish:null},label:"Turkish"},"uk-UA":{synonyms:{"uk-ua":null,uk_ua:null,ukrainian:null},label:"Ukrainian"},"vi-VN":{synonyms:{"vi-vn":null,vi_vn:null,vietnamese:null},label:"Vietnamese (Viet Nam)"},NGT:{synonyms:{ngt:null},label:"Neutral Ground Truth"},"NGT-Latn":{synonyms:{"ngt-latn":null},label:"Neutral Ground Truth - Latin exonyms"},"en-CA":{synonyms:{"en-ca":null,en_ca:null,"english canadian":null},label:"English (Canada)"},"ko-KR":{synonyms:{ko:null,kor:null,"ko-kr":null,ko_kr:null,korean:null},label:"Korean"},"nb-NO":{synonyms:{nb:null,nor:null,"nb-no":null,nb_no:null,norwegian:null},label:"Norwegian"},"pt-BR":{synonyms:{br:null,pob:null,"pt-br":null,pt_br:null,"portuguese br":null},label:"Portuguese (BR)"},"pt-PT":{synonyms:{pt:null,por:null,"pt-pt":null,pt_pt:null,portuguese:null},label:"Portuguese"},"ru-Latn-RU":{synonyms:{"ru-latn-ru":null,ru_latn_ru:null},label:"Russian (Latin)"},"ru-Cyrl-RU":{synonyms:{"ru-cyrl-ru":null,ru_cyrl_ru:null},label:"Russian (Cyrlic)"},"es-MX":{synonyms:{mx:null,spm:null,"es-mx":null,es_mx:null,"spanish mx":null},label:"Spanish (Mexico)"},defaultValue:{value:"en-GB",label:"English (Great Britain)"}},jt={NGT:Xe.NGT,"NGT-Latn":Xe["NGT-Latn"],ar:Xe.ar,"bg-BG":Xe["bg-BG"],"zh-TW":Xe["zh-TW"],"cs-CZ":Xe["cs-CZ"],"da-DK":Xe["da-DK"],"nl-NL":Xe["nl-NL"],"en-AU":Xe["en-AU"],"en-CA":Xe["en-CA"],"en-GB":Xe["en-GB"],"en-NZ":Xe["en-NZ"],"en-US":Xe["en-US"],"fi-FI":Xe["fi-FI"],"fr-FR":Xe["fr-FR"],"de-DE":Xe["de-DE"],"el-GR":Xe["el-GR"],"hu-HU":Xe["hu-HU"],"id-ID":Xe["id-ID"],"it-IT":Xe["it-IT"],"ko-KR":Xe["ko-KR"],"lt-LT":Xe["lt-LT"],"ms-MY":Xe["ms-MY"],"nb-NO":Xe["nb-NO"],"pl-PL":Xe["pl-PL"],"pt-BR":Xe["pt-BR"],"pt-PT":Xe["pt-PT"],"ru-RU":Xe["ru-RU"],"ru-Latn-RU":Xe["ru-Latn-RU"],"ru-Cyrl-RU":Xe["ru-Cyrl-RU"],"sk-SK":Xe["sk-SK"],"sl-SI":Xe["sl-SI"],"es-ES":Xe["es-ES"],"es-MX":Xe["es-MX"],"sv-SE":Xe["sv-SE"],"th-TH":Xe["th-TH"],"tr-TR":Xe["tr-TR"],defaultValue:Xe.defaultValue};var At={Unified:{label:"Unified"},IN:{label:"India"},IL:{label:"Israel"},MA:{label:"Morocco"},PK:{label:"Pakistan"},AR:{label:"Argentina",search:{fallback:"Unified"}},Arabic:{label:"Arabic",search:{fallback:"Unified"},reverseGeocoder:{fallback:"Unified"}},RU:{label:"Russia"},TR:{label:"Turkey"},CN:{label:"China"}};function Oe(R){return function tr(R,z){if(C()(R)||""===R)return"";if(z[R])return R;R=R.toLowerCase();for(const V in z)if(Object.prototype.hasOwnProperty.call(z,V)&&"defaultValue"!==V&&Object.prototype.hasOwnProperty.call(z[V].synonyms,R))return V;return console.warn("Value provided is invalid ("+R+"). Default value ("+z.defaultValue.value+") will be used instead."),z.defaultValue.value}(R,jt)}function vt(R){if(!Je()(R)&&!P()(R))throw new TypeError("Unsupported key type",R);return R}function je(R,z){return V=>function xt(R,z,V){if(-1===z.indexOf(R))throw new TypeError(V);return R}(V,R,"Supported "+z+" is expected (one of: "+R+"), but "+V+" ["+typeof V+"] was given.")}function fr(R){if(Je()(R)&&/^[a-zA-Z0-9-]{1,100}$/.test(R))return R;throw new TypeError("a string matching regular expression ^[a-zA-Z0-9-]{1,100}$ is expected, but "+R+" ["+typeof R+"] given")}he(312);const dr=["adpEndpoint","autocompleteEndpoint","batchRoutingEndpoint","batchSearchEndpoint","batchSyncRoutingEndpoint","batchSyncSearchEndpoint","calculateReachableRangeEndpoint","captionV2Endpoint","chargingAvailabilityEndpoint","copyrightsV2Endpoint","flowSegmentDataEndpoint","geocodeEndpoint","incidentDetailsV5Endpoint","incidentRegionsEndpoint","incidentViewportEndpoint","longDistanceEVRoutingEndpoint","matrixRoutingEndpoint","matrixSyncRoutingEndpoint","nearbySearchEndpoint","placeByIdEndpoint","poiCategoriesEndpoint","reverseGeocodeEndpoint","routingEndpoint","searchEndpoint","staticMapImageEndpoint","structuredGeocodeEndpoint"],Fr=["batchAdpQueryEndpoint","batchChargingAvailabilityQueryEndpoint","batchNearbySearchQueryEndpoint","batchReachableRangeQueryEndpoint","batchReverseGeocodeQueryEndpoint","batchRoutingQueryEndpoint","batchSearchQueryEndpoint","batchStructuredGeocodeQueryEndpoint"];function kt(R){if(!Je()(R))throw new TypeError("Invalid custom URL. A string URL is expected, ".concat(R," [").concat(typeof R,"] given"));if(new RegExp(/(https:\/\/|http:\/\/).*/).test(R))throw new TypeError("Invalid custom URL. URL without protocol (http/https) is expected, ".concat(R," given"));if(!new RegExp(/^[0-9a-zA-Z-.]+(\.tomtom\.com)(\/.*)?$/).test(R))throw new TypeError("Invalid custom URL. URL in TomTom domain (*.tomtom.com) is expected, ".concat(R," given"));return R}function ze(R){if(!Je()(R))throw new TypeError("Invalid custom query. A string URL is expected, ".concat(R," [").concat(typeof R,"] given"));if(!new RegExp(/^\//).test(R))throw new TypeError("Invalid custom query. A string starting with / is expected, ".concat(R," given"));return R}function _t(R){return C()(R)?Se.replace("{version}",I().hostedStylesVersion):(z=R,v()(z)&&z.version&&z.layers&&z.sources?R:v()(R)?function(z){let V="https://"+I().origin+"/style/1/style/"+I().hostedStylesVersion;return z.map&&(V=Ee(V,"map",z.map)),z.trafficIncidents&&(V=Ee(V,"traffic_incidents",z.trafficIncidents)),z.trafficFlow&&(V=Ee(V,"traffic_flow",z.trafficFlow)),z.poi&&(V=Ee(V,"poi",z.poi)),V}(R):R);var z}function fe(R,z){var V=Object.keys(R);if(Object.getOwnPropertySymbols){var ie=Object.getOwnPropertySymbols(R);z&&(ie=ie.filter(function(Te){return Object.getOwnPropertyDescriptor(R,Te).enumerable})),V.push.apply(V,ie)}return V}function ye(R){for(var z=1;z<arguments.length;z++){var V=null!=arguments[z]?arguments[z]:{};z%2?fe(Object(V),!0).forEach(function(ie){rt(R,ie,V[ie])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(V)):fe(Object(V)).forEach(function(ie){Object.defineProperty(R,ie,Object.getOwnPropertyDescriptor(V,ie))})}return R}function rt(R,z,V){return z in R?Object.defineProperty(R,z,{value:V,enumerable:!0,configurable:!0,writable:!0}):R[z]=V,R}const Dt=je(["Unified","IL","IN","MA","PK","AR","Arabic","RU","TR","CN"],"geopoliticalView");function Wt(R){const z=ye({},R);if(C()(z.container))throw new Error('"container" option is required.');if(C()(z.key))throw new Error('"key" option is required.');var V;return z._stylesVisibility=function(ie){const Te={map:!0,poi:!0,trafficFlow:!1,trafficIncidents:!1};if(v()(ie)){for(const nt in ie){if(!nt.match(/map|trafficFlow|trafficIncidents|poi/))throw new Error('Allowed properties of "stylesVisibility" are "map", "trafficFlow", "trafficIncidents", "poi".');if(!w()(ie[nt]))throw new Error('"stylesVisibility.'.concat(nt,'" must be boolean.'))}return ye(ye({},Te),ie)}return Te}(z.stylesVisibility),z._deferredStyle=_t(z.style),z.style={version:8,sources:{},layers:[]},z.attributionControl=!1,z.language=Oe(z.language),z.geopoliticalView=(V=z.geopoliticalView,C()(V)||""===V||Dt(V),V),z.transformRequest=function tt(R,z,V){return(ie,Te)=>{const nt={};let at={url:ie,headers:nt};if(at.url=function(bt,Kt,xr){let dn=bt;return De.test(dn)&&(dn=Ee(dn,"language",Kt()),dn=Ee(dn,"view",xr())),dn}(at.url,R,z),Ke.test(at.url)&&(nt[L]=N(),nt["Tracking-ID"]=(0,B.default)()),P()(V)){const bt=V(at.url,Te);bt&&(at=We(We({},at),bt),bt.headers&&(at.headers=We(We({},nt),bt.headers)))}return at}}(()=>this._extendedMap&&this._extendedMap.getLanguage()||z.language,()=>this._extendedMap&&this._extendedMap.getGeopoliticalView()||z.geopoliticalView,R.transformRequest),z}var Rt=he(319),Ht=he.n(Rt);function kr(R,z){var V=Object.keys(R);if(Object.getOwnPropertySymbols){var ie=Object.getOwnPropertySymbols(R);z&&(ie=ie.filter(function(Te){return Object.getOwnPropertyDescriptor(R,Te).enumerable})),V.push.apply(V,ie)}return V}function Br(R){for(var z=1;z<arguments.length;z++){var V=null!=arguments[z]?arguments[z]:{};z%2?kr(Object(V),!0).forEach(function(ie){Mr(R,ie,V[ie])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(V)):kr(Object(V)).forEach(function(ie){Object.defineProperty(R,ie,Object.getOwnPropertyDescriptor(V,ie))})}return R}function Mr(R,z,V){return z in R?Object.defineProperty(R,z,{value:V,enumerable:!0,configurable:!0,writable:!0}):R[z]=V,R}class It{constructor(){let z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Mr(this,"defaultOptions",{closeAfter:0,closeable:!0}),Mr(this,"getDefaultPosition",()=>"top-left"),Mr(this,"_setMessageBoxSize",()=>{const ie=this._mapContainer.offsetWidth/2,Te=this._mapContainer.offsetHeight-340,nt=.7*this._mapContainer.offsetWidth;this._container.style.top="".concat(this._mapContainer.offsetHeight/2,"px"),this._container.style.left="".concat(ie,"px"),this._container.style.height="".concat(Te,"px"),this._container.style.width="".concat(nt,"px")}),Mr(this,"_registerEvents",()=>{this._map.on("resize",this._resizeHandler)}),Mr(this,"_deregisterEvents",()=>{this._map.off("resize",this._resizeHandler)}),Mr(this,"onAdd",V=>{this._map=V,this._mapContainer=V.getContainer();const ie=this._mapContainer.querySelector(".message-box");return ie?(this._container=ie,this._closeButton=ie.querySelector(".message-box__close-button"),this.options.closeable&&!this._closeButton?this._createCloseButton():!this.options.closeable&&this._closeButton&&this._container.removeChild(this._closeButton),this._content=ie.querySelector(".message-box__content")):(this._container=document.createElement("div"),this._container.setAttribute("style","\n        background: white;\n        border-radius: 2px;\n        box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 0.4);\n        margin: 0;\n        overflow: hidden;\n        padding: 40px 20px 20px;\n        position: absolute;\n        transform: translate(-50%, -50%);\n        width: 70%;\n        z-index: 9999;\n        max-width: 700px;"),this._container.classList.add("message-box","mapboxgl-ctrl"),this.options.closeable&&this._createCloseButton(),this._content=document.createElement("div"),this._content.setAttribute("style","\n        overflow-y: auto;\n        max-height: 100%;\n        pointer-events: all;\n        word-break: break-word"),this._content.classList.add("message-box__content"),this._container.appendChild(this._content)),this.options.html?this._content.innerHTML=this.options.html:this.options.text&&(this._content.innerText=this.options.text),this.options.closeAfter>0&&(this._closeTimeout=setTimeout(this.onRemove.bind(this),this.options.closeAfter)),this._setMessageBoxSize(),this._registerEvents(),this._container}),Mr(this,"onRemove",()=>{this._closeTimeout&&(this._closeTimeout=clearTimeout(this._closeTimeout)),this._closeButton&&this._closeButton.removeEventListener("click",this.onRemove),this._deregisterEvents(),this._container.parentElement.removeChild(this._container),this._map=null}),Mr(this,"_createCloseButton",()=>{this._closeButton=document.createElement("button"),this._closeButton.setAttribute("style","\n        position: fixed;\n        top: 15px;\n        right: 15px;\n        border: 0;\n        background: none;\n        color: #c3c3c3;\n        font-weight: bold;\n        font: 16px/14px Tahoma, Verdana, sans-serif;\n        cursor: pointer;\n        outline: none;"),this._closeButton.classList.add("message-box__close-button"),this._closeButton.innerText="\xd7",this._closeButton.addEventListener("click",this._removeCallback),this._container.appendChild(this._closeButton)}),this.options=Br(Br({},this.defaultOptions),z),this._resizeHandler=Ht()(this._setMessageBoxSize,50),this._removeCallback=z.removeCallback}}function ar(R){const[z,V,ie]=R.split(/\n/).filter(Te=>Te.length);return'<div id="copyrightMessage">\n        <h4>General Copyrights:</h4>\n        <p>'.concat(z,"</p>\n        <p>").concat(V,"</p>\n        <p>").concat(ie,"<p>\n        </div>")}var gr="POST",Lr="PATH",an="QUERY",$r="OTHER",qr="HEADER",en=he(321);class fn extends Error{constructor(z){for(var V=arguments.length,ie=new Array(V>1?V-1:0),Te=1;Te<V;Te++)ie[Te-1]=arguments[Te];super(...ie),Error.captureStackTrace&&Error.captureStackTrace(this,fn);let nt="\n";z.forEach(at=>{nt+=at.message+"\n"}),this.errors=z,this.message="Validation errors occured: "+nt}}const Pn=/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/;class Rr{constructor(z){let{validators:V,converters:ie,required:Te,defaultValue:nt,deprecationDate:at}=z;Object.assign(this,{validators:V,converters:ie,required:Te,defaultValue:nt,deprecationDate:at}),this._validateFields()}_isArrayOfFunctions(z){if(!Array.isArray(z))return!1;for(let V=0;V<z.length;V++)if(!P()(z[V]))return!1;return!0}_validateFields(){if(null===this.validators||this.validators&&!this._isArrayOfFunctions(this.validators))throw new Error("Validators are not an array of functions.");if(null===this.converters||this.converters&&!this._isArrayOfFunctions(this.converters))throw new Error("Converters are not an array of functions.");if(void 0!==this.required&&"boolean"!=typeof this.required)throw new Error("Required must be a Boolean.");if(this.deprecationDate&&(Number.isNaN(Date.parse(this.deprecationDate))||!Pn.test(this.deprecationDate)))throw new Error("deprecationDate must contain a valid date")}getDefaultValue(){return P()(this.defaultValue)?this.defaultValue():this.defaultValue}getConverters(){return this.converters?this.converters:[]}getValidators(){return this.validators?this.validators:[]}getDeprecationDate(){return this.deprecationDate}isRequired(){return!0===this.required}}var tn=new class{constructor(){this.log={}}_isLogPrinted(R,z){const V=this.log[R];return!!V&&V[z]}_setLog(R,z){this.log[R]=this.log[R]||{},this.log[R][z]=!0}_displayWarning(R,z,V){const ie=Date.now()>Date.parse(z),Te="default"!==V?"(used in ".concat(V,") "):"";ie?console.error("[DEPRECATION WARNING] The parameter '".concat(R,"' ").concat(Te," deprecation period ")+"has ended. It is recommended to stop using it as it may stop working. Please refer to https://developer.tomtom.com/maps-sdk-web-js/documentation for more information"):console.warn("[DEPRECATION NOTICE] The parameter '".concat(R,"' ").concat(Te,"is deprecated. ")+"By ".concat(z," we can not guarantee that it will continue to work. ")+"Please refer to https://developer.tomtom.com/maps-sdk-web-js/documentation for more information")}checkDeprecation(R,z){let V=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default";C()(R)||C()(z)||this._isLogPrinted(V,R)||(this._displayWarning(R,z,V),this._setLog(V,R))}};function zr(R,z){var V=Object.keys(R);if(Object.getOwnPropertySymbols){var ie=Object.getOwnPropertySymbols(R);z&&(ie=ie.filter(function(Te){return Object.getOwnPropertyDescriptor(R,Te).enumerable})),V.push.apply(V,ie)}return V}function si(R){for(var z=1;z<arguments.length;z++){var V=null!=arguments[z]?arguments[z]:{};z%2?zr(Object(V),!0).forEach(function(ie){Vn(R,ie,V[ie])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(V)):zr(Object(V)).forEach(function(ie){Object.defineProperty(R,ie,Object.getOwnPropertyDescriptor(V,ie))})}return R}function Vn(R,z,V){return z in R?Object.defineProperty(R,z,{value:V,enumerable:!0,configurable:!0,writable:!0}):R[z]=V,R}function pn(R,z,V,ie,Te,nt,at){try{var bt=R[nt](at),Kt=bt.value}catch(xr){return void V(xr)}bt.done?z(Kt):Promise.resolve(Kt).then(ie,Te)}const Ar=(R,z,V,ie)=>{const Te=[];for(const nt of z)try{nt(R,V,ie)}catch(at){Te.push(at)}return Te},cn=R=>{const z={};for(const[V,ie]of Object.entries(R))z[V]=new Rr(ie);return z},G=function(R){let z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},V=arguments.length>2?arguments[2]:void 0;const ie=cn(R);let Te=[];for(const[nt,at]of Object.entries(ie)){const bt=z[nt],Kt="__all"===nt;if(C()(bt)&&at.isRequired())Te.push(new Error("".concat(nt," is a required field.")));else if(!C()(bt)||Kt){tn.checkDeprecation(nt,at.getDeprecationDate(),V);const xr=Ar(bt,at.getValidators(),z,nt);Te=[...Te,...xr]}}return Te},Y=function(R){let z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},V=arguments.length>2?arguments[2]:void 0;const ie=cn(R),Te={};for(const[nt,at]of Object.entries(ie)){const bt=at.getDefaultValue();let Kt=z[nt];if(C()(Kt)||""===Kt){if(C()(bt))continue;Kt=bt}const xr=at.getConverters();Te[nt]=xr.reduce((dn,Tn)=>Tn(dn,V),Kt)}return Te};function re(R){return ae.apply(this,arguments)}function ae(){return(ae=function En(R){return function(){var z=this,V=arguments;return new Promise(function(ie,Te){var nt=R.apply(z,V);function at(Kt){pn(nt,ie,Te,at,bt,"next",Kt)}function bt(Kt){pn(nt,ie,Te,at,bt,"throw",Kt)}at(void 0)})}}(function*(R){let z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},V=arguments.length>2?arguments[2]:void 0,ie=arguments.length>3?arguments[3]:void 0,Te=arguments.length>4?arguments[4]:void 0,nt=arguments.length>5?arguments[5]:void 0,at=Y(R,z,V),bt=G(R,at,ie);if(R.batchItems&&z.batchItems){const{batchProperties:Kt,batchErrors:xr}=function Z(R,z,V,ie){const Te={};let nt=[];if(R.batchItems&&z.batchItems&&(Te.batchItems=z.batchItems.map(at=>{const bt=Y(R.batchItems,at,V);return nt=nt.concat(G(R.batchItems,bt,ie)),bt}),z.batchMode&&(Te.batchMode=je(["sync","async","redirect"],"batchMode")(z.batchMode)),z.key&&(Te.key=vt(z.key)),Te.trackingId=z.trackingId?fr(z.trackingId):(0,en.v4)(),z.waitTimeSeconds)){if(function(at){const bt=parseFloat(at);if(!isFinite(bt))throw new TypeError("a number is expected, but "+at+" ["+typeof at+"] given")}(z.waitTimeSeconds),!(120===z.waitTimeSeconds||z.waitTimeSeconds>=5&&z.waitTimeSeconds<=60))throw new Error("Invalid `waitTimeSeconds` parameter value. Must be 120 or an integer between 5 and 60.");Te.waitTimeSeconds=z.waitTimeSeconds}return{batchProperties:Te,batchErrors:nt}}(R,z,V,ie);at=si(si({},at),Kt),bt=bt.concat(xr)}if(bt.length)throw new fn(bt);return Te(at,nt)})).apply(this,arguments)}function we(R,z,V,ie,Te){const nt={batchItems:R};return function(){let at=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},bt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Kt=ie,xr=at,dn=R;return at.batchItems&&P()(Te)&&(xr={trackingId:at.trackingId,batchMode:at.batchMode,waitTimeSeconds:at.waitTimeSeconds,batchItems:at.batchItems,key:at.key},Kt=Te,dn=nt),re(dn,xr,z,V,Kt,bt.abortSignal)}}var Ce=he(331),ee=he.n(Ce);function ue(R,z){return R.replace(/\{ *([\w_]+) *\}/g,(V,ie)=>{let Te=z[ie];return ee()(Te)?"{"+ie+"}":(P()(Te)&&(Te=Te(ie)),"query"===ie?encodeURIComponent(Te):Te)})}var Le=window.fetch;function lt(R,z,V,ie,Te,nt,at){try{var bt=R[nt](at),Kt=bt.value}catch(xr){return void V(xr)}bt.done?z(Kt):Promise.resolve(Kt).then(ie,Te)}function Ye(R,z){var V=Object.keys(R);if(Object.getOwnPropertySymbols){var ie=Object.getOwnPropertySymbols(R);z&&(ie=ie.filter(function(Te){return Object.getOwnPropertyDescriptor(R,Te).enumerable})),V.push.apply(V,ie)}return V}function pt(R){for(var z=1;z<arguments.length;z++){var V=null!=arguments[z]?arguments[z]:{};z%2?Ye(Object(V),!0).forEach(function(ie){Ut(R,ie,V[ie])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(V)):Ye(Object(V)).forEach(function(ie){Object.defineProperty(R,ie,Object.getOwnPropertyDescriptor(V,ie))})}return R}function Ut(R,z,V){return z in R?Object.defineProperty(R,z,{value:V,enumerable:!0,configurable:!0,writable:!0}):R[z]=V,R}function ne(R,z,V){R.pathParameters=R.pathParameters||{},R.pathParameters.contentType=V,R.pathParameters.protocol=R.pathParameters.protocol||"https";const ie=ue(R.url,R.pathParameters),Te=pe();Te.Accept="application/json",R.headers&&R.headers.trackingId&&(Te["Tracking-ID"]=R.headers.trackingId);let nt=pt({method:"GET",headers:Te,mode:"cors"},R.abortSignal&&{signal:R.abortSignal});return z&&(nt=pt(pt({},nt),{},{transformResponse:z})),{options:R,url:ie,requestOptions:nt}}function de(R,z){let V=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},ie=arguments.length>3?arguments[3]:void 0;return Le(function He(R,z){return R.queryParameters?z+"?"+Object.keys(R.queryParameters).map(function(V){return function(ie,Te){const nt=ie.queryParameters[Te];let at="";return at=Array.isArray(nt)?nt.map(function(bt){return ht(Te,bt)}).join("&"):ht(Te,ie.queryParameters[Te]),at}(R,V)}).join("&"):z}(R,z),V).then((Te=function mt(R){return function(){var z=this,V=arguments;return new Promise(function(ie,Te){var nt=R.apply(z,V);function at(Kt){lt(nt,ie,Te,at,bt,"next",Kt)}function bt(Kt){lt(nt,ie,Te,at,bt,"throw",Kt)}at(void 0)})}}(function*(nt){const at=yield ie(nt);if(!nt.ok)return Promise.reject({response:nt,data:at});if(R._getOriginalResponse)return nt;if("batch"===R.requestType&&202===nt.status)return nt.headers.location;const bt=nt.headers&&(nt.headers.get("tracking-id")||nt.headers.get("Tracking-ID"));return pt({data:at},bt&&{trackingId:bt})}),function(nt){return Te.apply(this,arguments)})).catch(function(){let Te=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(V.signal&&!0===V.signal.aborted)return Promise.reject(Te);const{response:nt,data:at}=Te,bt=R._getOriginalResponse?nt||Te:ot(at,nt&&nt.status)||Te;return Promise.reject(bt)});var Te}function Ne(R){return R.text()}function Ie(R){return R.json()}const ot=(R,z)=>{if(!R)return;const{error:V,detailedError:ie}=R;return V&&ie?{message:V.description,data:ie,status:z}:R};function ht(R,z){return encodeURIComponent(R)+"="+encodeURIComponent(z)}function Gt(R,z){var V=Object.keys(R);if(Object.getOwnPropertySymbols){var ie=Object.getOwnPropertySymbols(R);z&&(ie=ie.filter(function(Te){return Object.getOwnPropertyDescriptor(R,Te).enumerable})),V.push.apply(V,ie)}return V}function Zt(R,z,V){return z in R?Object.defineProperty(R,z,{value:V,enumerable:!0,configurable:!0,writable:!0}):R[z]=V,R}const Et=function(R){R.pathParameters=R.pathParameters||{},R.pathParameters.contentType="json",R.pathParameters.protocol=R.pathParameters.protocol||"https";const z=ue(R.url,R.pathParameters),V=pe();V.Accept="application/json",R.headers&&R.headers.trackingId&&(V["Tracking-ID"]=R.headers.trackingId);const ie=function(Te){for(var nt=1;nt<arguments.length;nt++){var at=null!=arguments[nt]?arguments[nt]:{};nt%2?Gt(Object(at),!0).forEach(function(bt){Zt(Te,bt,at[bt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Te,Object.getOwnPropertyDescriptors(at)):Gt(Object(at)).forEach(function(bt){Object.defineProperty(Te,bt,Object.getOwnPropertyDescriptor(at,bt))})}return Te}({method:"POST",headers:V,mode:"cors",redirect:"follow"},R.abortSignal&&{signal:R.abortSignal});return function(Te,nt){const at=Te.bodyParameters;let bt;at&&(v()(at)?bt=function ut(R,z){const V=function(ie){try{return JSON.stringify(ie)}catch{return null}}(R);if(!V)throw new Error("Unsupported request body type: "+R);return Te="Content-Type",(ie=z).headers||(ie.headers={}),ie.headers[Te]||ie.headers[Te.toLowerCase()]||(ie.headers[Te]="application/json"),V;var ie,Te}(at,nt):Je()(at)&&(bt=at),nt.body=bt)}(R,ie),de(R,z,ie,Ie)};var Sr=(R,z)=>{R.protocol=R&&R.protocol||"https";const V=R.pathParameters;return V&&"text"===V.contentType?function(R,z){const V=ne(R,z,"text");return de(V.options,V.url,V.requestOptions,Ne)}(R,z):function(R,z){const V=ne(R,z,"json");return de(V.options,V.url,V.requestOptions,Ie)}(R,z)};function wr(R){const z=R[1];return!z.application||z.application===an}function Kr(R){return R[1].application===Lr}function jo(R){return R[1].application===gr}function Sn(R){return R[1].application===$r}function rn(R){return R[1].application===qr}function wa(R){return{name:R[0],fieldName:R[2]}}function Wi(R,z){let V=Object.keys(R).map((ie=R,Te=>[ie[Te]&&ie[Te].name||Te,ie[Te],Te]));var ie;return V=V.filter(z),V=V.map(wa),V}function mr(R){return Wi(R,wr)}function Fn(R){return Wi(R,Kr)}function ri(R){return Wi(R,jo)}function Ln(R){return Wi(R,Sn)}function Ci(R){return Wi(R,rn)}function nn(R,z,V){const ie={};return z(R).forEach(Te=>{if(Te.fieldName in V){const nt=R[Te.fieldName],at=V[Te.fieldName];nt.cast?nt.cast(at,ie):ie[Te.name]=at}}),ie}var _i=he(332),IA=he.n(_i);const hi="contentType";const Mn=R=>(z,V,ie)=>{const{pathParams:Te,queryParams:nt,postParams:at,headerParams:bt}=function Ui(R,z){return{pathParams:nn(R,Fn,z),queryParams:nn(R,mr,z),postParams:nn(R,ri,z),otherParams:nn(R,Ln,z),headerParams:nn(R,Ci,z)}}(function qA(R){const z=Object.assign({},R);return z[hi]={application:Lr},z}(z),function Ji(R){return R[hi]=R[hi]||"json",R}(V)),Kt={headers:bt,url:"{protocol}://"+R,pathParameters:Te,queryParameters:nt,abortSignal:ie};return IA()(at)?Sr(Kt):(Kt.bodyParameters=at,(R=>(R.protocol=R.protocol||"https",Et(R)))(Kt))},zi=I()["endpoints.copyrightsV2"],ni=I()["endpoints.captionV2"],ko=I()["endpoints.batchSearch"],HA=I()["endpoints.batchSyncSearch"],ZA=I()["endpoints.batchSearchQuery"],Xa=I()["endpoints.geocode"],WA=I()["endpoints.reverseGeocode"],QA=I()["endpoints.batchReverseGeocodeQuery"],JA=I()["endpoints.structuredGeocode"],FA=I()["endpoints.search"],kA=I()["endpoints.batchStructuredGeocodeQuery"],Ro=I()["endpoints.adp"],Va=I()["endpoints.batchAdpQuery"],ia=I()["endpoints.nearbySearch"],PA=I()["endpoints.batchNearbySearchQuery"],xa=I()["endpoints.autocomplete"],Ii=I()["endpoints.poiCategories"],lo=I()["endpoints.chargingAvailability"],uo=I()["endpoints.batchChargingAvailabilityQuery"],Po=I()["endpoints.placeById"],po=I()["endpoints.routing"],ho=I()["endpoints.calculateReachableRange"],Ba=I()["endpoints.batchRoutingQuery"],fi=I()["endpoints.batchRouting"],Cn=I()["endpoints.batchSyncRouting"],zo=I()["endpoints.matrixRouting"],SA=I()["endpoints.matrixSyncRouting"],Ya=I()["endpoints.batchReachableRangeQuery"],In=I()["endpoints.longDistanceEVRouting"],oa=I()["endpoints.incidentDetailsV5"],qa=I()["endpoints.incidentViewport"],Ha=I()["endpoints.flowSegmentData"],Za=I()["endpoints.incidentRegions"],Wa=I()["endpoints.trafficLayer"],Ja=I()["endpoints.rasterTrafficFlowTilesLayer"],$A=I()["endpoints.vectorTrafficFlowTilesLayer"],Go=I()["endpoints.tileLayer"],aa=I()["endpoints.staticImage"],$a=I().origin;class Dn{constructor(z){void 0!==z?.customEndpoints&&(this._customEndpoints=function Nt(R){try{!function(z){if("object"!=typeof z||z.constructor!==Object)throw new TypeError("an object is expected, but "+z+"  ["+typeof z+"] given")}(R);for(const z in R)if(dr.includes(z))kt(R[z]);else{if(!Fr.includes(z))throw new TypeError("Endpoint name is expected to be one of supported values, but "+R+"given");ze(R[z])}}catch(z){throw new TypeError("Invalid custom endpoints object. ".concat(z.message))}return R}(z.customEndpoints)),void 0!==z?.customDomain&&(this._customDomain=kt(z.customDomain),this._customDomain=this._customDomain.replace(new RegExp(/\/$/),""))}resolve(z){var V;if(void 0!==(null===(V=this._customEndpoints)||void 0===V?void 0:V[z]))return this._customEndpoints[z];const ie=m[z];return void 0!==this._customDomain?this._changeDomain(ie,this._customDomain):ie}_changeDomain(z,V){return z.replace($a,V)}}function Aa(R,z){var V=Object.keys(R);if(Object.getOwnPropertySymbols){var ie=Object.getOwnPropertySymbols(R);z&&(ie=ie.filter(function(Te){return Object.getOwnPropertyDescriptor(R,Te).enumerable})),V.push.apply(V,ie)}return V}function $i(R,z,V){return z in R?Object.defineProperty(R,z,{value:V,enumerable:!0,configurable:!0,writable:!0}):R[z]=V,R}function eo(R,z){let{data:V,trackingId:ie}=R;const Te="string"==typeof V?{data:V}:function(at){for(var bt=1;bt<arguments.length;bt++){var Kt=null!=arguments[bt]?arguments[bt]:{};bt%2?Aa(Object(Kt),!0).forEach(function(xr){$i(at,xr,Kt[xr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(at,Object.getOwnPropertyDescriptors(Kt)):Aa(Object(Kt)).forEach(function(xr){Object.defineProperty(at,xr,Object.getOwnPropertyDescriptor(Kt,xr))})}return at}({},V),nt=z?z(V):Te;return nt.getTrackingId=()=>ie||null,nt}const fo={key:{validators:[function(R){if(!Je()(R))throw new TypeError("a string is expected, but "+R+" ["+typeof R+"] given");return R}]},trackingId:{validators:[fr],application:qr,defaultValue:en.v4}},Gi={key:{validators:[vt]},trackingId:{validators:[fr],application:qr,defaultValue:en.v4}};function ln(R,z,V){return z in R?Object.defineProperty(R,z,{value:V,enumerable:!0,configurable:!0,writable:!0}):R[z]=V,R}class So extends x.AttributionControl{constructor(z){super({compact:!1}),ln(this,"_removeMessageBox",()=>{this._map.removeControl(this._messageBox)}),ln(this,"_attributionElementCallback",()=>function(V,ie){const Te=new Dn(undefined),nt=Mn(Te.resolve("copyrightsV2Endpoint"));return we(fo,"MAP","copyrights",function(at,bt){return at.contentType="text",nt(fo,at,bt).then(eo)})(V,undefined)}({key:this.apiKey}).then(V=>V.data).then(ar).then(V=>{this._messageBox=new It({html:V,removeCallback:this._removeMessageBox}),this._map.addControl(this._messageBox)}).catch(V=>console.log(V))),this.apiKey=z,this.attributions=[],this.tomtomCopyrightsCaption='<a class="tomtomAttribution">&copy; 1992 - '.concat((new Date).getFullYear()," TomTom.</a>"),this.sourceDataListener=this.__ttUpdateAttributions.bind(this),this.separator=" | ",this.retryCount=0,this._getCopyrightsCaption()}onAdd(z){const V=super.onAdd(z);return this._map.on("sourcedata",this.sourceDataListener),V}onRemove(){this._map.off("sourcedata",this.sourceDataListener),clearTimeout(this.timeoutId),super.onRemove()}addAttribution(z){this._updateAttributions(),this.attributions=this.attributions.concat(z),this.__ttUpdateAttributions()}removeAttribution(z){this.attributions=this.attributions.filter(V=>V!==z),this.__ttUpdateAttributions()}getSeparator(){return this.separator}setSeparator(z){this.separator=z}_getCopyrightsCaption(){(function(z,V){const ie=new Dn(V),Te=Mn(ie.resolve("captionV2Endpoint"));return we(Gi,"MAP","copyrightsCaptionV2",function(nt,at){return Te(Gi,nt,at).then(eo)})(z,V)})({key:this.apiKey}).then(z=>{this.tomtomCopyrightsCaption='<a class="tomtomAttribution">'.concat(z.copyrightsCaption,"</a>"),this.__ttUpdateAttributions()}).catch(()=>{this.retryCount=this.retryCount+1;const z=this.retryCount>5?15e3:1e3;this.timeoutId=setTimeout(this._getCopyrightsCaption.bind(this),z)})}_mergeAttributions(){let z=this.tomtomCopyrightsCaption;return this.attributions.length>0&&(z+=this.separator+this.attributions.join(this.separator)),z}__ttUpdateAttributions(){this.attributions.length||this.tomtomCopyrightsCaption?(this._attributionElement&&this._attributionElement.removeEventListener("click",this._attributionElementCallback),this._container.innerHTML=this._mergeAttributions(),this._container.classList.remove("mapboxgl-attrib-empty"),this._setAttributionElement(this._container.querySelector(".tomtomAttribution"))):this._container.classList.add("mapboxgl-attrib-empty")}_setAttributionElement(z){z&&z.addEventListener("click",this._attributionElementCallback),this._attributionElement=z}}function go(R,z,V,ie,Te,nt,at){try{var bt=R[nt](at),Kt=bt.value}catch(xr){return void V(xr)}bt.done?z(Kt):Promise.resolve(Kt).then(ie,Te)}var R,z,Ki=(R=function*(V){let ie=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"bottom-right",Te=arguments.length>2?arguments[2]:void 0;const nt=new So(V);Te.addControl(nt,ie),Te._attributionControl=nt},z=function(){var V=this,ie=arguments;return new Promise(function(Te,nt){var at=R.apply(V,ie);function bt(xr){go(at,Te,nt,bt,Kt,"next",xr)}function Kt(xr){go(at,Te,nt,bt,Kt,"throw",xr)}bt(void 0)})},function(V){return z.apply(this,arguments)}),eA=()=>x.Map;const tA=["boxZoom","scrollZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate","touchPitch"];var Hr="tomtom.map.load";const Ea=R=>"load"===R?Hr:R,to={setStyle(R){const z=_t(R);return this._initializeStyle(z),this},addLayer:function(R,z){return R&&"symbol"===R.type&&R.layout&&void 0===R.layout["text-font"]&&(R.layout["text-font"]=["Noto-Bold"]),this.__om.addLayer(R,z),this.__om},once(R){for(var z=arguments.length,V=new Array(z>1?z-1:0),ie=1;ie<z;ie++)V[ie-1]=arguments[ie];return this.__om.once(Ea(R),...V),this},on(R){for(var z=arguments.length,V=new Array(z>1?z-1:0),ie=1;ie<z;ie++)V[ie-1]=arguments[ie];return this.__om.on(Ea(R),...V),this},off(R){for(var z=arguments.length,V=new Array(z>1?z-1:0),ie=1;ie<z;ie++)V[ie-1]=arguments[ie];return this.__om.off(Ea(R),...V),this},fitBounds:function(R,z){const V=(R=x.LngLatBounds.convert(R)).getSouth(),ie=R.getWest(),Te=R.getNorth(),nt=ie+(at=R.getEast(),180-Math.abs(Math.abs(at-ie)-180));var at;this.__om.fitBounds(new x.LngLatBounds([[ie,V],[nt,Te]]),z)}},DA=["isMoving","isZooming","isRotating","getCenter","setCenter","panTo","getZoom","setZoom","zoomTo","getBearing","setBearing","rotateTo","getPitch","setPitch","fitBounds","jumpTo","easeTo","flyTo","stop","resize","getBounds","getMaxBounds","setMaxBounds","setMinZoom","getMinZoom","setMaxZoom","getMaxZoom","on","on","off","off","once","once","addControl","removeControl","hasControl","addLayer","isStyleLoaded","addSource","isSourceLoaded","areTilesLoaded","removeSource","getSource","moveLayer","removeLayer","getLayer","setLayerZoomRange","setFilter","getFilter","setPaintProperty","setFeatureState","removeFeatureState","getFeatureState","getPaintProperty","setLayoutProperty","getLayoutProperty","getStyle","getContainer","getCanvasContainer","getCanvas","loaded","remove","triggerRepaint","project","unproject","loadImage","listImages","hasImage","removeImage","addImage","updateImage","resetNorthPitch","queryRenderedFeatures","querySourceFeatures","cameraForBounds"];function nA(R,z){var V=Object.keys(R);if(Object.getOwnPropertySymbols){var ie=Object.getOwnPropertySymbols(R);z&&(ie=ie.filter(function(Te){return Object.getOwnPropertyDescriptor(R,Te).enumerable})),V.push.apply(V,ie)}return V}function mo(R){for(var z=1;z<arguments.length;z++){var V=null!=arguments[z]?arguments[z]:{};z%2?nA(Object(V),!0).forEach(function(ie){yo(R,ie,V[ie])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(V)):nA(Object(V)).forEach(function(ie){Object.defineProperty(R,ie,Object.getOwnPropertyDescriptor(V,ie))})}return R}function yo(R,z,V){return z in R?Object.defineProperty(R,z,{value:V,enumerable:!0,configurable:!0,writable:!0}):R[z]=V,R}function vo(R,z,V,ie,Te,nt,at){try{var bt=R[nt](at),Kt=bt.value}catch(xr){return void V(xr)}bt.done?z(Kt):Promise.resolve(Kt).then(ie,Te)}function Ia(R,z,V){return z in R?Object.defineProperty(R,z,{value:V,enumerable:!0,configurable:!0,writable:!0}):R[z]=V,R}class iA{constructor(z){var ie,Te,V=this;Ia(this,"_download",ie=>{let Te=ie;return ie.match(/key=/)||(Te=Ee(Te,"key",this._key)),Sr({url:Te}).then(nt=>nt.data)}),Ia(this,"fetch",(ie=function*(nt){return Je()(nt)?(V._cache[nt]||(V._cache[nt]=yield V._download(nt)),V._cache[nt]):function(at){const bt={version:8,sources:mo({},at.sources),layers:at.layers.slice()};return at.glyphs&&(bt.glyphs=at.glyphs),at.sprite&&(bt.sprite=at.sprite),bt}(nt)},Te=function(){var nt=this,at=arguments;return new Promise(function(bt,Kt){var xr=ie.apply(nt,at);function dn(Xr){vo(xr,bt,Kt,dn,Tn,"next",Xr)}function Tn(Xr){vo(xr,bt,Kt,dn,Tn,"throw",Xr)}dn(void 0)})},function(nt){return Te.apply(this,arguments)})),this._key=z,this._cache={}}}const Qa={map:"vectorTiles",trafficFlow:"vectorTilesFlow",trafficIncidents:"vectorTilesIncidents",poi:"poiTiles"};var bi={setInitialLayersVisibility:function(R,z){for(const V in z)!0!==z[V]&&this._updateLayersWithSource(R,Qa[V],Te=>{Te.layout=Te.layout||{},Te.layout.visibility="none"})},hide:function(R,z){this._updateLayerSetVisibility(R,z,"none")},show:function(R,z){this._updateLayerSetVisibility(R,z,"visible")},_updateLayerSetVisibility:function(R,z,V){const ie=R.getStyle();this._updateLayersWithSource(ie,Qa[z],nt=>{R.setLayoutProperty(nt.id,"visibility",V,{validate:!1})}),R.__om._update(!0)},_updateLayersWithSource:function(R,z,V){R.layers.forEach(ie=>{ie.source===z&&V(ie)})}};function oA(R,z,V,ie,Te,nt,at){try{var bt=R[nt](at),Kt=bt.value}catch(xr){return void V(xr)}bt.done?z(Kt):Promise.resolve(Kt).then(ie,Te)}function jn(R,z,V){return z in R?Object.defineProperty(R,z,{value:V,enumerable:!0,configurable:!0,writable:!0}):R[z]=V,R}class Do{constructor(){var z=this;let V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var Te,nt;jn(this,"_repaintMap",()=>{const nt=this.__om.style.sourceCaches.vectorTiles;nt&&(nt.clearTiles(),this.__om.getSource("vectorTiles").load())}),jn(this,"_initializeStyle",(Te=function*(at){const bt=yield z._styleRetriever.fetch(at);bi.setInitialLayersVisibility(bt,z.options._stylesVisibility),z.options.sprite&&(bt.sprite=z.options.sprite),z.options.glyphs&&(bt.glyphs=z.options.glyphs);const Kt=new Promise(xr=>{z.__om.once("style.load",()=>{xr()})});return z.__om.setStyle(bt,{diff:!1}),Kt},nt=function(){var at=this,bt=arguments;return new Promise(function(Kt,xr){var dn=Te.apply(at,bt);function Tn(Oi){oA(dn,Kt,xr,Tn,Xr,"next",Oi)}function Xr(Oi){oA(dn,Kt,xr,Tn,Xr,"throw",Oi)}Tn(void 0)})},function(at){return nt.apply(this,arguments)})),jn(this,"setLanguage",Te=>{Te=Oe(Te),this._language=Te,this._repaintMap()}),jn(this,"getLanguage",()=>this._language),jn(this,"setGeopoliticalView",Te=>{Te=function ct(R){return z=R,C()(z)||""===z?"":At[z]?z:(console.warn("Value provided is invalid ("+z+"). Default value ("+At.defaultValue+") will be used instead."),At.defaultValue);var z}(Te),this._geopoliticalView=Te,this._repaintMap()}),jn(this,"getGeopoliticalView",()=>this._geopoliticalView),jn(this,"getAttributionControl",()=>this.__om._attributionControl||this._attributionControl),jn(this,"showTrafficFlow",()=>{bi.show(this,"trafficFlow")}),jn(this,"hideTrafficFlow",()=>{bi.hide(this,"trafficFlow")}),jn(this,"showTrafficIncidents",()=>{bi.show(this,"trafficIncidents")}),jn(this,"hideTrafficIncidents",()=>{bi.hide(this,"trafficIncidents")}),jn(this,"showPOI",()=>{bi.show(this,"poi")}),jn(this,"hidePOI",()=>{bi.hide(this,"poi")}),this.options=V,this._styleRetriever=new iA(V.key),this._language=V.language,this._geopoliticalView=V.geopoliticalView}}function aA(R,z){var V=Object.keys(R);if(Object.getOwnPropertySymbols){var ie=Object.getOwnPropertySymbols(R);z&&(ie=ie.filter(function(Te){return Object.getOwnPropertyDescriptor(R,Te).enumerable})),V.push.apply(V,ie)}return V}function To(R){for(var z=1;z<arguments.length;z++){var V=null!=arguments[z]?arguments[z]:{};z%2?aA(Object(V),!0).forEach(function(ie){on(R,ie,V[ie])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(V)):aA(Object(V)).forEach(function(ie){Object.defineProperty(R,ie,Object.getOwnPropertyDescriptor(V,ie))})}return R}function on(R,z,V){return z in R?Object.defineProperty(R,z,{value:V,enumerable:!0,configurable:!0,writable:!0}):R[z]=V,R}class sa{constructor(z,V){let{mapbox:ie}=V;on(this,"createMap",()=>{const Te=function Ca(R){const z=eA();return z.prototype._detectMissingCSS=function(){const V=this._missingCSSCanary||document.getElementsByClassName("mapboxgl-canary")[0];"rgb(250, 128, 114)"!==window.getComputedStyle(V).getPropertyValue("background-color")&&console.warn("This page appears to be missing CSS declarations for Maps SDK for Web, which may cause the map to display incorrectly. Please ensure your page includes maps.css, as described in https://developer.tomtom.com/maps-sdk-web-js/documentation")},new z(R)}(To({},this.options)),nt=(at=>new Do(this.options))();return function rA(R,z){var V,ie;V=R,ie=z,DA.forEach(Te=>{V[Te]=function(){const nt=ie[Te](...arguments);return nt instanceof eA()?V:nt}}),Object.defineProperty(V,"__om",{value:ie}),function(V,ie){tA.forEach(Te=>{V[Te]=ie[Te]})}(R,z),function(V){for(const ie in to)Object.prototype.hasOwnProperty.call(to,ie)&&(V[ie]=to[ie].bind(V))}(R)}(nt,Te),Ki(this.options.key,this.options.attributionControlPosition,nt),function(at){const bt=new Blob(['(function(){(function(global,factory){if(typeof exports==="object"&&typeof module!=="undefined"){factory(module.exports)}else if(typeof define==="function"&&define.amd){define(factory)}else{factory(global)}})(this,function(exports){var Module={TOTAL_MEMORY:8*1024*1024,TOTAL_STACK:2*1024*1024,preRun:[],postRun:[],print:function(text){console.log(text)},printErr:function(text){text=Array.prototype.slice.call(arguments).join(" ");if(text.indexOf("pre-main prep time")>=0){return}console.error(text)}};var Module=typeof Module!=="undefined"?Module:{};var moduleOverrides={};var key;for(key in Module){if(Module.hasOwnProperty(key)){moduleOverrides[key]=Module[key]}}Module["arguments"]=[];Module["thisProgram"]="./this.program";Module["quit"]=function(status,toThrow){throw toThrow};Module["preRun"]=[];Module["postRun"]=[];var ENVIRONMENT_IS_WEB=false;var ENVIRONMENT_IS_WORKER=false;var ENVIRONMENT_IS_NODE=false;var ENVIRONMENT_IS_SHELL=false;ENVIRONMENT_IS_WEB=typeof window==="object";ENVIRONMENT_IS_WORKER=typeof importScripts==="function";ENVIRONMENT_IS_NODE=typeof process==="object"&&typeof require==="function"&&!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_WORKER;ENVIRONMENT_IS_SHELL=!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_NODE&&!ENVIRONMENT_IS_WORKER;var scriptDirectory="";function locateFile(path){if(Module["locateFile"]){return Module["locateFile"](path,scriptDirectory)}else{return scriptDirectory+path}}if(ENVIRONMENT_IS_NODE){scriptDirectory=__dirname+"/";var nodeFS;var nodePath;Module["read"]=function shell_read(filename,binary){var ret;ret=tryParseAsDataURI(filename);if(!ret){if(!nodeFS)nodeFS=require("fs");if(!nodePath)nodePath=require("path");filename=nodePath["normalize"](filename);ret=nodeFS["readFileSync"](filename)}return binary?ret:ret.toString()};Module["readBinary"]=function readBinary(filename){var ret=Module["read"](filename,true);if(!ret.buffer){ret=new Uint8Array(ret)}return ret};if(process["argv"].length>1){Module["thisProgram"]=process["argv"][1].replace(/\\\\/g,"/")}Module["arguments"]=process["argv"].slice(2);if(typeof module!=="undefined"){module["exports"]=Module}process["on"]("uncaughtException",function(ex){if(!(ex instanceof ExitStatus)){throw ex}});process["on"]("unhandledRejection",abort);Module["quit"]=function(status){process["exit"](status)};Module["inspect"]=function(){return"[Emscripten Module object]"}}else if(ENVIRONMENT_IS_SHELL){if(typeof read!="undefined"){Module["read"]=function shell_read(f){var data=tryParseAsDataURI(f);if(data){return intArrayToString(data)}return read(f)}}Module["readBinary"]=function readBinary(f){var data;data=tryParseAsDataURI(f);if(data){return data}if(typeof readbuffer==="function"){return new Uint8Array(readbuffer(f))}data=read(f,"binary");return data};if(typeof scriptArgs!="undefined"){Module["arguments"]=scriptArgs}else if(typeof arguments!="undefined"){Module["arguments"]=arguments}if(typeof quit==="function"){Module["quit"]=function(status){quit(status)}}}else if(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER){if(ENVIRONMENT_IS_WORKER){scriptDirectory=self.location.href}else if(document.currentScript){scriptDirectory=document.currentScript.src}if(scriptDirectory.indexOf("blob:")!==0){scriptDirectory=scriptDirectory.substr(0,scriptDirectory.lastIndexOf("/")+1)}else{scriptDirectory=""}Module["read"]=function shell_read(url){try{var xhr=new XMLHttpRequest;xhr.open("GET",url,false);xhr.send(null);return xhr.responseText}catch(err){var data=tryParseAsDataURI(url);if(data){return intArrayToString(data)}throw err}};if(ENVIRONMENT_IS_WORKER){Module["readBinary"]=function readBinary(url){try{var xhr=new XMLHttpRequest;xhr.open("GET",url,false);xhr.responseType="arraybuffer";xhr.send(null);return new Uint8Array(xhr.response)}catch(err){var data=tryParseAsDataURI(url);if(data){return data}throw err}}}Module["readAsync"]=function readAsync(url,onload,onerror){var xhr=new XMLHttpRequest;xhr.open("GET",url,true);xhr.responseType="arraybuffer";xhr.onload=function xhr_onload(){if(xhr.status==200||xhr.status==0&&xhr.response){onload(xhr.response);return}var data=tryParseAsDataURI(url);if(data){onload(data.buffer);return}onerror()};xhr.onerror=onerror;xhr.send(null)};Module["setWindowTitle"]=function(title){document.title=title}}else{}var out=Module["print"]||(typeof console!=="undefined"?console.log.bind(console):typeof print!=="undefined"?print:null);var err=Module["printErr"]||(typeof printErr!=="undefined"?printErr:typeof console!=="undefined"&&console.warn.bind(console)||out);for(key in moduleOverrides){if(moduleOverrides.hasOwnProperty(key)){Module[key]=moduleOverrides[key]}}moduleOverrides=undefined;var STACK_ALIGN=16;function dynamicAlloc(size){var ret=HEAP32[DYNAMICTOP_PTR>>2];var end=ret+size+15&-16;if(end<=_emscripten_get_heap_size()){HEAP32[DYNAMICTOP_PTR>>2]=end}else{var success=_emscripten_resize_heap(end);if(!success)return 0}return ret}function getNativeTypeSize(type){switch(type){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:{if(type[type.length-1]==="*"){return 4}else if(type[0]==="i"){var bits=parseInt(type.substr(1));return bits/8}else{return 0}}}}function warnOnce(text){if(!warnOnce.shown)warnOnce.shown={};if(!warnOnce.shown[text]){warnOnce.shown[text]=1;err(text)}}var jsCallStartIndex=1;var functionPointers=new Array(0);var funcWrappers={};function dynCall(sig,ptr,args){if(args&&args.length){return Module["dynCall_"+sig].apply(null,[ptr].concat(args))}else{return Module["dynCall_"+sig].call(null,ptr)}}var tempRet0=0;var setTempRet0=function(value){tempRet0=value};var getTempRet0=function(){return tempRet0};var GLOBAL_BASE=8;var ABORT=false;var EXITSTATUS=0;function assert_em(condition,text){if(!condition){abort("Assertion failed: "+text)}}function getCFunc(ident){var func=Module["_"+ident];return func}function ccall(ident,returnType,argTypes,args,opts){var toC={string:function(str){var ret=0;if(str!==null&&str!==undefined&&str!==0){var len=(str.length<<2)+1;ret=stackAlloc(len);stringToUTF8(str,ret,len)}return ret},array:function(arr){var ret=stackAlloc(arr.length);writeArrayToMemory(arr,ret);return ret}};function convertReturnValue(ret){if(returnType==="string")return UTF8ToString(ret);if(returnType==="boolean")return Boolean(ret);return ret}var func=getCFunc(ident);var cArgs=[];var stack=0;if(args){for(var i=0;i<args.length;i++){var converter=toC[argTypes[i]];if(converter){if(stack===0)stack=stackSave();cArgs[i]=converter(args[i])}else{cArgs[i]=args[i]}}}var ret=func.apply(null,cArgs);ret=convertReturnValue(ret);if(stack!==0)stackRestore(stack);return ret}function setValue(ptr,value,type,noSafe){type=type||"i8";if(type.charAt(type.length-1)==="*")type="i32";switch(type){case"i1":HEAP8[ptr>>0]=value;break;case"i8":HEAP8[ptr>>0]=value;break;case"i16":HEAP16[ptr>>1]=value;break;case"i32":HEAP32[ptr>>2]=value;break;case"i64":tempI64=[value>>>0,(tempDouble=value,+Math_abs(tempDouble)>=+1?tempDouble>+0?(Math_min(+Math_floor(tempDouble/+4294967296),+4294967295)|0)>>>0:~~+Math_ceil((tempDouble-+(~~tempDouble>>>0))/+4294967296)>>>0:0)],HEAP32[ptr>>2]=tempI64[0],HEAP32[ptr+4>>2]=tempI64[1];break;case"float":HEAPF32[ptr>>2]=value;break;case"double":HEAPF64[ptr>>3]=value;break;default:abort("invalid type for setValue: "+type)}}var ALLOC_NONE=3;function getMemory(size){if(!runtimeInitialized)return dynamicAlloc(size);return _malloc(size)}var UTF8Decoder=typeof TextDecoder!=="undefined"?new TextDecoder("utf8"):undefined;function UTF8ArrayToString(u8Array,idx,maxBytesToRead){var endIdx=idx+maxBytesToRead;var endPtr=idx;while(u8Array[endPtr]&&!(endPtr>=endIdx))++endPtr;if(endPtr-idx>16&&u8Array.subarray&&UTF8Decoder){return UTF8Decoder.decode(u8Array.subarray(idx,endPtr))}else{var str="";while(idx<endPtr){var u0=u8Array[idx++];if(!(u0&128)){str+=String.fromCharCode(u0);continue}var u1=u8Array[idx++]&63;if((u0&224)==192){str+=String.fromCharCode((u0&31)<<6|u1);continue}var u2=u8Array[idx++]&63;if((u0&240)==224){u0=(u0&15)<<12|u1<<6|u2}else{u0=(u0&7)<<18|u1<<12|u2<<6|u8Array[idx++]&63}if(u0<65536){str+=String.fromCharCode(u0)}else{var ch=u0-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023)}}}return str}function UTF8ToString(ptr,maxBytesToRead){return ptr?UTF8ArrayToString(HEAPU8,ptr,maxBytesToRead):""}function stringToUTF8Array(str,outU8Array,outIdx,maxBytesToWrite){if(!(maxBytesToWrite>0))return 0;var startIdx=outIdx;var endIdx=outIdx+maxBytesToWrite-1;for(var i=0;i<str.length;++i){var u=str.charCodeAt(i);if(u>=55296&&u<=57343){var u1=str.charCodeAt(++i);u=65536+((u&1023)<<10)|u1&1023}if(u<=127){if(outIdx>=endIdx)break;outU8Array[outIdx++]=u}else if(u<=2047){if(outIdx+1>=endIdx)break;outU8Array[outIdx++]=192|u>>6;outU8Array[outIdx++]=128|u&63}else if(u<=65535){if(outIdx+2>=endIdx)break;outU8Array[outIdx++]=224|u>>12;outU8Array[outIdx++]=128|u>>6&63;outU8Array[outIdx++]=128|u&63}else{if(outIdx+3>=endIdx)break;outU8Array[outIdx++]=240|u>>18;outU8Array[outIdx++]=128|u>>12&63;outU8Array[outIdx++]=128|u>>6&63;outU8Array[outIdx++]=128|u&63}}outU8Array[outIdx]=0;return outIdx-startIdx}function stringToUTF8(str,outPtr,maxBytesToWrite){return stringToUTF8Array(str,HEAPU8,outPtr,maxBytesToWrite)}function lengthBytesUTF8(str){var len=0;for(var i=0;i<str.length;++i){var u=str.charCodeAt(i);if(u>=55296&&u<=57343)u=65536+((u&1023)<<10)|str.charCodeAt(++i)&1023;if(u<=127)++len;else if(u<=2047)len+=2;else if(u<=65535)len+=3;else len+=4}return len}var UTF16Decoder=typeof TextDecoder!=="undefined"?new TextDecoder("utf-16le"):undefined;function UTF16ToString(ptr){var endPtr=ptr;var idx=endPtr>>1;while(HEAP16[idx])++idx;endPtr=idx<<1;if(endPtr-ptr>32&&UTF16Decoder){return UTF16Decoder.decode(HEAPU8.subarray(ptr,endPtr))}else{var i=0;var str="";while(1){var codeUnit=HEAP16[ptr+i*2>>1];if(codeUnit==0)return str;++i;str+=String.fromCharCode(codeUnit)}}}function stringToUTF16(str,outPtr,maxBytesToWrite){if(maxBytesToWrite===undefined){maxBytesToWrite=2147483647}if(maxBytesToWrite<2)return 0;maxBytesToWrite-=2;var startPtr=outPtr;var numCharsToWrite=maxBytesToWrite<str.length*2?maxBytesToWrite/2:str.length;for(var i=0;i<numCharsToWrite;++i){var codeUnit=str.charCodeAt(i);HEAP16[outPtr>>1]=codeUnit;outPtr+=2}HEAP16[outPtr>>1]=0;return outPtr-startPtr}function writeArrayToMemory(array,buffer){HEAP8.set(array,buffer)}function writeAsciiToMemory(str,buffer,dontAddNull){for(var i=0;i<str.length;++i){HEAP8[buffer++>>0]=str.charCodeAt(i)}if(!dontAddNull)HEAP8[buffer>>0]=0}function demangle(func){return func}function demangleAll(text){var regex=/__Z[\\w\\d_]+/g;return text.replace(regex,function(x){var y=demangle(x);return x===y?x:y+" ["+x+"]"})}function jsStackTrace(){var err=new Error;if(!err.stack){try{throw new Error(0)}catch(e){err=e}if(!err.stack){return"(no stack trace available)"}}return err.stack.toString()}function alignUp(x,multiple){if(x%multiple>0){x+=multiple-x%multiple}return x}var buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function updateGlobalBufferViews(){Module["HEAP8"]=HEAP8=new Int8Array(buffer);Module["HEAP16"]=HEAP16=new Int16Array(buffer);Module["HEAP32"]=HEAP32=new Int32Array(buffer);Module["HEAPU8"]=HEAPU8=new Uint8Array(buffer);Module["HEAPU16"]=HEAPU16=new Uint16Array(buffer);Module["HEAPU32"]=HEAPU32=new Uint32Array(buffer);Module["HEAPF32"]=HEAPF32=new Float32Array(buffer);Module["HEAPF64"]=HEAPF64=new Float64Array(buffer)}var STACK_BASE=71120,DYNAMIC_BASE=5314e3,DYNAMICTOP_PTR=71088;var TOTAL_STACK=5242880;var INITIAL_TOTAL_MEMORY=Module["TOTAL_MEMORY"]||16777216;if(INITIAL_TOTAL_MEMORY<TOTAL_STACK)err("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+INITIAL_TOTAL_MEMORY+"! (TOTAL_STACK="+TOTAL_STACK+")");if(Module["buffer"]){buffer=Module["buffer"]}else{{buffer=new ArrayBuffer(INITIAL_TOTAL_MEMORY)}}updateGlobalBufferViews();HEAP32[DYNAMICTOP_PTR>>2]=DYNAMIC_BASE;function callRuntimeCallbacks(callbacks){while(callbacks.length>0){var callback=callbacks.shift();if(typeof callback=="function"){callback();continue}var func=callback.func;if(typeof func==="number"){if(callback.arg===undefined){Module["dynCall_v"](func)}else{Module["dynCall_vi"](func,callback.arg)}}else{func(callback.arg===undefined?null:callback.arg)}}}var __ATPRERUN__=[];var __ATINIT__=[];var __ATMAIN__=[];var __ATPOSTRUN__=[];var runtimeInitialized=false;var runtimeExited=false;function preRun(){if(Module["preRun"]){if(typeof Module["preRun"]=="function")Module["preRun"]=[Module["preRun"]];while(Module["preRun"].length){addOnPreRun(Module["preRun"].shift())}}callRuntimeCallbacks(__ATPRERUN__)}function ensureInitRuntime(){if(runtimeInitialized)return;runtimeInitialized=true;callRuntimeCallbacks(__ATINIT__)}function preMain(){callRuntimeCallbacks(__ATMAIN__)}function exitRuntime(){runtimeExited=true}function postRun(){if(Module["postRun"]){if(typeof Module["postRun"]=="function")Module["postRun"]=[Module["postRun"]];while(Module["postRun"].length){addOnPostRun(Module["postRun"].shift())}}callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(cb){__ATPRERUN__.unshift(cb)}function addOnPostRun(cb){__ATPOSTRUN__.unshift(cb)}var Math_abs=Math.abs;var Math_ceil=Math.ceil;var Math_floor=Math.floor;var Math_min=Math.min;var runDependencies=0;var runDependencyWatcher=null;var dependenciesFulfilled=null;function addRunDependency(id){runDependencies++;if(Module["monitorRunDependencies"]){Module["monitorRunDependencies"](runDependencies)}}function removeRunDependency(id){runDependencies--;if(Module["monitorRunDependencies"]){Module["monitorRunDependencies"](runDependencies)}if(runDependencies==0){if(runDependencyWatcher!==null){clearInterval(runDependencyWatcher);runDependencyWatcher=null}if(dependenciesFulfilled){var callback=dependenciesFulfilled;dependenciesFulfilled=null;callback()}}}Module["preloadedImages"]={};Module["preloadedAudios"]={};var memoryInitializer=null;var dataURIPrefix="data:application/octet-stream;base64,";function isDataURI(filename){return String.prototype.startsWith?filename.startsWith(dataURIPrefix):filename.indexOf(dataURIPrefix)===0}__ATINIT__.push({func:function(){___emscripten_environ_constructor()}})\n;memoryInitializer="data:application/octet-stream;base64,AAAAAAAAAAAAAQIHCAMJBgUEBAoKDAoKCgsKBAQEBA0OAAAAAAAAAAECBAUHDxEHCQcABwMSFQQBIiQlJy8xJyknAQEjMjUAIQIkJScvMScpJwICIzI1ASEiJiYoMDEoKCgDAwMyNQEhIgQlJy8xSgtKBAQjEhUCISIkBScvMScpTAUFIzI1AyEiBgYoMDEoKE0GBiMSFQMhIiQlBy8xB04HBwcjMjUEISImJggwMQgICAgIIzI1BCEiBCUHLzEHCQcJCSMSFQRhYgRlh29xh46HCodjEhUCISIEJScvMScLJwsLIxIVAmFiZAWHb3GHjocMh2NydQNhYgYGiHBxiIiIDYhjEhUDISKEJQcvMQcOBw4OI5KVBCEiJCUnDzEnKScPJyMyNQUhIiYmKBAxKCgoECgjMjUFISIkJScvEScpJxEnIzI1BiEiEiUnLzFTFFMSEiMSFQBhYhJlh29xh46HE4djEhUAISISJScvMScUJxQUIxIVACEiFSUnLzFWF1YVFSMSFQNhYhVlh29xh46HFodjEhUDISIVJScvMScXJxcXIxIVAwACEREAAAAAAEIBAQAAAAAAAgQEExMAAQAiNDQDAwAAAAIEBBMTAAIAAAAAAAAAAAEAAgIAAAAAAQABAhMTAAEBAAICAAAAASEwBgQDAzAAITAGBAUFMAMhMAYEBQUwAiEwBgQDAzABAAAAAAAAAAAAYgEBAAAAAABiAQEAMAAEAGJUVBMwAAMwQlRUAzAwAzBCBAQTMDAEAAAAAAAAAAATAAEBAAAAACMAAQECQAABIwABAQJAAAADAAM2FEAAAVNABTYEQEAAU0AFNgRAQAFTQAYGBEBAAwAAAAAAAAAAAAEAAgAAAAAAAQMDFBQAAQABAAIVFQACAAEDAxQUAAIAITMzBAQAAAAhADIFBQAAAGMAAQAAAAAAYwABEjAABCBjIAECMCADAGNVVhQwAAMwQ1VWBDAwAzBDBVYUMDAEMENVBhQwMAQAAAAAAAAAAAABAAAAAAAAAAEAABQUAAEAAQAAFRUAAgABAAAUFAACIAEgIAQEIAEgASAgBQUgAQEAAQEAAAAAAQABARQUAAEBAAEBAAAAAQEAAQEFBQABIQAhIQQEAAABAAEBBQUAAAADEREAAAAAIAMBAQIgIAIgAwEBAiAgAQADBQUUAAABIAMFBQQgIAEAAwUFFAAAAgIAAQEAAAAAAgABAQAAAAECABQUEwAAASIABAQDAAAAIgAEBAMAAAEAAAAAAAAAAAEAAgIAAAAAAQABAxQUAAEBAAICAAAAAQEAAQMFBQABIQAhAwQEAAABAAEDBQUAAHEGcQZ7BnsGewZ7Bn4GfgZ+Bn4GAAAAAAAAAAB6BnoGegZ6BgAAAAAAAAAAeQZ5BnkGeQYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIYGhgaGBoYGAAAAAAAAAACNBo0GjAaMBo4GjgaIBogGmAaYBpEGkQapBqkGqQapBq8GrwavBq8GAAAAAAAAAAAAAAAAAAAAALoGuga7BrsGuwa7BsAGwAbBBsEGwQbBBr4Gvga+Br4G0gbSBtMG0wYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMcGxwbGBsYGyAbIBgAAywbLBsUGxQbJBskG0AbQBtAG0AYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAzAbMBswGzAZLBksGTAZMBk0GTQZOBk4GTwZPBlAGUAZRBlEGUgZSBiEGIgYiBiMGIwYkBiQGJQYlBiYGJgYmBiYGJwYnBigGKAYoBigGKQYpBioGKgYqBioGKwYrBisGKwYsBiwGLAYsBi0GLQYtBi0GLgYuBi4GLgYvBi8GMAYwBjEGMQYyBjIGMwYzBjMGMwY0BjQGNAY0BjUGNQY1BjUGNgY2BjYGNgY3BjcGNwY3BjgGOAY4BjgGOQY5BjkGOQY6BjoGOgY6BkEGQQZBBkEGQgZCBkIGQgZDBkMGQwZDBkQGRAZEBkQGRQZFBkUGRQZGBkYGRgZGBkcGRwZHBkcGSAZIBkkGSQZKBkoGSgZKBlwGXAZdBl0GXgZeBl8GXwYAAAAAAAAAAAAAAAAAAAABAAMAAQABAAACAgAAAQIAAQECAAEBAwAAAAAAAAAAAAEAAwABAAMAAAECAAABAgABAQIAAQEDIREhEwEVIRcDGSEdAx8BIwMlAykDLQMxAzUBOQE7AT0BPwNBA0UDSQNNA1EDVQNZA10AAAAAAAAAAAAAAwADYQNlA2kTbQNxA3UDeQF9AX8DgQQBhAGEAYQBhAGEAUQDBAEEBwQIBAgEAQAAAAAAAAAAAAABhQGHAYkBiwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAYJACEAIQAAACEAAQABAAMACxYLDgsCAwADAAsGAwADAAMAAwADAAMAAwALKgMACTgBAAEAAQAJNAkyCTYBAAEACTwBAAEAAQABAAEAAQAJOgEAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMACz4DAAMAAwADAAMAC0IDAAMAAwADAAMAAwADAAMAAwADAAlOC1ADAAMAC1oDAAlUC1YBAAEAAQAJkAmJCYcJiwmSAQAJjgusAQADAAMAC5QDAAleCWAAAAAAAAAAAAAAAAAAAQAAAAAAAQIDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQIDAAAAAAAAAAAAAAAAAAEAAAABAgMAAQIDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAECAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEBAQEBAAAAAAAAAAAAAAAAAADAwMAAwADAwMDAwMDAwMDAAABAAEAAQABAAECAwABAAECAwABAAECAwABAgMAAQIDAAECAwABAgMAAQABAAEAAQABAgMAAQIDAAECAwABAgMAAQIDAAECAwABAgMAAQIDAAECAwABAgMAAQIDAAECAwABAgMAAQIDAAECAwABAAEAAQIDAAEAAQABAAEAAABdBGUEbQR1BI0ElQSdBKUErQS1BLsEwwTLBNME2wTjBOkE8QT5BAEFBAUMBRQFHAUkBSwFKAUwBTgFQAVFBU0FVQVdBWEFaQVxBXkFgQWJBYUFjQWSBZoFoAWoBbAFuAXABcgF0AXYBd0F5QXoBfAF+AUABgYGDgYNBhUGHQYlBjUGLQY9BkUGfQRVBl0GTQZtBm8GdwZlBocGjQaVBn8GpQarBrMGnQbDBskG0Qa7BuEG5wbvBtkG/wYHBw8H9wYfByUHLQcXBz0HQwdLBzUHWwdgB2gHUwd4B38HhwdwBwkGjweXB30EnwenB68HfQS3B78HxwfMB9QH2wfjB30EyAXrB/MH+wcDCFUFEwgLCMgFyAXIBcgFyAXIBcgFyAXIBcgFGwjIBSMIJwgvCMgFNQjIBTsIQwhLCFUFVQVTCFsIyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFYAhoCMgFyAVwCHgIgAiICJAIyAWYCKAIqAi4CMgFwAjCCMoIsAjIBc0I4QjVCN0I6QjIBfEI9wj/CAcJyAUXCR8JJwkPCX0EfQQ3CToJQgkvCVIJSgnIBVkJyAVoCWEJcAl4CXwJhAmMCf0ElAmXCZ0JpAmXCSQFrAmtBK0ErQStBLQJrQStBK0ExAnMCdQJ3AnkCegJ8Am8CQgKEAr4CQAKGAogCigKMApICjgKQApQClgKZwpsCl8KdAp0CnQKdAp0CnQKdAp0CnwKhAr/CIcKjwqWCpsKowr/CKoKqQq6Cr0K/wj/CLIK/wj/CP8I/wj/CMwK1ArECv8I/wj/CNkK/wj/CP8I/wj/CP8I/wjfCucK/wjvCvYK/wj/CP8I/wj/CP8I/wj/CHQKdAp0CnQK/gp0CgULDAt0CnQKdAp0CnQKdAp0CnQK/wgUCxsLHwslC/8IKwukClUFOwszC0MLrQStBK0ESwv9BFMLyAVZC2kLYQthCyQFcQt5C4ELfQSJC/8I/wiQC/8I/wj/CP8I/wj/CJgLnguuC6YLCQbIBbYLWwjIBb4LxgvKC8gFyAXPC9cL/wjfC6QK5wvtC/8I5wv1C/8IpAr/CP8I/wj/CP8I/wj/CP8I/QvIBcgFyAUFDMgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFCwzIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAUQDMgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXNCP8I/wgYDMgFGwzIBSMMKQwxDDkMPgzIBcgFQgzIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAVJDMgFUAxWDMgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAVeDMgFyAXIBWYMyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBWgMyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAVvDMgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFdgzIBcgFyAV9DIUMyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFigzIBcgFkgzIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFlgzIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAWZDMgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAWcDMgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFogzIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFqgzIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBa8MyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAW0DMgFyAXIBbkMyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcEMyAzMDMgFyAXIBdMMyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBdkM6QzIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgF4Qz/CPEMcAnIBcgFyAXIBcgFyAXIBcgF9gz+DK0EDg0GDcgFyAUWDR4NLg2tBDMNOw1BDX0EJg1JDVENyAVZDWkNbA1hDXQNHQZ8DYMNwQhtBpMNiw2bDcgFow2rDbMNyAW7DcMNyw3TDdsN3w3nDf0E/QTIBe8NyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAX3DQMO+w19BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0ECw4LDgsOCw4LDgsOCw4LDgsOCw4LDgsOCw4LDgsOCw4LDgsOCw4LDgsOCw4LDgsOCw4LDgsOCw4LDgsOCw4LDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw7IBcgFyAUbDsgF1AwiDicOyAXIBcgFLw7IBcgFzAh9BEUONQ49DsgFyAVNDlUOyAXIBcgFyAXIBcgFyAXIBcgFyAVaDmIOyAVmDsgFbA5wDngOgA6HDo8OyAXIBcgFlQ6tDm0EtQ69DsIO4QidDqUOCw4LDgsOCw4LDgsOCw4LDgsOCw4LDgsOCw4LDgsOCw4LDgsOCw4LDgsOCw4LDgsOCw4LDgsOCw4LDgsOCw4LDvQR9BE0EnQStBLsEiwTbBOkE+QTEBRQFJAUoBTgFBQVVBWEFcQVBBYUFkgWgBbAFgAXQBd0F6AX4BcYGDQYdBiACsAKAAtAC4ALQArAC0AK4gtACkAKQApACiIM2wHbAWIMogxACkAKQApACuIMAg1ACkAKQg2CDcINAg5CDoIOwg75DtsB2wEdD1EP2wF5D9sB2wHbAdsBpg/bAdsB2wHbAdsB2wHbAboP2wHyDzIQ2wE9ENsB2wHbAXMQQAqzEEAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAK8xBACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACgAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHMxEABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABzMRfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQTKDtEO2Q59BMgFyAXIBdcL6Q7hDgAP8Q74DggPhQsQD30EfQR9BH0EwQjIBRgPIA/IBSgPMA80DzwPyAVED30EVQVfBUwPyAVQD1gPaA9gD8gFcA/IBXcPfQR9BH0EfQTIBcgFyAXIBcgFyAXIBcgFyAVpC80IbA59BH0EfQR9BIcPfw+KD5IP4QiaD30Eog+qD7IPfQR9BMgFwg/KD7oP2g/hD9IP6Q/xD30EARD5D8gFBBAMEBQQHBAkEH0EfQTIBcgFLBB9BFUFNBD9BDwQyAVEEH0EfQR9BH0EfQR9BH0EfQR9BEwQfQR9BH0EfQRUEFwQYxB9BH0EfQR9BH0EcxD+BXsQaxBSCYMQixCREKkQmRChEK0QUgm9ELUQxRDVEM0QfQR9BNwQ5BAgBuwQ/BACEQoR9BB9BH0EfQR9BMgFEhEaEX0EyAUiESoRfQR9BH0EfQR9BMgFMhE6EX0EyAVCEUoRUhHIBWIRWhF9BDsIahF9BH0EfQR9BH0EfQTIBXIRfQR9BH0EVQX9BHoRfQR9BH0EfQR9BH0EfQR9BJIRghGKEcgFohGaEcgFwgh9BH0EfQR9BH0EfQR9BH0EuBG9EaoRshHNEcURfQR9BNwR4BHUEfAR6BFaEX0EfQR9BH0EfQR9BH0EfQR9BPQRfQR9BH0EfQR9BH0EfQR9BMgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFzAh9BH0EfQQEEgwSFBL8EcgFyAXIBcgFyAXIBRwSfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFJBJ9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFJhJ9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BMgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXCCOEILhJ9BH0EYg42EsgFPhJGEk4S2Qx9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQRVBf0EVhJ9BH0EfQTIBcgFXhJjEmsSfQR9BHMSyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFexLIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFgxJ9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BMgFyAXIBcgFyAXIBcgFyAXhCH0EfQRiDsgFyAXIBcgFyAXIBcgFyAXIBcgFyAX7DX0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EyAXIBcgFixKQEpgSfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BP8I/wj/CP8I/wj/CP8ImAv/CKAS/winEq8StRL/CLsS/wj/CMMSfQR9BH0EfQTLEv8I/wimCtMSfQR9BH0EfQTjEuoS7xL1Ev0SBRMNE+cSFRMdEyUTKhP8EuMS6hLmEvUSMhPkEjUT5xI9E0UTTRNUE0ATSBNQE1cTQxNfE9sS/wj/CP8I/wj/CP8I/wj/CP8I/wj/CP8I/wj/CP8I/wgkBW8TJAV2E30TZxN9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQSEE4wTfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BMgFyAXIBcgFyAXIBZQTfQRVBaQTnBN9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQSsE7wTtBN9BH0EfQR9BH0EfQR9BH0EfQR9BMwT1BPcE+QT7BP0E30ExBN9BH0EfQR9BH0EfQR9BH0E/wj8E/8I/wiQCwEUBRSYCw0U/wj/CPwT/wi6En0EFRQdFCEUKRQxFH0EfQR9BH0E/wj/CP8I/wj/CP8I/wg5FP8I/wj/CP8I/wj/CP8I/wj/CP8I/wj/CP8I/wj/CP8I/wj/CP8I/wj/CP8IQRRJFP8I/wj/CJAL/wj/CFEUfQT8E/8IWRT/CGEUmgt9BH0E/BOkCv8IZRT/CG0UHRT/CH0EfQR9BJoLfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BHUUyAXIBXwUyAXIBcgFhBTIBYwUyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFegzIBcgFlBTIBcgFyAXIBcgFyAXIBcgFyAXIBZwUpBTIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAW5DMgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAWrFMgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBbIUyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFuRTIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAVpC30EyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFvRTIBcgFyAXIBcgFyAVQD8gFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBX8SyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXCFH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQTIBcgFyAXIBcoUyAXIBcgFyAXIBcgFyAXIBcgFyAXIBVAPfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BNoU0hTSFNIUfQR9BH0EfQQkBSQFJAUkBSQFJAUkBeIUfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMO6hRcBA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAMABcAFwAXABkAFwAXABcAFAAVABcAGAAXABMAFwAXAEkAiQDJAAkBSQGJAckBCQJJAokCFwAXABgAGAAYABcAFwABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAXABUAGgAWABoAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABQAGAAVABgADwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAMABcAGQAZABkAGQAbABcAGgAbAAUAHAAYABAAGwAaABsAGABLA4sDGgACABcAFwAaAAsDBQAdAMs0SzTLPBcAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABgAAQABAAEAAQABAAEAAQACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAYAAIAAgACAAIAAgACAAIAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAgABAAIAAQACAAEAAgABAAIAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAQACAAEAAgABAAIAAgACAAEAAQACAAEAAgABAAEAAgABAAEAAQACAAIAAQABAAEAAQACAAEAAQACAAEAAQABAAIAAgACAAEAAQACAAEAAQACAAEAAgABAAIAAQABAAIAAQACAAIAAQACAAEAAQACAAEAAQABAAIAAQACAAEAAQACAAIABQABAAIAAgACAAUABQAFAAUAAQADAAIAAQADAAIAAQADAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAIAAQADAAIAAQACAAEAAQABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAIAAgACAAIAAgACAAEAAQACAAEAAQACAAIAAQACAAEAAQABAAEAAgABAAIAAQACAAEAAgABAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIABQACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAaABoAGgAaAAQABAAEAAQABAAEAAQABAAEAAQABAAEABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAEAAQABAAEAAQAGgAaABoAGgAaABoAGgAEABoABAAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgABAAIAAQACAAQAGgABAAIAAAAAAAQAAgACAAIAFwABAAAAAAAAAAAAGgAaAAEAFwABAAEAAQAAAAEAAAABAAEAAgABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAAABAAEAAQABAAEAAQABAAEAAQACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAQACAAIAAQABAAEAAgACAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAgACAAIAAgABAAIAGAABAAIAAQABAAIAAgABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgAbAAYABgAGAAYABgAHAAcAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgAAAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAABAAXABcAFwAXABcAFwACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAXABMAAAAAABsAGwAZAAAABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAEwAGABcABgAGABcABgAGABcABgAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAFAAUABQAFABcAFwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAGAAYABgAFwAXABkAFwAXABsAGwAGAAYABgAGAAYABgAGAAYABgAGAAYAFwAQAAAAFwAXAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEAAUABQAFAAUABQAFAAUABQAFAAUABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYASQCJAMkACQFJAYkByQEJAkkCiQIXABcAFwAXAAUABQAGAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAFwAFAAYABgAGAAYABgAGAAYAEAAbAAYABgAGAAYABgAGAAQABAAGAAYAGwAGAAYABgAGAAUABQBJAIkAyQAJAUkBiQHJAQkCSQKJAgUABQAFABsAGwAFABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAAABAABQAGAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAGAAYABgAGAAYABgAGAAYABgAGAAYABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASQCJAMkACQFJAYkByQEJAkkCiQIFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAGAAYABgAGAAYABgAGAAYABgAEAAQAGwAXABcAFwAEAAAAAAAGABkAGQAGAAYABgAGAAQABgAGAAYABAAGAAYABgAGAAYAAAAAABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAGAAYABgAGAAQABgAGAAYABgAGAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABgAGAAYAAAAAABcAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABgAGABAABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABQAFAAYABgAXABcASQCJAMkACQFJAYkByQEJAkkCiQIXAAQABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAYABgAGAAgABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABgAIAAYABQAIAAgACAAGAAYABgAGAAYABgAGAAYACAAIAAgACAAGAAgACAAFAAYABgAGAAYABgAGAAYABQAFAAUABQAFAAUABQAFAAUABQAGAAYAAAAAAEkAiQDJAAkBSQGJAckBCQJJAokCBQAFABkAGQDLN8s1yz/LNMs8SwkbABkABQAXAAYAAAAFAAYACAAIAAAABQAFAAUABQAFAAUABQAFAAAAAAAFAAUAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUAAAAFAAAAAAAAAAUABQAFAAUAAAAAAAYABQAIAAgACAAGAAYABgAGAAAAAAAIAAgAAAAAAAgACAAGAAUAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAEkAiQDJAAkBSQGJAckBCQJJAokCBgAGAAUABQAFAAYAFwAAAAAAAAAAAAAAAAAAAAAAAAAAAAYABgAIAAAABQAFAAUABQAFAAUAAAAAAAAAAAAFAAUAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUAAAAFAAUAAAAFAAUAAAAFAAUAAAAAAAYAAAAIAAgACAAGAAYAAAAAAAAAAAAGAAYAAAAAAAYABgAGAAAAAAAAAAYAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAABQAAAAUABQAGAAYAAAAAAEkAiQDJAAkBSQGJAckBCQJJAokCFwAZAAAAAAAAAAAAAAAAAAAABQAGAAYABgAGAAYABgAAAAYABgAIAAAABQAFAAUABQAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUAAAAFAAUAAAAFAAUABQAFAAUAAAAAAAYABQAIAAgACAAGAAYABgAGAAYAAAAGAAYACAAAAAgACAAGAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAGAAYAAAAAAEkAiQDJAAkBSQGJAckBCQJJAokCGwAFAMs0SzTLPMs3yzXLPwAAAAAAAAAAAAAAAAAAAAAAAAYACAAIAAAABQAFAAUABQAFAAUABQAFAAAAAAAFAAUAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUAAAAFAAUAAAAFAAUABQAFAAUAAAAAAAYABQAIAAYACAAGAAYABgAGAAAAAAAIAAgAAAAAAAgACAAGAAAAAAAAAAAAAAAAAAAAAAAGAAgAAAAAAAAAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAEkAiQDJAAkBSQGJAckBCQJJAokCywdLHkt4GwAbABsAGwAbABsAGQAbAAAAAAAAAAAAAAAAAAAABgAFAAAABQAFAAUABQAFAAUAAAAAAAAABQAFAAUAAAAFAAUABQAFAAAAAAAAAAUABQAAAAUAAAAFAAUAAAAAAAAABQAFAAAAAAAAAAUABQAFAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAACAAIAAYACAAIAAAAAAAAAAgACAAIAAAACAAIAAgABgAAAAAABQAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAFAAUABgAGAAAAAABJAIkAyQAJAUkBiQHJAQkCSQKJAgAAAAAAAAAAAAAAAAAAAABLBYsFywULBosFywULBhsABgAIAAgACAAGAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAUABgAGAAYACAAIAAgACAAAAAYABgAGAAAABgAGAAYABgAAAAAAAAAAAAAAAAAAAAYABgAAAAUABQAFAAAAAAAAAAAAAAAFAAUABgAGAAAAAABJAIkAyQAJAUkBiQHJAQkCSQKJAgAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAGAAgACAAXAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAGAAUACAAGAAgACAAIAAgACAAAAAYACAAIAAAACAAIAAYABgAAAAAAAAAAAAAAAAAAAAgACAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABgAGAAAAAABJAIkAyQAJAUkBiQHJAQkCSQKJAssHSx5LeMs0SzTLPMs3yzXLPxsABQAFAAUABQAFAAUABgAGAAgACAAAAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAYABgAFAAgACAAIAAYABgAGAAYAAAAIAAgACAAAAAgACAAIAAYABQAbAAAAAAAAAAAABQAFAAUACAALzAvKS8sLyUs2S8kLNQUAAAAAAAAAAAAAAAAASQCJAMkACQFJAYkByQEJAkkCiQIAAAAACAAIABcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAgAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAABgAAAAAAAAAAAAgACAAIAAYABgAGAAAABgAAAAgACAAIAAgACAAIAAgACAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABgAFAAUABgAGAAYABgAGAAYABgAAAAAAAAAAABkABQAFAAUABQAFAAUABAAGAAYABgAGAAYABgAGAAYAFwBJAIkAyQAJAUkBiQHJAQkCSQKJAhcAFwAAAAAAAAAAAAAABQAFAAAABQAAAAAABQAFAAAABQAAAAAABQAAAAAAAAAAAAAAAAAFAAUABQAFAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAAABQAAAAUAAAAAAAUABQAAAAUABQAFAAUABgAFAAUABgAGAAYABgAGAAYAAAAGAAYABQAAAAAABQAFAAUABQAFAAAABAAAAAYABgAGAAYABgAGAAAAAABJAIkAyQAJAUkBiQHJAQkCSQKJAgAAAAAFAAUABQAFAAUAGwAbABsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAGwAXABsAGwAbAAYABgAbABsAGwAbABsAGwBJAIkAyQAJAUkBiQHJAQkCSQKJAks0SzxLREtMS1RLXEtkS2xLdEssGwAGABsABgAbAAYAFAAVABQAFQAIAAgABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYACAAGAAYABgAGAAYAFwAGAAYABQAFAAUABQAFAAYABgAGAAYABgAGAAYABgAGAAYABgAAAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAAABsAGwAbABsAGwAbABsAGwAGABsAGwAbABsAGwAbAAAAGwAbABcAFwAXABcAFwAbABsAGwAbABcAFwAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAgACAAGAAYABgAGAAgABgAGAAYABgAGAAYACAAGAAYACAAIAAYABgAFAEkAiQDJAAkBSQGJAckBCQJJAokCFwAXABcAFwAXABcABQAFAAUABQAFAAUACAAIAAYABgAFAAUABQAFAAYABgAGAAUACAAIAAgABQAFAAgACAAIAAgACAAIAAgABQAFAAUABgAGAAYABgAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAYACAAIAAYABgAIAAgACAAIAAgACAAGAAUACABJAIkAyQAJAUkBiQHJAQkCSQKJAggACAAIAAYAGwAbAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABcABAACAAIAAgABAAEAAQABAAEAAQAAAAEAAAAAAAAAAAAAAAEAAAAAAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIABQAFAAUABQAFAAUABQAFAAUAAAAFAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAABQAAAAUABQAFAAUAAAAAAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUAAAAFAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAGAAYABgAXABcAFwAXABcAFwAXABcAFwALA0sDiwPLAwsESwSLBMsECwXLB0sKywxLD8sRSxTLFksZyxtLHot4AAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAbABsAGwAbABsAGwAbABsAGwAbAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAAAAAAIAAgACAAIAAgACAAAAAAATAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAXABcABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAwABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFABQAFQAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAFwAXABcAignKCQoKBQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABgAGAAYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAYABgAGABcAFwAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAGAAYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAAABgAGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAGAAYACAAGAAYABgAGAAYABgAGAAgACAAIAAgACAAIAAgACAAGAAgACAAGAAYABgAGAAYABgAGAAYABgAGAAYAFwAXABcABAAXABcAFwAZAAUABgAAAAAASQCJAMkACQFJAYkByQEJAkkCiQIAAAAAAAAAAAAAAABLBYsFywULBksGiwbLBgsHSweLBwAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAYABQAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAXABcAFwAXABcAFwATABcAFwAXABcABgAGAAYAEAAAAEkAiQDJAAkBSQGJAckBCQJJAokCAAAAAAAAAAAAAAAABQAFAAUABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABgAGAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABgAGAAYACAAIAAgACAAGAAYACAAIAAgAAAAAAAAAAAAIAAgABgAIAAgACAAIAAgACAAGAAYABgAAAAAAAAAAABsAAAAAAAAAFwAXAEkAiQDJAAkBSQGJAckBCQJJAokCBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAEkAiQDJAAkBSQGJAckBCQJJAokCCwMAAAAAAAAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAGAAYACAAIAAYAAAAAABcAFwAXABcAFwAXABcAFwAXAAQAFwAXABcAFwAXABcAAAAAAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAHAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUACAAGAAgABgAGAAYABgAGAAYABgAAAAYACAAGAAgACAAGAAYABgAGAAYABgAGAAYACAAIAAgACAAIAAgABgAGAAYABgAGAAYABgAGAAYABgAAAAAABgBJAIkAyQAJAUkBiQHJAQkCSQKJAgAAAAAAAAAAAAAAAEkAiQDJAAkBSQGJAckBCQJJAokCAAAAAAAAAAAAAAAAFwAbABsAGwAbABsAGwAbABsAGwAbAAYABgAGAAYABgAGAAYABgAGABsAGwAbABsAGwAbABsAGwAbAAAAAAAAAAYABgAGAAYACAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAGAAgABgAGAAYABgAGAAgABgAIAAgACAAIAAgABgAIAAgABQAFAAUABQAFAAUABQAAAAAAAAAAAEkAiQDJAAkBSQGJAckBCQJJAokCFwAXABcAFwAXABcABQAIAAYABgAGAAYACAAIAAYABgAIAAYABgAGAAUABQBJAIkAyQAJAUkBiQHJAQkCSQKJAgUABQAFAAUABQAFAAYABgAIAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABgAIAAYABgAIAAgACAAGAAgABgAGAAYACAAIAAAAAAAAAAAAAAAAAAAAAAAXABcAFwAXAEkAiQDJAAkBSQGJAckBCQJJAokCAAAAAAAABQAFAAUASQCJAMkACQFJAYkByQEJAkkCiQIFAAUABQAFAAUABQAIAAgACAAIAAgACAAIAAgABgAGAAYABgAGAAYABgAGAAgACAAGAAYAAAAAAAAAFwAXABcAFwAXAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAQABAAEAAQABAAEABcAFwACAAIAAgACAAIAAgACAAIAAgAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAABAAEAAQAXABcAFwAXABcAFwAXABcAAAAAAAAAAAAAAAAAAAAAAAYABgAGABcABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAIAAYABgAGAAYABgAGAAYABQAFAAUABQAGAAUABQAFAAUACAAIAAYABQAFAAgABgAGAAAAAAAAAAAAAAAAAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAQAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIABAAEAAQABAAEAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAAAAYABgAGAAYABgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAIAAgACAAIAAgACAAIAAgABAAIAAgACAAIAAgACAAIAAgACAAEAAQABAAEAAQAaABoAGgAAAAAAAgACAAIAAAACAAIAAQABAAEAAQADABoAGgAAAAIAAgACAAIAAgACAAIAAgABAAEAAQABAAEAAQABAAEAAgACAAIAAgACAAIAAAAAAAEAAQABAAEAAQABAAAAAAACAAIAAgACAAIAAgACAAIAAQABAAEAAQABAAEAAQABAAIAAgACAAIAAgACAAIAAgABAAEAAQABAAEAAQABAAEAAgACAAIAAgACAAIAAAAAAAEAAQABAAEAAQABAAAAAAACAAIAAgACAAIAAgACAAIAAAABAAAAAQAAAAEAAAABAAIAAgACAAIAAgACAAIAAgABAAEAAQABAAEAAQABAAEAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAAAAAACAAIAAgACAAIAAgACAAIAAwADAAMAAwADAAMAAwADAAIAAgACAAIAAgACAAIAAgADAAMAAwADAAMAAwADAAMAAgACAAIAAgACAAAAAgACAAEAAQABAAEAAwAaAAIAGgAaABoAAgACAAIAAAACAAIAAQABAAEAAQADABoAGgAaAAIAAgACAAIAAAAAAAIAAgABAAEAAQABAAAAGgAaABoAFgAXABcAFwAYABQAFQAXABcAFwAXABcAFwAXABcAFwAXABcAGAAXABYAFwAXABcAFwAXABcAFwAXABcAFwAMABAAEAAQABAAEAAAABAAEAAQABAAEAAQABAAEAAQABAAywIEAAAAAADLAwsESwSLBMsECwUYABgAGAAUABUABAAMAAwADAAMAAwADAAMAAwADAAMAAwAEAAQABAAEAAQABMAEwATABMAEwATABcAFwAcAB0AFAAcABwAHQAUABwAFwAXABcAFwAXABcAFwAXAA0ADgAQABAAEAAQABAADAAXABcAFwAXABcAFwAXABcAFwAcAB0AFwAXABcAFwAWAMsCCwNLA4sDywMLBEsEiwTLBAsFGAAYABgAFAAVAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAZABkAGQAZABkAGQAZABkAGQAZABkAGQAZABkAGQAZABkAGQAZABkAGQAZABkAGQAZABkAGQAZABkAGQAZABkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAcABwAHAAcABgAHAAcABwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbABsAGwAbAAEAGwABABsAAQAbAAEAAQABAAEAGwACAAEAAQABAAEAAgAFAAUABQAFAAIAGwAbAAIAAgABAAEAGAAYABgAGAAYAAEAAgACAAIAAgAbABgAGwAbAAIAGwCLNQs2SzaLNIs4CzULOQs9C0FLNUtFyzXLPctFy02LBRsAGwABABsAGwAbABsAAQAbABsAAgABAAEAAQACAAIAAQABAAEAAgAbAAEAGwAbABgAAQABAAEAAQABABsAGwCKBcoFCgZKBooGygYKB0oHigfKBwoISgjKEUoeCphKeIoFygUKBkoGigbKBgoHSgeKB8oHCghKCMoRSh4KmEp4SnhKmIp4AQACAMoGyhGKmMp4SwUbABsAAAAAAAAAAAAYABgAGAAYABgAGwAbABsAGwAbABgAGAAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAbABsAGAAbABsAGAAbABsAGwAbABsAGwAbABgAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAYABgAGwAbABgAGwAYABsAGwAbABsAGwAbABsAGwAbABsAGwAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGwAbABsAGwAbABsAGwAbABQAFQAUABUAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABgAGAAbABsAGwAbABsAGwAbABQAFQAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGAAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABgAGAAYABgAGAAYABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGwAbABsAGwAbABsAGwAbABsAGwDLAgsISwiLCMsICwlLCYsJywkLCksKCwNLA4sDywMLBEsEiwTLBAsFywfLAgsDSwOLA8sDCwRLBIsEywQLBcsHCwhLCIsIywgLCUsJiwnLCQsKSwoLA0sDiwPLAwsESwSLBMsECwXLBwsISwiLCMsICwlLCYsJywkLCksKGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGAAYABgAGAAYABgAGAAYABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAYABsAGwAbABsAGwAbABsAGwAbABgAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGAAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABQAFQAUABUAFAAVABQAFQAUABUAFAAVABQAFQALA0sDiwPLAwsESwSLBMsECwXLBwsDSwOLA8sDCwRLBIsEywQLBcsHCwNLA4sDywMLBEsEiwTLBAsFywcbABsAGwAbABsAGwAbABsAGwAbABsAGwAYABgAGAAYABgAFAAVABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABQAFQAUABUAFAAVABQAFQAUABUAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAUABUAFAAVABQAFQAUABUAFAAVABQAFQAUABUAFAAVABQAFQAUABUAFAAVABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABQAFQAUABUAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAUABUAGAAYABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABsAGwAYABgAGAAYABgAGAAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAAAAAABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAAAAAAbABsAGwAbABsAGwAbABsAGwAAABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAAAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgABAAIAAQABAAEAAgACAAEAAgABAAIAAQACAAEAAQABAAEAAgABAAIAAgABAAIAAgACAAIAAgACAAQABAABAAEAAQACAAEAAgACABsAGwAbABsAGwAbAAEAAgABAAIABgAGAAYAAQACAAAAAAAAAAAAAAAXABcAFwAXAEs0FwAXAAIAAgACAAIAAgACAAAAAgAAAAAAAAAAAAAAAgAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAQAFwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABgAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAABcAFwAcAB0AHAAdABcAFwAXABwAHQAXABwAHQAXABcAFwAXABcAFwAXABcAFwATABcAFwATABcAHAAdABcAFwAcAB0AFAAVABQAFQAUABUAFAAVABcAFwAXABcAFwAEABcAFwAXABcAFwAXABcAFwAXABcAEwATABcAFwAXABcAEwAXABQAFwAXABcAFwAXABcAFwAXABcAFwAXABcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAAABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGwAbABsAGwAbABsAGwAbABsAGwAbABsAAAAAAAAAAAAbAIoFygUKBkoGigbKBgoHSgeKBwYABgAGAAYACAAIABMABAAEAAQABAAEABsAGwDKB0oKygwEAAUAFwAbABsADAAXABcAFwAbAAQABQBKBRQAFQAUABUAFAAVABQAFQAUABUAGwAbABQAFQAUABUAFAAVABQAFQATABQAFQAVAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABgAGABoAGgAEAAQABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAXAAQABAAEAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAbABsAiwXLBQsGSwYbABsAGwAbABsAGwAbABsAGwAbAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAbABsAGwAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAiwXLBQsGSwaLBssGCwdLB4sHywcbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAMsHSwrLDEsPyxFLFMsWSxkbAIsKywoLC0sLiwvLCwsMSwyLDMsMCw1LDYsNyw0LDhsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwBLDosOyw4LD0sPiw/LDwsQSxCLEMsQCxFLEYsRyxEFAAUABQAFAAUAhQYFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAxQUFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQCFBgUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQcFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQCFBQUABQAFBwUABQAFAIV4BQAFBgUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAhQcFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAxQUFAAUABQAFAAUABQAFAIUGBQBFBgUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQCFecUHBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUARXgFAAUABQAFAAUABQAFAAUABQYFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQCFBgUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAEUeBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAhXkFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAhXoFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAxQUFAEUHBQDFBgUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAxQcFAEV4RQrFDAUABQAFAAUABQAFAEUPBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUGBQYFBgUGBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUARQYFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAhQUFAAUABQAFAAUABQAFAIUFBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQCFBQUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAhQdFCgUABQAFAAUABQAFAAUABQAFAAUABQAFAIUFxQUFBgUAxQUFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQDFBwUABQAFAAUABQAFAAUABQAFAAUABQAFAAUARQcFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFBwUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAIUHBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQBFHgUABQAFAAUABQAFAAUARQYFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAIV4BQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAxQUFAAUABQAFAMUFBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQDFBQUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUARXgFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAxQYFAAUABQAFAAUARR4FAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQDFBgUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUARQUFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAFAAUABQAFAAUABQAFAAUABQAFABsAGwAbABsAGwAbABsAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEABcAFwAXAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUASQCJAMkACQFJAYkByQEJAkkCiQIFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIABAAEAAYABgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIABQAGAAcABwAHABcABgAGAAYABgAGAAYABgAGAAYABgAXAAQABQAFAAUABQAFAAUAigXKBQoGSgaKBsoGCgdKB4oHSgUGAAYAFwAXABcAFwAXABcAAAAAAAAAAAAAAAAAAAAAABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAEAAQAAgAFAAUABQAFAAUAGgAaAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgACAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIABAACAAIAAgACAAIAAgACAAIAAQACAAEAAgABAAEAAgABAAIAAQACAAEAAgABAAIABAAaABoAAQACAAEAAgAFAAEAAgABAAIAAgACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAQABAAEAAQACAAEAAQABAAEAAQACAAEAAgABAAIAAAAAAAAAAAAAAAAABQAFAAYABQAFAAUABgAFAAUABQAFAAYABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAgACAAGAAYACAAbABsAGwAbAAAAAAAAAAAAyzRLNMs8yzfLNcs/GwAbABkAGwAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAFwAXABcAFwAAAAAAAAAAAAAAAAAAAAAACAAIAAgACAAGAAYAAAAAAAAAAAAAAAAAAAAAABcAFwBJAIkAyQAJAUkBiQHJAQkCSQKJAgAAAAAAAAAAAAAAAAgACAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAIAAgACAAIAAgACAAIAAgACAAIAAgACAAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAFAAUABQAFAAUABQAXABcAFwAFABcABQAFAAYABQAFAAUABQAFAAUABgAGAAYABgAGAAYABgAGABcAFwAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAYABgAGAAYABgAGAAYABgAGAAYABgAIAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABcACAAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAAABABJAIkAyQAJAUkBiQHJAQkCSQKJAgAAAAAAAAAAFwAXAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABgAIAAgABgAGAAYABgAIAAgABgAIAAgACAAFAAUABQAFAAUABgAEAAUABQAFAAUABQAFAAUABQAFAEkAiQDJAAkBSQGJAckBCQJJAokCBQAFAAUABQAFAAAABQAFAAUABQAFAAUABQAFAAUABgAGAAYABgAGAAYACAAIAAYABgAIAAgABgAGAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAYABQAFAAUABQAFAAUABQAFAAYACAAAAAAASQCJAMkACQFJAYkByQEJAkkCiQIAAAAAFwAXABcAFwAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAQABQAFAAUABQAFAAUAGwAbABsABQAIAAYACAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAGAAUABgAGAAYABQAFAAYABgAFAAUABQAFAAUABgAGAAUABgAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAEABcAFwAFAAUABQAFAAUABQAFAAUABQAFAAUACAAGAAYACAAIABcAFwAFAAQABAAIAAYAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGgAEAAQABAAEAAIAAgACAAIAAgACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAFAAUABQAIAAgABgAIAAgABgAIAAgAFwAIAAYAAAAAAEkAiQDJAAkBSQGJAckBCQJJAokCAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFABIAEgASABIAEgASABIAEgASABIAEgASABIAEgASABIAEgASABIAEgASABIAEgASABIAEgASABIAEgASABIAEgARABEAEQARABEAEQARABEAEQARABEAEQARABEAEQARABEAEQARABEAEQARABEAEQARABEAEQARABEAEQARABEABQAFAAUABQAFAAUABQAFAAUABQAFAAUGBQAFAAUABQAFAAUABQDFBwUABQAFAAUAxQUFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAxQYFAMUGBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAMUHBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFABgABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAgACAAIAAgACAAIAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAIAAgACAAIAAAAAAAAAAAAAAAUABgAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAFQAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFABkAGwAAAAAABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAXABcAFwAXABcAFwAXABQAFQAXAAAAAAAAAAAAAAAAAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAFwATABMAFgAWABQAFQAUABUAFAAVABQAFQAUABUAFAAVABcAFwAUABUAFwAXABcAFwAWABYAFgAXABcAFwAAABcAFwAXABcAEwAUABUAFAAVABQAFQAXABcAFwAYABMAGAAYABgAAAAXABkAFwAXAAAAAAAAAAAABQAFAAUABQAFAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAEAAAAAAABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAFAAAAAAAFAAUABQAFAAUABQAAAAAABQAFAAUAAAAAAAAAGQAZABgAGgAbABkAGQAAABsAGAAYABgAGAAbABsAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAbABsAAAAAAAAAFwAXABcAGQAXABcAFwAUABUAFwAYABcAEwAXABcASQCJAMkACQFJAYkByQEJAkkCiQIXABcAGAAYABgAFwAaAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAUABgAFQAYABQAFQAXABQAFQAXABcABQAFAAUABQAFAAUABQAFAAUABQAEAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAC7ALuEt4S4BLiEuQS5hLoEuoS7BLuIt4i4CLiIuQi5iLoIuoi7CLuAAAAAAAABsAGwAbABsAGwAbABsAGwAbABcAFwAXAAAAAAAAAAAAiwXLBQsGSwaLBssGCwdLB4sHywdLCssMSw/LEUsUyxZLGcsbSx4LgAuIC5ALmAugC6jKB8oHygfKB8oHygzKEcoRyhHKEUoeCogKmAqYCpgKmAqYSnhKmIoGyhFLNEs0izjLPBsAGwAbABsAGwAbABsAGwAbABsAGwAbABsASwXLNBsAGwAbAAAAGwAbABsAGwAbABsAGwAbABsAGwAbABsAAAAAAAAAAADKNEo0igWKBsoRCphKmIqYigbKB8oRSh4KmEp4SpiKBsoHyhFKHgqYSniKeIqYygeKBYoFigXKBcoFygXKBYoGGwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAGAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABgCLBcsFCwZLBosGywYLB0sHiwfLB0sKywxLD8sRSxTLFksZyxtLHguAC4gLkAuYC6ALqAuwC7gAAAAAAAAAAIsFiwbLB8sRAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAMobBQAFAAUABQAFAAUABQAFAAq4AAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABgAGAAYABgAGAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAABcABQAFAAUABQAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAXAIoFygXKB0oKSh4AAAAAAAAAAAAAAAAAAAAAAAAAAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAEkAiQDJAAkBSQGJAckBCQJJAokCAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAgACAAIAAgACAAIAAgACAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAFAAUAAAAAAAAABQAAAAAABQAFAAUABQAFAAUABQAAAAAABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAFwCLBcsFCwbLB0sKSx5LeIt4BQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFABsAGwCLBcsFCwZLBosGywdLCgAAAAAAAAAAAAAAAAAAiwXLBQsGSwZLBosGywdLCkseAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAAAAAAAAAAAAACLBYsGywdLCkseBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQCLBcsHSwpLHssFCwYAAAAAAAAXAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAFwBLoEuoS7BLuIt4i4CLiIuQi5iLoIuoi7CLuMt4y4DLiMuQy5jLoMuoy7DLuMs2SzXLNIs0y0ZLNMtOizjLPEtFBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAADLXks0BQAFAIsFywULBksGiwbLBgsHSweLB8sHSwrLDEsPyxFLFMsWAAAAAEseC4ALiAuQC5gLoAuoC7ALuEt4S4BLiEuQS5gLA0sDiwPLA8sHSwpLHkt4SzQAAAAAAAAAAAAAAAAAABcAFwAXABcAFwAXABcAFwAXAAAAAAAAAAAAAAAAAAAABQAGAAYABgAAAAYABgAAAAAAAAAAAAAABgAGAAYABgAFAAUABQAFAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAGAAYABgAAAAAAAAAAAAYABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAIsFyxEXAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQCLBcsHSwoFAAUABQAFAAUABgAGAAAAAAAAAAAAiwWLBssHSwpLHhcAFwAXABcAFwAXABcAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFABsABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAXABcAFwAXABcAFwAXAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAIsFywULBksGywdLCkseS3gFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAACLBcsFCwZLBssHSwpLHkt4BQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAXABcAFwAXAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIsFywULBksGywdLCkseAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAAAAAAAAAACLBYsGywfLEUseS3gFAAUABQAFAAYABgAGAAYAAAAAAAAAAAAAAAAAAAAAAEkAiQDJAAkBSQGJAckBCQJJAokCAAAAAAAAAAAAAAAACwNLA4sDywMLBEsEiwTLBAsFywdLCssMSw/LEUsUyxZLGcsbSx4LgAuIC5ALmAugC6gLsAu4SzTLNIs0izgAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQCLBcsFCwZLBosGywdLCssMSx5LNAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAYABgAGAAYABgAGAAYABgAGAAYABgCLBcsHSwpLHhcAFwAXABcAFwAAAAAAAAAAAAAAAABLFMsWSxnLG0seS3hJAIkAyQAJAUkBiQHJAQkCSQKJAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAYACAAGAAgABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAYABgAGAAYABgAGAAYAFwAXABcAFwAXABcAFwAAAAAAAAAAAAsDSwOLA8sDCwRLBIsEywQLBcsHSwrLDEsPyxEFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAgACAAIAAYABgAGAAYACAAIAAYABgAXABcAEAAXABcAFwAXAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAABJAIkAyQAJAUkBiQHJAQkCSQKJAgAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABgAGAAYABgAGAAgABgAGAAYABgAGAAYABgAGAAAASQCJAMkACQFJAYkByQEJAkkCiQIXABcAFwAXAAUACAAIAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABgAGAAYABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAYAFwAXAAUAAAAAAAAAAAAAAAAAAAAAAAAACAAFAAUABQAFABcAFwAXABcABgAGAAYABgAXAAAAAABJAIkAyQAJAUkBiQHJAQkCSQKJAgUAFwAFABcAFwAXAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUACAAIAAgABgAGAAYABgAGAAYABgAGAAYACAAAAIsFywULBksGiwbLBgsHSweLB8sHSwrLDEsPyxFLFMsWSxnLG0seS3gAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUACAAIAAgABgAGAAYACAAIAAYACAAGAAYAFwAXABcAFwAXABcABgAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUABQAFAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFABcAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAIAAgACAAGAAYABgAGAAYABgAGAAYAAAAAAAAAAAAAAEkAiQDJAAkBSQGJAckBCQJJAokCAAAAAAAAAAAAAAAABQAFAAgACAAAAAAABgAGAAYABgAGAAYABgAAAAAAAAAGAAYABgAGAAYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAYABgAIAAgAAAAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAYABgAFAAgACAAGAAgACAAIAAgAAAAAAAgACAAAAAAACAAIAAgAAAAAAAUAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUACAAIAAgABgAGAAYABgAGAAYABgAGAAgACAAGAAYABgAIAAYABQAFAAUABQAXABcAFwAXABcASQCJAMkACQFJAYkByQEJAkkCiQIAABcAAAAXAAYAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAgACAAIAAYABgAGAAYABgAGAAgABgAIAAgACAAIAAYABgAIAAYABgAFAAUAFwAFAAAAAAAAAAAAAAAAAAAAAABJAIkAyQAJAUkBiQHJAQkCSQKJAgAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAgACAAIAAYABgAGAAYAAAAAAAgACAAIAAgABgAGAAgABgAGABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAFAAUABQAFAAYABgAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAIAAgACAAGAAYABgAGAAYABgAGAAYACAAIAAYACAAGAAYAFwAXABcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASQCJAMkACQFJAYkByQEJAkkCiQIAAAAAAAAAAAAAAAAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASQCJAMkACQFJAYkByQEJAkkCiQIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAGAAgABgAIAAgABgAGAAYABgAGAAYACAAGAAAAAAAAAAAAAAAAAAAAAAAIAAgABgAGAAYABgAIAAYABgAGAAYABgAAAAAAAAAAAEkAiQDJAAkBSQGJAckBCQJJAokCywdLChcAFwAXABsABQAFAAUABQAFAAUABQAFAAUABQAFAAUACAAIAAgABgAGAAYABgAGAAYABgAGAAYACAAGAAYAFwAAAAAAAAAAAEkAiQDJAAkBSQGJAckBCQJJAokCywdLCssMSw/LEUsUyxZLGcsbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAYABgAGAAYABgAGAAgABQAGAAYABgAGABcAFwAXABcAFwAXABcAFwAGAAAAAAAAAAAAAAAAAAAAAAAFAAYABgAGAAYABgAGAAgACAAGAAYABgAFAAUABQAFAAUABgAGAAYABgAGAAYABgAGAAYABgAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAXABcAFwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAABQAFAAUABQAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAgABgAGABcAFwAXAAUAFwAXAAUAFwAXABcAFwAXAAAAAAAAAAAAAAAAAAAAAAAAAAAASQCJAMkACQFJAYkByQEJAkkCiQKLBcsFCwZLBosGywYLB0sHiwfLB0sKywxLD8sRSxTLFksZyxtLHgAAAAAAABcAFwAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUACAAGAAYABgAGAAYABgAGAAAABgAGAAYABgAGAAYACAAGAAYABgAGAAYABgAGAAYABgAAAAgABgAGAAYABgAGAAYABgAIAAYABgAIAAYABgAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAUABgAAAAAAAAAAAAAAAAAAAAAASQCJAMkACQFJAYkByQEJAkkCiQIAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAABQAFAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAGAAYABgAGAAYABgAAAAAAAAAGAAAABgAGAAAABgAFAAUABQAFAAUABQAFAAUABQAFAAgACAAIAAgACAAAAAYABgAAAAgACAAGAAgABgAFAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAYABgAIAAgAFwAXAAAAAAAAAAAAAAAAAAAAyjRKNco0yjRKNIo0ijhKD8oRSgaKBsoGCgdKB4oHAAAXABcAFwAXABcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMoFCgZKBooGygYKB0oHigcKBkoGigbKBgoHSgeKB0oGigbKBgoHSgeKB4oFygUKBkoGigbKBgoHSgeKB4oFygUKBkoGigbKBQoGCgZKBooGygYKB0oHigeKBcoFCgYKBkoGigaKwIrBigXKBQoGCgZKBooGCgYKBkoGSgZKBkoGygYKBwoHCgdKB0oHigeKB4oHigfKBQoGSgaKBsoGigXKBQoGSgZKBooGigbKBQoGigXKBYo0ijhKRYo0ijjKNQUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEkAiQDJAAkBSQGJAckBCQJJAokCAAAAAAAAAAAXABcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAYABgAGAAYABgAXAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAGAAYABgAGAAYABgAGABcAFwAXABcAFwAbABsAGwAbAAQABAAEAAQAFwAbAAAAAAAAAAAAAAAAAAAAAAAAAAAASQCJAMkACQFJAYkByQEJAkkCiQIAAMsHSx6LeAt5i3kLeot6AAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAABQAFAAUASwWLBcsFCwZLBosGywYLB0sHiwfLBwsISwiLCMsICwlLCYsJywkLCosFywULBhcAFwAXABcAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABgAGAAYABgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUAAAAAABsABgAGABcAEAAQABAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABsAGwAbABsAGwAbABsAAAAAABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAgACAAGAAYABgAbABsAGwAIAAgACAAIAAgACAAQABAAEAAQABAAEAAQABAABgAGAAYABgAGAAYABgAGABsAGwAGAAYABgAGAAYABgAGABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsABgAGAAYABgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbABsABgAGAAYAGwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASwWLBcsFCwZLBosGywYLB0sHiwfLBwsISwiLCMsICwlLCYsJywkLCgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIsFywULBksGiwbLBgsHSweLB8sHSwrLDEsPyxFLFMsWSxnLG4sFywULBksGiwaLBYsGAAAAAAAAAAAAAAAAAABJAokCSQCJAMkACQFJAYkByQEJAkkCiQJJAIkAyQAJAUkBiQHJAQkCSQKJAkkAiQDJAAkBSQGJAckBCQJJAokCAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAIAAgACAAIAAgACAAIAAAACAAIAAgACAAIAAgACAAIAAgACAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAQAAAAEAAQAAAAAAAQAAAAAAAQABAAAAAAABAAEAAQABAAAAAQABAAEAAQABAAEAAQABAAIAAgACAAIAAAACAAAAAgACAAIAAgACAAIAAgAAAAIAAgACAAIAAgACAAIAAgACAAIAAgABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAIAAgACAAIAAQABAAAAAQABAAEAAQAAAAAAAQABAAEAAQABAAEAAQABAAAAAQABAAEAAQABAAEAAQAAAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgABAAEAAAABAAEAAQABAAAAAQABAAEAAQABAAAAAQAAAAAAAAABAAEAAQABAAEAAQABAAAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAgACAAIAAgACAAIAAAAAAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAGAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgAAgACAAIAAgACAAIAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAYAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgAAgACAAIAAgACAAIAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACAAIAAgAYAAIAAgACAAIAAgACAAEAAgAAAAAASQCJAMkACQFJAYkByQEJAkkCiQJJAIkAyQAJAUkBiQHJAQkCAAAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAbABsAGwAbAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAbABsAGwAbABsAGwAbABsABgAbABsAGwAbABsAGwAbABsAGwAbAAYAGwAbABcAFwAXABcAFwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGAAYABgAGAAYABgAGAAYAAAAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAAAAAAAYABgAGAAYABgAGAAYAAAAGAAYAAAAGAAYABgAGAAYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAAAAACLBcsFCwZLBosGywYLB0sHiwcGAAYABgAGAAYABgAGAAAAAAAAAAAAAAAAAAAAAAAAAAIAAgACAAIABgAGAAYABgAGAAYABgAAAAAAAAAAAAAASQCJAMkACQFJAYkByQEJAkkCiQIAAAAAAAAAABcAFwABAAEAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIsFywULBksGiwbLBgsHSweLB8sHSwrLDEsPyxFLFMt4S3lLgYsFywULBksGiwbLBgsHSweLBxsAyzRLNMs8GQCLBcsFi3jLeAAAAAAAAAAAAAAAAAAAAAAAAAAAAADLFksZyxtLHguAC4gLkAuYC6ALqAuwC7hLeEuAS4hLkEuYS6BLqEuwS7iLeIuAi4iLkIuYi6CLqIuwi7jLeMuAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAYABgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAAAAUAAAAAAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAAAAUAAAAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAAABQAAAAUAAAAFAAUABQAAAAUABQAAAAUAAAAAAAUAAAAFAAAABQAAAAUAAAAFAAAABQAFAAAABQAAAAAABQAFAAUABQAAAAUABQAFAAUABQAFAAUAAAAFAAUABQAFAAAABQAFAAUABQAAAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAFAAUABQAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAAAAAAAAAAAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAAAAAAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAAAAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwDLAssCCwNLA4sDywMLBEsEiwTLBAsFSwVLBQAAAAAAABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAAAAAAAAAAAAAAAAAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAAAAAAAAAAABsAGwAbABsAGwAbABsAGwAbAAAAAAAAAAAAAAAAAAAAGwAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbABsAGwAbABsAGwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAaABoAGgAaABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAAAAAAAABsAGwAbABsAGwAbABsAGwAbABsAAAAAAAAAAAAAAAAAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAAAAAAAAAAAAAAAAAAABsAGwAbABsAGwAbABsAGwAAAAAAAAAAAAAAAAAAAAAAGwAbABsAGwAbABsAGwAbABsAGwAAAAAAAAAAAAAAAAAbABsAGwAbABsAGwAbABsAAAAAAAAAAAAAAAAAAAAAABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAAAAAAGwAbABsAGwAAAAAAAAAbAAAAGwAbABsAGwAbABsAGwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABsAGwAbABsAGwAbABsAGwAbABsAAAAAAAAAAAAAAAAABQAFBwUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAEUGBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAEUGBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAhQYFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQDFDAUABQAFAAUABQAFAAUABQBFDwUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAEUPBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQDFBgUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUGBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQYFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQYFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFBgUABQAFAAUABQAFAAUABQAFAAUABQAFAAUARQYFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAIUHBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEQARABEAEQARABEAEQARABEAEQARABEAEQARABEAEQARABEAEQARABEAEQARABEAEQARABEAEQARABEAAAAAAAAAAAAAAAAAAAAAAAAAAACrACAAuwAAABUiIAQfIuAEICLgAyEioAMiIsADJCLABEMiIAJFIkABTCIgAZgiAASmIkAEqCKABKkiYASrIqAEuCKAA80iAAHyIuAC8yIAA/QiIAP2IkAD9yJgA/oiQAL7ImAC/CKAAv0ioAL+IsAC3CcAApspoACgKcAAoymAALgpYAH1KUAA3iqAAeMqwAHkKqAB5SrgAe4q4AD+K2AAbwN3A38DhwOfA6cDrwO3A48DlwOPA5cDjwOXA48DlwOPA5cDjwOXA70DxQPNA9UD3QPlA+ED6QPxA/kD9AP8A48DlwOPA5cDBAQMBI8DlwOPA5cDjwOXAxIEGgQiBCoEMgQ6BEIESgRQBFgEYARoBHAEeAR+BIYEjgSWBJ4EpgSyBK4EugTCBCQE0gTaBMoE4gTkBOwE9AT8BP0EBQUNBRUF/QQdBSIFFQX9BCoFMgX8BDoFQgX0BEcFjwNPBVMFWwVdBWUFbQX8BHUFfQX0BAYEgQUFBfQEjwOPA4kFjwOPA48FlwWPA48DmwWjBY8DpwWuBY8DtgW+BcUFRgWPA48DzQXVBd0F5QWPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwPtBY8D9QWPA48DjwP9BY8DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DBQaPA48DjwMNBg0GCQUJBY8DEwYbBvUFMQYjBiMGOQZABikGjwOPA48DSAZQBo8DjwOPA1IGWgZiBo8DaQZxBo8DeQaPA48DOQWBBkcFiQYGBJEGjwOYBo8DnQaPA48DjwOPA6MGqwaPA48DjwOPA48DjwPdA7MGjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwO7BsMGxwbfBuUGzwbXBu0G9Qb5BsgFAQcJBxEHjwMZB1oGWgZaBikHMQc5B0EHRgdOB1YHIQdeB2YHjwNsB3MHWgZaBloGWgZzBXkHWgaBB48DjwNXBloGWgZaBloGWgZaBloGWgZaBloGWgZaBloGiQdaBloGWgZaBloGjwdaBloGlwefB48DjwOPA48DjwOPA48DjwNaBloGWgZaBq8Htwe/B6cHzwfXB98H5gftB/UH+QfHB1oGWgZaBgEIBwhaBg0IEAiPA48DjwOPA48DjwOPAxgIjwOPA48DIAiPA48DjwPdAygIMAg1CI8DPQhaBloGXQZaBloGWgZaBloGWgZECEoIWghSCI8DjwNiCP0FjwO2A48DjwOPA48DjwOPA1oGHwjEA48DOQhqCI8Dcgh6CI8DjwOPA48DfgiPA48DUga1A48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwNaBloGjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPAzkIWgZzBY8DjwOPA48DjwOPA48DjwOPA4UIjwOPA4oIXQWPA48DqQVaBlEGjwOPA5IIjwOPA48DmgihCCMGqQiPA48DfwWxCI8DuQjACI8D4gTFCI8D+wSPA80I1Qj9BI8D2Qj8BOEIjwOPA48DjwOPA48DjwPoCI8DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwP8CPAI9AiOBI4EjgSOBI4EjgSOBI4EjgSOBI4EjgSOBI4EBAmOBI4EjgSOBAwJEAkYCSAJJAksCY4EjgSOBDAJOAl/A0AJSAmPA48DjwNQCY8DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwM8DjwOfA68DjwOPA48DjwOPA48DvQONA90D4QPxA/QDzwOPA4QEDwOPA48DkgQiBDIEAgRQBGAEcAR+BE4EngSQAqACsAK/wqgAaABoAGgAaABoAGgAaABoAE3C6ABoAGgAaABoAGgAaABoAGgAXQLoAGgAakL6QspDGkMqQzpDKABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABKQ2gAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgASkNoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEpDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABKQ2gAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgASkNoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEpDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABKQ2gAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgASkNoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEpDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABKQ2gAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgASkNoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEpDWkNeQ2gAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABKQ2gAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgASkNoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEpDY8DjwOPA48DjwOPA48DjwNYCY8DWgZaBmAJ/QWPA/UEjwOPA48DjwOPA48DjwNoCY8DjwOPA28JjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DJAQkBCQEJAQkBCQEJAQkBHcJJAQkBCQEJAQkBCQEJAR/CYMJJAQkBCQEJASTCYsJJASbCSQEJASjCakJJAQkBCQEJAQkBCQEJAQkBCQEJAS5CbEJJAQkBCQEJAQkBCQEJAQkBCQEwQkkBCQEJAQkBCQEyQnQCdYJJAQkBCQEJAT8BN4J5QnsCQYE7wmPA48D4gT2CY8D/AkGBAEKCQqPA48DDgqPA48DjwOPAyAIFgoGBIEFXAUdCo8DjwOPA48DjwPeCSUKjwOPAy0KNQqPA48DjwOPA48DjwM5CkEKjwOPA0kKXAVRCo8DVwqPA48D7QVfCo8DjwOPA48DjwOPA2QKjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA2wKcAp4Co8DfwqPA48DjwOPA48DjwOPA48DjwOPA48DjwOGCo8DjwOUCo4KjwOPA48DnAqkCo8DqAqPA48DjwOPA48DjwOPA48DjwOPA4MFjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA64KjwO0Co8DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DugqPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwMWBcIKjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA8kK0QrXCo8DjwNaBloG3wqPA48DjwOPA48DWgZaBjMIjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48D4QqPA+gKjwPkCo8D6wqPA/MK9wqPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA90D/wrdAwYLDQsVC48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPAx0LJQuPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DJAQkBCQEJAQkBCQELQskBDULNQs8CyQEJAQkBCQEJAQkBCQEJAQkBCQEJAQkBCQEJAQkBCQEJAQkBCQEJAQkBCQEJAQkBPQIjgSOBCQEJAQkBCQEJAQkBCQEJAQkBCQEjgSOBI4EjgSOBI4EjgRECyQEJAQkBCQEJAQkBCQEJARaBkwLWgZaBl0GUQtVC0QIXQuxA48DYwuPA48DjwOPA48DjwOPA2oHjwOPA48DjwNaBloGWgZaBloGWgZaBloGWgZaBloGWgZaBloGWgZaBloGWgZaBloGWgZaBloGWgZaBloGWgZaBloGWgZrC3MLWgZaBloGXQZaBloGewuPA0wLWgaDC1oGiwtGCI8DjwNMC48LWgaXC1oGnwunC1oGjwOPA48DRgiPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA68LjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48Drwu/C7cLtwu3C8ALwAvAC8AL3QPdA90D3QPdA90D3QPIC8ALwAvAC8ALwAvAC8ALwAvAC8ALwAvAC8ALwAvAC8ALwAvAC8ALwAvAC8ALwAvAC8ALwAvAC8ALwAvAC8ALwAvAC8ALwAvAC8ALwAvAC8ALwAvAC8ALwAvAC8ALwAvAC8ALwAvAC8ALwAvAC8ALwAvAC8ALwAvAC8ALwAvAC8ALbgNuA24DEgASABIAEgASABIAEgASABIACAAHAAgACQAHABIAEgASABIAEgASABIAEgASABIAEgASABIAEgAHAAcABwAIAAkACgAKAAQABAAEAAoACgAKMQryCgADAAYAAwAGAAYAAgACAAIAAgACAAIAAgACAAIAAgAGAAoAClAKAArQCgAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKUQoACtIKAAoACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAClEKAArSCgASAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEgASABIAEgASAAcAEgASABIAEgASABIAEgASABIAEgASABIAEgASABIAEgASABIAEgASABIAEgASABIAEgASAAYACgAEAAQABAAEAAoACgAKAAoAAAAKkAoAsgAKAAoABAAEAAIAAgAKAAAACgAKAAoAAgAAAAqQCgAKAAoACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAKAAAAAAAAAAAAAAAAAAAACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoAAAAAAAAAAAAAAAoACgAKAAoACgAKAAoACgAKAAAACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAAAAAAAAAAAAKAAoAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAoACgAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALEAsQCxALEAsQCxALEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAoACgAEAAEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAAQCxAAEAsQCxAAEAsQCxAAEAsQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEABQAFAAUABQAFAAUACgAKAA0ABAAEAA0ABgANAAoACgCxALEAsQCxALEAsQCxALEAsQCxALEADQCtCA0ADQANAE0ADQCNAI0AjQCNAE0AjQBNAI0ATQBNAE0ATQBNAI0AjQCNAI0ATQBNAE0ATQBNAE0ATQBNAE0ATQBNAE0ATQAtAE0ATQBNAE0ATQBNAE0AjQBNAE0AsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEABQAFAAUABQAFAAUABQAFAAUABQAEAAUABQANAE0ATQCxAI0AjQCNAA0AjQCNAI0ATQBNAE0ATQBNAE0ATQBNAI0AjQCNAI0AjQCNAI0AjQCNAI0AjQCNAI0AjQCNAI0AjQCNAE0ATQBNAE0ATQBNAE0ATQBNAE0ATQBNAE0ATQBNAE0ATQBNAE0ATQBNAE0ATQBNAE0ATQBNAE0ATQBNAE0ATQBNAE0ATQBNAE0ATQCNAE0ATQCNAI0AjQCNAI0AjQCNAI0AjQBNAI0ATQCNAE0ATQCNAI0ADQCNALEAsQCxALEAsQCxALEABQAKALEAsQCxALEAsQCxAA0ADQCxALEACgCxALEAsQCxAI0AjQACAAIAAgACAAIAAgACAAIAAgACAE0ATQBNAA0ADQBNAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAK0AjQCxAE0ATQBNAI0AjQCNAI0AjQBNAE0ATQBNAI0ATQBNAE0ATQBNAE0ATQBNAE0AjQBNAI0ATQCNAE0ATQCNALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEADQANAI0ATQBNAE0ATQBNAE0ATQBNAE0ATQBNAI0AjQCNAE0ATQBNAE0ATQBNAE0ATQBNAE0ATQBNAE0ATQBNAI0AjQBNAE0ATQBNAI0ATQCNAI0ATQBNAE0AjQCNAE0ATQBNAE0ATQBNAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQCxALEAsQCxALEAsQCxALEAsQCxALEADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0AAQABAAEAAQABAAEAAQABAAEAAQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAQQCxALEAsQCxALEAsQCxALEAsQABAAEACgAKAAoACgAhAAEAAQCxAAEAAQCxALEAsQCxAAEAsQCxALEAAQCxALEAsQCxALEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAsQCxALEAsQABALEAsQCxALEAsQCBAEEAQQBBAEEAQQCBAIEAQQCBAEEAQQBBAEEAQQBBAEEAQQBBAEEAgQBBAAEAAQABALEAsQCxAAEAAQABAAEATQANAE0ATQBNAE0ADQCNAE0AjQCNAA0ADQANAA0ADQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABALEAsQAFALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQBNAE0ATQBNAE0ATQBNAE0ATQBNAI0AjQCNAA0AjQBNAE0AjQCNAE0ATQANAE0ATQBNAI0ATQBNAE0ATQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsQAAALEAAAAAAAAAAACxALEAsQCxALEAsQCxALEAAAAAAAAAAACxAAAAAAAAALEAsQCxALEAsQCxALEAAAAAAAAAAAAAAAAAAAAAAAAAAACxALEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsQAAAAAAAAAAALEAsQCxALEAAAAAAAAAAAAAAAAAAAAAALEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALEAsQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAsQAAAAAAsQCxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALEAsQAAAAAAAAAAALEAsQAAAAAAsQCxALEAAAAAAAAAsQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACxALEAAAAAAAAAsQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsQCxALEAsQCxAAAAsQCxAAAAAAAAAAAAsQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsQCxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAsQCxALEAsQCxALEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACxAAAAAACxAAAAsQCxALEAsQAAAAAAAAAAAAAAAAAAAAAAsQAAAAAAAAAAAAAAAAAAAAAAsQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoACgAKAAoACgAKAAQACgAAAAAAAAAAAAAAsQAAAAAAAACxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALEAsQCxAAAAAAAAAAAAAACxALEAsQAAALEAsQCxALEAAAAAAAAAAAAAAAAAAACxALEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALEAsQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAKAAoACgAKAAoACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsQAAAAAAoAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAACxALEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALEAsQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALEAAAAAAAAAAAAAAAAAAACxALEAsQAAALEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsQAAAAAAsQCxALEAsQCxALEAsQAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAACxALEAsQCxALEAsQCxALEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsQAAAAAAsQCxALEAsQCxALEAAACxALEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALEAsQCxALEAsQCxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACxALEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALEAAACxAAAAsQAKMQryCjEK8gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxAAAAsQCxALEAsQCxAAAAsQCxAAAAAAAAAAAAAACxALEAsQCxALEAsQCxALEAsQCxALEAAACxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACxALEAsQCxAAAAsQCxALEAsQCxALEAAACxALEAAAAAALEAsQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALEAsQAAAAAAAAAAALEAsQCxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsQCxALEAsQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALEAAAAAALEAsQAAAAAAAAAAAAAAAACxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACxALEAsQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoACgAKAAoACgAKAAoACgAKAAoAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoxCvIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACxALEAsQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsQCxAAAAsQCxALEAsQCxALEAsQAAAAAAAAAAAAAAAAAAAAAAsQAAAAAAsQCxALEAsQCxALEAsQCxALEAsQCxAAAAAAAAAAAAAAAAAAAABAAAALEAAAAAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAALEAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAoACgAKAAoACgAKAEoACgAKACoAsQCxALEAEgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAsQCxAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAsQCxALEAAAAAAAAAAACxALEAAAAAAAAAAAAAAAAAAAAAAAAAsQAAAAAAAAAAAAAAAACxALEAsQAAAAAAAAAAAAoAAAAAAAAACgAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACxALEAAAAAALEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACxAAAAsQCxALEAsQCxALEAsQAAALEAAACxAAAAAACxALEAsQCxALEAsQCxALEAAAAAAAAAAAAAAAAAsQCxALEAsQCxALEAsQCxALEAsQAAAAAAsQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALEAAACxALEAsQCxALEAAACxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACxALEAsQCxALEAsQCxALEAsQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsQCxALEAsQAAAAAAsQCxAAAAsQCxALEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALEAAACxALEAAAAAAAAAsQAAALEAsQCxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACxALEAsQCxALEAsQCxALEAAAAAALEAsQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALEAsQCxAAAAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQAAALEAsQCxALEAsQCxALEAAAAAAAAAAACxAAAAAAAAAAAAAAAAALEAAAAAAAAAsQCxAAAAAAAAAAAAAAAAALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQAAALEAsQCxALEAsQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAoACgAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAoACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoACgAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAKAAAACgAKAAoACgAGAAoxCvIKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAJALIAsgCyALIAsgASABQIFQgTCBYIsgCyALIAsgCyALIAAgAAAAAAAAACAAIAAgACAAIAAgADAAMACgAKMQryAAAJAAkACQAJAAkACQAJAAkACQAJAAkAsgASBDIEoAihCAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACQAHAKsIrgiwCKwIrwgGAAQABAAEAAQABAAKAAoACgAKAAowCvAKAAoACgAKAAoAAgACAAIAAgACAAIAAgACAAIAAgADAAMACgAKMQryAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABACxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxAAoACgAAAAoACgAKAAoAAAAKAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAACgAKAAoAAAAAAAAAAAAAAAoACgAKAAoACgAKAAAACgAAAAoAAAAKAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAKAAAAAAAAAAAAChAKAAoACgAKAAAAAAAAAAAAAAAKAAoACgAKAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAAAAAAAAAAAAAAAAAAAAAAAAAoACgAKAAAAAAAAAAAACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKMArwCjAK8AowCvAKMArwCjAK8AowCvAKMArwCgAKAAowCvAKkAqQCpAKEAqQCpAKEAoQCpAKkAqQCpAKkAoQCgAKEAoQChAKEAoACgAKAApwCnAKcAqwCrAKsAoACgAKAAoQAwAEAAoACpAKEAoACgAKAAoQChAKEAoQCgAKkAqQCpAKkAoACpAKAAoQCgAKAAoACgAKEAoQChAKEAoQChAKEAoQChAKAAoACgAKAAoAChAKAAoQCjAK8AoQChAKEAoQChAKkAoQCpAKEAoQChAKEAoQChAKkAoACgAKAAoACgAKMArwCjAK8AoACgAKAAoACgAKAAoACgAKAAoQChAKAAoQCgAKMArwCjAK8AowCvAKMArwCgAKAAowCvAKMArwCjAK8AowCvAKMArwCjAK8AowCvAKMArwCjAK8AoQCgAKAAowCvAKMArwCgAKAAoACgAKAAqQCgAKAAoACgAKAAoACgAKAAoACjAK8AoACgAKkAoQCpAKkAoQCpAKEAoQChAKEAowCvAKMArwCjAK8AowCvAKkAoACgAKAAoACgAKEAoQCgAKAAoACgAKAAoACgAKAAoACjAK8AowCvAKkAoACgAKMArwCgAKAAoACgAKMArwCjAK8AowCvAKMArwCjAK8AoACgAKAAoACgAKAAoACgAKMQryCjEK8goACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKEAoQCgAKAAoACgAKAAoACgAKMQryCgAKAAoACgAKAAoACgAKAAoACgAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAAACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAAAAAAAAAAACgAKAAoACgAKAAoACgAKAAoACgAKAAoAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoxCvIKMQryCjEK8goxCvIKMQryCjEK8goxCvIKAAoACgAKAAoACgAKAAoACgAKAAoQCgAKAAowCvAKMQryCgAKMArwCgAKUAoQCtAKAAoACgAKAAoAChAKEAowCvAKAAoACgAKAAoACpAKMArwCgAKAAoACjAK8AowCvAKMQryCjEK8goxCvIKMQryCjEK8goACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKEAoAChAKEAoQCgAKAAowCvAKAAoACgAKAAoACgAKAAoACgAKAAoQCpAKEAoQCjAK8AoACgAKMQryCgAKAAoACgAKAAoxCvIKMQryCjEK8goxCvIKMQryCnEKMgrxCrIKMQryCjEK8goxCvIKMQryCgAKAAqQChAKEAoQChAKkAoAChAKkAowCvAKEAoQCjAK8AowCvAKMArwCjAK8AoACgAKAAoACgAKAAoACgAKkAoACgAKAAoACgAKAAoACjAK8AoQChAKMArwCgAKAAoAChAKAAoACgAKAAoQCjAK8AowCvAKAAowCvAKAAoACjEK8goxCvIKEAoACgAKAAoACgAKEAqQCpAKkAoQCgAKAAoACgAKAAowCvAKkAoACgAKAAoAChAKAAoACgAKMArwCjAK8AoQCgAKEAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoQChAKEAoQChAKEAoQChAKEAoQChAKEAoQChAKEAoQChAKEAoQCgAKEAoQChAKEAoACgAKEAoAChAKAAoAChAKAAowCvAKMArwCgAKAAoACgAKAAowCvAKAAoACgAKAAoACgAKMArwChAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKEAoQCgAKAAoACgAKAAoACgAKMArwCgAKAAoACgAKEAoQChAKEAoAChAKEAoACgAKEAoQCgAKAAoACgAKMArwCjAK8AowCvAKMArwCjAK8AowCvAKMArwCjAK8AowCvAKMArwCjAK8AowCvAKMArwCjAK8AowCvAKMArwCjAK8AowCvAKMArwChAKAAoACjAK8AowCvAKMArwCjAK8AoACjAK8AowCvAKMArwCjAK8AowCvAKMArwCjAK8AowCvAKMArwCjAK8AowCvAKMArwCgAKAAoACgAKAAoQCgAKkAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAACgAKAAoACgAKAAoACgAKAAoAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACpAAAAAAAAAAAAAAAAAKAAoACgAKAAoACgAAAAAAAAAAALEAsQCxAAAAAAAAAAAAAAAAAAAACgAKAAoACgAKAAoACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALEACgAKAAowCvAKMArwCgAKAAoACjAK8AoACjAK8AoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKMArwCgAKAAowCvAKMQryCjEK8goxCvIKMQryCgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAAACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAACxALEAsQCxAAAAAAAKAAAAAAAAAAAAAAAKAAoAAAAAAAAAAAAAAAoACgAKAAkACgAKAAoACgAAAAAAAAAKMQryCjEK8goxCvIKMQryCjEK8goACgAKMQryCjEK8goxCvIKMQryCgAKAAoACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALEAsQAKAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAoACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAoACgAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAoACgAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAoACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALEAsQCxALEACgCxALEAsQCxALEAsQCxALEAsQCxAAoACgAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALEAAAAAAAAAsQAAAAAAAAAAALEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsQCxAAAACgAKAAoACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAYAAAAAoACgAKAAoAAAAAAAAAAAAAAAAAAAAAALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsQAAAAAAAAAAAAAAAACxALEAsQCxALEAsQCxALEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsQCxALEAsQCxALEAsQCxALEAsQCxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALEAAAAAALEAsQCxALEAAAAAALEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsQCxALEAsQCxALEAAAAAALEAsQAAAAAAsQCxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALEAAAAAAAAAAAAAAAAAAAAAALEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACxAAAAsQCxALEAAAAAALEAsQAAAAAAAAAAAAAAsQCxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALEAsQAAAAAAAAAAAAAAAAAAAAAAsQAAAAAAAAAAAAAAAAAAAAAAAAAAALEAAAAAALEAAAAAAAAAAACxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAMAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABALEAAQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQAKAAoADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQASABIAEgASABIAEgASABIAEgASABIAEgASABIAEgASAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ACgANAA0AsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQAKAAoACgAKAAoACgAKAAoACgAKAAAAAAAAAAAAAAAAALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAGAAoABgAAAAoABgAKAAoACgAKMQryCjEK8goxCvIEAAoACgADAAMACjAK8AoAAAAKAAQABAAKAAAAAAAAAAAADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQCyAAAACgAKAAQABAAEAAoACgAKMQryCgADAAYAAwAGAAYAAgACAAIAAgACAAIAAgACAAIAAgAGAAoAClAKAArQCgAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKUQoACtIKAAoxCvIKAAoxCvIKAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAKAAoACgAEAAQAAAAKAAoACgAKAAoACgAKAAAAEgASABIAEgASABIAEgASABIAqgCqAKoACgAKABIAEgAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAALEAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACxALEAsQCxALEAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACgABALEAsQCxAAEAsQCxAAEAAQABAAEAAQCxALEAsQCxAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABALEAsQCxAAEAAQABAAEAsQBBAIEAAQABAIEAsQCxAAEAAQABAAEAQQBBAEEAQQCBAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAQQBBAEEAQQBBAIEAAQCBAAEAgQCBAAEAAQBhAIEAgQCBAIEAgQBBAEEAQQBBAGEAQQBBAEEAQQBBAIEAQQBBAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACgAKAAoACgAKAAoACgBBAIEAQQCBAIEAgQBBAEEAQQCBAEEAQQCBAEEAgQCBAEEAgQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQCBAIEAgQCBAEEAQQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEATQBNAI0ATQCxALEAsQCxAA0ADQANAA0ADQANAA0ADQAFAAUABQAFAAUABQAFAAUABQAFAA0ADQANAA0ADQANAG0ATQBNAE0ATQBNAE0ATQBNAE0ATQBNAE0ATQBNAE0ATQBNAE0ATQBNAE0ATQBNAE0ATQBNAE0ATQBNAE0ATQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQBNAE0ATQCNAE0ATQBNAE0ATQBNAE0ATQBNAE0ATQBNAE0ADQCxALEAsQCxALEAsQCxALEAsQCxALEATQBNAE0AjQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsQCxALEAsQCxALEAsQCxALEAsQCxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsQCxALEAsQAAAAAAsQCxAAAAAAAAAAAAAAAAAAAAAACxALEAsQCxALEAAACxALEAsQCxALEAsQCxALEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsQCxALEAsQCxALEAsQCxALEAAAAAAAAAAAAAAAAAAAAAAAAAAACxALEAsQCxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsQCxALEAAAAAALEAAACxALEAAAAAAAAAAAAAAAAAsQAAAAAAAAAAALEAsQCxALEAsQCxALEAsQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsQCxALEAsQCxALEAsQAAAAAAAACxALEAsQCxALEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACxALEAsQAAALEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALEAsQCxALEAsQCxAAAAsQAAAAAAAAAAALEAsQAAALEAsQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACxALEAsQCxAAAAAAAAAAAAAAAAALEAsQAAALEAsQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACxALEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsQCxALEAsQCxALEAsQCxAAAAAACxAAAAsQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsQAAALEAAAAAALEAsQCxALEAsQCxAAAAsQAAAAAAAAAAAAAAAAAAAAAAAAAAALEAsQCxALEAAACxALEAsQCxALEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALEAsQCxALEAsQCxALEAsQCxAAAAsQCxAAAAAAAAAAAAAAAAALEAsQCxALEAsQCxAKAAoACxALEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsQCxALEAsQCxALEAAAAAALEAsQCxALEAAAAAAAAAAAAAAAAAAAAAALEAAAAAAAAAAAAAAAAAAAAAAAAAsQCxALEAsQCxALEAAAAAALEAsQCxAAAAAAAAAAAAAAAAAAAAAAAAAAAAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQAAALEAsQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACxALEAsQCxALEAsQCxAAAAsQCxALEAsQCxALEAAACgALEAsQCxALEAsQCxALEAsQAAAAAAsQCxALEAsQCxALEAsQAAALEAsQAAALEAsQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsQCxALEAsQCxALEAAAAAAAAAsQAAALEAsQAAALEAsQCxALEAsQCxALEAAACxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALEAsQAAAAAAAACxAAAAsQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALEAsQCxALEAsQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALEAsQCxALEAsQCxALEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACxALEAsQCxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsgCyALIAsgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALEAsQCxAAAAAAAAAAAAAAAAAAAAAAAAALIAsgCyALIAsgCyALIAsgCxALEAsQCxALEAsQCxALEAAAAAALEAsQCxALEAsQCxALEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACxALEAsQCxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoACgCxALEAsQAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKEAAAAAAAAAAAAAAAAAAAAAAAAAAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAAAAAAAAAAACxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAAAAAAAAAAAAAAAAAAAAAALEAAAAAAAAAAAAAAAAAAAAAAAAAAACxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsQCxALEAsQCxAAAAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACxALEAsQCxALEAsQCxAAAAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxAAAAAACxALEAsQCxALEAsQCxAAAAsQCxAAAAsQCxALEAsQCxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAsQCxALEAsQCxALEAsQABAAEAAQABAAEAAQABAAEAAQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAsQCxALEAsQCxALEAsQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAAoACgANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ACgAKAAoACgAKAAoACgAKAAoACgAKAAoAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAIAAgACAAIAAgACAAIAAgACAAIAAgAKAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAAAAAAAAAAAAAAAAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoAAAAAAAAAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoAAAAAAAAAAAAAAAAAAAAAAAoACgAKAAoACgAKAAoACgAKAAoAAAAAAAAAAAAAAAAACgAKAAoACgAKAAoACgAKAAAAAAAAAAAAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAAACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAAAAAAKAAoACgAKAAAAAAAAAAoAAAAKAAoACgAKAAoACgAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAAAAAAKAAoACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEgASALIAsgCyALIAsgCyALIAsgCyALIAsgCyALIAsgCyALIAsgCyALIAsgCyALIAsgCyALIAsgCyALIAsgCyALIAsgASALIAEgASABIAEgASABIAEgASABIAEgASABIAEgASABIAEgASABIAEgASABIAEgASABIAEgASABIAEgASABIAEgASABIAEgCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxABIAEgASABIAEgASABIAEgASABIAEgASABIAEgASABIAAAAAAAAAAAAAAAAAAAAAAMARAQBREgEAsBABAAAAAADAEQEA/hEBAMAQAQAAAAAAmBEBAB8SAQDAEQEALBIBAKAQAQAAAAAAwBEBAJcSAQCwEAEAAAAAAMARAQBzEgEA2BABAAAAAAABAAAAAgAAAJACAADAAwAA4BEBAOARAQCwAQAAwAMAAOARAQDgEQEAYAMAAJADAADgEQEA4BEBAAADAAAwAwAA4BEBAOARAQDAAgAAUAIAAOkRAQDwEQEAkAIAAOABAADgEQEA5REBACACAABQAgAA6REBAPARAQCwAQAA4AEAAOARAQDlEQEAABAAAACAAAAACAAAAEAAAAAAAACgEAEAAQAAAAIAAAADAAAABAAAAAEAAAABAAAAAQAAAAEAAAAAAAAAyBABAAEAAAAFAAAAAwAAAAQAAAABAAAAAgAAAAIAAAACAAAAAAECAwQAAQ0OAAECBQYHCAABCQoLDAACBAYICgwOTjEwX19jeHhhYml2MTE2X19zaGltX3R5cGVfaW5mb0UAU3Q5dHlwZV9pbmZvAE4xMF9fY3h4YWJpdjEyMF9fc2lfY2xhc3NfdHlwZV9pbmZvRQBOMTBfX2N4eGFiaXYxMTdfX2NsYXNzX3R5cGVfaW5mb0UATjEwX19jeHhhYml2MTE5X19wb2ludGVyX3R5cGVfaW5mb0UATjEwX19jeHhhYml2MTE3X19wYmFzZV90eXBlX2luZm9F"\n;var tempDoublePtr=71104;var ENV={};function ___buildEnvironment(environ){var MAX_ENV_VALUES=64;var TOTAL_ENV_SIZE=1024;var poolPtr;var envPtr;if(!___buildEnvironment.called){___buildEnvironment.called=true;ENV["USER"]=ENV["LOGNAME"]="web_user";ENV["PATH"]="/";ENV["PWD"]="/";ENV["HOME"]="/home/web_user";ENV["LANG"]="C.UTF-8";ENV["_"]=Module["thisProgram"];poolPtr=getMemory(TOTAL_ENV_SIZE);envPtr=getMemory(MAX_ENV_VALUES*4);HEAP32[envPtr>>2]=poolPtr;HEAP32[environ>>2]=envPtr}else{envPtr=HEAP32[environ>>2];poolPtr=HEAP32[envPtr>>2]}var strings=[];var totalSize=0;for(var key in ENV){if(typeof ENV[key]==="string"){var line=key+"="+ENV[key];strings.push(line);totalSize+=line.length}}if(totalSize>TOTAL_ENV_SIZE){throw new Error("Environment size exceeded TOTAL_ENV_SIZE!")}var ptrSize=4;for(var i=0;i<strings.length;i++){var line=strings[i];writeAsciiToMemory(line,poolPtr);HEAP32[envPtr+i*ptrSize>>2]=poolPtr;poolPtr+=line.length+1}HEAP32[envPtr+strings.length*ptrSize>>2]=0}function __ZSt18uncaught_exceptionv(){return!!__ZSt18uncaught_exceptionv.uncaught_exception}function ___cxa_free_exception(ptr){try{return _free(ptr)}catch(e){}}var EXCEPTIONS={last:0,caught:[],infos:{},deAdjust:function(adjusted){if(!adjusted||EXCEPTIONS.infos[adjusted])return adjusted;for(var key in EXCEPTIONS.infos){var ptr=+key;var adj=EXCEPTIONS.infos[ptr].adjusted;var len=adj.length;for(var i=0;i<len;i++){if(adj[i]===adjusted){return ptr}}}return adjusted},addRef:function(ptr){if(!ptr)return;var info=EXCEPTIONS.infos[ptr];info.refcount++},decRef:function(ptr){if(!ptr)return;var info=EXCEPTIONS.infos[ptr];info.refcount--;if(info.refcount===0&&!info.rethrown){if(info.destructor){Module["dynCall_vi"](info.destructor,ptr)}delete EXCEPTIONS.infos[ptr];___cxa_free_exception(ptr)}},clearRef:function(ptr){if(!ptr)return;var info=EXCEPTIONS.infos[ptr];info.refcount=0}};function ___resumeException(ptr){if(!EXCEPTIONS.last){EXCEPTIONS.last=ptr}throw ptr}function ___cxa_find_matching_catch(){var thrown=EXCEPTIONS.last;if(!thrown){return(setTempRet0(0),0)|0}var info=EXCEPTIONS.infos[thrown];var throwntype=info.type;if(!throwntype){return(setTempRet0(0),thrown)|0}var typeArray=Array.prototype.slice.call(arguments);var pointer=Module["___cxa_is_pointer_type"](throwntype);if(!___cxa_find_matching_catch.buffer)___cxa_find_matching_catch.buffer=_malloc(4);HEAP32[___cxa_find_matching_catch.buffer>>2]=thrown;thrown=___cxa_find_matching_catch.buffer;for(var i=0;i<typeArray.length;i++){if(typeArray[i]&&Module["___cxa_can_catch"](typeArray[i],throwntype,thrown)){thrown=HEAP32[thrown>>2];info.adjusted.push(thrown);return(setTempRet0(typeArray[i]),thrown)|0}}thrown=HEAP32[thrown>>2];return(setTempRet0(throwntype),thrown)|0}function ___gxx_personality_v0(){}function _emscripten_get_heap_size(){return HEAP8.length}function abortOnCannotGrowMemory(requestedSize){abort("OOM")}function emscripten_realloc_buffer(size){try{var newBuffer=new ArrayBuffer(size);if(newBuffer.byteLength!=size)return false;new Int8Array(newBuffer).set(HEAP8)}catch(e){return false}buffer=newBuffer;Module["_emscripten_replace_memory"](newBuffer);return true}function _emscripten_resize_heap(requestedSize){var oldSize=_emscripten_get_heap_size();var PAGE_MULTIPLE=16777216;var LIMIT=2147483648-PAGE_MULTIPLE;if(requestedSize>LIMIT){return false}var MIN_TOTAL_MEMORY=16777216;var newSize=Math.max(oldSize,MIN_TOTAL_MEMORY);while(newSize<requestedSize){if(newSize<=536870912){newSize=alignUp(2*newSize,PAGE_MULTIPLE)}else{newSize=Math.min(alignUp((3*newSize+2147483648)/4,PAGE_MULTIPLE),LIMIT)}}if(!emscripten_realloc_buffer(newSize)){return false}updateGlobalBufferViews();return true}function _emscripten_memcpy_big(dest,src,num){HEAPU8.set(HEAPU8.subarray(src,src+num),dest)}function ___setErrNo(value){if(Module["___errno_location"])HEAP32[Module["___errno_location"]()>>2]=value;return value}var ASSERTIONS=false;function intArrayToString(array){var ret=[];for(var i=0;i<array.length;i++){var chr=array[i];if(chr>255){if(ASSERTIONS){}chr&=255}ret.push(String.fromCharCode(chr))}return ret.join("")}var decodeBase64=typeof atob==="function"?atob:function(input){var keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var output="";var chr1,chr2,chr3;var enc1,enc2,enc3,enc4;var i=0;input=input.replace(/[^A-Za-z0-9\\+\\/\\=]/g,"");do{enc1=keyStr.indexOf(input.charAt(i++));enc2=keyStr.indexOf(input.charAt(i++));enc3=keyStr.indexOf(input.charAt(i++));enc4=keyStr.indexOf(input.charAt(i++));chr1=enc1<<2|enc2>>4;chr2=(enc2&15)<<4|enc3>>2;chr3=(enc3&3)<<6|enc4;output=output+String.fromCharCode(chr1);if(enc3!==64){output=output+String.fromCharCode(chr2)}if(enc4!==64){output=output+String.fromCharCode(chr3)}}while(i<input.length);return output};function intArrayFromBase64(s){if(typeof ENVIRONMENT_IS_NODE==="boolean"&&ENVIRONMENT_IS_NODE){var buf;try{buf=Buffer.from(s,"base64")}catch(_){buf=new Buffer(s,"base64")}return new Uint8Array(buf.buffer,buf.byteOffset,buf.byteLength)}try{var decoded=decodeBase64(s);var bytes=new Uint8Array(decoded.length);for(var i=0;i<decoded.length;++i){bytes[i]=decoded.charCodeAt(i)}return bytes}catch(_){throw new Error("Converting base64 string to bytes failed.")}}function tryParseAsDataURI(filename){if(!isDataURI(filename)){return}return intArrayFromBase64(filename.slice(dataURIPrefix.length))}var asmGlobalArg={Int8Array:Int8Array,Int16Array:Int16Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array};var asmLibraryArg={a:abort,b:setTempRet0,c:getTempRet0,d:__ZSt18uncaught_exceptionv,e:___buildEnvironment,f:___cxa_find_matching_catch,g:___cxa_free_exception,h:___gxx_personality_v0,i:___resumeException,j:___setErrNo,k:_emscripten_get_heap_size,l:_emscripten_memcpy_big,m:_emscripten_resize_heap,n:abortOnCannotGrowMemory,o:emscripten_realloc_buffer,p:tempDoublePtr,q:DYNAMICTOP_PTR};var asm=function(global,env,buffer){"almost asm";var a=new global.Int8Array(buffer),b=new global.Int16Array(buffer),c=new global.Int32Array(buffer),d=new global.Uint8Array(buffer),e=new global.Uint16Array(buffer),f=env.p|0,g=env.q|0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=env.a,q=env.b,r=env.c,s=env.d,t=env.e,u=env.f,v=env.g,w=env.h,x=env.i,y=env.j,z=env.k,A=env.l,B=env.m,C=env.n,D=env.o,E=71120,F=5314e3,G=0;function H(newBuffer){a=new Int8Array(newBuffer);d=new Uint8Array(newBuffer);b=new Int16Array(newBuffer);e=new Uint16Array(newBuffer);c=new Int32Array(newBuffer);buffer=newBuffer;return true}function O(a){a=a|0;var b=0;b=E;E=E+a|0;E=E+15&-16;return b|0}function P(){return E|0}function Q(a){a=a|0;E=a}function R(a,b){a=a|0;b=b|0;E=a;F=b}function S(a,d){a=a|0;d=d|0;var e=0,f=0,g=0,h=0,i=0;g=E;E=E+16|0;h=g;c[h>>2]=0;f=Ya(a,d,0,0,h)|0;i=f+1|0;c[h>>2]=0;e=Ab(i<<1)|0;Ya(a,d,e,i,h)|0;if((c[h>>2]|0)>0){Bb(e);e=0}else b[e+(f<<1)>>1]=0;E=g;return e|0}function T(a,b){a=a|0;b=b|0;var d=0,e=0,f=0;f=E;E=E+16|0;e=f;d=c[17592]|0;if(!d){d=Z()|0;c[17592]=d}c[e>>2]=0;ea(d,a,b,-2,e);if((c[e>>2]|0)>0)d=0;else d=Ea(c[17592]|0)|0;E=f;return d|0}function U(a){a=a|0;var b=0,d=0,e=0;e=E;E=E+16|0;d=e+4|0;b=e;c[d>>2]=0;c[b>>2]=0;Fa(c[17592]|0,a,b,d);E=e;return((c[d>>2]|0)>0?0:c[b>>2]|0)|0}function V(a,b,d){a=a|0;b=b|0;d=d|0;return(Va(c[17593]|0,a,b,d)|0)==1|0}function W(a,b){a=a|0;b=b|0;var d=0,e=0,f=0;f=E;E=E+16|0;e=f;c[e>>2]=0;d=c[17593]|0;if(!d){d=Z()|0;c[17593]=d}Ma(c[17592]|0,a,b,d,e);if((c[e>>2]|0)>0)d=0;else{c[e>>2]=0;d=Qa(d,e)|0;d=(c[e>>2]|0)>0?0:d}E=f;return d|0}function X(a,d,e){a=a|0;d=d|0;e=e|0;var f=0,g=0,h=0;g=E;E=E+16|0;h=g;c[h>>2]=0;f=Ab((e<<1)+2|0)|0;a=Ha(a+(d<<1)|0,e,f,e,h)|0;if((c[h>>2]|0)>0)f=0;else b[f+(a<<1)>>1]=0;E=g;return f|0}function Y(a,d){a=a|0;d=d|0;var e=0,f=0,g=0,h=0,i=0;i=E;E=E+16|0;h=i;c[h>>2]=0;f=c[17593]|0;if(!f){f=Z()|0;c[17593]=f}Ma(c[17592]|0,a,d,f,h);if((c[h>>2]|0)<=0?(g=Da(f)|0,d=g+1|0,e=Ab(d<<1)|0,Ka(c[17593]|0,e,d,10,h)|0,(c[h>>2]|0)<=0):0)b[e+(g<<1)>>1]=0;else e=0;E=i;return e|0}function Z(){var a=0,b=0;b=E;E=E+16|0;a=b;c[a>>2]=0;a=_(a)|0;E=b;return a|0}function _(b){b=b|0;var d=0;if(!b){d=0;return d|0}if(($(c[b>>2]|0)|0)<<24>>24){d=0;return d|0}d=lb(360)|0;if(!d){c[b>>2]=7;d=0;return d|0}fc(d|0,0,360)|0;a[d+68>>0]=1;a[d+69>>0]=1;if((ba(c[b>>2]|0)|0)<<24>>24)return d|0;ca(d);d=0;return d|0}function $(a){a=a|0;return(a|0)>0|0}function aa(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0,g=0;g=c[a>>2]|0;if(!g)if(d<<24>>24!=0?(g=lb(e)|0,c[a>>2]=g,(g|0)!=0):0){c[b>>2]=e;a=1}else a=0;else if((c[b>>2]|0)<(e|0))if(d<<24>>24!=0?(f=mb(g,e)|0,(f|0)!=0):0){c[a>>2]=f;c[b>>2]=e;a=1}else a=0;else a=1;return a|0}function ba(a){a=a|0;return(a|0)<1|0}function ca(a){a=a|0;var b=0;if(!a)return;c[a>>2]=0;b=c[a+44>>2]|0;if(b|0)nb(b);b=c[a+48>>2]|0;if(b|0)nb(b);b=c[a+52>>2]|0;if(b|0)nb(b);b=c[a+56>>2]|0;if(b|0)nb(b);b=c[a+60>>2]|0;if(b|0)nb(b);b=c[a+64>>2]|0;if(b|0)nb(b);b=c[a+344>>2]|0;if(b|0)nb(b);nb(a);return}function da(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0;e=0;while(1){if((e|0)>=(a|0)){f=5;break}if((c[b+(e<<3)>>2]|0)>(d|0))break;e=e+1|0}if((f|0)==5)e=a+-1|0;return c[b+(e<<3)+4>>2]&255|0}function ea(b,e,f,g,h){b=b|0;e=e|0;f=f|0;g=g|0;h=h|0;var i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0,v=0,w=0,x=0,y=0,z=0;if(!h)return;if(($(c[h>>2]|0)|0)<<24>>24)return;if((b|0)==0|(e|0)==0|(f|0)<-1|g+-126<<24>>24<<24>>24>-1){c[h>>2]=1;return}if((f|0)==-1)f=ob(e)|0;u=b+84|0;if((c[u>>2]|0)==3){fa(b,e,f,g,h);return}c[b>>2]=0;c[b+4>>2]=e;z=b+16|0;c[z>>2]=f;c[b+8>>2]=f;l=b+12|0;c[l>>2]=f;s=b+93|0;a[s>>0]=g;i=g&1;j=i&255;m=b+116|0;c[m>>2]=j;x=b+132|0;c[x>>2]=1;k=b+72|0;c[k>>2]=0;n=b+76|0;c[n>>2]=0;c[b+224>>2]=0;y=b+332|0;c[y>>2]=0;c[b+336>>2]=0;e=(g&255)>253;t=b+94|0;a[t>>0]=e&1;if(!f){if(e){a[s>>0]=i;a[t>>0]=0}c[b+120>>2]=c[69880+(j<<2)>>2];c[b+220>>2]=0;c[x>>2]=0;ga(b);return}c[b+220>>2]=-1;e=c[b+56>>2]|0;w=b+136|0;c[w>>2]=(e|0)==0?b+140|0:e;e=b+44|0;i=b+68|0;if(!((aa(e,b+20|0,a[i>>0]|0,f)|0)<<24>>24)){c[h>>2]=7;return}c[k>>2]=c[e>>2];if(!((ha(b)|0)<<24>>24)){c[h>>2]=7;return}v=c[k>>2]|0;q=c[l>>2]|0;k=b+128|0;c[k>>2]=q;f=b+48|0;if(!((aa(f,b+24|0,a[i>>0]|0,q)|0)<<24>>24)){c[h>>2]=7;return}c[n>>2]=c[f>>2];j=ia(b,h)|0;if(($(c[h>>2]|0)|0)<<24>>24)return;g=b+240|0;f=c[g>>2]|0;do{if((f|0)<6)c[b+244>>2]=b+248;else{f=f<<4;e=b+40|0;i=b+64|0;if((f|0)<=(c[e>>2]|0)){c[b+244>>2]=c[i>>2];break}if((aa(i,e,1,f)|0)<<24>>24){c[b+244>>2]=c[i>>2];break}c[h>>2]=7;return}}while(0);c[g>>2]=-1;c[m>>2]=j;a:do{switch(j|0){case 0:{c[k>>2]=0;break}case 1:{c[k>>2]=0;break}default:{b:do{switch(c[u>>2]|0){case 0:{c[b+112>>2]=69888;break}case 1:{c[b+112>>2]=69904;break}case 2:{c[b+112>>2]=69920;break}case 4:{c[b+112>>2]=69936;break}case 5:{f=b+112|0;if(!(c[b+88>>2]&1)){c[f>>2]=69968;break b}else{c[f>>2]=69952;break b}}case 6:{f=b+112|0;if(!(c[b+88>>2]&1)){c[f>>2]=7e4;break b}else{c[f>>2]=69984;break b}}default:{}}}while(0);j=c[x>>2]|0;if((j|0)<2?(c[b+120>>2]|0)>=0:0){do{if(a[t>>0]|0){e=c[w>>2]|0;i=c[e>>2]|0;if((i|0)>0)f=a[s>>0]|0;else f=da(j,e,0)|0;f=f&1;if((q|0)>(i|0)){e=da(j,e,q+-1|0)|0;break}else{e=a[s>>0]|0;break}}else{f=a[s>>0]|0;e=f;f=f&1}}while(0);ja(b,0,q,f,e&1)}else{o=c[n>>2]|0;if((a[t>>0]|0)!=0?(p=c[w>>2]|0,(c[p>>2]|0)<=0):0)f=da(j,p,0)|0;else f=a[s>>0]|0;p=a[o>>0]|0;n=q+-1|0;l=p;m=0;f=((f&255)<(p&255)?p:f)&1;while(1){if((m|0)>0?(a[v+(m+-1)>>0]|0)==7:0){do{if(!(a[t>>0]|0))r=61;else{f=c[w>>2]|0;if((m|0)<(c[f>>2]|0)){r=61;break}f=da(c[x>>2]|0,f,m)|0}}while(0);if((r|0)==61){r=0;f=a[s>>0]|0}f=f&1}g=m;while(1){k=g+1|0;if((k|0)>=(q|0)){r=69;break}e=a[o+k>>0]|0;if(e<<24>>24!=l<<24>>24?(1<<d[v+k>>0]&382976|0)==0:0){j=1;break}g=k}c:do{if((r|0)==69){r=0;do{if(a[t>>0]|0){e=c[w>>2]|0;if((q|0)<=(c[e>>2]|0))break;e=da(c[x>>2]|0,e,n)|0;j=0;break c}}while(0);e=a[s>>0]|0;j=0}}while(0);p=l&255;i=e&255;i=((p&127)>>>0<(i&127)>>>0?i:p)&1;if(!(p&128))ja(b,m,k,f,i);else{f=m;while(1){p=o+f|0;a[p>>0]=a[p>>0]&127;if((f|0)<(g|0))f=f+1|0;else break}}if(j){l=e;m=k;f=i}else break}}f=c[b+340>>2]|0;if(!(($(f)|0)<<24>>24)){ka(b);break a}c[h>>2]=f;return}}}while(0);k=b+88|0;d:do{if((a[t>>0]|0?c[k>>2]&1|0:0)?((c[u>>2]|0)+-5|0)>>>0<2:0){g=0;while(1){if((g|0)>=(c[x>>2]|0))break d;e=c[w>>2]|0;f=(c[e+(g<<3)>>2]|0)+-1|0;e:do{if(c[e+(g<<3)+4>>2]&255|0){if(!g)i=0;else i=c[e+(g+-1<<3)>>2]|0;e=f;while(1){if((e|0)<(i|0))break e;j=a[v+e>>0]|0;if(!(j<<24>>24))break;if(1<<(j&255)&8194|0)break e;e=e+-1|0}if((e|0)<(f|0))while(1)if((a[v+f>>0]|0)==7)f=f+-1|0;else break;la(b,f,4)}}while(0);g=g+1|0}}}while(0);if(!(c[k>>2]&2))f=(c[z>>2]|0)+(c[y>>2]|0)|0;else f=(c[z>>2]|0)-(c[b+348>>2]|0)|0;c[z>>2]=f;ga(b);return}function fa(b,e,f,g,h){b=b|0;e=e|0;f=f|0;g=g|0;h=h|0;var i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0,v=0,w=0,x=0,y=0,z=0,A=0,B=0,C=0,D=0,E=0;C=b+84|0;c[C>>2]=0;if(!f){ea(b,e,0,g,h);D=0;nb(D);c[C>>2]=3;return}D=lb(f*7|0)|0;if(!D){c[h>>2]=7;D=0;nb(D);c[C>>2]=3;return}j=D+(f<<2)|0;B=j+(f<<1)|0;k=b+88|0;l=c[k>>2]|0;if(l&1|0)c[k>>2]=l&-4|2;g=g&1;ea(b,e,f,g,h);if(($(c[h>>2]|0)|0)<<24>>24){nb(D);c[C>>2]=3;return}x=Pa(b,h)|0;v=b+12|0;w=c[v>>2]|0;ec(B|0,x|0,w|0)|0;x=b+128|0;y=c[x>>2]|0;z=b+116|0;A=c[z>>2]|0;i=Ka(b,j,f,2,h)|0;Wa(b,D,h);if(!(($(c[h>>2]|0)|0)<<24>>24)){c[k>>2]=l;c[C>>2]=5;u=b+68|0;t=a[u>>0]|0;a[u>>0]=0;ea(b,j,i,g^1,h);a[u>>0]=t;Ra(b,h);a:do{if(!(($(c[h>>2]|0)|0)<<24>>24)){n=b+220|0;q=c[n>>2]|0;o=b+224|0;p=c[o>>2]|0;j=0;g=0;h=0;while(1){if((h|0)>=(q|0))break;m=c[p+(h*12|0)+4>>2]|0;g=m-g|0;b:do{if((g|0)<2)g=j;else{i=c[p+(h*12|0)>>2]&2147483647;l=i+g|0;g=j;while(1){do{j=i;i=i+1|0;if((i|0)>=(l|0))break b;k=c[D+(i<<2)>>2]|0;j=c[D+(j<<2)>>2]|0;u=k-j|0;if((((u|0)>-1?u:0-u|0)|0)!=1)break}while((a[B+k>>0]|0)==(a[B+j>>0]|0));g=g+1|0}}}while(0);j=g;g=m;h=h+1|0}if(!j)t=p;else{g=b+60|0;if(!((aa(g,b+36|0,a[b+69>>0]|0,(j+q|0)*12|0)|0)<<24>>24))break;if((q|0)==1){u=c[g>>2]|0;c[u>>2]=c[p>>2];c[u+4>>2]=c[p+4>>2];c[u+8>>2]=c[p+8>>2]}t=c[g>>2]|0;c[o>>2]=t;c[n>>2]=(c[n>>2]|0)+j}u=t+4|0;g=q;i=j;while(1){s=g+-1|0;if((g|0)<=0)break a;if(!s)g=c[u>>2]|0;else g=(c[t+(s*12|0)+4>>2]|0)-(c[t+((g+-2|0)*12|0)+4>>2]|0)|0;q=t+(s*12|0)|0;j=c[q>>2]|0;r=j>>>31;j=j&2147483647;if((g|0)<2){if(!i)g=s;else{g=s+i|0;p=t+(g*12|0)|0;c[p>>2]=c[q>>2];c[p+4>>2]=c[q+4>>2];c[p+8>>2]=c[q+8>>2]}j=c[D+(j<<2)>>2]|0}else{l=(r|0)==0;h=g+-1+j|0;p=l?j:h;m=l?-1:1;n=t+(s*12|0)+4|0;o=t+(s*12|0)+8|0;h=l?h:j;c:while(1){g=h;while(1){if((g|0)==(p|0))break c;j=c[D+(g<<2)>>2]|0;k=g+m|0;l=c[D+(k<<2)>>2]|0;E=j-l|0;if((((E|0)>-1?E:0-E|0)|0)!=1)break;if((a[B+j>>0]|0)==(a[B+l>>0]|0))g=k;else break}E=c[D+(h<<2)>>2]|0;E=(E|0)<(j|0)?E:j;l=i+s|0;c[t+(l*12|0)>>2]=(r^d[B+E>>0])<<31|E;c[t+(l*12|0)+4>>2]=c[n>>2];E=g-h|0;c[n>>2]=(c[n>>2]|0)+~((E|0)>-1?E:0-E|0);E=c[o>>2]&10;c[t+(l*12|0)+8>>2]=E;c[o>>2]=c[o>>2]&~E;h=k;i=i+-1|0}if(!i)g=s;else{g=i+s|0;E=t+(g*12|0)|0;c[E>>2]=c[q>>2];c[E+4>>2]=c[q+4>>2];c[E+8>>2]=c[q+8>>2]}E=c[D+(h<<2)>>2]|0;j=c[D+(p<<2)>>2]|0;j=(E|0)<(j|0)?E:j}c[t+(g*12|0)>>2]=(r^d[B+j>>0])<<31|j;g=s}}}while(0);E=b+93|0;a[E>>0]=a[E>>0]^1}c[b+4>>2]=e;c[v>>2]=w;c[b+8>>2]=f;c[z>>2]=A;E=c[b+24>>2]|0;ec(c[b+76>>2]|0,B|0,((w|0)>(E|0)?E:w)|0)|0;c[x>>2]=y;if((c[b+220>>2]|0)<=1){E=D;nb(E);c[C>>2]=3;return}c[z>>2]=2;E=D;nb(E);c[C>>2]=3;return}function ga(a){a=a|0;c[a+100>>2]=0;c[a+108>>2]=0;c[a>>2]=a;return}function ha(f){f=f|0;var g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0,v=0,w=0,x=0,y=0,z=0,A=0,B=0,C=0,D=0,F=0,G=0,H=0,I=0,J=0,K=0,L=0,M=0,N=0;N=E;E=E+1024|0;x=N+512|0;G=N;B=c[f+4>>2]|0;D=c[f+44>>2]|0;J=c[f+8>>2]|0;K=f+93|0;g=a[K>>0]|0;H=(g&255)>253;if(H)C=((c[f+84>>2]|0)+-5|0)>>>0<2;else C=0;I=f+88|0;M=c[I>>2]|0;j=M&2;if(M&4|0)c[f+12>>2]=0;g=g&255;v=g&1;w=v&255;M=f+136|0;h=(c[M>>2]|0)+4|0;if(H){c[h>>2]=v;if((c[f+100>>2]|0)>0?(i=Ba(f)|0,i<<24>>24!=10):0){c[(c[M>>2]|0)+4>>2]=i<<24>>24!=0&1;i=w;k=0}else{i=w;k=1}}else{c[h>>2]=g;i=10;k=0}u=(j|0)==0;y=f+132|0;z=f+12|0;A=f+348|0;h=-1;j=0;l=0;F=-1;g=0;a:while(1){b:while(1){t=C&i<<24>>24==1;i=l;c:while(1){d:while(1){s=(h|0)<126;r=(k|0)==2&s;q=(h|0)>-1;e:while(1){p=i;f:while(1){if((j|0)>=(J|0))break a;i=j+1|0;l=e[B+(j<<1)>>1]|0;if(!((i|0)==(J|0)|(l&64512|0)!=55296)){m=e[B+(i<<1)>>1]|0;o=(m&64512|0)==56320;j=o?j+2|0:i;if(o)l=(l<<10)+-56613888+m|0}else j=i;o=pa(f,l)|0;i=o&255;o=o&255;g=1<<o|g;n=j+-1|0;m=D+n|0;a[m>>0]=i;if((l|0)>65535){a[D+(j+-2)>>0]=18;g=g|262144}if(!u)p=p+(((l+-8294|0)>>>0<4|((l&-4|0)==8204|(l+-8234|0)>>>0<5))&1)|0;switch(i<<24>>24){case 13:case 1:break b;case 0:{L=25;break c}default:{}}if((o+-19|0)>>>0<3){L=35;break e}switch(i<<24>>24){case 22:break f;case 7:{i=(j|0)<(J|0);if(!((l|0)==13&i))break d;if((b[B+(j<<1)>>1]|0)!=10){i=1;break d}break}default:{}}}g=r?g|1048576:g;if(q){L=43;break}else i=p}if((L|0)==35){L=0;i=h+1|0;if((h|0)<125){c[x+(i<<2)>>2]=n;c[G+(i<<2)>>2]=k}if((o|0)==19){a[m>>0]=20;h=i;k=2}else{h=i;k=3}}else if((L|0)==43){L=0;if(s)k=c[G+(h<<2)>>2]|0;h=h+-1|0}i=p}c[(c[M>>2]|0)+((c[y>>2]|0)+-1<<3)>>2]=j;if(t)c[(c[M>>2]|0)+((c[y>>2]|0)+-1<<3)+4>>2]=1;if(c[I>>2]&4|0){c[z>>2]=j;c[A>>2]=p}if(i){c[y>>2]=(c[y>>2]|0)+1;if(!((Ca(f)|0)<<24>>24)){g=0;L=76;break a}if(H){L=56;break}c[(c[M>>2]|0)+((c[y>>2]|0)+-1<<3)+4>>2]=d[K>>0];h=-1;k=0}i=p}g:do{if((L|0)==25){L=0;switch(k|0){case 1:{c[(c[M>>2]|0)+((c[y>>2]|0)+-1<<3)+4>>2]=0;i=0;k=0;break g}case 2:{g=s?g|1048576:g;i=0;k=3;break g}default:{i=0;break g}}}else if((L|0)==56){L=0;c[(c[M>>2]|0)+((c[y>>2]|0)+-1<<3)+4>>2]=v;h=-1;i=w;k=1}}while(0);l=p}switch(k|0){case 1:{c[(c[M>>2]|0)+((c[y>>2]|0)+-1<<3)+4>>2]=1;k=0;break}case 2:{if(s){a[D+(c[x+(h<<2)>>2]|0)>>0]=21;k=3;g=g|2097152}else k=3;break}default:{}}l=p;F=(o|0)==13?n:F;i=1}if((L|0)==76){E=N;return g|0}D=(h|0)>125;i=D?2:k;h=D?125:h;while(1){if((h|0)<=-1)break;if((i|0)==2){L=62;break}i=c[G+(h<<2)>>2]|0;h=h+-1|0}if((L|0)==62)g=g|1048576;if(c[I>>2]&4){if((c[z>>2]|0)<(J|0))c[y>>2]=(c[y>>2]|0)+-1}else{c[(c[M>>2]|0)+((c[y>>2]|0)+-1<<3)>>2]=J;c[A>>2]=p}if(t)c[(c[M>>2]|0)+((c[y>>2]|0)+-1<<3)+4>>2]=1;if(H)a[K>>0]=c[(c[M>>2]|0)+4>>2];i=c[y>>2]|0;h=0;while(1){if((h|0)>=(i|0))break;L=c[69880+((c[(c[M>>2]|0)+(h<<3)+4>>2]&1)<<2)>>2]|g;h=h+1|0;g=L}c[f+120>>2]=g|(g&128|0)!=0&(a[f+92>>0]|0)!=0&1;c[f+124>>2]=F;f=1;E=N;return f|0}function ia(f,g){f=f|0;g=g|0;var h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0,v=0,w=0,x=0,y=0,z=0,A=0,B=0,C=0,D=0,F=0,G=0,H=0,I=0,J=0,K=0,L=0;L=E;E=E+5328|0;o=L+2788|0;B=L;C=L+256|0;I=c[f+72>>2]|0;K=c[f+76>>2]|0;G=c[f+4>>2]|0;H=c[f+12>>2]|0;D=f+120|0;i=c[D>>2]|0;y=f+94|0;if((a[y>>0]|0)!=0?(h=c[f+136>>2]|0,(c[h>>2]|0)<=0):0)j=da(c[f+132>>2]|0,h,0)|0;else j=a[f+93>>0]|0;x=f+240|0;c[x>>2]=0;if(($(c[g>>2]|0)|0)<<24>>24){K=0;E=L;return K|0}h=ra(i)|0;if((h|0)!=2){K=h;E=L;return K|0}if((c[f+84>>2]|0)>1){m=f+132|0;k=f+136|0;j=0;while(1){if((j|0)>=(c[m>>2]|0)){F=2;break}if(!j){h=0;i=c[k>>2]|0}else{i=c[k>>2]|0;h=c[i+(j+-1<<3)>>2]|0}l=c[i+(j<<3)>>2]|0;i=c[i+(j<<3)+4>>2]&255;while(1){if((h|0)>=(l|0))break;a[K+h>>0]=i;h=h+1|0}j=j+1|0}E=L;return F|0}if(!(i&7985152)){sa(f,o);n=f+132|0;l=f+136|0;k=0;a:while(1){if((k|0)>=(c[n>>2]|0)){F=2;J=89;break}if(!k){i=0;h=c[l>>2]|0}else{h=c[l>>2]|0;i=c[h+(k+-1<<3)>>2]|0}m=c[h+(k<<3)>>2]|0;j=c[h+(k<<3)+4>>2]&255;while(1){if((i|0)>=(m|0))break;a[K+i>>0]=j;b:do{switch(a[I+i>>0]|0){case 18:break;case 7:{h=i+1|0;if((h|0)<(H|0)){if((b[G+(i<<1)>>1]|0)==13?(b[G+(h<<1)>>1]|0)==10:0)break b;ta(o,j)}break}default:if(!((ua(o,i)|0)<<24>>24))break a}}while(0);i=i+1|0}k=k+1|0}if((J|0)==89){E=L;return F|0}c[g>>2]=7;K=0;E=L;return K|0}sa(f,C);b[B>>1]=j&255;v=f+93|0;w=f+136|0;u=f+132|0;r=0;p=0;s=0;i=0;m=0;g=j;q=j;h=0;t=0;c:while(1){if((t|0)>=(H|0))break;o=I+t|0;l=a[o>>0]|0;n=l&255;d:do{switch(l<<24>>24){case 15:case 12:case 14:case 11:{h=h|262144;a[K+t>>0]=g;if((l+-11&255)<2)j=q+2&126;else j=(q&127)+1<<24>>24|1;if(!((p|s|0)==0&(j&255)<126)){k=r;p=p+((s|0)==0&1)|0;l=s;j=q;break d}switch(l<<24>>24){case 15:case 12:{j=j|-128;break}default:{}}i=i+1|0;b[B+(i<<1)>>1]=j&255;k=r;l=s;m=t;break}case 16:{h=h|262144;a[K+t>>0]=g;if(!s){if(p|0){k=r;p=p+-1|0;l=0;j=q;break d}if(i){n=i+-1|0;if((e[B+(i<<1)>>1]|0)<256){k=r;p=0;l=0;m=t;j=b[B+(n<<1)>>1]&255;i=n}else{k=r;p=0;l=0;j=q}}else{k=r;p=0;l=0;j=q;i=0}}else{k=r;l=s;j=q}break}case 21:case 20:{k=q&255;h=h|c[69880+((k&1)<<2)>>2];j=k&127;a[K+t>>0]=j;if((j|0)==(g&127|0))h=h|1024;else{va(C,m,g,q);h=h|-2147482624}l=l<<24>>24==20?k+2&382:j+1|1;j=l&255;if(!((p|s|0)==0&(l&254)>>>0<126)){a[o>>0]=9;g=q;k=r;l=s+1|0;j=q;break d}k=r+1|0;if((r|0)>=(c[x>>2]|0))c[x>>2]=k;i=i+1|0;b[B+(i<<1)>>1]=l|256;wa(C,j);g=q;l=s;m=t;h=h|1<<n;break}case 22:{if((g^q)&127){va(C,m,g,q);h=h|-2147483648}do{if(!s){if(!r){a[o>>0]=9;k=0;j=p;l=0;break}do{s=i;i=i+-1|0}while((e[B+(s<<1)>>1]|0)<256);xa(C);k=r+-1|0;j=0;l=0;m=t;h=h|4194304}else{a[o>>0]=9;k=r;j=p;l=s+-1|0}}while(0);g=b[B+(i<<1)>>1]|0;s=g&255;g=g&255;h=h|c[69880+((g&1)<<2)>>2]|1024;a[K+t>>0]=g&127;g=s;p=j;j=s;break}case 7:{h=h|128;if((a[y>>0]|0)!=0?(z=c[w>>2]|0,(t|0)>=(c[z>>2]|0)):0)j=da(c[u>>2]|0,z,t)|0;else j=a[v>>0]|0;a[K+t>>0]=j;j=t+1|0;if((j|0)<(H|0)){if((b[G+(t<<1)>>1]|0)==13?(b[G+(j<<1)>>1]|0)==10:0){k=r;l=s;j=q;break d}if((a[y>>0]|0)!=0?(A=c[w>>2]|0,(j|0)>=(c[A>>2]|0)):0)i=da(c[u>>2]|0,A,j)|0;else i=a[v>>0]|0;b[B>>1]=i&255;ta(C,i);g=i;k=0;p=0;l=0;j=i;i=0}else{k=r;l=s;j=q}break}case 18:{a[K+t>>0]=g;k=r;l=s;j=q;h=h|262144;break}default:{j=q&255;if((j&127|0)==(g&127|0))n=h;else{va(C,m,g,q);n=c[((j&128|0)==0?70024:70016)+((j&1)<<2)>>2]|(h|-2147483648)}a[K+t>>0]=q;if(!((ua(C,t)|0)<<24>>24)){F=-1;J=89;break c}g=q;k=r;l=s;j=q;h=1<<d[o>>0]|n}}}while(0);r=k;s=l;q=j;t=t+1|0}if((J|0)==89){E=L;return F|0}if(h&8380376)h=c[69880+((a[v>>0]&1)<<2)>>2]|h;K=h|(h&128|0)!=0&(a[f+92>>0]|0)!=0&1;c[D>>2]=K;K=ra(K)|0;E=L;return K|0}function ja(d,e,f,g,h){d=d|0;e=e|0;f=f|0;g=g|0;h=h|0;var i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0;u=E;E=E+32|0;s=u;t=c[d+72>>2]|0;if((c[d+124>>2]|0)>(e|0)){if((a[d+94>>0]|0)!=0?(i=c[d+136>>2]|0,(c[i>>2]|0)<=(e|0)):0)i=da(c[d+132>>2]|0,i,e)|0;else i=a[d+93>>0]|0;if(i&1)q=((c[d+84>>2]|0)+-5|0)>>>0<2;else q=0}else q=0;c[s+12>>2]=-1;c[s+16>>2]=-1;c[s+24>>2]=e;r=a[(c[d+76>>2]|0)+e>>0]|0;a[s+28>>0]=r;p=c[d+112>>2]|0;r=r&1;c[s>>2]=c[p+(r<<2)>>2];c[s+4>>2]=c[p+8+(r<<2)>>2];if((e|0)==0?(c[d+100>>2]|0)>0:0){i=ma(d)|0;i=i<<24>>24==4?g:i}else i=g;g=t+e|0;r=d+240|0;if((a[g>>0]|0)==22?(j=c[r>>2]|0,(j|0)>-1):0){o=c[d+244>>2]|0;c[s+8>>2]=c[o+(j<<4)>>2];g=c[o+(j<<4)+4>>2]|0;p=b[o+(j<<4)+12>>1]|0;c[s+20>>2]=c[o+(j<<4)+8>>2];c[r>>2]=j+-1;j=p}else{c[s+8>>2]=-1;j=(a[g>>0]|0)==17?(i&255)+1&65535:0;c[s+20>>2]=0;na(d,s,i,e,e);g=e}i=-1;m=1;n=e;o=e;p=g;l=j;while(1){if((n|0)>(f|0))break;if((n|0)>=(f|0)){g=f;do{g=g+-1|0;j=a[t+g>>0]|0;if((g|0)<=(e|0))break}while((1<<(j&255)&382976|0)!=0);if((j&-2)<<24>>24==20)break;else{k=h;j=m}}else{g=a[t+n>>0]|0;if(g<<24>>24==7)c[r>>2]=-1;a:do{if(q){switch(g<<24>>24){case 13:{g=1;j=m;break a}case 2:break;default:{j=m;break a}}b:do{if((i|0)>(n|0))j=m;else{i=n;while(1){i=i+1|0;if((i|0)>=(f|0)){g=2;i=f;j=1;break a}g=a[t+i>>0]|0;switch(g<<24>>24){case 13:case 1:case 0:{j=g;break b}default:{}}}}}while(0);g=j<<24>>24==13?5:2}else j=m}while(0);k=a[16+(g&255)>>0]|0}g=l&65535;k=a[(k&255)+(48+(g<<4))>>0]|0;l=k&31;k=(k&255)>>>5;k=(n|0)==(f|0)&k<<24>>24==0?1:k&255;c:do{if(!(k<<16>>16)){k=o;g=p}else{g=a[48+(g<<4)+15>>0]|0;switch(k&7){case 1:{na(d,s,g,p,n);k=o;g=n;break c}case 2:{k=n;g=p;break c}case 3:{na(d,s,g,p,o);na(d,s,4,o,n);k=o;g=n;break c}case 4:{na(d,s,g,p,o);k=n;g=o;break c}default:{k=o;g=p;break c}}}}while(0);m=j;n=n+1|0;o=k;p=g}k=d+12|0;if((c[k>>2]|0)==(f|0)?(c[d+108>>2]|0)>0:0){i=oa(d)|0;i=i<<24>>24==4?h:i}else i=h;g=f;do{g=g+-1|0;j=a[t+g>>0]|0;if((g|0)<=(e|0))break}while((1<<(j&255)&382976|0)!=0);if((j&-2)<<24>>24==20?(c[k>>2]|0)>(f|0):0){f=(c[r>>2]|0)+1|0;c[r>>2]=f;t=d+244|0;b[(c[t>>2]|0)+(f<<4)+12>>1]=l;c[(c[t>>2]|0)+(c[r>>2]<<4)+8>>2]=c[s+20>>2];c[(c[t>>2]|0)+(c[r>>2]<<4)+4>>2]=p;c[(c[t>>2]|0)+(c[r>>2]<<4)>>2]=c[s+8>>2];E=u;return}na(d,s,i,f,f);E=u;return}function ka(b){b=b|0;var d=0,e=0,f=0,g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0;l=c[b+72>>2]|0;n=c[b+76>>2]|0;if(!(c[b+120>>2]&8248192))return;h=(a[b+92>>0]|0)!=0;i=b+94|0;j=b+93|0;k=b+136|0;g=b+132|0;b=c[b+128>>2]|0;while(1){if((b|0)<=0)break;while(1){if((b|0)<=0)break;e=b+-1|0;d=a[l+e>>0]|0;if(!(1<<(d&255)&8248192)){b=e;break}do{if(h&d<<24>>24==7)b=0;else{if(a[i>>0]|0?(m=c[k>>2]|0,(b|0)>(c[m>>2]|0)):0){b=da(c[g>>2]|0,m,e)|0;break}b=a[j>>0]|0}}while(0);a[n+e>>0]=b;b=e}while(1){if((b|0)<=0)break;f=b+-1|0;d=a[l+f>>0]|0;e=1<<(d&255);if(!(e&382976)){if(h&d<<24>>24==7){b=0;p=24;break}if(e&384|0){p=20;break}}else a[n+f>>0]=a[n+b>>0]|0;b=f}do{if((p|0)==20){if(a[i>>0]|0?(o=c[k>>2]|0,(b|0)>(c[o>>2]|0)):0){b=da(c[g>>2]|0,o,f)|0;p=24;break}b=a[j>>0]|0;p=24}}while(0);if((p|0)==24){p=0;a[n+f>>0]=b;b=f}}return}function la(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0,j=0,k=0;k=a+328|0;e=c[k>>2]|0;do{if(!e){g=lb(80)|0;e=a+344|0;c[e>>2]=g;if(g|0){c[k>>2]=10;i=e;f=g;h=10;break}c[a+340>>2]=7;return}else{i=a+344|0;g=c[i>>2]|0;f=g;h=e}}while(0);j=a+332|0;e=c[j>>2]|0;do{if((e|0)>=(h|0)){f=mb(g,h<<4)|0;c[i>>2]=f;if(f|0){c[k>>2]=c[k>>2]<<1;e=c[j>>2]|0;break}c[i>>2]=g;c[a+340>>2]=7;return}}while(0);c[f+(e<<3)>>2]=b;c[f+(e<<3)+4>>2]=d;c[j>>2]=(c[j>>2]|0)+1;return}function ma(a){a=a|0;var b=0,d=0,f=0,g=0,h=0,i=0;g=c[a+96>>2]|0;b=c[a+100>>2]|0;a:while(1){if((b|0)<=0){b=4;d=8;break}f=b+-1|0;d=e[g+(f<<1)>>1]|0;if((b|0)!=1&(d&64512|0)==56320){b=b+-2|0;i=e[g+(b<<1)>>1]|0;h=(i&64512|0)==55296;d=h?d+-56613888+(i<<10)|0:d;b=h?b:f}else b=f;switch(((pa(a,d)|0)&255)<<24>>24){case 13:case 1:{d=6;break a}case 7:{d=7;break a}case 0:{b=0;d=8;break a}default:{}}}if((d|0)==6){i=1;return i|0}else if((d|0)==7){i=4;return i|0}else if((d|0)==8)return b|0;return 0}function na(b,e,f,g,h){b=b|0;e=e|0;f=f|0;g=g|0;h=h|0;var i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0;l=c[e>>2]|0;p=c[e+4>>2]|0;s=b+76|0;t=c[s>>2]|0;o=e+20|0;k=c[o>>2]&255;q=d[(f&255)+(l+(k<<3))>>0]|0;r=q&15;c[o>>2]=r;r=a[l+(r<<3)+7>>0]|0;a:do{switch(a[p+(q>>>4)>>0]|0){case 14:{l=e+8|0;m=(a[e+28>>0]|0)+1<<24>>24;i=g;while(1){k=i+-1|0;if((i|0)<=(c[l>>2]|0)){i=g;break a}i=t+k|0;j=a[i>>0]|0;if((j&255)>(m&255))a[i>>0]=(j&255)+254;i=k}}case 1:{c[e+8>>2]=g;i=g;break}case 2:{i=c[e+8>>2]|0;break}case 3:{qa(c[b+72>>2]|0,c[s>>2]|0,c[e+8>>2]|0,g,(d[e+28>>0]|0)+1&255);i=g;break}case 4:{qa(c[b+72>>2]|0,c[s>>2]|0,c[e+8>>2]|0,g,(d[e+28>>0]|0)+2&255);i=g;break}case 5:{i=e+12|0;j=c[i>>2]|0;if((j|0)>-1)la(b,j,1);c[i>>2]=-1;if(c[b+328>>2]|0?(m=b+332|0,n=b+336|0,(c[m>>2]|0)>(c[n>>2]|0)):0){j=e+16|0;i=c[j>>2]|0;while(1){i=i+1|0;if((i|0)>=(g|0))break;q=t+i|0;a[q>>0]=(a[q>>0]|0)+-2<<24>>24&-2}c[n>>2]=c[m>>2];c[j>>2]=-1;if(f<<24>>24!=5){i=g;break a}la(b,g,1);c[n>>2]=c[m>>2];i=g;break a}c[e+16>>2]=-1;if(!(a[l+(k<<3)+7>>0]&1))i=g;else{i=c[e+8>>2]|0;i=(i|0)>0?i:g}if(f<<24>>24==5){la(b,g,1);c[b+336>>2]=c[b+332>>2]}break}case 6:{if((c[b+328>>2]|0)>0)c[b+332>>2]=c[b+336>>2];c[e+8>>2]=-1;c[e+12>>2]=-1;c[e+16>>2]=h+-1;i=g;break}case 7:{if((f<<24>>24==3?(a[(c[b+72>>2]|0)+g>>0]|0)==5:0)?(c[b+84>>2]|0)!=6:0){i=e+12|0;j=c[i>>2]|0;if((j|0)==-1){c[e+16>>2]=h+-1;i=g;break a}if((j|0)>-1){la(b,j,1);c[i>>2]=-2}la(b,g,1);i=g;break a}i=e+12|0;if((c[i>>2]|0)==-1){c[i>>2]=g;i=g}else i=g;break}case 8:{c[e+16>>2]=h+-1;c[e+8>>2]=-1;i=g;break}case 9:{i=g;while(1){q=i;i=i+-1|0;if((q|0)<=0)break;if(a[t+i>>0]&1){j=36;break}}if((j|0)==36){la(b,i,4);c[b+336>>2]=c[b+332>>2]}c[e+8>>2]=g;i=g;break}case 10:{la(b,g,1);la(b,g,2);i=g;break}case 11:{i=b+336|0;j=b+332|0;c[j>>2]=c[i>>2];if(f<<24>>24==5){la(b,g,4);c[i>>2]=c[j>>2];i=g}else i=g;break}case 12:{l=(d[e+28>>0]|0)+(r&255)|0;j=l&255;k=e+8|0;l=l&255;i=c[k>>2]|0;while(1){if((i|0)>=(g|0))break;m=t+i|0;if(l>>>0>(d[m>>0]|0)>>>0)a[m>>0]=j;i=i+1|0}c[b+336>>2]=c[b+332>>2];c[k>>2]=g;i=g;break}case 13:{n=a[e+28>>0]|0;f=e+8|0;q=n&255;o=q+3|0;p=q+2|0;q=q+1&255;i=g;while(1){k=i+-1|0;if((i|0)<=(c[f>>2]|0)){i=g;break a}j=t+k|0;l=a[j>>0]|0;m=l&255;if((o|0)==(m|0)){i=k;j=l;while(1){if((o|0)!=(j&255|0))break;j=i+-1|0;a[t+i>>0]=q;i=j;j=a[t+j>>0]|0}l=i;while(1){i=l+-1|0;if(j<<24>>24!=n<<24>>24)break;l=i;j=a[t+i>>0]|0}i=l;k=j&255;j=t+l|0}else{i=k;k=m}a[j>>0]=(p|0)==(k|0)?n:q}}default:i=g}}while(0);if(!(r<<24>>24!=0|(i|0)<(g|0)))return;j=(d[e+28>>0]|0)+(r&255)&255;if((i|0)<(c[e+24>>2]|0)){qa(c[b+72>>2]|0,c[s>>2]|0,i,h,j);return}while(1){if((i|0)>=(h|0))break;a[t+i>>0]=j;i=i+1|0}return}function oa(a){a=a|0;var b=0,d=0,f=0,g=0,h=0,i=0,j=0;g=c[a+104>>2]|0;h=c[a+108>>2]|0;b=0;a:while(1){if((b|0)>=(h|0)){b=4;d=7;break}f=b+1|0;d=e[g+(b<<1)>>1]|0;if((f|0)==(h|0)|(d&64512|0)!=55296)b=f;else{j=e[g+(f<<1)>>1]|0;i=(j&64512|0)==56320;d=i?(d<<10)+-56613888+j|0:d;b=i?b+2|0:f}switch(((pa(a,d)|0)&255)<<24>>24){case 0:{b=0;d=7;break a}case 13:case 1:{d=8;break a}case 5:{d=6;break a}case 2:{b=2;d=9;break a}default:{}}}if((d|0)==6){j=3;return j|0}else if((d|0)==7){j=b;return j|0}else if((d|0)==8){j=1;return j|0}else if((d|0)==9)return b|0;return 0}function pa(a,b){a=a|0;b=b|0;var d=0,e=0;e=c[a+352>>2]|0;if(!((e|0)!=0?(d=I[e&0](c[a+356>>2]|0,b)|0,(d|0)!=23):0))d=tb(b)|0;return((d|0)>22?10:d)|0}function qa(b,c,d,e,f){b=b|0;c=c|0;d=d|0;e=e|0;f=f|0;var g=0,h=0;g=0;while(1){if((d|0)>=(e|0))break;h=a[b+d>>0]|0;g=g+((h<<24>>24==22)<<31>>31)|0;if(!g)a[c+d>>0]=f;d=d+1|0;g=g+((h&-2)<<24>>24==20&1)|0}return}function ra(a){a=a|0;if((a&2154498|0)==0?(a&32|0)==0|(a&8249304|0)==0:0){a=0;return a|0}a=(a&26220581|0)==0?1:2;return a|0}function sa(d,e){d=d|0;e=e|0;var f=0,g=0,h=0;c[e>>2]=d;c[e+492>>2]=0;b[e+500>>1]=0;b[e+502>>1]=0;h=d+94|0;if((a[h>>0]|0)!=0?(f=c[d+136>>2]|0,(c[f>>2]|0)<=0):0)f=da(c[d+132>>2]|0,f,0)|0;else f=a[d+93>>0]|0;a[e+504>>0]=f;if((a[h>>0]|0)!=0?(g=c[d+136>>2]|0,(c[g>>2]|0)<=0):0)f=da(c[d+132>>2]|0,g,0)|0;else f=a[d+93>>0]|0;f=f&1;a[e+506>>0]=f;a[e+505>>0]=f;c[e+508>>2]=f&255;c[e+496>>2]=0;f=c[d+52>>2]|0;if(!f){c[e+484>>2]=e+4;g=20;h=e+488|0;c[h>>2]=g;d=d+84|0;d=c[d>>2]|0;h=(d|0)==1;d=(d|0)==6;d=h|d;d=d&1;e=e+2528|0;a[e>>0]=d;return}else{c[e+484>>2]=f;g=((c[d+28>>2]|0)>>>0)/24|0;h=e+488|0;c[h>>2]=g;d=d+84|0;d=c[d>>2]|0;h=(d|0)==1;d=(d|0)==6;d=h|d;d=d&1;e=e+2528|0;a[e>>0]=d;return}}function ta(d,e){d=d|0;e=e|0;c[d+492>>2]=0;b[d+502>>1]=0;a[d+504>>0]=e;e=e&1;a[d+506>>0]=e;a[d+505>>0]=e;c[d+508>>2]=e&255;c[d+496>>2]=0;return}function ua(f,g){f=f|0;g=g|0;var h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0;s=c[f+492>>2]|0;p=f+496+(s<<4)|0;h=c[f>>2]|0;r=(c[h+72>>2]|0)+g|0;m=a[r>>0]|0;do{if(m<<24>>24==10){h=b[(c[h+4>>2]|0)+(g<<1)>>1]|0;l=f+496+(s<<4)+4|0;i=e[l>>1]|0;o=f+484|0;j=h&65535;n=e[f+496+(s<<4)+6>>1]|0;while(1){t=n;n=n+-1|0;if((t|0)<=(i|0))break;if((c[(c[o>>2]|0)+(n*24|0)+4>>2]|0)==(j|0)){q=5;break}}if((q|0)==5){h=ya(f,n,g)|0;if(h<<24>>24==10)break;a[f+496+(s<<4)+10>>0]=10;c[f+496+(s<<4)+12>>2]=h&255;c[p>>2]=g;h=c[(c[f>>2]|0)+76>>2]|0;i=d[h+g>>0]|0;if(i&128){i=i&1;a[f+496+(s<<4)+9>>0]=i;i=1<<i;h=e[l>>1]|0;while(1){if((h|0)>=(n|0))break;t=(c[o>>2]|0)+(h*24|0)+12|0;b[t>>1]=i|e[t>>1];h=h+1|0}h=(c[(c[f>>2]|0)+76>>2]|0)+g|0;a[h>>0]=a[h>>0]&127;h=c[(c[f>>2]|0)+76>>2]|0}t=h+(c[(c[o>>2]|0)+(n*24|0)>>2]|0)|0;a[t>>0]=a[t>>0]&127;t=1;return t|0}if((h<<16>>16?(k=(zb(j)|0)&65535,h<<16>>16!=k<<16>>16):0)?(wb(j)|0)==1:0){a:do{if(k<<16>>16<12297){switch(k<<16>>16){case 9002:break;default:break a}if(!((za(f,12297,g)|0)<<24>>24)){t=0;return t|0}}else{switch(k<<16>>16){case 12297:break;default:break a}if(!((za(f,9002,g)|0)<<24>>24)){t=0;return t|0}}}while(0);if(!((za(f,k,g)|0)<<24>>24)){t=0;return t|0}}}}while(0);h=d[(c[(c[f>>2]|0)+76>>2]|0)+g>>0]|0;b:do{if(!(h&128))switch(m<<24>>24){case 0:case 1:case 13:{h=m<<24>>24!=0;a[f+496+(s<<4)+10>>0]=m;a[f+496+(s<<4)+9>>0]=m;c[f+496+(s<<4)+12>>2]=h&1;c[p>>2]=g;h=h&1;q=35;break b}case 2:{a[f+496+(s<<4)+10>>0]=2;switch(a[f+496+(s<<4)+9>>0]|0){case 0:{if(!(a[f+2528>>0]|0))a[r>>0]=23;c[f+496+(s<<4)+12>>2]=0;c[p>>2]=g;h=0;break b}case 13:{h=5;break}default:h=24}a[r>>0]=h;c[f+496+(s<<4)+12>>2]=1;c[p>>2]=g;h=1;break b}case 5:{a[f+496+(s<<4)+10>>0]=5;c[f+496+(s<<4)+12>>2]=1;c[p>>2]=g;h=1;break b}case 17:{h=a[f+496+(s<<4)+10>>0]|0;if(h<<24>>24!=10){q=35;break b}a[r>>0]=10;t=1;return t|0}default:{a[f+496+(s<<4)+10>>0]=m;h=m;q=35;break b}}else{i=h&1;h=i&255;if((m+-8&255)>=3)a[r>>0]=h;a[f+496+(s<<4)+10>>0]=h;a[f+496+(s<<4)+9>>0]=h;c[f+496+(s<<4)+12>>2]=i;c[p>>2]=g;q=35}}while(0);c:do{if((q|0)==35){switch(h<<24>>24){case 0:case 1:case 13:break c;default:h=1}return h|0}}while(0);j=1<<(h<<24>>24!=0&1);k=f+496+(s<<4)+6|0;l=f+484|0;h=e[f+496+(s<<4)+4>>1]|0;while(1){if(h>>>0>=(e[k>>1]|0)>>>0){h=1;break}i=c[l>>2]|0;if((c[i+(h*24|0)>>2]|0)<(g|0)){t=i+(h*24|0)+12|0;b[t>>1]=j|e[t>>1]}h=h+1|0}return h|0}\nfunction va(e,f,g,h){e=e|0;f=f|0;g=g|0;h=h|0;var i=0;i=c[e+492>>2]|0;if(1<<(d[(c[(c[e>>2]|0)+72>>2]|0)+f>>0]|0)&7864320|0)return;b[e+496+(i<<4)+6>>1]=b[e+496+(i<<4)+4>>1]|0;a[e+496+(i<<4)+8>>0]=h;h=((h&127)>(g&127)?h:g)&1;a[e+496+(i<<4)+10>>0]=h;a[e+496+(i<<4)+9>>0]=h;c[e+496+(i<<4)+12>>2]=h&255;c[e+496+(i<<4)>>2]=f;return}function wa(d,e){d=d|0;e=e|0;var f=0,g=0,h=0;g=d+492|0;h=c[g>>2]|0;f=d+496+(h<<4)|0;a[d+496+(h<<4)+10>>0]=10;d=b[d+496+(h<<4)+6>>1]|0;c[g>>2]=h+1;b[f+22>>1]=d;b[f+20>>1]=d;a[f+24>>0]=e;e=e&1;a[f+26>>0]=e;a[f+25>>0]=e;c[f+28>>2]=e&255;c[f+16>>2]=0;return}function xa(b){b=b|0;var d=0,e=0;e=b+492|0;d=(c[e>>2]|0)+-1|0;c[e>>2]=d;a[b+496+(d<<4)+10>>0]=10;return}function ya(d,f,g){d=d|0;f=f|0;g=g|0;var h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0;o=c[d+492>>2]|0;q=d+484|0;m=c[q>>2]|0;j=a[d+496+(o<<4)+8>>0]&1;h=j&255;i=b[m+(f*24|0)+12>>1]|0;if(!(j<<24>>24))if(!(i&1))l=4;else{p=0;k=0}else if(!(i&2))l=4;else{p=1;k=0}do{if((l|0)==4){if(i&3){p=c[m+(f*24|0)+16>>2]|0;p=(p|0)==(h|0)?j:p&255;k=(e[d+496+(o<<4)+4>>1]|0|0)!=(f|0);break}b[d+496+(o<<4)+6>>1]=f;q=10;return q|0}}while(0);n=m+(f*24|0)|0;a[(c[(c[d>>2]|0)+72>>2]|0)+(c[n>>2]|0)>>0]=p;a[(c[(c[d>>2]|0)+72>>2]|0)+g>>0]=p;Aa(d,f,c[n>>2]|0,p);if(!k){i=d+496+(o<<4)+6|0;h=b[d+496+(o<<4)+4>>1]|0;j=f&65535;while(1){b[i>>1]=j;if((j&65535)<=(h&65535)){h=p;l=21;break}if((c[(c[q>>2]|0)+(((j&65535)+-1|0)*24|0)>>2]|0)==(c[n>>2]|0))j=j+-1<<16>>16;else{h=p;l=21;break}}if((l|0)==21)return h|0}c[m+(f*24|0)+4>>2]=0-g;j=d+496+(o<<4)+4|0;h=f;while(1){i=h+-1|0;if((h|0)<=(e[j>>1]|0|0))break;h=c[q>>2]|0;if((c[h+(i*24|0)>>2]|0)!=(c[n>>2]|0))break;c[h+(i*24|0)+4>>2]=0;h=i}i=d+496+(o<<4)+6|0;while(1){f=f+1|0;if((f|0)>=(e[i>>1]|0|0)){h=p;l=21;break}h=c[q>>2]|0;if((c[h+(f*24|0)>>2]|0)>=(g|0)){h=p;l=21;break}h=h+(f*24|0)+4|0;if((c[h>>2]|0)>0)c[h>>2]=0}if((l|0)==21)return h|0;return 0}function za(a,d,f){a=a|0;d=d|0;f=f|0;var g=0,h=0,i=0,j=0,k=0,l=0,m=0;l=c[a+492>>2]|0;m=a+496+(l<<4)+6|0;g=e[m>>1]|0;k=a+488|0;if((c[k>>2]|0)>(g|0))h=c[a+484>>2]|0;else{j=c[a>>2]|0;i=j+52|0;j=j+28|0;if(!((aa(i,j,1,g*48|0)|0)<<24>>24)){m=0;return m|0}g=a+484|0;h=c[g>>2]|0;if((h|0)==(a+4|0))ec(c[i>>2]|0,h|0,480)|0;h=c[i>>2]|0;c[g>>2]=h;c[k>>2]=((c[j>>2]|0)>>>0)/24|0;g=e[m>>1]|0}c[h+(g*24|0)>>2]=f;c[h+(g*24|0)+4>>2]=d&65535;c[h+(g*24|0)+16>>2]=c[a+496+(l<<4)+12>>2];c[h+(g*24|0)+8>>2]=c[a+496+(l<<4)>>2];b[h+(g*24|0)+12>>1]=0;b[m>>1]=(b[m>>1]|0)+1<<16>>16;m=1;return m|0}function Aa(b,d,f,g){b=b|0;d=d|0;f=f|0;g=g|0;var h=0,i=0,j=0,k=0,l=0,m=0,n=0;m=c[(c[b>>2]|0)+72>>2]|0;h=d+1|0;i=g&255;j=b+496+(c[b+492>>2]<<4)+6|0;d=(c[b+484>>2]|0)+(h*24|0)|0;while(1){if((h|0)>=(e[j>>1]|0|0)){d=9;break}k=d+4|0;if((c[k>>2]|0)<=-1){if((c[d+8>>2]|0)>(f|0)){d=9;break}l=c[d>>2]|0;if((l|0)>(f|0)){if((c[d+16>>2]|0)==(i|0)){d=9;break}a[m+l>>0]=g;n=0-(c[k>>2]|0)|0;a[m+n>>0]=g;c[k>>2]=0;Aa(b,h,l,g);Aa(b,h,n,g)}}d=d+24|0;h=h+1|0}if((d|0)==9)return}function Ba(a){a=a|0;var b=0,d=0,f=0,g=0,h=0,i=0,j=0,k=0;h=c[a+96>>2]|0;i=c[a+100>>2]|0;g=0;b=10;while(1){if((g|0)>=(i|0))break;f=g+1|0;d=e[h+(g<<1)>>1]|0;if((f|0)==(i|0)|(d&64512|0)!=55296)g=f;else{k=e[h+(f<<1)>>1]|0;j=(k&64512|0)==56320;d=j?(d<<10)+-56613888+k|0:d;g=j?g+2|0:f}d=pa(a,d)|0;f=d&255;a:do{if(b<<24>>24==10){switch(f<<24>>24){case 13:case 1:case 0:break;default:{b=10;break a}}b=f}else b=(d&255|0)==7?10:b}while(0)}return b|0}function Ca(a){a=a|0;var b=0,d=0,e=0;d=c[a+132>>2]|0;e=a+136|0;b=c[e>>2]|0;if((b|0)!=(a+140|0)){b=a+56|0;if(!((aa(b,a+32|0,1,d<<4)|0)<<24>>24)){e=0;return e|0}c[e>>2]=c[b>>2];e=1;return e|0}if((d|0)<11){e=1;return e|0}d=a+56|0;if(!((aa(d,a+32|0,1,160)|0)<<24>>24)){e=0;return e|0}a=c[d>>2]|0;c[e>>2]=a;d=a+80|0;do{c[a>>2]=c[b>>2];a=a+4|0;b=b+4|0}while((a|0)<(d|0));e=1;return e|0}function Da(a){a=a|0;var b=0;do{if(!a)a=0;else{b=c[a>>2]|0;if((b|0)!=(a|0)){if(!b){a=0;break}if((c[b>>2]|0)!=(b|0)){a=0;break}}a=c[a+12>>2]|0}}while(0);return a|0}function Ea(a){a=a|0;var b=0;do{if(!a)a=0;else{b=c[a>>2]|0;if((b|0)!=(a|0)){if(!b){a=0;break}if((c[b>>2]|0)!=(b|0)){a=0;break}}a=c[a+132>>2]|0}}while(0);return a|0}function Fa(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0;if(!e)return;if(($(c[e>>2]|0)|0)<<24>>24)return;do{if(a|0){f=c[a>>2]|0;if((f|0)!=(a|0)){if(!f)break;if((c[f>>2]|0)!=(f|0))break}if((b|0)>=0?(c[a+132>>2]|0)>(b|0):0){if(!d)return;c[d>>2]=c[(c[f+136>>2]|0)+(b<<3)>>2];return}c[e>>2]=1;return}}while(0);c[e>>2]=27;return}function Ga(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0;if(!d){f=-1;return f|0}if(($(c[d>>2]|0)|0)<<24>>24){f=-1;return f|0}do{if(a|0){f=c[a>>2]|0;if((f|0)!=(a|0)){if(!f)break;if((c[f>>2]|0)!=(f|0))break}if((b|0)>=0?(c[f+12>>2]|0)>(b|0):0){e=c[f+136>>2]|0;a=0;while(1)if((c[e+(a<<3)>>2]|0)>(b|0))break;else a=a+1|0;Fa(f,a,0,d);f=a;return f|0}c[d>>2]=1;f=-1;return f|0}}while(0);c[d>>2]=27;f=-1;return f|0}function Ha(a,b,d,e,f){a=a|0;b=b|0;d=d|0;e=e|0;f=f|0;var g=0;if(!f){f=0;return f|0}if((Ia(c[f>>2]|0)|0)<<24>>24){f=0;return f|0}if(!((a|0)==0|(b|0)<-1|(e|0)<0)?(g=(d|0)==0,!(g&(e|0)>0)):0){do{if(!g){if(!(a>>>0>=d>>>0&(d+(e<<1)|0)>>>0>a>>>0)?!(d>>>0>=a>>>0&(a+(b<<1)|0)>>>0>d>>>0):0)break;c[f>>2]=1;f=0;return f|0}}while(0);if((b|0)==-1)b=ob(a)|0;if((b|0)>0)b=Ja(a,b,d,e,10,f)|0;else b=0;f=qb(d,e,b,f)|0;return f|0}c[f>>2]=1;f=0;return f|0}function Ia(a){a=a|0;return(a|0)>0|0}function Ja(a,d,f,g,h,i){a=a|0;d=d|0;f=f|0;g=g|0;h=h|0;i=i|0;var j=0,k=0,l=0,m=0,n=0,o=0,p=0;l=h&65535;switch(l&11){case 0:{if((g|0)<(d|0)){c[i>>2]=15;o=d;return o|0}k=d;h=f;while(1){j=k+-1|0;f=k+-2|0;if((k|0)>1?(b[a+(j<<1)>>1]&-1024)<<16>>16==-9216:0)j=(b[a+(f<<1)>>1]&-1024)<<16>>16==-10240?f:j;f=j;do{n=f;f=f+1|0;o=h;h=h+2|0;b[o>>1]=b[a+(n<<1)>>1]|0}while((f|0)<(k|0));if((j|0)>0)k=j;else{h=d;break}}return h|0}case 1:{if((g|0)<(d|0)){c[i>>2]=15;o=d;return o|0}i=d;g=f;while(1){f=i;while(1){j=f+-1|0;h=e[a+(j<<1)>>1]|0;if((f|0)>1&(h&64512|0)==56320){f=f+-2|0;n=e[a+(f<<1)>>1]|0;o=(n&64512|0)==55296;h=o?h+-56613888+(n<<10)|0:h;f=o?f:j}else f=j;if((f|0)<=0){k=0;break}if(!(1<<((sb(h)|0)<<24>>24)&448)){k=1;break}}j=f;h=g;do{n=j;j=j+1|0;o=h;h=h+2|0;b[o>>1]=b[a+(n<<1)>>1]|0}while((j|0)<(i|0));if(k){i=f;g=h}else{h=d;break}}return h|0}default:{n=(l&8|0)!=0;if(n){j=a;k=d;h=0;while(1){m=j;j=j+2|0;m=e[m>>1]|0;h=h+((((m+-8294|0)>>>0<4|((m&65532|0)==8204|(m+-8234|0)>>>0<5))^1)&1)|0;if((k|0)<=1)break;else k=k+-1|0}a=j+(0-d<<1)|0}else h=d;if((h|0)>(g|0)){c[i>>2]=15;o=h;return o|0}m=(l&1|0)==0;l=(l&2|0)==0;i=d;while(1){k=i+-1|0;j=e[a+(k<<1)>>1]|0;if((i|0)>1&(j&64512|0)==56320){d=i+-2|0;p=e[a+(d<<1)>>1]|0;g=(p&64512|0)==55296;j=g?j+-56613888+(p<<10)|0:j;k=g?d:k}a:do{if(!m)while(1){if((k|0)<=0)break a;if(!(1<<((sb(j)|0)<<24>>24)&448))break a;g=k+-1|0;j=e[a+(g<<1)>>1]|0;if((k|0)>1&(j&64512|0)==56320){k=k+-2|0;d=e[a+(k<<1)>>1]|0;p=(d&64512|0)==55296;j=p?j+-56613888+(d<<10)|0:j;k=p?k:g}else k=g}}while(0);if(n){if((j&-4|0)!=8204)switch(j|0){case 8234:case 8235:case 8236:case 8237:case 8238:case 8294:case 8295:case 8296:case 8297:break;default:o=40}}else o=40;b:do{if((o|0)==40){o=0;if(l)g=k;else{j=yb(j)|0;if(j>>>0<65536){b[f>>1]=j;j=1}else{b[f>>1]=(j>>>10)+55232;b[f+2>>1]=j&1023|56320;j=2}g=j+k|0;f=f+(j<<1)|0}j=g;while(1){if((j|0)>=(i|0))break b;b[f>>1]=b[a+(j<<1)>>1]|0;j=j+1|0;f=f+2|0}}}while(0);if((k|0)>0)i=k;else break}return h|0}}return 0}function Ka(e,f,g,h,i){e=e|0;f=f|0;g=g|0;h=h|0;i=i|0;var j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0,v=0,w=0,x=0,y=0,z=0;y=E;E=E+16|0;w=y+4|0;x=y;if(!i){i=0;E=y;return i|0}if((Ia(c[i>>2]|0)|0)<<24>>24){i=0;E=y;return i|0}if(((e|0?(v=c[e+4>>2]|0,v|0):0)?(j=c[e+12>>2]|0,(j|g|0)>=0):0)?(k=(f|0)==0,!(k&(g|0)>0)):0){do{if(!k){if(!(v>>>0>=f>>>0&v>>>0<(f+(g<<1)|0)>>>0)){if(v>>>0>f>>>0)break;if((v+(c[e+8>>2]<<1)|0)>>>0<=f>>>0)break}c[i>>2]=1;i=0;E=y;return i|0}}while(0);if(!j){qb(f,g,0,i)|0;i=0;E=y;return i|0}t=Qa(e,i)|0;if((Ia(c[i>>2]|0)|0)<<24>>24){i=0;E=y;return i|0}k=c[e+88>>2]|0;u=h&-13;u=(k&2|0)==0?(k&1|0)==0?h:u|4:u|8;u=((c[e+84>>2]|0)+-3|0)>>>0<4?u:u&-5;k=u&65535;j=(k&4|0)!=0;a:do{if(!(k&16)){if(!j){n=k&65533;l=f;j=g;m=0;while(1){if((m|0)>=(t|0))break a;s=(Va(e,m,w,x)|0)==0;k=v+(c[w>>2]<<1)|0;h=c[x>>2]|0;if(s)k=La(k,h,l,j,n,i)|0;else k=Ja(k,h,l,j,u,i)|0;c[x>>2]=k;l=(l|0)==0?0:l+(k<<1)|0;j=j-k|0;m=m+1|0}}q=c[e+72>>2]|0;r=e+224|0;s=e+80|0;p=k&65533;j=g;o=0;k=f;while(1){if((o|0)>=(t|0))break a;z=Va(e,o,w,x)|0;l=c[w>>2]|0;n=v+(l<<1)|0;h=c[(c[r>>2]|0)+(o*12|0)+8>>2]|0;h=(h|0)>0?h:0;m=(a[s>>0]|0)!=0;do{if(!z){if(m)h=h|(a[q+l>>0]|0)!=0;l=8207-(h&1)<<16>>16;if(h&5){if((j|0)>0){b[k>>1]=l;k=k+2|0}j=j+-1|0}l=La(n,c[x>>2]|0,k,j,p,i)|0;c[x>>2]=l;k=(k|0)==0?0:k+(l<<1)|0;j=j-l|0;if(a[s>>0]|0)h=(a[q+(l+-1+(c[w>>2]|0))>>0]|0)==0?h:h|2;if(!(h&10))break;if((j|0)>0){b[k>>1]=8207-(h>>>1&1)<<16>>16;k=k+2|0}j=j+-1|0}else{if(m)h=(1<<d[q+(l+-1+(c[x>>2]|0))>>0]&8194|0)==0?h|4:h;l=8207-(h&1)<<16>>16;if(h&5){if((j|0)>0){b[k>>1]=l;k=k+2|0}j=j+-1|0}z=Ja(n,c[x>>2]|0,k,j,u,i)|0;c[x>>2]=z;k=(k|0)==0?0:k+(z<<1)|0;j=j-z|0;if(a[s>>0]|0)h=(1<<d[q+(c[w>>2]|0)>>0]&8194|0)==0?h|8:h;if(!(h&10))break;if((j|0)>0){b[k>>1]=8207-(h>>>1&1)<<16>>16;k=k+2|0}j=j+-1|0}}while(0);o=o+1|0}}else{if(!j){n=k&65533;m=f;k=t;j=g;while(1){l=k+-1|0;if((k|0)<=0)break a;z=(Va(e,l,w,x)|0)==0;k=v+(c[w>>2]<<1)|0;h=c[x>>2]|0;if(z)h=Ja(k,h,m,j,n,i)|0;else h=La(k,h,m,j,u,i)|0;c[x>>2]=h;m=(m|0)==0?0:m+(h<<1)|0;k=l;j=j-h|0}}p=c[e+72>>2]|0;o=k&65533;k=f;h=t;j=g;while(1){n=h+-1|0;if((h|0)<=0)break a;z=Va(e,n,w,x)|0;l=c[w>>2]|0;m=v+(l<<1)|0;if(!z){h=c[x>>2]|0;if(a[p+(l+-1+h)>>0]|0){if((j|0)>0){b[k>>1]=8206;k=k+2|0;h=c[x>>2]|0}j=j+-1|0}z=Ja(m,h,k,j,o,i)|0;c[x>>2]=z;k=(k|0)==0?0:k+(z<<1)|0;j=j-z|0;if(a[p+(c[w>>2]|0)>>0]|0){if((j|0)>0){b[k>>1]=8206;k=k+2|0}j=j+-1|0}}else{if(!(1<<d[p+l>>0]&8194)){if((j|0)>0){b[k>>1]=8207;k=k+2|0}j=j+-1|0}z=La(m,c[x>>2]|0,k,j,u,i)|0;c[x>>2]=z;k=(k|0)==0?0:k+(z<<1)|0;j=j-z|0;if(!(1<<d[p+(z+-1+(c[w>>2]|0))>>0]&8194)){if((j|0)>0){b[k>>1]=8207;k=k+2|0}j=j+-1|0}}h=n}}}while(0);z=qb(f,g,g-j|0,i)|0;E=y;return z|0}c[i>>2]=1;z=0;E=y;return z|0}function La(a,d,f,g,h,i){a=a|0;d=d|0;f=f|0;g=g|0;h=h|0;i=i|0;var j=0,k=0,l=0,m=0,n=0;switch(h&10){case 0:{if((g|0)<(d|0)){c[i>>2]=15;g=d;return g|0}j=d;h=f;while(1){b[h>>1]=b[a>>1]|0;if((j|0)>1){a=a+2|0;j=j+-1|0;h=h+2|0}else{h=d;break}}return h|0}case 2:{if((g|0)<(d|0)){c[i>>2]=15;g=d;return g|0}l=0;j=0;while(1){k=j+1|0;h=e[a+(j<<1)>>1]|0;if((k|0)==(d|0)|(h&64512|0)!=55296)j=k;else{m=e[a+(k<<1)>>1]|0;g=(m&64512|0)==56320;h=g?(h<<10)+-56613888+m|0:h;j=g?j+2|0:k}h=yb(h)|0;if(h>>>0<65536)k=l+1|0;else{b[f+(l+1<<1)>>1]=h&1023|56320;k=l+2|0;h=(h>>>10)+55232|0}b[f+(l<<1)>>1]=h;if((j|0)<(d|0))l=k;else{h=d;break}}return h|0}case 8:{l=g;h=a;a=f;a:while(1){k=h;h=h+2|0;k=b[k>>1]|0;b:do{if((k&-4)<<16>>16==8204)j=l;else{switch(k<<16>>16){case 8234:case 8235:case 8236:case 8237:case 8238:case 8294:case 8295:case 8296:case 8297:{j=l;break b}default:{}}j=l+-1|0;if((l|0)<1)break a;b[a>>1]=k;a=a+2|0}}while(0);if((d|0)<=1){m=26;break}else{l=j;d=d+-1|0}}if((m|0)==26){g=g-j|0;return g|0}c[i>>2]=15;a=d;while(1){if((a|0)<=1)break;f=e[h>>1]|0;j=j+((((f+-8294|0)>>>0<4|((f&65532|0)==8204|(f+-8234|0)>>>0<5))^1)<<31>>31)|0;a=a+-1|0;h=h+2|0}g=g-j|0;return g|0}default:{h=0;k=g;j=d;c:while(1){l=e[a>>1]|0;if((j|0)==1|(l&64512|0)!=55296)d=1;else{n=e[a+2>>1]|0;d=(n&64512|0)==56320;l=d?(l<<10)+-56613888+n|0:l;d=d?2:1}a=a+(d<<1)|0;j=j-d|0;d:do{if((l&-4|0)!=8204){switch(l|0){case 8234:case 8235:case 8236:case 8237:case 8238:case 8294:case 8295:case 8296:case 8297:break d;default:{}}k=k-d|0;if((k|0)<0)break c;l=yb(l)|0;if(l>>>0<65536){b[f+(h<<1)>>1]=l;h=h+1|0;break}else{b[f+(h<<1)>>1]=(l>>>10)+55232;b[f+(h+1<<1)>>1]=l&1023|56320;h=h+2|0;break}}}while(0);if((j|0)<=0){m=40;break}}if((m|0)==40)return h|0;c[i>>2]=15;h=a;while(1){if((j|0)<=0)break;n=e[h>>1]|0;k=k+((((n+-8294|0)>>>0<4|((n&65532|0)==8204|(n+-8234|0)>>>0<5))^1)<<31>>31)|0;j=j+-1|0;h=h+2|0}n=g-k|0;return n|0}}return 0}function Ma(d,e,f,g,h){d=d|0;e=e|0;f=f|0;g=g|0;h=h|0;var i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0;if(!h)return;if((Na(c[h>>2]|0)|0)<<24>>24)return;if(d|0?(c[d>>2]|0)==(d|0):0){if(!((e|0)>-1&(f|0)>(e|0))){c[h>>2]=1;return}if((f|0)>=0?(c[d+12>>2]|0)>=(f|0):0){if(!g){c[h>>2]=1;return}p=Ga(d,e,h)|0;if((p|0)!=(Ga(d,f+-1|0,h)|0)){c[h>>2]=1;return}c[g>>2]=0;l=d+4|0;c[g+4>>2]=(c[l>>2]|0)+(e<<1);o=f-e|0;c[g+12>>2]=o;c[g+8>>2]=o;m=g+16|0;c[m>>2]=o;if((a[d+94>>0]|0)!=0?(i=c[d+136>>2]|0,(c[i>>2]|0)<=(e|0)):0){h=d+132|0;j=h;h=da(c[h>>2]|0,i,e)|0}else{j=d+132|0;h=a[d+93>>0]|0}p=g+93|0;a[p>>0]=h;c[g+132>>2]=c[j>>2];c[g+224>>2]=0;c[g+120>>2]=0;c[g+84>>2]=c[d+84>>2];c[g+88>>2]=c[d+88>>2];k=g+348|0;c[k>>2]=0;if((c[d+348>>2]|0)>0){j=e;h=0;while(1){if((j|0)>=(f|0))break;i=b[(c[l>>2]|0)+(j<<1)>>1]|0;if((i&-4)<<16>>16==8204)n=24;else switch(i<<16>>16){case 8234:case 8235:case 8236:case 8237:case 8238:case 8294:case 8295:case 8296:case 8297:{n=24;break}default:{}}if((n|0)==24){n=0;h=h+1|0;c[k>>2]=h}j=j+1|0}c[m>>2]=o-h}c[g+72>>2]=(c[d+72>>2]|0)+e;l=(c[d+76>>2]|0)+e|0;c[g+76>>2]=l;c[g+220>>2]=-1;h=c[d+116>>2]|0;a:do{if((h|0)!=2){c[g+116>>2]=h;h=c[d+128>>2]|0;if((h|0)<=(e|0)){c[g+128>>2]=0;break}if((h|0)<(f|0)){c[g+128>>2]=h-e;break}else{c[g+128>>2]=o;break}}else{Oa(g);k=g+128|0;j=c[k>>2]|0;b:do{if(!j)h=a[p>>0]&1;else{h=a[l>>0]&1;if((j|0)<(o|0)?(a[p>>0]&1)!=h<<24>>24:0){h=2;break}i=1;while(1){if((i|0)==(j|0))break b;if((a[l+i>>0]&1)==h<<24>>24)i=i+1|0;else{h=2;break}}}}while(0);c[g+116>>2]=h&255;switch(h&3){case 0:{a[p>>0]=(a[p>>0]|0)+1<<24>>24&-2;c[k>>2]=0;break a}case 1:{a[p>>0]=a[p>>0]|1;c[k>>2]=0;break a}default:break a}}}while(0);c[g>>2]=d;return}c[h>>2]=1;return}c[h>>2]=27;return}function Na(a){a=a|0;return(a|0)>0|0}function Oa(b){b=b|0;var e=0,f=0,g=0,h=0,i=0;g=c[b+72>>2]|0;h=c[b+76>>2]|0;e=c[b+12>>2]|0;i=a[b+93>>0]|0;if((a[g+(e+-1)>>0]|0)==7){i=e;b=b+128|0;c[b>>2]=i;return}while(1){if((e|0)<=0)break;f=e+-1|0;if(!(1<<d[g+f>>0]&8248192))break;else e=f}while(1){if((e|0)<=0){f=8;break}f=e+-1|0;if((a[h+f>>0]|0)==i<<24>>24)e=f;else{f=8;break}}if((f|0)==8){b=b+128|0;c[b>>2]=e;return}}function Pa(b,d){b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0;if(!d){i=0;return i|0}if((Na(c[d>>2]|0)|0)<<24>>24){i=0;return i|0}do{if(b|0){e=c[b>>2]|0;if((e|0)!=(b|0)){if(!e)break;if((c[e>>2]|0)!=(e|0))break}f=c[b+12>>2]|0;if((f|0)<1){c[d>>2]=1;i=0;return i|0}g=b+128|0;h=c[g>>2]|0;if((f|0)==(h|0)){i=c[b+76>>2]|0;return i|0}e=b+48|0;if(!((aa(e,b+24|0,a[b+68>>0]|0,f)|0)<<24>>24)){c[d>>2]=7;i=0;return i|0}e=c[e>>2]|0;d=b+76|0;if((h|0)>0?(i=c[d>>2]|0,(e|0)!=(i|0)):0)ec(e|0,i|0,h|0)|0;fc(e+h|0,a[b+93>>0]|0,f-h|0)|0;c[g>>2]=f;c[d>>2]=e;i=e;return i|0}}while(0);c[d>>2]=27;i=0;return i|0}function Qa(a,b){a=a|0;b=b|0;var d=0;if(!b){d=-1;return d|0}if((Na(c[b>>2]|0)|0)<<24>>24){d=-1;return d|0}do{if(a|0){d=c[a>>2]|0;if((d|0)!=(a|0)){if(!d)break;if((c[d>>2]|0)!=(d|0))break}Ra(a,b);if((Na(c[b>>2]|0)|0)<<24>>24){d=-1;return d|0}d=c[a+220>>2]|0;return d|0}}while(0);c[b>>2]=27;d=-1;return d|0}function Ra(e,f){e=e|0;f=f|0;var g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0;s=e+220|0;if((c[s>>2]|0)>-1)return;do{if((c[e+116>>2]|0)==2){o=c[e+12>>2]|0;r=c[e+76>>2]|0;p=c[e+128>>2]|0;g=0;i=0;h=-2;while(1){if((g|0)>=(p|0))break;q=a[r+g>>0]|0;g=g+1|0;i=i+(q<<24>>24!=h<<24>>24&1)|0;h=q}if((o|0)==(p|0)&(i|0)==1){Sa(e,a[r>>0]|0);break}l=(o|0)>(p|0);q=i+(l&1)|0;g=e+60|0;if(!((aa(g,e+36|0,a[e+69>>0]|0,q*12|0)|0)<<24>>24))return;n=c[g>>2]|0;m=0;g=126;k=0;i=0;while(1){h=a[r+i>>0]|0;g=(h&255)<(g&255)?h:g;k=(h&255)>(k&255)?h:k;j=i;while(1){j=j+1|0;if((j|0)>=(p|0)){h=0;break}if((a[r+j>>0]|0)!=h<<24>>24){h=1;break}}c[n+(m*12|0)>>2]=i;c[n+(m*12|0)+4>>2]=j-i;c[n+(m*12|0)+8>>2]=0;m=m+1|0;if(!h)break;else i=j}if(l){c[n+(m*12|0)>>2]=p;c[n+(m*12|0)+4>>2]=o-p;p=a[e+93>>0]|0;g=(p&255)<(g&255)?p:g}c[e+224>>2]=n;c[s>>2]=q;Ta(e,g,k);g=0;h=0;while(1){if((h|0)==(q|0))break;o=n+(h*12|0)|0;p=c[o>>2]|0;c[o>>2]=d[r+p>>0]<<31|p;o=n+(h*12|0)+4|0;p=(c[o>>2]|0)+g|0;c[o>>2]=p;g=p;h=h+1|0}if(m>>>0<q>>>0){q=d[e+93>>0]|0;r=n+(((q&1|0)==0?m:0)*12|0)|0;c[r>>2]=q<<31|c[r>>2]}}else Sa(e,a[e+93>>0]|0)}while(0);g=c[e+332>>2]|0;a:do{if((g|0)>0){r=c[e+344>>2]|0;h=r+(g<<3)|0;i=e+224|0;g=r;while(1){if(g>>>0>=h>>>0)break a;r=Ua(c[s>>2]|0,c[i>>2]|0,c[g>>2]|0,f)|0;r=(c[i>>2]|0)+(r*12|0)+8|0;c[r>>2]=c[r>>2]|c[g+4>>2];g=g+8|0}}}while(0);if((c[e+348>>2]|0)<=0)return;g=c[e+4>>2]|0;j=g+(c[e+12>>2]<<1)|0;k=g;h=e+224|0;while(1){if(g>>>0>=j>>>0)break;i=b[g>>1]|0;if((i&-4)<<16>>16==8204)t=31;else switch(i<<16>>16){case 8234:case 8235:case 8236:case 8237:case 8238:case 8294:case 8295:case 8296:case 8297:{t=31;break}default:{}}if((t|0)==31){t=0;e=Ua(c[s>>2]|0,c[h>>2]|0,g-k>>1,f)|0;e=(c[h>>2]|0)+(e*12|0)+8|0;c[e>>2]=(c[e>>2]|0)+-1}g=g+2|0}return}function Sa(a,b){a=a|0;b=b|0;var d=0;d=a+228|0;c[a+224>>2]=d;c[a+220>>2]=1;c[d>>2]=(b&255)<<31;c[a+232>>2]=c[a+12>>2];c[a+236>>2]=0;return}function Ta(a,b,e){a=a|0;b=b|0;e=e|0;var f=0,g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0;o=E;E=E+16|0;n=o;if(((b|1)&255)>=(e&255)){E=o;return}l=b+1<<24>>24;m=c[a+224>>2]|0;i=c[a+76>>2]|0;j=a+128|0;k=a+12|0;h=(c[a+220>>2]|0)+(((c[j>>2]|0)<(c[k>>2]|0))<<31>>31)|0;b=e;while(1){b=b+-1<<24>>24;if((b&255)<(l&255))break;a=0;while(1){if((a|0)>=(h|0))break;if((d[i+(c[m+(a*12|0)>>2]|0)>>0]|0)>=(b&255)){e=a;while(1){g=e+1|0;if((g|0)>=(h|0))break;if((d[i+(c[m+(g*12|0)>>2]|0)>>0]|0)<(b&255))break;else e=g}f=e;while(1){if((a|0)>=(f|0))break;q=m+(a*12|0)|0;c[n>>2]=c[q>>2];c[n+4>>2]=c[q+4>>2];c[n+8>>2]=c[q+8>>2];p=m+(f*12|0)|0;c[q>>2]=c[p>>2];c[q+4>>2]=c[p+4>>2];c[q+8>>2]=c[p+8>>2];c[p>>2]=c[n>>2];c[p+4>>2]=c[n+4>>2];c[p+8>>2]=c[n+8>>2];f=f+-1|0;a=a+1|0}if((g|0)==(h|0))break;else a=e+2|0}else a=a+1|0}}if(l&1){E=o;return}b=h+(((c[j>>2]|0)==(c[k>>2]|0))<<31>>31)|0;a=0;while(1){if((a|0)>=(b|0))break;p=m+(a*12|0)|0;c[n>>2]=c[p>>2];c[n+4>>2]=c[p+4>>2];c[n+8>>2]=c[p+8>>2];q=m+(b*12|0)|0;c[p>>2]=c[q>>2];c[p+4>>2]=c[q+4>>2];c[p+8>>2]=c[q+8>>2];c[q>>2]=c[n>>2];c[q+4>>2]=c[n+4>>2];c[q+8>>2]=c[n+8>>2];b=b+-1|0;a=a+1|0}E=o;return}function Ua(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0,g=0,h=0,i=0,j=0;g=0;f=0;while(1){if((f|0)>=(a|0))break;h=c[b+(f*12|0)+4>>2]|0;j=c[b+(f*12|0)>>2]&2147483647;if((j|0)<=(d|0)?(h-g+j|0)>(d|0):0){i=7;break}g=h;f=f+1|0}if((i|0)==7)return f|0;c[e>>2]=27;j=0;return j|0}function Va(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0,g=0,h=0;h=E;E=E+16|0;f=h;c[f>>2]=0;do{if(a|0){g=c[a>>2]|0;if((g|0)!=(a|0)){if(!g)break;if((c[g>>2]|0)!=(g|0))break}Ra(a,f);if((Na(c[f>>2]|0)|0)<<24>>24){e=0;E=h;return e|0}if((b|0)>=0?(c[a+220>>2]|0)>(b|0):0){a=a+224|0;f=c[(c[a>>2]|0)+(b*12|0)>>2]|0;if(d|0)c[d>>2]=f&2147483647;if(e|0){a=c[a>>2]|0;if((b|0)>0)a=(c[a+(b*12|0)+4>>2]|0)-(c[a+((b+-1|0)*12|0)+4>>2]|0)|0;else a=c[a+4>>2]|0;c[e>>2]=a}e=f>>>31;E=h;return e|0}c[f>>2]=1;e=0;E=h;return e|0}}while(0);c[f>>2]=27;e=0;E=h;return e|0}function Wa(a,d,e){a=a|0;d=d|0;e=e|0;var f=0,g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0;if(!e)return;if((Na(c[e>>2]|0)|0)<<24>>24)return;if(!d){c[e>>2]=1;return}Qa(a,e)|0;if(!((Xa(c[e>>2]|0)|0)<<24>>24))return;m=a+224|0;e=c[m>>2]|0;k=a+220|0;l=e+((c[k>>2]|0)*12|0)|0;n=a+16|0;if((c[n>>2]|0)<1)return;g=0;f=d;while(1){if(e>>>0>=l>>>0)break;h=c[e>>2]|0;j=c[e+4>>2]|0;if((h|0)>-1)while(1){i=f+4|0;c[f>>2]=h;g=g+1|0;if((g|0)<(j|0)){h=h+1|0;f=i}else{f=i;break}}else{i=j-g+(h&2147483647)|0;while(1){i=i+-1|0;h=f+4|0;c[f>>2]=i;g=g+1|0;if((g|0)>=(j|0)){f=h;break}else f=h}}e=e+12|0}if((c[a+332>>2]|0)>0){g=c[k>>2]|0;m=c[m>>2]|0;f=0;e=0;while(1){if((e|0)>=(g|0))break;p=c[m+(e*12|0)+8>>2]|0;f=f+((p&5|0)!=0&1)+((p&10|0)!=0&1)|0;e=e+1|0}e=c[n>>2]|0;while(1){l=g+-1|0;if(!((g|0)>0&(f|0)>0))break;k=c[m+(l*12|0)+8>>2]|0;h=e+-1|0;if(k&10){c[d+(h<<2)>>2]=-1;e=h;f=f+-1|0}if((g|0)>1)j=c[m+((g+-2|0)*12|0)+4>>2]|0;else j=0;i=(f|0)>0;h=c[m+(l*12|0)+4>>2]|0;while(1){g=h+-1|0;if(!(i&(h|0)>(j|0)))break;p=e+-1|0;c[d+(p<<2)>>2]=c[d+(g<<2)>>2];h=g;e=p}g=e+-1|0;if(k&5){c[d+(g<<2)>>2]=-1;e=g;f=f+-1|0}g=l}return}if((c[a+348>>2]|0)<=0)return;p=c[k>>2]|0;o=c[m>>2]|0;a=a+4|0;e=0;m=0;f=0;while(1){if((m|0)>=(p|0))break;n=c[o+(m*12|0)+4>>2]|0;l=n-f|0;g=(c[o+(m*12|0)+8>>2]|0)==0;a:do{if((e|0)==(f|0)&g)e=l+e|0;else{if(g)while(1){if((f|0)>=(n|0))break a;c[d+(e<<2)>>2]=c[d+(f<<2)>>2];f=f+1|0;e=e+1|0}j=c[o+(m*12|0)>>2]|0;i=(j|0)>-1;j=j&2147483647;k=l+-1+j|0;h=0;while(1){if((h|0)>=(l|0))break a;f=i?h+j|0:k-h|0;g=b[(c[a>>2]|0)+(f<<1)>>1]|0;b:do{if((g&-4)<<16>>16!=8204){switch(g<<16>>16){case 8234:case 8235:case 8236:case 8237:case 8238:case 8294:case 8295:case 8296:case 8297:break b;default:{}}c[d+(e<<2)>>2]=f;e=e+1|0}}while(0);h=h+1|0}}}while(0);m=m+1|0;f=n}return}function Xa(a){a=a|0;return(a|0)<1|0}function Ya(a,d,e,f,g){a=a|0;d=d|0;e=e|0;f=f|0;g=g|0;var h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0;o=E;E=E+656|0;j=o+632|0;l=o;m=o+628|0;n=o+624|0;k=o+600|0;if(!g){n=0;E=o;return n|0}if((Za(c[g>>2]|0)|0)<<24>>24){n=0;E=o;return n|0}if(!((a|0)==0|(d|0)<-1)?(h=(e|0)==0,!((f|0)<0|h&(f|0)!=0)):0){if((d|0)==-1)d=ob(a)|0;if((d|0)<1){qb(e,f,0,g)|0;n=0;E=o;return n|0}do{if(!h){if(!(a>>>0<=e>>>0&(a+(d<<1)|0)>>>0>e>>>0)?!(e>>>0<=a>>>0&(e+(f<<1)|0)>>>0>a>>>0):0)break;c[g>>2]=1;n=0;E=o;return n|0}}while(0);c[m>>2]=0;c[n>>2]=0;h=$a(a,d)|0;if((h|0)>(f|0)){c[g>>2]=15;n=h;E=o;return n|0}h=(d|0)>(h|0)?d:h;if((h|0)>=301){i=lb(h<<1)|0;if(!i){c[g>>2]=7;n=0;E=o;return n|0}}else{i=l;h=300}pb(i,a,d)|0;if((h|0)>(d|0))fc(i+(d<<1)|0,0,h-d<<1|0)|0;ab(i,d,m,n);bb(i,d,c[m>>2]|0,c[n>>2]|0);b[k>>1]=8203;b[k+2>>1]=0;c[k+4>>2]=3;c[k+8>>2]=2;c[k+12>>2]=262144;c[k+16>>2]=393216;c[k+20>>2]=0;c[j>>2]=c[k>>2];c[j+4>>2]=c[k+4>>2];c[j+8>>2]=c[k+8>>2];c[j+12>>2]=c[k+12>>2];c[j+16>>2]=c[k+16>>2];c[j+20>>2]=c[k+20>>2];d=cb(i,d,g,j)|0;ab(i,d,m,n);bb(i,d,c[m>>2]|0,c[n>>2]|0);pb(e,i,kb(d,f)|0)|0;if((i|0)!=(l|0))nb(i);if((d|0)>(f|0)){c[g>>2]=15;n=d;E=o;return n|0}else{n=qb(e,f,d,g)|0;E=o;return n|0}}c[g>>2]=1;n=0;E=o;return n|0}function Za(a){a=a|0;return(a|0)>0|0}function _a(a){a=a|0;var c=0;c=a&65535;if((a+-1570&65535)<178){c=b[1712+(c+-1570<<1)>>1]|0;return c|0}if(a<<16>>16==8205){c=3;return c|0}if((a+-8301&65535)<3){c=4;return c|0}if((a+1200&65535)<275){c=d[2080+(c+-64336)>>0]|0;return c|0}if((a+400&65535)>=141){c=0;return c|0}c=d[2368+(c+-65136)>>0]|0;return c|0}function $a(a,c){a=a|0;c=c|0;var d=0,e=0,f=0,g=0,h=0;g=c+-1|0;f=0;d=c;while(1){if((f|0)>=(c|0))break;e=b[a+(f<<1)>>1]|0;if((f|0)<(g|0)&e<<16>>16==1604?(ib(b[a+(f+1<<1)>>1]|0)|0)!=0:0)h=6;else if(jb(e)|0)h=6;if((h|0)==6){h=0;d=d+-1|0}f=f+1|0}return d|0}function ab(a,d,e,f){a=a|0;d=d|0;e=e|0;f=f|0;var g=0,h=0;h=0;while(1){g=(h|0)<(d|0);if(g&(b[a+(h<<1)>>1]|0)==32)h=h+1|0;else break}if(!g){a=0;c[e>>2]=h;c[f>>2]=a;return}g=0;while(1){d=d+-1|0;if((b[a+(d<<1)>>1]|0)!=32)break;else g=g+1|0}c[e>>2]=h;c[f>>2]=g;return}function bb(a,c,d,e){a=a|0;c=c|0;d=d|0;e=e|0;var f=0,g=0;c=c-e|0;while(1){c=c+-1|0;if((d|0)>=(c|0))break;g=a+(d<<1)|0;f=b[g>>1]|0;e=a+(c<<1)|0;b[g>>1]=b[e>>1]|0;b[e>>1]=f;d=d+1|0}return}function cb(a,e,f,g){a=a|0;e=e|0;f=f|0;g=g|0;var h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0,v=0,w=0,x=0,y=0,z=0;z=E;E=E+32|0;x=z;j=0;while(1){if((j|0)>=(e|0))break;k=a+(j<<1)|0;h=b[k>>1]|0;i=h&65535;if((h+1200&65535)<176){h=b[1008+(i+-64336<<1)>>1]|0;if(h<<16>>16)b[k>>1]=h}else if((h+400&65535)<141)b[k>>1]=b[1360+(i+-65136<<1)>>1]|0;j=j+1|0}l=e+-1|0;w=l;j=0;h=_a(b[a+(l<<1)>>1]|0)|0;m=0;v=0;r=0;s=0;p=0;k=-2;while(1){if((l|0)==-1)break;o=h&65535;if(!((o&65280|0)==0?((_a(b[a+(l<<1)>>1]|0)|0)&4)==0:0))y=13;do{if((y|0)==13){y=0;n=l+-1|0;while(1){if((k|0)>=0)break;if((n|0)==-1){i=-1;j=0;k=3e3}else{j=_a(b[a+(n<<1)>>1]|0)|0;u=(j&4)==0;i=n+((u^1)<<31>>31)|0;k=u?n:k}n=i}do{if(!((m&16)==0|(o&32|0)==0)){h=a+(l<<1)|0;i=eb(b[h>>1]|0)|0;if(!(i<<16>>16)){h=_a(0)|0;t=v;u=1;break}else{b[h>>1]=-1;b[a+(w<<1)>>1]=i;h=_a(i)|0;t=v;u=1;l=w;break}}else{t=m;u=p}}while(0);if((l|0)>0){if((b[a+(l+-1<<1)>>1]|0)==32){p=b[a+(l<<1)>>1]|0;q=(fb(p)|0)==0;r=p<<16>>16==1574&q?1:r;s=q?s:1}}else if(!l){p=b[a>>1]|0;q=(fb(p)|0)==0;r=p<<16>>16==1574&q?1:r;s=q?s:1}n=j&65535;o=t&65535;q=h&65535;m=q&3;p=d[1648+((n&3)<<4)+((o&3)<<2)+m>>0]|0;if((m|0)!=1){m=a+(l<<1)|0;i=b[m>>1]|0;if(gb(i)|0)if((o&2|0)==0|(n&1|0)==0|(i&-2)<<16>>16==1612)p=0;else p=o>>>4&1^1|n>>>5&1^1}else{i=a+(l<<1)|0;p=p&1;m=i;i=b[i>>1]|0}if(((i^1536)&65535)<256){if(gb(i)|0){b[m>>1]=p+65136+(d[70134+((i&65535)+-1611)>>0]|0);m=t;p=u;break}i=q>>>8;if(q&8|0){b[m>>1]=p+i+64336;m=t;p=u;break}if((i|0)!=0&(q&4|0)==0){b[m>>1]=p+i+65136;m=t;p=u}else{m=t;p=u}}else{m=t;p=u}}}while(0);i=(h&4)==0;n=i?m:v;m=i?h:m;i=i?l:w;o=l+-1|0;if((o|0)!=(k|0)){if(l)h=_a(b[a+(o<<1)>>1]|0)|0}else{h=j;k=-2}w=i;v=n;l=o}if(p){c[x>>2]=c[g>>2];c[x+4>>2]=c[g+4>>2];c[x+8>>2]=c[g+8>>2];c[x+12>>2]=c[g+12>>2];c[x+16>>2]=c[g+16>>2];c[x+20>>2]=c[g+20>>2];e=hb(a,e,f,x)|0}if(!(r|s)){y=e;E=z;return y|0}y=db(e)|0;E=z;return y|0}function db(a){a=a|0;return a|0}function eb(a){a=a|0;switch(a<<16>>16){case 1570:{a=1628;break}case 1571:{a=1629;break}case 1573:{a=1630;break}case 1575:{a=1631;break}default:a=0}return a|0}function fb(a){a=a|0;return(a+-1587&65535)<4|0}function gb(a){a=a|0;return(a+-1611&65535)<8|0}function hb(a,d,e,f){a=a|0;d=d|0;e=e|0;f=f|0;var g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0;m=(d<<1)+2|0;n=lb(m)|0;if(!n){c[e>>2]=7;n=0;return n|0}fc(n|0,0,m|0)|0;e=0;h=0;g=0;while(1){if((g|0)>=(d|0))break;i=b[a+(g<<1)>>1]|0;if(i<<16>>16==-1){e=e+1|0;h=h+-1|0}else b[n+(h<<1)>>1]=i;h=h+1|0;g=g+1|0}while(1){if((e|0)<=-1)break;b[n+(g<<1)>>1]=0;g=g+-1|0;e=e+-1|0}pb(a,n,d)|0;if(c[f+4>>2]|0){e=ob(a)|0;if(!(c[f+12>>2]|0)){j=0;k=1;l=15}}else{j=1;k=(c[f+12>>2]|0)==0;l=15}if((l|0)==15){fc(n|0,0,m|0)|0;e=d;g=0;i=d;while(1){if((i|0)<=-1)break;h=b[a+(i<<1)>>1]|0;if(j&h<<16>>16==-1|k&h<<16>>16==-2){e=e+1|0;g=g+1|0}else b[n+(e<<1)>>1]=h;e=e+-1|0;i=i+-1|0}e=0;while(1){if((e|0)>=(g|0))break;b[n+(e<<1)>>1]=32;e=e+1|0}pb(a,n,d)|0;e=d}k=(c[f+8>>2]|0)==0;f=(c[f+16>>2]|0)==0;j=f|k^1;if(k|f){fc(n|0,0,m|0)|0;h=0;e=0;g=0;while(1){if((g|0)>=(d|0))break;i=b[a+(g<<1)>>1]|0;if(k&i<<16>>16==-1|j&i<<16>>16==-2){h=h+-1|0;e=e+1|0}else b[n+(h<<1)>>1]=i;h=h+1|0;g=g+1|0}while(1){if((e|0)<=-1)break;b[n+(g<<1)>>1]=32;g=g+-1|0;e=e+-1|0}pb(a,n,d)|0;e=d}nb(n);n=e;return n|0}function ib(a){a=a|0;switch(a<<16>>16){case 1573:case 1571:case 1570:{a=1;break}default:a=a<<16>>16==1575&1}return a|0}function jb(a){a=a|0;return(a&-16)<<16>>16==-400|0}function kb(a,b){a=a|0;b=b|0;return((a|0)>(b|0)?b:a)|0}function lb(a){a=a|0;if(!a)a=70336;else a=Ab(a)|0;return a|0}function mb(a,b){a=a|0;b=b|0;do{if((a|0)!=70336)if(!b){Bb(a);a=70336;break}else{a=Cb(a,b)|0;break}else a=lb(b)|0}while(0);return a|0}function nb(a){a=a|0;if((a|0)==70336)return;Bb(a);return}function ob(a){a=a|0;var c=0;c=a;while(1)if(!(b[c>>1]|0))break;else c=c+2|0;return c-a>>1|0}function pb(a,b,c){a=a|0;b=b|0;c=c|0;if((c|0)<=0)return a|0;ec(a|0,b|0,c<<1|0)|0;return a|0}function qb(a,d,e,f){a=a|0;d=d|0;e=e|0;f=f|0;do{if(f|0?!((e|0)<0|(rb(c[f>>2]|0)|0)<<24>>24==0):0){if((e|0)<(d|0)){b[a+(e<<1)>>1]=0;if((c[f>>2]|0)!=-124)break;c[f>>2]=0;break}if((e|0)==(d|0)){c[f>>2]=-124;break}else{c[f>>2]=15;break}}}while(0);return e|0}function rb(a){a=a|0;return(a|0)<1|0}function sb(a){a=a|0;var c=0;do{if(a>>>0>=55296){if(a>>>0<65536){c=((a|0)<56320?320:0)+(a>>>5)|0;break}if(a>>>0>1114111){a=4596;a=2512+(a<<1)|0;a=b[a>>1]|0;a=a&255;a=a&31;return a|0}else{c=(a>>>5&63)+(e[2512+((a>>>11)+2080<<1)>>1]|0)|0;break}}else c=a>>>5}while(0);a=((e[2512+(c<<1)>>1]|0)<<2)+(a&31)|0;a=2512+(a<<1)|0;a=b[a>>1]|0;a=a&255;a=a&31;return a|0}function tb(a){a=a|0;var c=0;do{if(a>>>0>=55296){if(a>>>0<65536){c=((a|0)<56320?320:0)+(a>>>5)|0;break}if(a>>>0>1114111){a=3644;a=45584+(a<<1)|0;a=b[a>>1]|0;a=a&31;a=a&65535;return a|0}else{c=(a>>>5&63)+(e[45584+((a>>>11)+2080<<1)>>1]|0)|0;break}}else c=a>>>5}while(0);a=((e[45584+(c<<1)>>1]|0)<<2)+(a&31)|0;a=45584+(a<<1)|0;a=b[a>>1]|0;a=a&31;a=a&65535;return a|0}function ub(a){a=a|0;var c=0;do{if(a>>>0>=55296){if(a>>>0<65536){c=((a|0)<56320?320:0)+(a>>>5)|0;break}if(a>>>0>1114111){c=3644;c=45584+(c<<1)|0;c=b[c>>1]|0;a=vb(a,c)|0;return a|0}else{c=(a>>>5&63)+(e[45584+((a>>>11)+2080<<1)>>1]|0)|0;break}}else c=a>>>5}while(0);c=((e[45584+(c<<1)>>1]|0)<<2)+(a&31)|0;c=45584+(c<<1)|0;c=b[c>>1]|0;a=vb(a,c)|0;return a|0}function vb(a,b){a=a|0;b=b|0;var d=0,e=0;b=b<<16>>16>>13;if((b|0)!=-4){e=b+a|0;return e|0}b=0;while(1){if(b>>>0>=40){b=8;break}e=c[45424+(b<<2)>>2]|0;d=e&2097151;if((d|0)==(a|0)){b=6;break}if((d|0)>(a|0)){b=8;break}else b=b+1|0}if((b|0)==6){e=c[45424+(e>>>21<<2)>>2]&2097151;return e|0}else if((b|0)==8)return a|0;return 0}function wb(a){a=a|0;var c=0,d=0;do{if(a>>>0>=55296){if(a>>>0<65536){c=((a|0)<56320?320:0)+(a>>>5)|0;d=7;break}if(a>>>0>1114111)c=3644;else{c=(a>>>5&63)+(e[45584+((a>>>11)+2080<<1)>>1]|0)|0;d=7}}else{c=a>>>5;d=7}}while(0);if((d|0)==7)c=((e[45584+(c<<1)>>1]|0)<<2)+(a&31)|0;return(b[45584+(c<<1)>>1]&768)>>>8|0}function xb(a){a=a|0;var c=0,d=0;do{if(a>>>0>=55296){if(a>>>0<65536){c=((a|0)<56320?320:0)+(a>>>5)|0;d=7;break}if(a>>>0>1114111)c=3644;else{c=(a>>>5&63)+(e[45584+((a>>>11)+2080<<1)>>1]|0)|0;d=7}}else{c=a>>>5;d=7}}while(0);if((d|0)==7)c=((e[45584+(c<<1)>>1]|0)<<2)+(a&31)|0;c=b[45584+(c<<1)>>1]|0;if(!(c&768))return a|0;a=vb(a,c)|0;return a|0}function yb(a){a=a|0;return ub(a)|0}function zb(a){a=a|0;return xb(a)|0}function Ab(a){a=a|0;var b=0,d=0,e=0,f=0,g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0;t=E;E=E+16|0;n=t;do{if(a>>>0<245){k=a>>>0<11?16:a+11&-8;a=k>>>3;m=c[17594]|0;d=m>>>a;if(d&3|0){b=(d&1^1)+a|0;a=70416+(b<<1<<2)|0;d=a+8|0;e=c[d>>2]|0;f=e+8|0;g=c[f>>2]|0;if((g|0)==(a|0))c[17594]=m&~(1<<b);else{c[g+12>>2]=a;c[d>>2]=g}s=b<<3;c[e+4>>2]=s|3;s=e+s+4|0;c[s>>2]=c[s>>2]|1;s=f;E=t;return s|0}l=c[17596]|0;if(k>>>0>l>>>0){if(d|0){b=2<<a;b=d<<a&(b|0-b);b=(b&0-b)+-1|0;i=b>>>12&16;b=b>>>i;d=b>>>5&8;b=b>>>d;g=b>>>2&4;b=b>>>g;a=b>>>1&2;b=b>>>a;e=b>>>1&1;e=(d|i|g|a|e)+(b>>>e)|0;b=70416+(e<<1<<2)|0;a=b+8|0;g=c[a>>2]|0;i=g+8|0;d=c[i>>2]|0;if((d|0)==(b|0)){a=m&~(1<<e);c[17594]=a}else{c[d+12>>2]=b;c[a>>2]=d;a=m}s=e<<3;h=s-k|0;c[g+4>>2]=k|3;f=g+k|0;c[f+4>>2]=h|1;c[g+s>>2]=h;if(l|0){e=c[17599]|0;b=l>>>3;d=70416+(b<<1<<2)|0;b=1<<b;if(!(a&b)){c[17594]=a|b;b=d;a=d+8|0}else{a=d+8|0;b=c[a>>2]|0}c[a>>2]=e;c[b+12>>2]=e;c[e+8>>2]=b;c[e+12>>2]=d}c[17596]=h;c[17599]=f;s=i;E=t;return s|0}g=c[17595]|0;if(g){d=(g&0-g)+-1|0;f=d>>>12&16;d=d>>>f;e=d>>>5&8;d=d>>>e;h=d>>>2&4;d=d>>>h;i=d>>>1&2;d=d>>>i;j=d>>>1&1;j=c[70680+((e|f|h|i|j)+(d>>>j)<<2)>>2]|0;d=j;i=j;j=(c[j+4>>2]&-8)-k|0;while(1){a=c[d+16>>2]|0;if(!a){a=c[d+20>>2]|0;if(!a)break}h=(c[a+4>>2]&-8)-k|0;f=h>>>0<j>>>0;d=a;i=f?a:i;j=f?h:j}h=i+k|0;if(h>>>0>i>>>0){f=c[i+24>>2]|0;b=c[i+12>>2]|0;do{if((b|0)==(i|0)){a=i+20|0;b=c[a>>2]|0;if(!b){a=i+16|0;b=c[a>>2]|0;if(!b){d=0;break}}while(1){e=b+20|0;d=c[e>>2]|0;if(!d){e=b+16|0;d=c[e>>2]|0;if(!d)break;else{b=d;a=e}}else{b=d;a=e}}c[a>>2]=0;d=b}else{d=c[i+8>>2]|0;c[d+12>>2]=b;c[b+8>>2]=d;d=b}}while(0);do{if(f|0){b=c[i+28>>2]|0;a=70680+(b<<2)|0;if((i|0)==(c[a>>2]|0)){c[a>>2]=d;if(!d){c[17595]=g&~(1<<b);break}}else{s=f+16|0;c[((c[s>>2]|0)==(i|0)?s:f+20|0)>>2]=d;if(!d)break}c[d+24>>2]=f;b=c[i+16>>2]|0;if(b|0){c[d+16>>2]=b;c[b+24>>2]=d}b=c[i+20>>2]|0;if(b|0){c[d+20>>2]=b;c[b+24>>2]=d}}}while(0);if(j>>>0<16){s=j+k|0;c[i+4>>2]=s|3;s=i+s+4|0;c[s>>2]=c[s>>2]|1}else{c[i+4>>2]=k|3;c[h+4>>2]=j|1;c[h+j>>2]=j;if(l|0){e=c[17599]|0;b=l>>>3;d=70416+(b<<1<<2)|0;b=1<<b;if(!(b&m)){c[17594]=b|m;b=d;a=d+8|0}else{a=d+8|0;b=c[a>>2]|0}c[a>>2]=e;c[b+12>>2]=e;c[e+8>>2]=b;c[e+12>>2]=d}c[17596]=j;c[17599]=h}s=i+8|0;E=t;return s|0}else m=k}else m=k}else m=k}else if(a>>>0<=4294967231){a=a+11|0;k=a&-8;e=c[17595]|0;if(e){f=0-k|0;a=a>>>8;if(a)if(k>>>0>16777215)j=31;else{m=(a+1048320|0)>>>16&8;r=a<<m;i=(r+520192|0)>>>16&4;r=r<<i;j=(r+245760|0)>>>16&2;j=14-(i|m|j)+(r<<j>>>15)|0;j=k>>>(j+7|0)&1|j<<1}else j=0;d=c[70680+(j<<2)>>2]|0;a:do{if(!d){d=0;a=0;r=61}else{a=0;i=k<<((j|0)==31?0:25-(j>>>1)|0);g=0;while(1){h=(c[d+4>>2]&-8)-k|0;if(h>>>0<f>>>0)if(!h){a=d;f=0;r=65;break a}else{a=d;f=h}r=c[d+20>>2]|0;d=c[d+16+(i>>>31<<2)>>2]|0;g=(r|0)==0|(r|0)==(d|0)?g:r;if(!d){d=g;r=61;break}else i=i<<1}}}while(0);if((r|0)==61){if((d|0)==0&(a|0)==0){a=2<<j;a=(a|0-a)&e;if(!a){m=k;break}m=(a&0-a)+-1|0;h=m>>>12&16;m=m>>>h;g=m>>>5&8;m=m>>>g;i=m>>>2&4;m=m>>>i;j=m>>>1&2;m=m>>>j;d=m>>>1&1;a=0;d=c[70680+((g|h|i|j|d)+(m>>>d)<<2)>>2]|0}if(!d){i=a;h=f}else r=65}if((r|0)==65){g=d;while(1){m=(c[g+4>>2]&-8)-k|0;d=m>>>0<f>>>0;f=d?m:f;a=d?g:a;d=c[g+16>>2]|0;if(!d)d=c[g+20>>2]|0;if(!d){i=a;h=f;break}else g=d}}if(((i|0)!=0?h>>>0<((c[17596]|0)-k|0)>>>0:0)?(l=i+k|0,l>>>0>i>>>0):0){g=c[i+24>>2]|0;b=c[i+12>>2]|0;do{if((b|0)==(i|0)){a=i+20|0;b=c[a>>2]|0\n;if(!b){a=i+16|0;b=c[a>>2]|0;if(!b){b=0;break}}while(1){f=b+20|0;d=c[f>>2]|0;if(!d){f=b+16|0;d=c[f>>2]|0;if(!d)break;else{b=d;a=f}}else{b=d;a=f}}c[a>>2]=0}else{s=c[i+8>>2]|0;c[s+12>>2]=b;c[b+8>>2]=s}}while(0);do{if(g){a=c[i+28>>2]|0;d=70680+(a<<2)|0;if((i|0)==(c[d>>2]|0)){c[d>>2]=b;if(!b){e=e&~(1<<a);c[17595]=e;break}}else{s=g+16|0;c[((c[s>>2]|0)==(i|0)?s:g+20|0)>>2]=b;if(!b)break}c[b+24>>2]=g;a=c[i+16>>2]|0;if(a|0){c[b+16>>2]=a;c[a+24>>2]=b}a=c[i+20>>2]|0;if(a){c[b+20>>2]=a;c[a+24>>2]=b}}}while(0);b:do{if(h>>>0<16){s=h+k|0;c[i+4>>2]=s|3;s=i+s+4|0;c[s>>2]=c[s>>2]|1}else{c[i+4>>2]=k|3;c[l+4>>2]=h|1;c[l+h>>2]=h;b=h>>>3;if(h>>>0<256){d=70416+(b<<1<<2)|0;a=c[17594]|0;b=1<<b;if(!(a&b)){c[17594]=a|b;b=d;a=d+8|0}else{a=d+8|0;b=c[a>>2]|0}c[a>>2]=l;c[b+12>>2]=l;c[l+8>>2]=b;c[l+12>>2]=d;break}b=h>>>8;if(b)if(h>>>0>16777215)d=31;else{r=(b+1048320|0)>>>16&8;s=b<<r;q=(s+520192|0)>>>16&4;s=s<<q;d=(s+245760|0)>>>16&2;d=14-(q|r|d)+(s<<d>>>15)|0;d=h>>>(d+7|0)&1|d<<1}else d=0;b=70680+(d<<2)|0;c[l+28>>2]=d;a=l+16|0;c[a+4>>2]=0;c[a>>2]=0;a=1<<d;if(!(a&e)){c[17595]=a|e;c[b>>2]=l;c[l+24>>2]=b;c[l+12>>2]=l;c[l+8>>2]=l;break}b=c[b>>2]|0;c:do{if((c[b+4>>2]&-8|0)!=(h|0)){e=h<<((d|0)==31?0:25-(d>>>1)|0);while(1){d=b+16+(e>>>31<<2)|0;a=c[d>>2]|0;if(!a)break;if((c[a+4>>2]&-8|0)==(h|0)){b=a;break c}else{e=e<<1;b=a}}c[d>>2]=l;c[l+24>>2]=b;c[l+12>>2]=l;c[l+8>>2]=l;break b}}while(0);r=b+8|0;s=c[r>>2]|0;c[s+12>>2]=l;c[r>>2]=l;c[l+8>>2]=s;c[l+12>>2]=b;c[l+24>>2]=0}}while(0);s=i+8|0;E=t;return s|0}else m=k}else m=k}else m=-1}while(0);d=c[17596]|0;if(d>>>0>=m>>>0){b=d-m|0;a=c[17599]|0;if(b>>>0>15){s=a+m|0;c[17599]=s;c[17596]=b;c[s+4>>2]=b|1;c[a+d>>2]=b;c[a+4>>2]=m|3}else{c[17596]=0;c[17599]=0;c[a+4>>2]=d|3;s=a+d+4|0;c[s>>2]=c[s>>2]|1}s=a+8|0;E=t;return s|0}h=c[17597]|0;if(h>>>0>m>>>0){q=h-m|0;c[17597]=q;s=c[17600]|0;r=s+m|0;c[17600]=r;c[r+4>>2]=q|1;c[s+4>>2]=m|3;s=s+8|0;E=t;return s|0}if(!(c[17712]|0)){c[17714]=4096;c[17713]=4096;c[17715]=-1;c[17716]=-1;c[17717]=0;c[17705]=0;c[17712]=n&-16^1431655768;a=4096}else a=c[17714]|0;i=m+48|0;j=m+47|0;g=a+j|0;f=0-a|0;k=g&f;if(k>>>0<=m>>>0){s=0;E=t;return s|0}a=c[17704]|0;if(a|0?(l=c[17702]|0,n=l+k|0,n>>>0<=l>>>0|n>>>0>a>>>0):0){s=0;E=t;return s|0}d:do{if(!(c[17705]&4)){e=c[17600]|0;e:do{if(e){a=70824;while(1){d=c[a>>2]|0;if(d>>>0<=e>>>0?(q=a+4|0,(d+(c[q>>2]|0)|0)>>>0>e>>>0):0)break;a=c[a+8>>2]|0;if(!a){r=128;break e}}b=g-h&f;if(b>>>0<2147483647){e=gc(b|0)|0;if((e|0)==((c[a>>2]|0)+(c[q>>2]|0)|0)){if((e|0)!=(-1|0))break d}else r=136}else b=0}else r=128}while(0);do{if((r|0)==128){a=gc(0)|0;if((a|0)!=(-1|0)?(b=a,o=c[17713]|0,p=o+-1|0,b=((p&b|0)==0?0:(p+b&0-o)-b|0)+k|0,o=c[17702]|0,p=b+o|0,b>>>0>m>>>0&b>>>0<2147483647):0){q=c[17704]|0;if(q|0?p>>>0<=o>>>0|p>>>0>q>>>0:0){b=0;break}e=gc(b|0)|0;if((e|0)==(a|0)){e=a;break d}else r=136}else b=0}}while(0);do{if((r|0)==136){d=0-b|0;if(!(i>>>0>b>>>0&(b>>>0<2147483647&(e|0)!=(-1|0))))if((e|0)==(-1|0)){b=0;break}else break d;a=c[17714]|0;a=j-b+a&0-a;if(a>>>0>=2147483647)break d;if((gc(a|0)|0)==(-1|0)){gc(d|0)|0;b=0;break}else{b=a+b|0;break d}}}while(0);c[17705]=c[17705]|4;r=143}else{b=0;r=143}}while(0);if((r|0)==143){if(k>>>0>=2147483647){s=0;E=t;return s|0}e=gc(k|0)|0;q=gc(0)|0;a=q-e|0;d=a>>>0>(m+40|0)>>>0;if((e|0)==(-1|0)|d^1|e>>>0<q>>>0&((e|0)!=(-1|0)&(q|0)!=(-1|0))^1){s=0;E=t;return s|0}else b=d?a:b}a=(c[17702]|0)+b|0;c[17702]=a;if(a>>>0>(c[17703]|0)>>>0)c[17703]=a;j=c[17600]|0;f:do{if(j){a=70824;while(1){d=c[a>>2]|0;f=a+4|0;g=c[f>>2]|0;if((e|0)==(d+g|0)){r=154;break}h=c[a+8>>2]|0;if(!h)break;else a=h}if(((r|0)==154?(c[a+12>>2]&8|0)==0:0)?e>>>0>j>>>0&d>>>0<=j>>>0:0){c[f>>2]=g+b;s=(c[17597]|0)+b|0;q=j+8|0;q=(q&7|0)==0?0:0-q&7;r=j+q|0;q=s-q|0;c[17600]=r;c[17597]=q;c[r+4>>2]=q|1;c[j+s+4>>2]=40;c[17601]=c[17716];break}if(e>>>0<(c[17598]|0)>>>0)c[17598]=e;f=e+b|0;a=70824;while(1){if((c[a>>2]|0)==(f|0)){r=162;break}d=c[a+8>>2]|0;if(!d)break;else a=d}if((r|0)==162?(c[a+12>>2]&8|0)==0:0){c[a>>2]=e;l=a+4|0;c[l>>2]=(c[l>>2]|0)+b;l=e+8|0;l=e+((l&7|0)==0?0:0-l&7)|0;b=f+8|0;b=f+((b&7|0)==0?0:0-b&7)|0;k=l+m|0;i=b-l-m|0;c[l+4>>2]=m|3;g:do{if((j|0)==(b|0)){s=(c[17597]|0)+i|0;c[17597]=s;c[17600]=k;c[k+4>>2]=s|1}else{if((c[17599]|0)==(b|0)){s=(c[17596]|0)+i|0;c[17596]=s;c[17599]=k;c[k+4>>2]=s|1;c[k+s>>2]=s;break}a=c[b+4>>2]|0;if((a&3|0)==1){h=a&-8;e=a>>>3;h:do{if(a>>>0<256){a=c[b+8>>2]|0;d=c[b+12>>2]|0;if((d|0)==(a|0)){c[17594]=c[17594]&~(1<<e);break}else{c[a+12>>2]=d;c[d+8>>2]=a;break}}else{g=c[b+24>>2]|0;a=c[b+12>>2]|0;do{if((a|0)==(b|0)){d=b+16|0;e=d+4|0;a=c[e>>2]|0;if(!a){a=c[d>>2]|0;if(!a){a=0;break}}else d=e;while(1){f=a+20|0;e=c[f>>2]|0;if(!e){f=a+16|0;e=c[f>>2]|0;if(!e)break;else{a=e;d=f}}else{a=e;d=f}}c[d>>2]=0}else{s=c[b+8>>2]|0;c[s+12>>2]=a;c[a+8>>2]=s}}while(0);if(!g)break;d=c[b+28>>2]|0;e=70680+(d<<2)|0;do{if((c[e>>2]|0)!=(b|0)){s=g+16|0;c[((c[s>>2]|0)==(b|0)?s:g+20|0)>>2]=a;if(!a)break h}else{c[e>>2]=a;if(a|0)break;c[17595]=c[17595]&~(1<<d);break h}}while(0);c[a+24>>2]=g;d=b+16|0;e=c[d>>2]|0;if(e|0){c[a+16>>2]=e;c[e+24>>2]=a}d=c[d+4>>2]|0;if(!d)break;c[a+20>>2]=d;c[d+24>>2]=a}}while(0);b=b+h|0;f=h+i|0}else f=i;b=b+4|0;c[b>>2]=c[b>>2]&-2;c[k+4>>2]=f|1;c[k+f>>2]=f;b=f>>>3;if(f>>>0<256){d=70416+(b<<1<<2)|0;a=c[17594]|0;b=1<<b;if(!(a&b)){c[17594]=a|b;b=d;a=d+8|0}else{a=d+8|0;b=c[a>>2]|0}c[a>>2]=k;c[b+12>>2]=k;c[k+8>>2]=b;c[k+12>>2]=d;break}b=f>>>8;do{if(!b)e=0;else{if(f>>>0>16777215){e=31;break}r=(b+1048320|0)>>>16&8;s=b<<r;q=(s+520192|0)>>>16&4;s=s<<q;e=(s+245760|0)>>>16&2;e=14-(q|r|e)+(s<<e>>>15)|0;e=f>>>(e+7|0)&1|e<<1}}while(0);b=70680+(e<<2)|0;c[k+28>>2]=e;a=k+16|0;c[a+4>>2]=0;c[a>>2]=0;a=c[17595]|0;d=1<<e;if(!(a&d)){c[17595]=a|d;c[b>>2]=k;c[k+24>>2]=b;c[k+12>>2]=k;c[k+8>>2]=k;break}b=c[b>>2]|0;i:do{if((c[b+4>>2]&-8|0)!=(f|0)){e=f<<((e|0)==31?0:25-(e>>>1)|0);while(1){d=b+16+(e>>>31<<2)|0;a=c[d>>2]|0;if(!a)break;if((c[a+4>>2]&-8|0)==(f|0)){b=a;break i}else{e=e<<1;b=a}}c[d>>2]=k;c[k+24>>2]=b;c[k+12>>2]=k;c[k+8>>2]=k;break g}}while(0);r=b+8|0;s=c[r>>2]|0;c[s+12>>2]=k;c[r>>2]=k;c[k+8>>2]=s;c[k+12>>2]=b;c[k+24>>2]=0}}while(0);s=l+8|0;E=t;return s|0}a=70824;while(1){d=c[a>>2]|0;if(d>>>0<=j>>>0?(s=d+(c[a+4>>2]|0)|0,s>>>0>j>>>0):0)break;a=c[a+8>>2]|0}f=s+-47|0;a=f+8|0;a=f+((a&7|0)==0?0:0-a&7)|0;f=j+16|0;a=a>>>0<f>>>0?j:a;r=a+8|0;d=b+-40|0;p=e+8|0;p=(p&7|0)==0?0:0-p&7;q=e+p|0;p=d-p|0;c[17600]=q;c[17597]=p;c[q+4>>2]=p|1;c[e+d+4>>2]=40;c[17601]=c[17716];d=a+4|0;c[d>>2]=27;c[r>>2]=c[17706];c[r+4>>2]=c[17707];c[r+8>>2]=c[17708];c[r+12>>2]=c[17709];c[17706]=e;c[17707]=b;c[17709]=0;c[17708]=r;b=a+24|0;do{r=b;b=b+4|0;c[b>>2]=7}while((r+8|0)>>>0<s>>>0);if((a|0)!=(j|0)){g=a-j|0;c[d>>2]=c[d>>2]&-2;c[j+4>>2]=g|1;c[a>>2]=g;b=g>>>3;if(g>>>0<256){d=70416+(b<<1<<2)|0;a=c[17594]|0;b=1<<b;if(!(a&b)){c[17594]=a|b;b=d;a=d+8|0}else{a=d+8|0;b=c[a>>2]|0}c[a>>2]=j;c[b+12>>2]=j;c[j+8>>2]=b;c[j+12>>2]=d;break}b=g>>>8;if(b)if(g>>>0>16777215)e=31;else{r=(b+1048320|0)>>>16&8;s=b<<r;q=(s+520192|0)>>>16&4;s=s<<q;e=(s+245760|0)>>>16&2;e=14-(q|r|e)+(s<<e>>>15)|0;e=g>>>(e+7|0)&1|e<<1}else e=0;d=70680+(e<<2)|0;c[j+28>>2]=e;c[j+20>>2]=0;c[f>>2]=0;b=c[17595]|0;a=1<<e;if(!(b&a)){c[17595]=b|a;c[d>>2]=j;c[j+24>>2]=d;c[j+12>>2]=j;c[j+8>>2]=j;break}b=c[d>>2]|0;j:do{if((c[b+4>>2]&-8|0)!=(g|0)){e=g<<((e|0)==31?0:25-(e>>>1)|0);while(1){d=b+16+(e>>>31<<2)|0;a=c[d>>2]|0;if(!a)break;if((c[a+4>>2]&-8|0)==(g|0)){b=a;break j}else{e=e<<1;b=a}}c[d>>2]=j;c[j+24>>2]=b;c[j+12>>2]=j;c[j+8>>2]=j;break f}}while(0);r=b+8|0;s=c[r>>2]|0;c[s+12>>2]=j;c[r>>2]=j;c[j+8>>2]=s;c[j+12>>2]=b;c[j+24>>2]=0}}else{s=c[17598]|0;if((s|0)==0|e>>>0<s>>>0)c[17598]=e;c[17706]=e;c[17707]=b;c[17709]=0;c[17603]=c[17712];c[17602]=-1;c[17607]=70416;c[17606]=70416;c[17609]=70424;c[17608]=70424;c[17611]=70432;c[17610]=70432;c[17613]=70440;c[17612]=70440;c[17615]=70448;c[17614]=70448;c[17617]=70456;c[17616]=70456;c[17619]=70464;c[17618]=70464;c[17621]=70472;c[17620]=70472;c[17623]=70480;c[17622]=70480;c[17625]=70488;c[17624]=70488;c[17627]=70496;c[17626]=70496;c[17629]=70504;c[17628]=70504;c[17631]=70512;c[17630]=70512;c[17633]=70520;c[17632]=70520;c[17635]=70528;c[17634]=70528;c[17637]=70536;c[17636]=70536;c[17639]=70544;c[17638]=70544;c[17641]=70552;c[17640]=70552;c[17643]=70560;c[17642]=70560;c[17645]=70568;c[17644]=70568;c[17647]=70576;c[17646]=70576;c[17649]=70584;c[17648]=70584;c[17651]=70592;c[17650]=70592;c[17653]=70600;c[17652]=70600;c[17655]=70608;c[17654]=70608;c[17657]=70616;c[17656]=70616;c[17659]=70624;c[17658]=70624;c[17661]=70632;c[17660]=70632;c[17663]=70640;c[17662]=70640;c[17665]=70648;c[17664]=70648;c[17667]=70656;c[17666]=70656;c[17669]=70664;c[17668]=70664;s=b+-40|0;q=e+8|0;q=(q&7|0)==0?0:0-q&7;r=e+q|0;q=s-q|0;c[17600]=r;c[17597]=q;c[r+4>>2]=q|1;c[e+s+4>>2]=40;c[17601]=c[17716]}}while(0);b=c[17597]|0;if(b>>>0<=m>>>0){s=0;E=t;return s|0}q=b-m|0;c[17597]=q;s=c[17600]|0;r=s+m|0;c[17600]=r;c[r+4>>2]=q|1;c[s+4>>2]=m|3;s=s+8|0;E=t;return s|0}function Bb(a){a=a|0;var b=0,d=0,e=0,f=0,g=0,h=0,i=0,j=0;if(!a)return;d=a+-8|0;f=c[17598]|0;a=c[a+-4>>2]|0;b=a&-8;j=d+b|0;do{if(!(a&1)){e=c[d>>2]|0;if(!(a&3))return;h=d+(0-e)|0;g=e+b|0;if(h>>>0<f>>>0)return;if((c[17599]|0)==(h|0)){a=j+4|0;b=c[a>>2]|0;if((b&3|0)!=3){i=h;b=g;break}c[17596]=g;c[a>>2]=b&-2;c[h+4>>2]=g|1;c[h+g>>2]=g;return}d=e>>>3;if(e>>>0<256){a=c[h+8>>2]|0;b=c[h+12>>2]|0;if((b|0)==(a|0)){c[17594]=c[17594]&~(1<<d);i=h;b=g;break}else{c[a+12>>2]=b;c[b+8>>2]=a;i=h;b=g;break}}f=c[h+24>>2]|0;a=c[h+12>>2]|0;do{if((a|0)==(h|0)){b=h+16|0;d=b+4|0;a=c[d>>2]|0;if(!a){a=c[b>>2]|0;if(!a){a=0;break}}else b=d;while(1){e=a+20|0;d=c[e>>2]|0;if(!d){e=a+16|0;d=c[e>>2]|0;if(!d)break;else{a=d;b=e}}else{a=d;b=e}}c[b>>2]=0}else{i=c[h+8>>2]|0;c[i+12>>2]=a;c[a+8>>2]=i}}while(0);if(f){b=c[h+28>>2]|0;d=70680+(b<<2)|0;if((c[d>>2]|0)==(h|0)){c[d>>2]=a;if(!a){c[17595]=c[17595]&~(1<<b);i=h;b=g;break}}else{i=f+16|0;c[((c[i>>2]|0)==(h|0)?i:f+20|0)>>2]=a;if(!a){i=h;b=g;break}}c[a+24>>2]=f;b=h+16|0;d=c[b>>2]|0;if(d|0){c[a+16>>2]=d;c[d+24>>2]=a}b=c[b+4>>2]|0;if(b){c[a+20>>2]=b;c[b+24>>2]=a;i=h;b=g}else{i=h;b=g}}else{i=h;b=g}}else{i=d;h=d}}while(0);if(h>>>0>=j>>>0)return;a=j+4|0;e=c[a>>2]|0;if(!(e&1))return;if(!(e&2)){if((c[17600]|0)==(j|0)){j=(c[17597]|0)+b|0;c[17597]=j;c[17600]=i;c[i+4>>2]=j|1;if((i|0)!=(c[17599]|0))return;c[17599]=0;c[17596]=0;return}if((c[17599]|0)==(j|0)){j=(c[17596]|0)+b|0;c[17596]=j;c[17599]=h;c[i+4>>2]=j|1;c[h+j>>2]=j;return}f=(e&-8)+b|0;d=e>>>3;do{if(e>>>0<256){b=c[j+8>>2]|0;a=c[j+12>>2]|0;if((a|0)==(b|0)){c[17594]=c[17594]&~(1<<d);break}else{c[b+12>>2]=a;c[a+8>>2]=b;break}}else{g=c[j+24>>2]|0;a=c[j+12>>2]|0;do{if((a|0)==(j|0)){b=j+16|0;d=b+4|0;a=c[d>>2]|0;if(!a){a=c[b>>2]|0;if(!a){d=0;break}}else b=d;while(1){e=a+20|0;d=c[e>>2]|0;if(!d){e=a+16|0;d=c[e>>2]|0;if(!d)break;else{a=d;b=e}}else{a=d;b=e}}c[b>>2]=0;d=a}else{d=c[j+8>>2]|0;c[d+12>>2]=a;c[a+8>>2]=d;d=a}}while(0);if(g|0){a=c[j+28>>2]|0;b=70680+(a<<2)|0;if((c[b>>2]|0)==(j|0)){c[b>>2]=d;if(!d){c[17595]=c[17595]&~(1<<a);break}}else{e=g+16|0;c[((c[e>>2]|0)==(j|0)?e:g+20|0)>>2]=d;if(!d)break}c[d+24>>2]=g;a=j+16|0;b=c[a>>2]|0;if(b|0){c[d+16>>2]=b;c[b+24>>2]=d}a=c[a+4>>2]|0;if(a|0){c[d+20>>2]=a;c[a+24>>2]=d}}}}while(0);c[i+4>>2]=f|1;c[h+f>>2]=f;if((i|0)==(c[17599]|0)){c[17596]=f;return}}else{c[a>>2]=e&-2;c[i+4>>2]=b|1;c[h+b>>2]=b;f=b}a=f>>>3;if(f>>>0<256){d=70416+(a<<1<<2)|0;b=c[17594]|0;a=1<<a;if(!(b&a)){c[17594]=b|a;a=d;b=d+8|0}else{b=d+8|0;a=c[b>>2]|0}c[b>>2]=i;c[a+12>>2]=i;c[i+8>>2]=a;c[i+12>>2]=d;return}a=f>>>8;if(a)if(f>>>0>16777215)e=31;else{h=(a+1048320|0)>>>16&8;j=a<<h;g=(j+520192|0)>>>16&4;j=j<<g;e=(j+245760|0)>>>16&2;e=14-(g|h|e)+(j<<e>>>15)|0;e=f>>>(e+7|0)&1|e<<1}else e=0;a=70680+(e<<2)|0;c[i+28>>2]=e;c[i+20>>2]=0;c[i+16>>2]=0;b=c[17595]|0;d=1<<e;a:do{if(!(b&d)){c[17595]=b|d;c[a>>2]=i;c[i+24>>2]=a;c[i+12>>2]=i;c[i+8>>2]=i}else{a=c[a>>2]|0;b:do{if((c[a+4>>2]&-8|0)!=(f|0)){e=f<<((e|0)==31?0:25-(e>>>1)|0);while(1){d=a+16+(e>>>31<<2)|0;b=c[d>>2]|0;if(!b)break;if((c[b+4>>2]&-8|0)==(f|0)){a=b;break b}else{e=e<<1;a=b}}c[d>>2]=i;c[i+24>>2]=a;c[i+12>>2]=i;c[i+8>>2]=i;break a}}while(0);h=a+8|0;j=c[h>>2]|0;c[j+12>>2]=i;c[h>>2]=i;c[i+8>>2]=j;c[i+12>>2]=a;c[i+24>>2]=0}}while(0);j=(c[17602]|0)+-1|0;c[17602]=j;if(j|0)return;a=70832;while(1){a=c[a>>2]|0;if(!a)break;else a=a+8|0}c[17602]=-1;return}function Cb(a,b){a=a|0;b=b|0;var d=0,e=0;if(!a){b=Ab(b)|0;return b|0}if(b>>>0>4294967231){b=0;return b|0}d=Db(a+-8|0,b>>>0<11?16:b+11&-8)|0;if(d|0){b=d+8|0;return b|0}d=Ab(b)|0;if(!d){b=0;return b|0}e=c[a+-4>>2]|0;e=(e&-8)-((e&3|0)==0?8:4)|0;ec(d|0,a|0,(e>>>0<b>>>0?e:b)|0)|0;Bb(a);b=d;return b|0}function Db(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0,i=0,j=0,k=0,l=0,m=0;l=a+4|0;m=c[l>>2]|0;d=m&-8;i=a+d|0;if(!(m&3)){if(b>>>0<256){a=0;return a|0}if(d>>>0>=(b+4|0)>>>0?(d-b|0)>>>0<=c[17714]<<1>>>0:0)return a|0;a=0;return a|0}if(d>>>0>=b>>>0){d=d-b|0;if(d>>>0<=15)return a|0;k=a+b|0;c[l>>2]=m&1|b|2;c[k+4>>2]=d|3;m=i+4|0;c[m>>2]=c[m>>2]|1;Eb(k,d);return a|0}if((c[17600]|0)==(i|0)){k=(c[17597]|0)+d|0;d=k-b|0;e=a+b|0;if(k>>>0<=b>>>0){a=0;return a|0}c[l>>2]=m&1|b|2;c[e+4>>2]=d|1;c[17600]=e;c[17597]=d;return a|0}if((c[17599]|0)==(i|0)){e=(c[17596]|0)+d|0;if(e>>>0<b>>>0){a=0;return a|0}d=e-b|0;if(d>>>0>15){k=a+b|0;e=a+e|0;c[l>>2]=m&1|b|2;c[k+4>>2]=d|1;c[e>>2]=d;e=e+4|0;c[e>>2]=c[e>>2]&-2;e=k}else{c[l>>2]=m&1|e|2;e=a+e+4|0;c[e>>2]=c[e>>2]|1;e=0;d=0}c[17596]=d;c[17599]=e;return a|0}e=c[i+4>>2]|0;if(e&2|0){a=0;return a|0}j=(e&-8)+d|0;if(j>>>0<b>>>0){a=0;return a|0}k=j-b|0;f=e>>>3;do{if(e>>>0<256){e=c[i+8>>2]|0;d=c[i+12>>2]|0;if((d|0)==(e|0)){c[17594]=c[17594]&~(1<<f);break}else{c[e+12>>2]=d;c[d+8>>2]=e;break}}else{h=c[i+24>>2]|0;d=c[i+12>>2]|0;do{if((d|0)==(i|0)){e=i+16|0;f=e+4|0;d=c[f>>2]|0;if(!d){d=c[e>>2]|0;if(!d){f=0;break}}else e=f;while(1){g=d+20|0;f=c[g>>2]|0;if(!f){g=d+16|0;f=c[g>>2]|0;if(!f)break;else{d=f;e=g}}else{d=f;e=g}}c[e>>2]=0;f=d}else{f=c[i+8>>2]|0;c[f+12>>2]=d;c[d+8>>2]=f;f=d}}while(0);if(h|0){d=c[i+28>>2]|0;e=70680+(d<<2)|0;if((c[e>>2]|0)==(i|0)){c[e>>2]=f;if(!f){c[17595]=c[17595]&~(1<<d);break}}else{g=h+16|0;c[((c[g>>2]|0)==(i|0)?g:h+20|0)>>2]=f;if(!f)break}c[f+24>>2]=h;d=i+16|0;e=c[d>>2]|0;if(e|0){c[f+16>>2]=e;c[e+24>>2]=f}d=c[d+4>>2]|0;if(d|0){c[f+20>>2]=d;c[d+24>>2]=f}}}}while(0);if(k>>>0<16){c[l>>2]=m&1|j|2;m=a+j+4|0;c[m>>2]=c[m>>2]|1;return a|0}else{i=a+b|0;c[l>>2]=m&1|b|2;c[i+4>>2]=k|3;m=a+j+4|0;c[m>>2]=c[m>>2]|1;Eb(i,k);return a|0}return 0}function Eb(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0,i=0;i=a+b|0;d=c[a+4>>2]|0;do{if(!(d&1)){f=c[a>>2]|0;if(!(d&3))return;h=a+(0-f)|0;b=f+b|0;if((c[17599]|0)==(h|0)){a=i+4|0;d=c[a>>2]|0;if((d&3|0)!=3)break;c[17596]=b;c[a>>2]=d&-2;c[h+4>>2]=b|1;c[i>>2]=b;return}e=f>>>3;if(f>>>0<256){a=c[h+8>>2]|0;d=c[h+12>>2]|0;if((d|0)==(a|0)){c[17594]=c[17594]&~(1<<e);break}else{c[a+12>>2]=d;c[d+8>>2]=a;break}}g=c[h+24>>2]|0;a=c[h+12>>2]|0;do{if((a|0)==(h|0)){d=h+16|0;e=d+4|0;a=c[e>>2]|0;if(!a){a=c[d>>2]|0;if(!a){a=0;break}}else d=e;while(1){f=a+20|0;e=c[f>>2]|0;if(!e){f=a+16|0;e=c[f>>2]|0;if(!e)break;else{a=e;d=f}}else{a=e;d=f}}c[d>>2]=0}else{f=c[h+8>>2]|0;c[f+12>>2]=a;c[a+8>>2]=f}}while(0);if(g){d=c[h+28>>2]|0;e=70680+(d<<2)|0;if((c[e>>2]|0)==(h|0)){c[e>>2]=a;if(!a){c[17595]=c[17595]&~(1<<d);break}}else{f=g+16|0;c[((c[f>>2]|0)==(h|0)?f:g+20|0)>>2]=a;if(!a)break}c[a+24>>2]=g;d=h+16|0;e=c[d>>2]|0;if(e|0){c[a+16>>2]=e;c[e+24>>2]=a}d=c[d+4>>2]|0;if(d){c[a+20>>2]=d;c[d+24>>2]=a}}}else h=a}while(0);a=i+4|0;e=c[a>>2]|0;if(!(e&2)){if((c[17600]|0)==(i|0)){i=(c[17597]|0)+b|0;c[17597]=i;c[17600]=h;c[h+4>>2]=i|1;if((h|0)!=(c[17599]|0))return;c[17599]=0;c[17596]=0;return}if((c[17599]|0)==(i|0)){i=(c[17596]|0)+b|0;c[17596]=i;c[17599]=h;c[h+4>>2]=i|1;c[h+i>>2]=i;return}f=(e&-8)+b|0;d=e>>>3;do{if(e>>>0<256){a=c[i+8>>2]|0;b=c[i+12>>2]|0;if((b|0)==(a|0)){c[17594]=c[17594]&~(1<<d);break}else{c[a+12>>2]=b;c[b+8>>2]=a;break}}else{g=c[i+24>>2]|0;b=c[i+12>>2]|0;do{if((b|0)==(i|0)){a=i+16|0;d=a+4|0;b=c[d>>2]|0;if(!b){b=c[a>>2]|0;if(!b){d=0;break}}else a=d;while(1){e=b+20|0;d=c[e>>2]|0;if(!d){e=b+16|0;d=c[e>>2]|0;if(!d)break;else{b=d;a=e}}else{b=d;a=e}}c[a>>2]=0;d=b}else{d=c[i+8>>2]|0;c[d+12>>2]=b;c[b+8>>2]=d;d=b}}while(0);if(g|0){b=c[i+28>>2]|0;a=70680+(b<<2)|0;if((c[a>>2]|0)==(i|0)){c[a>>2]=d;if(!d){c[17595]=c[17595]&~(1<<b);break}}else{e=g+16|0;c[((c[e>>2]|0)==(i|0)?e:g+20|0)>>2]=d;if(!d)break}c[d+24>>2]=g;b=i+16|0;a=c[b>>2]|0;if(a|0){c[d+16>>2]=a;c[a+24>>2]=d}b=c[b+4>>2]|0;if(b|0){c[d+20>>2]=b;c[b+24>>2]=d}}}}while(0);c[h+4>>2]=f|1;c[h+f>>2]=f;if((h|0)==(c[17599]|0)){c[17596]=f;return}}else{c[a>>2]=e&-2;c[h+4>>2]=b|1;c[h+b>>2]=b;f=b}b=f>>>3;if(f>>>0<256){d=70416+(b<<1<<2)|0;a=c[17594]|0;b=1<<b;if(!(a&b)){c[17594]=a|b;b=d;a=d+8|0}else{a=d+8|0;b=c[a>>2]|0}c[a>>2]=h;c[b+12>>2]=h;c[h+8>>2]=b;c[h+12>>2]=d;return}b=f>>>8;if(b)if(f>>>0>16777215)e=31;else{g=(b+1048320|0)>>>16&8;i=b<<g;d=(i+520192|0)>>>16&4;i=i<<d;e=(i+245760|0)>>>16&2;e=14-(d|g|e)+(i<<e>>>15)|0;e=f>>>(e+7|0)&1|e<<1}else e=0;b=70680+(e<<2)|0;c[h+28>>2]=e;c[h+20>>2]=0;c[h+16>>2]=0;a=c[17595]|0;d=1<<e;if(!(a&d)){c[17595]=a|d;c[b>>2]=h;c[h+24>>2]=b;c[h+12>>2]=h;c[h+8>>2]=h;return}b=c[b>>2]|0;a:do{if((c[b+4>>2]&-8|0)!=(f|0)){e=f<<((e|0)==31?0:25-(e>>>1)|0);while(1){d=b+16+(e>>>31<<2)|0;a=c[d>>2]|0;if(!a)break;if((c[a+4>>2]&-8|0)==(f|0)){b=a;break a}else{e=e<<1;b=a}}c[d>>2]=h;c[h+24>>2]=b;c[h+12>>2]=h;c[h+8>>2]=h;return}}while(0);g=b+8|0;i=c[g>>2]|0;c[i+12>>2]=h;c[g>>2]=h;c[h+8>>2]=i;c[h+12>>2]=b;c[h+24>>2]=0;return}function Fb(a,b){a=a|0;b=b|0;if(a>>>0<9){b=Ab(b)|0;return b|0}else{b=Gb(a,b)|0;return b|0}return 0}function Gb(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0,i=0;d=a>>>0>16?a:16;if(!(d+-1&d))a=d;else{a=16;while(1)if(a>>>0<d>>>0)a=a<<1;else break}if((-64-a|0)>>>0<=b>>>0){h=0;return h|0}g=b>>>0<11?16:b+11&-8;d=Ab(g+12+a|0)|0;if(!d){h=0;return h|0}f=d+-8|0;do{if(a+-1&d){e=(d+a+-1&0-a)+-8|0;b=f;e=(e-b|0)>>>0>15?e:e+a|0;b=e-b|0;a=d+-4|0;i=c[a>>2]|0;d=(i&-8)-b|0;if(!(i&3)){c[e>>2]=(c[f>>2]|0)+b;c[e+4>>2]=d;a=e;b=e;break}else{i=e+4|0;c[i>>2]=d|c[i>>2]&1|2;d=e+d+4|0;c[d>>2]=c[d>>2]|1;c[a>>2]=b|c[a>>2]&1|2;c[i>>2]=c[i>>2]|1;Eb(f,b);a=e;b=e;break}}else{a=f;b=f}}while(0);a=a+4|0;d=c[a>>2]|0;if(d&3|0?(h=d&-8,h>>>0>(g+16|0)>>>0):0){i=h-g|0;f=b+g|0;c[a>>2]=g|d&1|2;c[f+4>>2]=i|3;h=b+h+4|0;c[h>>2]=c[h>>2]|1;Eb(f,i)}i=b+8|0;return i|0}function Hb(){t(70888);return}function Ib(){return 70872}function Jb(){return 70880}function Kb(){return 70884}function Lb(){return 70888}function Mb(a){a=a|0;return}function Nb(a){a=a|0;bc(a);return}function Ob(a){a=a|0;return}function Pb(a){a=a|0;return}function Qb(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0;h=E;E=E+64|0;f=h;if(!(Ub(a,b)|0))if((b|0)!=0?(g=Yb(b,69792)|0,(g|0)!=0):0){b=f+4|0;e=b+52|0;do{c[b>>2]=0;b=b+4|0}while((b|0)<(e|0));c[f>>2]=g;c[f+8>>2]=a;c[f+12>>2]=-1;c[f+48>>2]=1;L[c[(c[g>>2]|0)+28>>2]&3](g,f,c[d>>2]|0,1);if((c[f+24>>2]|0)==1){c[d>>2]=c[f+16>>2];b=1}else b=0}else b=0;else b=1;E=h;return b|0}function Rb(a,b,d,e,f,g){a=a|0;b=b|0;d=d|0;e=e|0;f=f|0;g=g|0;if(Ub(a,c[b+8>>2]|0)|0)Xb(b,d,e,f);return}function Sb(b,d,e,f,g){b=b|0;d=d|0;e=e|0;f=f|0;g=g|0;var h=0;do{if(!(Ub(b,c[d+8>>2]|0)|0)){if(Ub(b,c[d>>2]|0)|0){if((c[d+16>>2]|0)!=(e|0)?(h=d+20|0,(c[h>>2]|0)!=(e|0)):0){c[d+32>>2]=f;c[h>>2]=e;g=d+40|0;c[g>>2]=(c[g>>2]|0)+1;if((c[d+36>>2]|0)==1?(c[d+24>>2]|0)==2:0)a[d+54>>0]=1;c[d+44>>2]=4;break}if((f|0)==1)c[d+32>>2]=1}}else Wb(d,e,f)}while(0);return}function Tb(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;if(Ub(a,c[b+8>>2]|0)|0)Vb(b,d,e);return}function Ub(a,b){a=a|0;b=b|0;return(a|0)==(b|0)|0}function Vb(b,d,e){b=b|0;d=d|0;e=e|0;var f=0,g=0;f=b+16|0;g=c[f>>2]|0;do{if(g){if((g|0)!=(d|0)){e=b+36|0;c[e>>2]=(c[e>>2]|0)+1;c[b+24>>2]=2;a[b+54>>0]=1;break}b=b+24|0;if((c[b>>2]|0)==2)c[b>>2]=e}else{c[f>>2]=d;c[b+24>>2]=e;c[b+36>>2]=1}}while(0);return}function Wb(a,b,d){a=a|0;b=b|0;d=d|0;var e=0;if((c[a+4>>2]|0)==(b|0)?(e=a+28|0,(c[e>>2]|0)!=1):0)c[e>>2]=d;return}function Xb(b,d,e,f){b=b|0;d=d|0;e=e|0;f=f|0;var g=0;a[b+53>>0]=1;do{if((c[b+4>>2]|0)==(e|0)){a[b+52>>0]=1;g=b+16|0;e=c[g>>2]|0;if(!e){c[g>>2]=d;c[b+24>>2]=f;c[b+36>>2]=1;if(!((f|0)==1?(c[b+48>>2]|0)==1:0))break;a[b+54>>0]=1;break}if((e|0)!=(d|0)){f=b+36|0;c[f>>2]=(c[f>>2]|0)+1;a[b+54>>0]=1;break}g=b+24|0;e=c[g>>2]|0;if((e|0)==2){c[g>>2]=f;e=f}if((e|0)==1?(c[b+48>>2]|0)==1:0)a[b+54>>0]=1}}while(0);return}function Yb(d,e){d=d|0;e=e|0;var f=0,g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0;q=E;E=E+64|0;n=q;p=c[d>>2]|0;o=d+(c[p+-8>>2]|0)|0;p=c[p+-4>>2]|0;c[n>>2]=e;c[n+4>>2]=d;c[n+8>>2]=69808;g=n+12|0;h=n+16|0;i=n+20|0;j=n+24|0;k=n+28|0;l=n+32|0;m=n+40|0;d=Ub(p,e)|0;e=g;f=e+40|0;do{c[e>>2]=0;e=e+4|0}while((e|0)<(f|0));b[g+40>>1]=0;a[g+42>>0]=0;a:do{if(d){c[n+48>>2]=1;N[c[(c[p>>2]|0)+20>>2]&3](p,n,o,o,1,0);d=(c[j>>2]|0)==1?o:0}else{M[c[(c[p>>2]|0)+24>>2]&3](p,n,o,1,0);switch(c[n+36>>2]|0){case 0:{d=(c[m>>2]|0)==1&(c[k>>2]|0)==1&(c[l>>2]|0)==1?c[i>>2]|0:0;break a}case 1:break;default:{d=0;break a}}if((c[j>>2]|0)!=1?!((c[m>>2]|0)==0&(c[k>>2]|0)==1&(c[l>>2]|0)==1):0){d=0;break}d=c[h>>2]|0}}while(0);E=q;return d|0}function Zb(a){a=a|0;bc(a);return}function _b(a,b,d,e,f,g){a=a|0;b=b|0;d=d|0;e=e|0;f=f|0;g=g|0;if(Ub(a,c[b+8>>2]|0)|0)Xb(b,d,e,f);else{a=c[a+8>>2]|0;N[c[(c[a>>2]|0)+20>>2]&3](a,b,d,e,f,g)}return}function $b(b,d,e,f,g){b=b|0;d=d|0;e=e|0;f=f|0;g=g|0;var h=0,i=0,j=0;do{if(!(Ub(b,c[d+8>>2]|0)|0)){if(!(Ub(b,c[d>>2]|0)|0)){i=c[b+8>>2]|0;M[c[(c[i>>2]|0)+24>>2]&3](i,d,e,f,g);break}if((c[d+16>>2]|0)!=(e|0)?(h=d+20|0,(c[h>>2]|0)!=(e|0)):0){c[d+32>>2]=f;i=d+44|0;if((c[i>>2]|0)==4)break;f=d+52|0;a[f>>0]=0;j=d+53|0;a[j>>0]=0;b=c[b+8>>2]|0;N[c[(c[b>>2]|0)+20>>2]&3](b,d,e,e,1,g);if(a[j>>0]|0)if(!(a[f>>0]|0)){f=1;b=11}else b=15;else{f=0;b=11}do{if((b|0)==11){c[h>>2]=e;j=d+40|0;c[j>>2]=(c[j>>2]|0)+1;if((c[d+36>>2]|0)==1?(c[d+24>>2]|0)==2:0){a[d+54>>0]=1;if(f){b=15;break}else{f=4;break}}if(f)b=15;else f=4}}while(0);if((b|0)==15)f=3;c[i>>2]=f;break}if((f|0)==1)c[d+32>>2]=1}else Wb(d,e,f)}while(0);return}function ac(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;if(Ub(a,c[b+8>>2]|0)|0)Vb(b,d,e);else{a=c[a+8>>2]|0;L[c[(c[a>>2]|0)+28>>2]&3](a,b,d,e)}return}function bc(a){a=a|0;Bb(a);return}function cc(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0;f=E;E=E+16|0;e=f;c[e>>2]=c[d>>2];a=J[c[(c[a>>2]|0)+16>>2]&1](a,b,e)|0;if(a)c[d>>2]=c[e>>2];E=f;return a&1|0}function dc(a){a=a|0;if(!a)a=0;else a=(Yb(a,69864)|0)!=0&1;return a|0}function ec(b,d,e){b=b|0;d=d|0;e=e|0;var f=0,g=0,h=0;if((e|0)>=8192){A(b|0,d|0,e|0)|0;return b|0}h=b|0;g=b+e|0;if((b&3)==(d&3)){while(b&3){if(!e)return h|0;a[b>>0]=a[d>>0]|0;b=b+1|0;d=d+1|0;e=e-1|0}e=g&-4|0;f=e-64|0;while((b|0)<=(f|0)){c[b>>2]=c[d>>2];c[b+4>>2]=c[d+4>>2];c[b+8>>2]=c[d+8>>2];c[b+12>>2]=c[d+12>>2];c[b+16>>2]=c[d+16>>2];c[b+20>>2]=c[d+20>>2];c[b+24>>2]=c[d+24>>2];c[b+28>>2]=c[d+28>>2];c[b+32>>2]=c[d+32>>2];c[b+36>>2]=c[d+36>>2];c[b+40>>2]=c[d+40>>2];c[b+44>>2]=c[d+44>>2];c[b+48>>2]=c[d+48>>2];c[b+52>>2]=c[d+52>>2];c[b+56>>2]=c[d+56>>2];c[b+60>>2]=c[d+60>>2];b=b+64|0;d=d+64|0}while((b|0)<(e|0)){c[b>>2]=c[d>>2];b=b+4|0;d=d+4|0}}else{e=g-4|0;while((b|0)<(e|0)){a[b>>0]=a[d>>0]|0;a[b+1>>0]=a[d+1>>0]|0;a[b+2>>0]=a[d+2>>0]|0;a[b+3>>0]=a[d+3>>0]|0;b=b+4|0;d=d+4|0}}while((b|0)<(g|0)){a[b>>0]=a[d>>0]|0;b=b+1|0;d=d+1|0}return h|0}function fc(b,d,e){b=b|0;d=d|0;e=e|0;var f=0,g=0,h=0,i=0;h=b+e|0;d=d&255;if((e|0)>=67){while(b&3){a[b>>0]=d;b=b+1|0}f=h&-4|0;i=d|d<<8|d<<16|d<<24;g=f-64|0;while((b|0)<=(g|0)){c[b>>2]=i;c[b+4>>2]=i;c[b+8>>2]=i;c[b+12>>2]=i;c[b+16>>2]=i;c[b+20>>2]=i;c[b+24>>2]=i;c[b+28>>2]=i;c[b+32>>2]=i;c[b+36>>2]=i;c[b+40>>2]=i;c[b+44>>2]=i;c[b+48>>2]=i;c[b+52>>2]=i;c[b+56>>2]=i;c[b+60>>2]=i;b=b+64|0}while((b|0)<(f|0)){c[b>>2]=i;b=b+4|0}}while((b|0)<(h|0)){a[b>>0]=d;b=b+1|0}return h-e|0}function gc(a){a=a|0;var b=0,d=0,e=0;e=z()|0;d=c[g>>2]|0;b=d+a|0;if((a|0)>0&(b|0)<(d|0)|(b|0)<0){C(b|0)|0;y(12);return-1}if((b|0)>(e|0))if(!(B(b|0)|0)){y(12);return-1}c[g>>2]=b;return d|0}function hc(a,b,c){a=a|0;b=b|0;c=c|0;return I[a&0](b|0,c|0)|0}function ic(a,b,c,d){a=a|0;b=b|0;c=c|0;d=d|0;return J[a&1](b|0,c|0,d|0)|0}function jc(a,b){a=a|0;b=b|0;K[a&7](b|0)}function kc(a,b,c,d,e){a=a|0;b=b|0;c=c|0;d=d|0;e=e|0;L[a&3](b|0,c|0,d|0,e|0)}function lc(a,b,c,d,e,f){a=a|0;b=b|0;c=c|0;d=d|0;e=e|0;f=f|0;M[a&3](b|0,c|0,d|0,e|0,f|0)}function mc(a,b,c,d,e,f,g){a=a|0;b=b|0;c=c|0;d=d|0;e=e|0;f=f|0;g=g|0;N[a&3](b|0,c|0,d|0,e|0,f|0,g|0)}function nc(a,b){a=a|0;b=b|0;p(0);return 0}function oc(a,b,c){a=a|0;b=b|0;c=c|0;p(1);return 0}function pc(a){a=a|0;p(2)}function qc(a,b,c,d){a=a|0;b=b|0;c=c|0;d=d|0;p(3)}function rc(a,b,c,d,e){a=a|0;b=b|0;c=c|0;d=d|0;e=e|0;p(4)}function sc(a,b,c,d,e,f){a=a|0;b=b|0;c=c|0;d=d|0;e=e|0;f=f|0;p(5)}var I=[nc];var J=[oc,Qb];var K=[pc,Mb,Nb,Ob,Pb,Zb,pc,pc];var L=[qc,Tb,ac,qc];var M=[rc,Sb,$b,rc];var N=[sc,Rb,_b,sc];return{___cxa_can_catch:cc,___cxa_is_pointer_type:dc,___emscripten_environ_constructor:Hb,__get_daylight:Jb,__get_environ:Lb,__get_timezone:Kb,__get_tzname:Ib,_bidi_getLine:Y,_bidi_getParagraphEndIndex:U,_bidi_getVisualRun:V,_bidi_processText:T,_bidi_setLine:W,_bidi_writeReverse:X,_emscripten_replace_memory:H,_free:Bb,_malloc:Ab,_memalign:Fb,_memcpy:ec,_memset:fc,_sbrk:gc,_ushape_arabic:S,dynCall_iii:hc,dynCall_iiii:ic,dynCall_vi:jc,dynCall_viiii:kc,dynCall_viiiii:lc,dynCall_viiiiii:mc,establishStackSpace:R,stackAlloc:O,stackRestore:Q,stackSave:P}}(asmGlobalArg,asmLibraryArg,buffer);var ___cxa_can_catch=Module["___cxa_can_catch"]=asm["___cxa_can_catch"];var ___cxa_is_pointer_type=Module["___cxa_is_pointer_type"]=asm["___cxa_is_pointer_type"];var ___emscripten_environ_constructor=Module["___emscripten_environ_constructor"]=asm["___emscripten_environ_constructor"];var __get_daylight=Module["__get_daylight"]=asm["__get_daylight"];var __get_environ=Module["__get_environ"]=asm["__get_environ"];var __get_timezone=Module["__get_timezone"]=asm["__get_timezone"];var __get_tzname=Module["__get_tzname"]=asm["__get_tzname"];var _bidi_getLine=Module["_bidi_getLine"]=asm["_bidi_getLine"];var _bidi_getParagraphEndIndex=Module["_bidi_getParagraphEndIndex"]=asm["_bidi_getParagraphEndIndex"];var _bidi_getVisualRun=Module["_bidi_getVisualRun"]=asm["_bidi_getVisualRun"];var _bidi_processText=Module["_bidi_processText"]=asm["_bidi_processText"];var _bidi_setLine=Module["_bidi_setLine"]=asm["_bidi_setLine"];var _bidi_writeReverse=Module["_bidi_writeReverse"]=asm["_bidi_writeReverse"];var _emscripten_replace_memory=Module["_emscripten_replace_memory"]=asm["_emscripten_replace_memory"];var _free=Module["_free"]=asm["_free"];var _malloc=Module["_malloc"]=asm["_malloc"];var _memalign=Module["_memalign"]=asm["_memalign"];var _memcpy=Module["_memcpy"]=asm["_memcpy"];var _memset=Module["_memset"]=asm["_memset"];var _sbrk=Module["_sbrk"]=asm["_sbrk"];var _ushape_arabic=Module["_ushape_arabic"]=asm["_ushape_arabic"];var establishStackSpace=Module["establishStackSpace"]=asm["establishStackSpace"];var stackAlloc=Module["stackAlloc"]=asm["stackAlloc"];var stackRestore=Module["stackRestore"]=asm["stackRestore"];var stackSave=Module["stackSave"]=asm["stackSave"];var dynCall_iii=Module["dynCall_iii"]=asm["dynCall_iii"];var dynCall_iiii=Module["dynCall_iiii"]=asm["dynCall_iiii"];var dynCall_vi=Module["dynCall_vi"]=asm["dynCall_vi"];var dynCall_viiii=Module["dynCall_viiii"]=asm["dynCall_viiii"];var dynCall_viiiii=Module["dynCall_viiiii"]=asm["dynCall_viiiii"];var dynCall_viiiiii=Module["dynCall_viiiiii"]=asm["dynCall_viiiiii"];Module["asm"]=asm;Module["ccall"]=ccall;Module["UTF16ToString"]=UTF16ToString;Module["stringToUTF16"]=stringToUTF16;if(memoryInitializer){if(!isDataURI(memoryInitializer)){memoryInitializer=locateFile(memoryInitializer)}if(ENVIRONMENT_IS_NODE||ENVIRONMENT_IS_SHELL){var data=Module["readBinary"](memoryInitializer);HEAPU8.set(data,GLOBAL_BASE)}else{addRunDependency("memory initializer");var applyMemoryInitializer=function(data){if(data.byteLength)data=new Uint8Array(data);HEAPU8.set(data,GLOBAL_BASE);if(Module["memoryInitializerRequest"])delete Module["memoryInitializerRequest"].response;removeRunDependency("memory initializer")};var doBrowserLoad=function(){Module["readAsync"](memoryInitializer,applyMemoryInitializer,function(){throw"could not load memory initializer "+memoryInitializer})};var memoryInitializerBytes=tryParseAsDataURI(memoryInitializer);if(memoryInitializerBytes){applyMemoryInitializer(memoryInitializerBytes.buffer)}else if(Module["memoryInitializerRequest"]){var useRequest=function(){var request=Module["memoryInitializerRequest"];var response=request.response;if(request.status!==200&&request.status!==0){var data=tryParseAsDataURI(Module["memoryInitializerRequestURL"]);if(data){response=data.buffer}else{console.warn("a problem seems to have happened with Module.memoryInitializerRequest, status: "+request.status+", retrying "+memoryInitializer);doBrowserLoad();return}}applyMemoryInitializer(response)};if(Module["memoryInitializerRequest"].response){setTimeout(useRequest,0)}else{Module["memoryInitializerRequest"].addEventListener("load",useRequest)}}else{doBrowserLoad()}}}function ExitStatus(status){this.name="ExitStatus";this.message="Program terminated with exit("+status+")";this.status=status}ExitStatus.prototype=new Error;ExitStatus.prototype.constructor=ExitStatus;dependenciesFulfilled=function runCaller(){if(!Module["calledRun"])run();if(!Module["calledRun"])dependenciesFulfilled=runCaller};function run(args){args=args||Module["arguments"];if(runDependencies>0){return}preRun();if(runDependencies>0)return;if(Module["calledRun"])return;function doRun(){if(Module["calledRun"])return;Module["calledRun"]=true;if(ABORT)return;ensureInitRuntime();preMain();if(Module["onRuntimeInitialized"])Module["onRuntimeInitialized"]();postRun()}if(Module["setStatus"]){Module["setStatus"]("Running...");setTimeout(function(){setTimeout(function(){Module["setStatus"]("")},1);doRun()},1)}else{doRun()}}Module["run"]=run;function abort(what){if(Module["onAbort"]){Module["onAbort"](what)}if(what!==undefined){out(what);err(what);what=JSON.stringify(what)}else{what=""}ABORT=true;EXITSTATUS=1;throw"abort("+what+"). Build with -s ASSERTIONS=1 for more info."}Module["abort"]=abort;if(Module["preInit"]){if(typeof Module["preInit"]=="function")Module["preInit"]=[Module["preInit"]];while(Module["preInit"].length>0){Module["preInit"].pop()()}}Module["noExitRuntime"]=true;run();"use strict";function applyArabicShaping(input){if(!input){return input}var nDataBytes=(input.length+1)*2;var stringInputPtr=Module._malloc(nDataBytes);Module.stringToUTF16(input,stringInputPtr,nDataBytes);var returnStringPtr=Module.ccall("ushape_arabic","number",["number","number"],[stringInputPtr,input.length]);Module._free(stringInputPtr);if(returnStringPtr===0){return input}var result=Module.UTF16ToString(returnStringPtr);Module._free(returnStringPtr);return result}function mergeParagraphLineBreakPoints(lineBreakPoints,paragraphCount){var mergedParagraphLineBreakPoints=[];for(var i=0;i<paragraphCount;i++){var paragraphEndIndex=Module.ccall("bidi_getParagraphEndIndex","number",["number"],[i]);for(var i$1=0,list=lineBreakPoints;i$1<list.length;i$1+=1){var lineBreakPoint=list[i$1];if(lineBreakPoint<paragraphEndIndex&&(!mergedParagraphLineBreakPoints[mergedParagraphLineBreakPoints.length-1]||lineBreakPoint>mergedParagraphLineBreakPoints[mergedParagraphLineBreakPoints.length-1])){mergedParagraphLineBreakPoints.push(lineBreakPoint)}}mergedParagraphLineBreakPoints.push(paragraphEndIndex)}for(var i$2=0,list$1=lineBreakPoints;i$2<list$1.length;i$2+=1){var lineBreakPoint$1=list$1[i$2];if(lineBreakPoint$1>mergedParagraphLineBreakPoints[mergedParagraphLineBreakPoints.length-1]){mergedParagraphLineBreakPoints.push(lineBreakPoint$1)}}return mergedParagraphLineBreakPoints}function setParagraph(input,stringInputPtr,nDataBytes){if(!input){return null}Module.stringToUTF16(input,stringInputPtr,nDataBytes);var paragraphCount=Module.ccall("bidi_processText","number",["number","number"],[stringInputPtr,input.length]);if(paragraphCount===0){Module._free(stringInputPtr);return null}return paragraphCount}function processBidirectionalText(input,lineBreakPoints){var nDataBytes=(input.length+1)*2;var stringInputPtr=Module._malloc(nDataBytes);var paragraphCount=setParagraph(input,stringInputPtr,nDataBytes);if(!paragraphCount){return[input]}var mergedParagraphLineBreakPoints=mergeParagraphLineBreakPoints(lineBreakPoints,paragraphCount);var lineStartIndex=0;var lines=[]\n;for(var i=0,list=mergedParagraphLineBreakPoints;i<list.length;i+=1){var lineBreakPoint=list[i];var returnStringPtr=Module.ccall("bidi_getLine","number",["number","number"],[lineStartIndex,lineBreakPoint]);if(returnStringPtr===0){Module._free(stringInputPtr);return[]}lines.push(Module.UTF16ToString(returnStringPtr));Module._free(returnStringPtr);lineStartIndex=lineBreakPoint}Module._free(stringInputPtr);return lines}function createInt32Ptr(){return Module._malloc(4)}function consumeInt32Ptr(ptr){var heapView=new Int32Array(Module.HEAPU8.buffer,ptr,1);var result=heapView[0];Module._free(ptr);return result}function writeReverse(stringInputPtr,logicalStart,logicalEnd){var returnStringPtr=Module.ccall("bidi_writeReverse","number",["number","number","number"],[stringInputPtr,logicalStart,logicalEnd-logicalStart]);if(returnStringPtr===0){return null}var reversed=Module.UTF16ToString(returnStringPtr);Module._free(returnStringPtr);return reversed}function processStyledBidirectionalText(text,styleIndices,lineBreakPoints){var nDataBytes=(text.length+1)*2;var stringInputPtr=Module._malloc(nDataBytes);var paragraphCount=setParagraph(text,stringInputPtr,nDataBytes);if(!paragraphCount){return[{text:text,styleIndices:styleIndices}]}var mergedParagraphLineBreakPoints=mergeParagraphLineBreakPoints(lineBreakPoints,paragraphCount);var lineStartIndex=0;var lines=[];for(var i$1=0,list=mergedParagraphLineBreakPoints;i$1<list.length;i$1+=1){var lineBreakPoint=list[i$1];var lineText="";var lineStyleIndices=[];var runCount=Module.ccall("bidi_setLine","number",["number","number"],[lineStartIndex,lineBreakPoint]);if(!runCount){Module._free(stringInputPtr);return[]}for(var i=0;i<runCount;i++){var logicalStartPtr=createInt32Ptr();var logicalLengthPtr=createInt32Ptr();var isReversed=Module.ccall("bidi_getVisualRun","number",["number","number","number"],[i,logicalStartPtr,logicalLengthPtr]);var logicalStart=lineStartIndex+consumeInt32Ptr(logicalStartPtr);var logicalLength=consumeInt32Ptr(logicalLengthPtr);var logicalEnd=logicalStart+logicalLength;if(isReversed){var styleRunStart=logicalEnd;var currentStyleIndex=styleIndices[styleRunStart-1];for(var j=logicalEnd-1;j>=logicalStart;j--){if(currentStyleIndex!==styleIndices[j]||j===logicalStart){var styleRunEnd=j===logicalStart?j:j+1;var reversed=writeReverse(stringInputPtr,styleRunEnd,styleRunStart);if(!reversed){Module._free(stringInputPtr);return[]}lineText+=reversed;for(var k=0;k<reversed.length;k++){lineStyleIndices.push(currentStyleIndex)}currentStyleIndex=styleIndices[j];styleRunStart=styleRunEnd}}}else{lineText+=text.substring(logicalStart,logicalEnd);lineStyleIndices=lineStyleIndices.concat(styleIndices.slice(logicalStart,logicalEnd))}}lines.push([lineText,lineStyleIndices]);lineStartIndex=lineBreakPoint}Module._free(stringInputPtr);return lines}self.registerRTLTextPlugin({applyArabicShaping:applyArabicShaping,processBidirectionalText:processBidirectionalText,processStyledBidirectionalText:processStyledBidirectionalText})})})();\n'],{type:"text/javascript"});!0!==at.RTLTextPluginRequested&&(at.RTLTextPluginRequested=!0,at.setRTLTextPlugin(URL.createObjectURL(bt),Kt=>{if(Kt)throw Error(Kt)}))}(this.mapbox),nt._initializeStyle(this.options._deferredStyle).then(()=>{nt.__om.fire(Hr)}),this._extendedMap=nt,nt}),this.mapbox=ie,this.options=Wt.call(this,To({},z))}}var es=he(359),Ko=he.n(es),TA=he(360),ts=he.n(TA);function AA(R,z){var V=Object.keys(R);if(Object.getOwnPropertySymbols){var ie=Object.getOwnPropertySymbols(R);z&&(ie=ie.filter(function(Te){return Object.getOwnPropertyDescriptor(R,Te).enumerable})),V.push.apply(V,ie)}return V}function No(R){for(var z=1;z<arguments.length;z++){var V=null!=arguments[z]?arguments[z]:{};z%2?AA(Object(V),!0).forEach(function(ie){Ni(R,ie,V[ie])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(V)):AA(Object(V)).forEach(function(ie){Object.defineProperty(R,ie,Object.getOwnPropertyDescriptor(V,ie))})}return R}function Ni(R,z,V){return z in R?Object.defineProperty(R,z,{value:V,enumerable:!0,configurable:!0,writable:!0}):R[z]=V,R}const ca="#000000",la={width:30,height:36};function ua(R){const z={height:R.height-Math.round(.1*R.height),width:R.width},V=document.createElement("div");V.style.backgroundImage="none",V.style.width="".concat(R.width,"px"),V.style.height="".concat(R.height,"px"),V.innerHTML=(Te=>{let{width:nt,height:at,color:bt}=Te;return Ko().replace("<svg",'<svg width="'.concat(nt,'" height="').concat(at,'" fill="').concat(bt,'"'))})(R);const ie=document.createElement("div");return ie.style.position="absolute",ie.style.top=0,ie.style.left=0,ie.style.width="".concat(z.width,"px"),ie.style.height="".concat(z.height,"px"),ie.style.backgroundImage="none",ie.style.overflow="hidden",ie.innerHTML=(Te=>{let{width:nt,height:at}=Te;return ts().replace("<svg",'<svg width="'.concat(nt,'" height="').concat(at,'"')).replace("<path",'<path fill="white"')})(z),V.appendChild(ie),V}class Xo extends s().Marker{constructor(z){super(z instanceof he.g.HTMLElement?z={element:z,anchor:"bottom"}:function(V){const{width:ie=la.width*V.scale,height:Te=la.height*V.scale,color:nt=ca}=V;return No(No({},V),{},{element:V.element||ua({width:ie,height:Te,color:nt}),anchor:V.anchor||"bottom"})}(No({scale:1},z)))}}function Uo(R,z,V){const ie=window.document.createElement(R);return void 0!==z&&(ie.className=z),V&&V.appendChild(ie),ie}class Wn{constructor(z){let{className:V,label:ie,parentContainer:Te,alwaysShow:nt,contentElem:at}=z;var Kt,xr;xr=(Tn,Xr,Oi)=>{const io=Uo("button",Tn,Oi);return io.type="button",io.title=Xr,io.setAttribute("aria-label",Xr),io},(Kt="_createButton")in this?Object.defineProperty(this,Kt,{value:xr,enumerable:!0,configurable:!0,writable:!0}):this[Kt]=xr;const dn=["navigation-button",V];nt||dn.push("-hide"),"Reset"===ie&&dn.push("-reset"),this._buttonElem=this._createButton(dn.join(" "),ie,Te),at&&this._buttonElem.appendChild(at)}addClickListener(z){this._buttonElem.addEventListener("click",z)}removeClickListener(z){this._buttonElem.removeEventListener("click",z)}getElement(){return this._buttonElem}hide(){this._buttonElem.classList.add("-hide")}show(){this._buttonElem.classList.remove("-hide")}}var wi=he(361),UA=he.n(wi),Vo=he(362),Fa=he.n(Vo),_o=he(363),Yo=he.n(_o),Qn=he(364),sA=he.n(Qn),pa=he(365),rs=he.n(pa),ka=he(366),ha=he.n(ka);function Oo(R,z,V){return z in R?Object.defineProperty(R,z,{value:V,enumerable:!0,configurable:!0,writable:!0}):R[z]=V,R}function ro(R){const z=Uo("div");return z.innerHTML=R,z}const di="mapboxgl-ctrl mapboxgl-ctrl-group extended-navigation-group",cA={showRotation:!1,showExtendedRotationControls:!1,showExtendedPitchControls:!1,rotationStep:10,pitchStep:10};class lA extends s().NavigationControl{constructor(){super(Object.assign({},cA,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})),Oo(this,"_appendRotationButtons",()=>{const V=Uo("div",di,this._container);this._compass.parentNode.removeChild(this._compass),this._compass=this._createCompassElem(),V.appendChild(this._compass),this._rotateRightButton=new Wn({label:"Rotate right",parentContainer:V,contentElem:ro(sA())}),this.activeEventListeners._rotateRightButton=this._changePerspective("bearing",-this.options.rotationStep),this._rotateRightButton.addClickListener(this.activeEventListeners._rotateRightButton),this._rotateLeftButton=new Wn({label:"Rotate left",parentContainer:V,contentElem:ro(rs())}),this.activeEventListeners._rotateLeftButton=this._changePerspective("bearing",this.options.rotationStep),this._rotateLeftButton.addClickListener(this.activeEventListeners._rotateLeftButton),this._rotateResetButton=new Wn({label:"Reset",parentContainer:V,contentElem:ro(ha())}),this.activeEventListeners._rotateResetButton=ie=>this._map.resetNorth({},{originalEvent:ie}),this._rotateResetButton.addClickListener(this.activeEventListeners._rotateResetButton)}),Oo(this,"_createCompassElem",()=>(this._compassRef=new Wn({className:"mapboxgl-ctrl-compass",label:"Open/Reset rotation",alwaysShow:!0}),this.activeEventListeners._compassRef=()=>this._rotateControlsToggle(!this.state.rotationControlsOpen),this._compassRef.addClickListener(this.activeEventListeners._compassRef),this._compassIcon=Uo("span","mapboxgl-ctrl-icon",this._compassRef.getElement()),this._compassRef.getElement())),Oo(this,"_appendPitchButtons",()=>{const V=Uo("div",di,this._container);this._pitchControl=new Wn({label:"Open/Reset pitch",alwaysShow:!0,contentElem:ro(UA())}),this.activeEventListeners._pitchControl=()=>{this.options.showExtendedPitchControls?this._pitchControllsToggle(!this.state.pitchControlsOpen):this._map.easeTo({pitch:0})},this._pitchControl.addClickListener(this.activeEventListeners._pitchControl),V.appendChild(this._pitchControl.getElement()),this.options.showExtendedPitchControls&&(this._increasePitchButton=new Wn({label:"Increase pitch",parentContainer:V,contentElem:ro(Yo())}),this.activeEventListeners._increasePitchButton=this._changePerspective("pitch",this.options.pitchStep),this._increasePitchButton.addClickListener(this.activeEventListeners._increasePitchButton),this._decreasePitchButton=new Wn({label:"Decrease pitch",parentContainer:V,contentElem:ro(Fa())}),this.activeEventListeners._decreasePitchButton=this._changePerspective("pitch",-this.options.pitchStep),this._decreasePitchButton.addClickListener(this.activeEventListeners._decreasePitchButton),this._pitchResetButton=new Wn({label:"Reset",parentContainer:V,contentElem:ro(ha())}),this.activeEventListeners._pitchResetButton=()=>this._map.easeTo({pitch:0}),this._pitchResetButton.addClickListener(this.activeEventListeners._pitchResetButton))}),Oo(this,"_rotateControlsToggle",V=>{const ie=V?"show":"hide";this._rotateResetButton[ie](),this._rotateRightButton[ie](),this._rotateLeftButton[ie](),this.state.rotationControlsOpen=V}),Oo(this,"_pitchControllsToggle",V=>{const ie=V?"show":"hide";this._pitchResetButton[ie](),this._increasePitchButton[ie](),this._decreasePitchButton[ie](),this.state.pitchControlsOpen=V}),Oo(this,"_changePerspective",(V,ie)=>Te=>{const nt={};nt[V]=("pitch"===V?this._map.getPitch():this._map.getBearing())+ie,this._map.easeTo(nt,{originalEvent:Te})}),this.activeEventListeners={},this._extendedControlsContainer=Uo("div"),this._extendedControlsContainer.appendChild(this._container),this._container=this._extendedControlsContainer,this.options.showCompass&&this.options.showExtendedRotationControls&&this._appendRotationButtons(),this.options.showPitch&&this._appendPitchButtons(),this.state={rotationControlsOpen:!1,pitchControlsOpen:!1}}onRemove(){Object.keys(this.activeEventListeners).forEach(z=>{this[z].removeClickListener(this.activeEventListeners[z])}),super.onRemove()}}const fa=["Popup","FullscreenControl","ScaleControl","GeolocateControl","LngLat","LngLatBounds","Point","MercatorCoordinate","Evented","supported","prewarm","clearPrewarmedResources","workerCount"];function Lo(R,z){switch(R){case"Popup":case"Marker":case"NavigationControl":!function(){const V=z.prototype,ie=V.addTo;V.addTo=function(Te){return ie.call(this,Te.__om?Te.__om:Te)}}()}return z}function bo(R,z){var V=Object.keys(R);if(Object.getOwnPropertySymbols){var ie=Object.getOwnPropertySymbols(R);z&&(ie=ie.filter(function(Te){return Object.getOwnPropertyDescriptor(R,Te).enumerable})),V.push.apply(V,ie)}return V}function Zr(R){for(var z=1;z<arguments.length;z++){var V=null!=arguments[z]?arguments[z]:{};z%2?bo(Object(V),!0).forEach(function(ie){qo(R,ie,V[ie])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(V)):bo(Object(V)).forEach(function(ie){Object.defineProperty(R,ie,Object.getOwnPropertyDescriptor(V,ie))})}return R}function qo(R,z,V){return z in R?Object.defineProperty(R,z,{value:V,enumerable:!0,configurable:!0,writable:!0}):R[z]=V,R}var no=Zr(Zr({},{__core:s(),map:R=>new sa(R,{mapbox:s()}).createMap(),sdkInfo:{version:I()["sdk.version"]},setProductInfo:(R,z)=>{if(!R)throw new Error("ProductId needs to be set");const V=z||0===z?"/"+z:"";M().productInfo=R+V}}),function(){const R={};return fa.forEach(z=>{const V=s()[z];R[z]=Lo(z,V)}),function(z){z.Marker=Lo("Marker",Xo),z.NavigationControl=Lo("NavigationControl",lA)}(R),R}())}(),vn.default}()},9380:CA=>{self,CA.exports=function(){var Zi=[,function(m){const x="api.tomtom.com";m.exports={"sdk.name":"MapsWebSDK","sdk.version":"6.23.0","sdk.examples.version":"SDK-${version}","analytics.header.name":"TomTom-User-Agent","analytics.header.sdkName":"MapsWebSDK","endpoints.copyrightsV2":"".concat(x,"/map/2/copyrights"),"endpoints.captionV2":"".concat(x,"/map/2/copyrights/caption.{contentType}"),"endpoints.geocode":"".concat(x,"/search/2/geocode/{query}.{contentType}"),"endpoints.structuredGeocode":"".concat(x,"/search/2/structuredGeocode.{contentType}"),"endpoints.search":"".concat(x,"/search/2/{type}/{query}.{contentType}"),"endpoints.nearbySearch":"".concat(x,"/search/2/nearbySearch/.{contentType}"),"endpoints.batchNearbySearchQuery":"/{type}/.{contentType}","endpoints.batchSearch":"".concat(x,"/search/2/batch.{contentType}"),"endpoints.batchSyncSearch":"".concat(x,"/search/2/batch/sync.{contentType}"),"endpoints.batchSearchQuery":"/{type}/{query}.{contentType}","endpoints.batchStructuredGeocodeQuery":"/structuredGeocode.{contentType}","endpoints.adp":"".concat(x,"/search/2/additionalData.{contentType}"),"endpoints.batchAdpQuery":"/additionalData.{contentType}","endpoints.reverseGeocode":"".concat(x,"/search/2/{type}/{position}.{contentType}"),"endpoints.batchReverseGeocodeQuery":"/{type}/{position}.{contentType}","endpoints.autocomplete":"".concat(x,"/search/2/autocomplete/{query}.{contentType}"),"endpoints.poiCategories":"".concat(x,"/search/2/poiCategories.{contentType}"),"endpoints.chargingAvailability":"".concat(x,"/search/2/chargingAvailability.{contentType}"),"endpoints.batchChargingAvailabilityQuery":"/chargingAvailability.{contentType}","endpoints.placeById":"".concat(x,"/search/2/place.{contentType}"),"endpoints.incidentDetailsV5":"".concat(x,"/traffic/services/5/incidentDetails"),"endpoints.incidentViewport":"".concat(x,"/traffic/services/4/incidentViewport/0,0,.1,.1/0/0,0,.1,.1/0/false/{contentType}"),"endpoints.flowSegmentData":"".concat(x,"/traffic/services/4/flowSegmentData/{style}/{zoom}/{contentType}"),"endpoints.incidentRegions":"".concat(x,"/traffic/services/4/incidentRegions/{contentType}"),"endpoints.rasterTrafficIncidentTilesLayer":"{s}.".concat(x,"/traffic/map/4/tile/incidents/{style}/{z}/{x}/{y}.png?tileSize={tileSize}"),"endpoints.vectorTrafficIncidentTilesLayer":"{s}.".concat(x,"/traffic/map/4/tile/incidents/{z}/{x}/{y}.pbf"),"endpoints.rasterTrafficFlowTilesLayer":"{s}.".concat(x,"/traffic/map/4/tile/flow/{style}/{z}/{x}/{y}.png"),"endpoints.vectorTrafficFlowTilesLayer":"{s}.".concat(x,"/traffic/map/4/tile/flow/{style}/{z}/{x}/{y}.pbf"),"endpoints.tileLayer":"{s}.".concat(x,"/map/1/tile/{layer}/{style}/{z}/{x}/{y}.png?tileSize={tileSize}"),"endpoints.wmsLayer":"{s}.".concat(x,"/map/1/wms/?service=WMS&version=1.1.1&request=GetMap&bbox={bbox-epsg-3857}&srs=EPSG:3857&width=512&height=512&layers=basic&styles=&format={format}"),"endpoints.vectorTileLayer":"{s}.".concat(x,"/map/1/tile/{layer}/{style}/{z}/{x}/{y}.pbf"),"endpoints.routing":"".concat(x,"/routing/1/calculateRoute/{locations}/{contentType}"),"endpoints.calculateReachableRange":"".concat(x,"/routing/1/calculateReachableRange/{origin}/{contentType}"),"endpoints.batchRouting":"".concat(x,"/routing/1/batch/{contentType}"),"endpoints.batchSyncRouting":"".concat(x,"/routing/1/batch/sync/{contentType}"),"endpoints.batchRoutingQuery":"/calculateRoute/{locations}/{contentType}","endpoints.batchReachableRangeQuery":"/calculateReachableRange/{origin}/{contentType}","endpoints.matrixRouting":"".concat(x,"/routing/1/matrix/{contentType}"),"endpoints.matrixSyncRouting":"".concat(x,"/routing/1/matrix/sync/{contentType}"),"endpoints.longDistanceEVRouting":"".concat(x,"/routing/1/calculateLongDistanceEVRoute/{locations}/{contentType}"),"endpoints.staticImage":"https://".concat(x,"/map/1/staticimage"),"vector.glyphs":"https://"+x+"/maps-sdk-js/6.23.0/glyphs/{fontstack}/{range}.pbf","vector.sprites":"https://"+x+"/maps-sdk-js/6.23.0/sprites/sprite","endpoints.styles":"https://".concat(x,"/style/1/style/{version}?map=basic_main&traffic_incidents=incidents_day&traffic_flow=flow_relative0&poi=poi_main"),origin:x,hostedStylesVersion:"21.1.0-*"}},function(m,x,s){var d=s(3),w=s(9);m.exports=function(i){if(!w(i))return!1;var v=d(i);return"[object Function]"==v||"[object GeneratorFunction]"==v||"[object AsyncFunction]"==v||"[object Proxy]"==v}},function(m,x,s){var d=s(4),w=s(7),i=s(8),v=d?d.toStringTag:void 0;m.exports=function(g){return null==g?void 0===g?"[object Undefined]":"[object Null]":v&&v in Object(g)?w(g):i(g)}},function(m,x,s){var d=s(5).Symbol;m.exports=d},function(m,x,s){var d=s(6),w="object"==typeof self&&self&&self.Object===Object&&self,i=d||w||Function("return this")();m.exports=i},function(m,x,s){m.exports="object"==typeof s.g&&s.g&&s.g.Object===Object&&s.g},function(m,x,s){var d=s(4),w=Object.prototype,i=w.hasOwnProperty,v=w.toString,g=d?d.toStringTag:void 0;m.exports=function(C){var F=i.call(C,g),P=C[g];try{C[g]=void 0;var B=!0}catch{}var S=v.call(C);return B&&(F?C[g]=P:delete C[g]),S}},function(m){var x=Object.prototype.toString;m.exports=function(s){return x.call(s)}},function(m){m.exports=function(x){var s=typeof x;return null!=x&&("object"==s||"function"==s)}},function(m,x,s){var d=s(3),w=s(11),i=s(12);m.exports=function(v){return"string"==typeof v||!w(v)&&i(v)&&"[object String]"==d(v)}},function(m){m.exports=Array.isArray},function(m){m.exports=function(x){return null!=x&&"object"==typeof x}},function(m){m.exports=function(x){return null==x}},function(m,x,s){var d=s(15);m.exports=function(w){return"number"==typeof w&&w==d(w)}},function(m,x,s){var d=s(16);m.exports=function(w){var i=d(w),v=i%1;return i==i?v?i-v:i:0}},function(m,x,s){var d=s(17);m.exports=function(i){return i?Infinity===(i=d(i))||i===-1/0?17976931348623157e292*(i<0?-1:1):i==i?i:0:0===i?i:0}},function(m,x,s){var d=s(9),w=s(18),i=/^\s+|\s+$/g,v=/^[-+]0x[0-9a-f]+$/i,g=/^0b[01]+$/i,C=/^0o[0-7]+$/i,F=parseInt;m.exports=function(P){if("number"==typeof P)return P;if(w(P))return NaN;if(d(P)){var B="function"==typeof P.valueOf?P.valueOf():P;P=d(B)?B+"":B}if("string"!=typeof P)return 0===P?P:+P;P=P.replace(i,"");var S=g.test(P);return S||C.test(P)?F(P.slice(2),S?2:8):v.test(P)?NaN:+P}},function(m,x,s){var d=s(3),w=s(12);m.exports=function(i){return"symbol"==typeof i||w(i)&&"[object Symbol]"==d(i)}},function(m,x,s){var d=s(20),w=s(21);m.exports=function(i,v){return null!=i&&w(i,v,d)}},function(m){var x=Object.prototype.hasOwnProperty;m.exports=function(s,d){return null!=s&&x.call(s,d)}},function(m,x,s){var d=s(22),w=s(60),i=s(11),v=s(62),g=s(63),C=s(64);m.exports=function(F,P,B){for(var S=-1,I=(P=d(P,F)).length,T=!1;++S<I;){var L=C(P[S]);if(!(T=null!=F&&B(F,L)))break;F=F[L]}return T||++S!=I?T:!!(I=null==F?0:F.length)&&g(I)&&v(L,I)&&(i(F)||w(F))}},function(m,x,s){var d=s(11),w=s(23),i=s(24),v=s(57);m.exports=function(g,C){return d(g)?g:w(g,C)?[g]:i(v(g))}},function(m,x,s){var d=s(11),w=s(18),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,v=/^\w*$/;m.exports=function(g,C){if(d(g))return!1;var F=typeof g;return!("number"!=F&&"symbol"!=F&&"boolean"!=F&&null!=g&&!w(g))||v.test(g)||!i.test(g)||null!=C&&g in Object(C)}},function(m,x,s){var d=s(25),w=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,v=d(function(g){var C=[];return 46===g.charCodeAt(0)&&C.push(""),g.replace(w,function(F,P,B,S){C.push(B?S.replace(i,"$1"):P||F)}),C});m.exports=v},function(m,x,s){var d=s(26);m.exports=function(w){var i=d(w,function(g){return 500===v.size&&v.clear(),g}),v=i.cache;return i}},function(m,x,s){var d=s(27);function w(i,v){if("function"!=typeof i||null!=v&&"function"!=typeof v)throw new TypeError("Expected a function");var g=function(){var C=arguments,F=v?v.apply(this,C):C[0],P=g.cache;if(P.has(F))return P.get(F);var B=i.apply(this,C);return g.cache=P.set(F,B)||P,B};return g.cache=new(w.Cache||d),g}w.Cache=d,m.exports=w},function(m,x,s){var d=s(28),w=s(51),i=s(54),v=s(55),g=s(56);function C(F){var P=-1,B=null==F?0:F.length;for(this.clear();++P<B;){var S=F[P];this.set(S[0],S[1])}}C.prototype.clear=d,C.prototype.delete=w,C.prototype.get=i,C.prototype.has=v,C.prototype.set=g,m.exports=C},function(m,x,s){var d=s(29),w=s(42),i=s(50);m.exports=function(){this.size=0,this.__data__={hash:new d,map:new(i||w),string:new d}}},function(m,x,s){var d=s(30),w=s(38),i=s(39),v=s(40),g=s(41);function C(F){var P=-1,B=null==F?0:F.length;for(this.clear();++P<B;){var S=F[P];this.set(S[0],S[1])}}C.prototype.clear=d,C.prototype.delete=w,C.prototype.get=i,C.prototype.has=v,C.prototype.set=g,m.exports=C},function(m,x,s){var d=s(31);m.exports=function(){this.__data__=d?d(null):{},this.size=0}},function(m,x,s){var d=s(32)(Object,"create");m.exports=d},function(m,x,s){var d=s(33),w=s(37);m.exports=function(i,v){var g=w(i,v);return d(g)?g:void 0}},function(m,x,s){var d=s(2),w=s(34),i=s(9),v=s(36),g=/^\[object .+?Constructor\]$/,S=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");m.exports=function(I){return!(!i(I)||w(I))&&(d(I)?S:g).test(v(I))}},function(m,x,s){var d,w=s(35),i=(d=/[^.]+$/.exec(w&&w.keys&&w.keys.IE_PROTO||""))?"Symbol(src)_1."+d:"";m.exports=function(v){return!!i&&i in v}},function(m,x,s){var d=s(5)["__core-js_shared__"];m.exports=d},function(m){var x=Function.prototype.toString;m.exports=function(s){if(null!=s){try{return x.call(s)}catch{}try{return s+""}catch{}}return""}},function(m){m.exports=function(x,s){return x?.[s]}},function(m){m.exports=function(x){var s=this.has(x)&&delete this.__data__[x];return this.size-=s?1:0,s}},function(m,x,s){var d=s(31),w=Object.prototype.hasOwnProperty;m.exports=function(i){var v=this.__data__;if(d){var g=v[i];return"__lodash_hash_undefined__"===g?void 0:g}return w.call(v,i)?v[i]:void 0}},function(m,x,s){var d=s(31),w=Object.prototype.hasOwnProperty;m.exports=function(i){var v=this.__data__;return d?void 0!==v[i]:w.call(v,i)}},function(m,x,s){var d=s(31);m.exports=function(w,i){var v=this.__data__;return this.size+=this.has(w)?0:1,v[w]=d&&void 0===i?"__lodash_hash_undefined__":i,this}},function(m,x,s){var d=s(43),w=s(44),i=s(47),v=s(48),g=s(49);function C(F){var P=-1,B=null==F?0:F.length;for(this.clear();++P<B;){var S=F[P];this.set(S[0],S[1])}}C.prototype.clear=d,C.prototype.delete=w,C.prototype.get=i,C.prototype.has=v,C.prototype.set=g,m.exports=C},function(m){m.exports=function(){this.__data__=[],this.size=0}},function(m,x,s){var d=s(45),w=Array.prototype.splice;m.exports=function(i){var v=this.__data__,g=d(v,i);return!(g<0||(g==v.length-1?v.pop():w.call(v,g,1),--this.size,0))}},function(m,x,s){var d=s(46);m.exports=function(w,i){for(var v=w.length;v--;)if(d(w[v][0],i))return v;return-1}},function(m){m.exports=function(x,s){return x===s||x!=x&&s!=s}},function(m,x,s){var d=s(45);m.exports=function(w){var i=this.__data__,v=d(i,w);return v<0?void 0:i[v][1]}},function(m,x,s){var d=s(45);m.exports=function(w){return d(this.__data__,w)>-1}},function(m,x,s){var d=s(45);m.exports=function(w,i){var v=this.__data__,g=d(v,w);return g<0?(++this.size,v.push([w,i])):v[g][1]=i,this}},function(m,x,s){var d=s(32)(s(5),"Map");m.exports=d},function(m,x,s){var d=s(52);m.exports=function(w){var i=d(this,w).delete(w);return this.size-=i?1:0,i}},function(m,x,s){var d=s(53);m.exports=function(w,i){var v=w.__data__;return d(i)?v["string"==typeof i?"string":"hash"]:v.map}},function(m){m.exports=function(x){var s=typeof x;return"string"==s||"number"==s||"symbol"==s||"boolean"==s?"__proto__"!==x:null===x}},function(m,x,s){var d=s(52);m.exports=function(w){return d(this,w).get(w)}},function(m,x,s){var d=s(52);m.exports=function(w){return d(this,w).has(w)}},function(m,x,s){var d=s(52);m.exports=function(w,i){var v=d(this,w),g=v.size;return v.set(w,i),this.size+=v.size==g?0:1,this}},function(m,x,s){var d=s(58);m.exports=function(w){return null==w?"":d(w)}},function(m,x,s){var d=s(4),w=s(59),i=s(11),v=s(18),g=d?d.prototype:void 0,C=g?g.toString:void 0;m.exports=function F(P){if("string"==typeof P)return P;if(i(P))return w(P,F)+"";if(v(P))return C?C.call(P):"";var B=P+"";return"0"==B&&1/P==-1/0?"-0":B}},function(m){m.exports=function(x,s){for(var d=-1,w=null==x?0:x.length,i=Array(w);++d<w;)i[d]=s(x[d],d,x);return i}},function(m,x,s){var d=s(61),w=s(12),i=Object.prototype,v=i.hasOwnProperty,g=i.propertyIsEnumerable,C=d(function(){return arguments}())?d:function(F){return w(F)&&v.call(F,"callee")&&!g.call(F,"callee")};m.exports=C},function(m,x,s){var d=s(3),w=s(12);m.exports=function(i){return w(i)&&"[object Arguments]"==d(i)}},function(m){var x=/^(?:0|[1-9]\d*)$/;m.exports=function(s,d){var w=typeof s;return!!(d=d??9007199254740991)&&("number"==w||"symbol"!=w&&x.test(s))&&s>-1&&s%1==0&&s<d}},function(m){m.exports=function(x){return"number"==typeof x&&x>-1&&x%1==0&&x<=9007199254740991}},function(m,x,s){var d=s(18);m.exports=function(w){if("string"==typeof w||d(w))return w;var i=w+"";return"0"==i&&1/w==-1/0?"-0":i}},function(m,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),Object.defineProperty(x,"v1",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(x,"v3",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(x,"v4",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(x,"v5",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(x,"NIL",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(x,"version",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(x,"validate",{enumerable:!0,get:function(){return F.default}}),Object.defineProperty(x,"stringify",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(x,"parse",{enumerable:!0,get:function(){return B.default}});var d=S(s(66)),w=S(s(71)),i=S(s(75)),v=S(s(76)),g=S(s(78)),C=S(s(79)),F=S(s(69)),P=S(s(68)),B=S(s(73));function S(I){return I&&I.__esModule?I:{default:I}}},function(m,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var d=i(s(67)),w=i(s(68));function i(B){return B&&B.__esModule?B:{default:B}}let v,g,C=0,F=0;x.default=function(B,S,I){let T=S&&I||0;const L=S||new Array(16);let M=(B=B||{}).node||v,N=void 0!==B.clockseq?B.clockseq:g;if(null==M||null==N){const Ee=B.random||(B.rng||d.default)();null==M&&(M=v=[1|Ee[0],Ee[1],Ee[2],Ee[3],Ee[4],Ee[5]]),null==N&&(N=g=16383&(Ee[6]<<8|Ee[7]))}let pe=void 0!==B.msecs?B.msecs:Date.now(),ve=void 0!==B.nsecs?B.nsecs:F+1;const Fe=pe-C+(ve-F)/1e4;if(Fe<0&&void 0===B.clockseq&&(N=N+1&16383),(Fe<0||pe>C)&&void 0===B.nsecs&&(ve=0),ve>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");C=pe,F=ve,g=N,pe+=122192928e5;const Be=(1e4*(268435455&pe)+ve)%4294967296;L[T++]=Be>>>24&255,L[T++]=Be>>>16&255,L[T++]=Be>>>8&255,L[T++]=255&Be;const Se=pe/4294967296*1e4&268435455;L[T++]=Se>>>8&255,L[T++]=255&Se,L[T++]=Se>>>24&15|16,L[T++]=Se>>>16&255,L[T++]=N>>>8|128,L[T++]=255&N;for(let Ee=0;Ee<6;++Ee)L[T+Ee]=M[Ee];return S||(0,w.default)(L)}},function(m,x){"use strict";let s;Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(){if(!s&&(s=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),!s))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return s(d)};const d=new Uint8Array(16)},function(m,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var d,w=(d=s(69))&&d.__esModule?d:{default:d};const i=[];for(let g=0;g<256;++g)i.push((g+256).toString(16).substr(1));x.default=function(g,C=0){const F=(i[g[C+0]]+i[g[C+1]]+i[g[C+2]]+i[g[C+3]]+"-"+i[g[C+4]]+i[g[C+5]]+"-"+i[g[C+6]]+i[g[C+7]]+"-"+i[g[C+8]]+i[g[C+9]]+"-"+i[g[C+10]]+i[g[C+11]]+i[g[C+12]]+i[g[C+13]]+i[g[C+14]]+i[g[C+15]]).toLowerCase();if(!(0,w.default)(F))throw TypeError("Stringified UUID is invalid");return F}},function(m,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var d,w=(d=s(70))&&d.__esModule?d:{default:d};x.default=function(v){return"string"==typeof v&&w.default.test(v)}},function(m,x){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0,x.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},function(m,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var d=i(s(72)),w=i(s(74));function i(g){return g&&g.__esModule?g:{default:g}}var v=(0,d.default)("v3",48,w.default);x.default=v},function(m,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(C,F,P){function B(S,I,T,L){if("string"==typeof S&&(S=function(N){N=unescape(encodeURIComponent(N));const pe=[];for(let ve=0;ve<N.length;++ve)pe.push(N.charCodeAt(ve));return pe}(S)),"string"==typeof I&&(I=(0,w.default)(I)),16!==I.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let M=new Uint8Array(16+S.length);if(M.set(I),M.set(S,I.length),M=P(M),M[6]=15&M[6]|F,M[8]=63&M[8]|128,T){L=L||0;for(let N=0;N<16;++N)T[L+N]=M[N];return T}return(0,d.default)(M)}try{B.name=C}catch{}return B.DNS=v,B.URL=g,B},x.URL=x.DNS=void 0;var d=i(s(68)),w=i(s(73));function i(C){return C&&C.__esModule?C:{default:C}}const v="6ba7b810-9dad-11d1-80b4-00c04fd430c8";x.DNS=v;const g="6ba7b811-9dad-11d1-80b4-00c04fd430c8";x.URL=g},function(m,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var d,w=(d=s(69))&&d.__esModule?d:{default:d};x.default=function(v){if(!(0,w.default)(v))throw TypeError("Invalid UUID");let g;const C=new Uint8Array(16);return C[0]=(g=parseInt(v.slice(0,8),16))>>>24,C[1]=g>>>16&255,C[2]=g>>>8&255,C[3]=255&g,C[4]=(g=parseInt(v.slice(9,13),16))>>>8,C[5]=255&g,C[6]=(g=parseInt(v.slice(14,18),16))>>>8,C[7]=255&g,C[8]=(g=parseInt(v.slice(19,23),16))>>>8,C[9]=255&g,C[10]=(g=parseInt(v.slice(24,36),16))/1099511627776&255,C[11]=g/4294967296&255,C[12]=g>>>24&255,C[13]=g>>>16&255,C[14]=g>>>8&255,C[15]=255&g,C}},function(m,x){"use strict";function s(P){return 14+(P+64>>>9<<4)+1}function d(P,B){const S=(65535&P)+(65535&B);return(P>>16)+(B>>16)+(S>>16)<<16|65535&S}function w(P,B,S,I,T,L){return d((M=d(d(B,P),d(I,L)))<<(N=T)|M>>>32-N,S);var M,N}function i(P,B,S,I,T,L,M){return w(B&S|~B&I,P,B,T,L,M)}function v(P,B,S,I,T,L,M){return w(B&I|S&~I,P,B,T,L,M)}function g(P,B,S,I,T,L,M){return w(B^S^I,P,B,T,L,M)}function C(P,B,S,I,T,L,M){return w(S^(B|~I),P,B,T,L,M)}Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0,x.default=function(P){if("string"==typeof P){const B=unescape(encodeURIComponent(P));P=new Uint8Array(B.length);for(let S=0;S<B.length;++S)P[S]=B.charCodeAt(S)}return function(B){const S=[],I=32*B.length,T="0123456789abcdef";for(let L=0;L<I;L+=8){const M=B[L>>5]>>>L%32&255,N=parseInt(T.charAt(M>>>4&15)+T.charAt(15&M),16);S.push(N)}return S}(function(B,S){B[S>>5]|=128<<S%32,B[s(S)-1]=S;let I=1732584193,T=-271733879,L=-1732584194,M=271733878;for(let N=0;N<B.length;N+=16){const pe=I,ve=T,Fe=L,Be=M;I=i(I,T,L,M,B[N],7,-680876936),M=i(M,I,T,L,B[N+1],12,-389564586),L=i(L,M,I,T,B[N+2],17,606105819),T=i(T,L,M,I,B[N+3],22,-1044525330),I=i(I,T,L,M,B[N+4],7,-176418897),M=i(M,I,T,L,B[N+5],12,1200080426),L=i(L,M,I,T,B[N+6],17,-1473231341),T=i(T,L,M,I,B[N+7],22,-45705983),I=i(I,T,L,M,B[N+8],7,1770035416),M=i(M,I,T,L,B[N+9],12,-1958414417),L=i(L,M,I,T,B[N+10],17,-42063),T=i(T,L,M,I,B[N+11],22,-1990404162),I=i(I,T,L,M,B[N+12],7,1804603682),M=i(M,I,T,L,B[N+13],12,-40341101),L=i(L,M,I,T,B[N+14],17,-1502002290),T=i(T,L,M,I,B[N+15],22,1236535329),I=v(I,T,L,M,B[N+1],5,-165796510),M=v(M,I,T,L,B[N+6],9,-1069501632),L=v(L,M,I,T,B[N+11],14,643717713),T=v(T,L,M,I,B[N],20,-373897302),I=v(I,T,L,M,B[N+5],5,-701558691),M=v(M,I,T,L,B[N+10],9,38016083),L=v(L,M,I,T,B[N+15],14,-660478335),T=v(T,L,M,I,B[N+4],20,-405537848),I=v(I,T,L,M,B[N+9],5,568446438),M=v(M,I,T,L,B[N+14],9,-1019803690),L=v(L,M,I,T,B[N+3],14,-187363961),T=v(T,L,M,I,B[N+8],20,1163531501),I=v(I,T,L,M,B[N+13],5,-1444681467),M=v(M,I,T,L,B[N+2],9,-51403784),L=v(L,M,I,T,B[N+7],14,1735328473),T=v(T,L,M,I,B[N+12],20,-1926607734),I=g(I,T,L,M,B[N+5],4,-378558),M=g(M,I,T,L,B[N+8],11,-2022574463),L=g(L,M,I,T,B[N+11],16,1839030562),T=g(T,L,M,I,B[N+14],23,-35309556),I=g(I,T,L,M,B[N+1],4,-1530992060),M=g(M,I,T,L,B[N+4],11,1272893353),L=g(L,M,I,T,B[N+7],16,-155497632),T=g(T,L,M,I,B[N+10],23,-1094730640),I=g(I,T,L,M,B[N+13],4,681279174),M=g(M,I,T,L,B[N],11,-358537222),L=g(L,M,I,T,B[N+3],16,-722521979),T=g(T,L,M,I,B[N+6],23,76029189),I=g(I,T,L,M,B[N+9],4,-640364487),M=g(M,I,T,L,B[N+12],11,-421815835),L=g(L,M,I,T,B[N+15],16,530742520),T=g(T,L,M,I,B[N+2],23,-995338651),I=C(I,T,L,M,B[N],6,-198630844),M=C(M,I,T,L,B[N+7],10,1126891415),L=C(L,M,I,T,B[N+14],15,-1416354905),T=C(T,L,M,I,B[N+5],21,-57434055),I=C(I,T,L,M,B[N+12],6,1700485571),M=C(M,I,T,L,B[N+3],10,-1894986606),L=C(L,M,I,T,B[N+10],15,-1051523),T=C(T,L,M,I,B[N+1],21,-2054922799),I=C(I,T,L,M,B[N+8],6,1873313359),M=C(M,I,T,L,B[N+15],10,-30611744),L=C(L,M,I,T,B[N+6],15,-1560198380),T=C(T,L,M,I,B[N+13],21,1309151649),I=C(I,T,L,M,B[N+4],6,-145523070),M=C(M,I,T,L,B[N+11],10,-1120210379),L=C(L,M,I,T,B[N+2],15,718787259),T=C(T,L,M,I,B[N+9],21,-343485551),I=d(I,pe),T=d(T,ve),L=d(L,Fe),M=d(M,Be)}return[I,T,L,M]}(function(B){if(0===B.length)return[];const S=8*B.length,I=new Uint32Array(s(S));for(let T=0;T<S;T+=8)I[T>>5]|=(255&B[T/8])<<T%32;return I}(P),8*P.length))}},function(m,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var d=i(s(67)),w=i(s(68));function i(g){return g&&g.__esModule?g:{default:g}}x.default=function(g,C,F){const P=(g=g||{}).random||(g.rng||d.default)();if(P[6]=15&P[6]|64,P[8]=63&P[8]|128,C){F=F||0;for(let B=0;B<16;++B)C[F+B]=P[B];return C}return(0,w.default)(P)}},function(m,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var d=i(s(72)),w=i(s(77));function i(g){return g&&g.__esModule?g:{default:g}}var v=(0,d.default)("v5",80,w.default);x.default=v},function(m,x){"use strict";function s(i,v,g,C){switch(i){case 0:return v&g^~v&C;case 1:case 3:return v^g^C;case 2:return v&g^v&C^g&C}}function d(i,v){return i<<v|i>>>32-v}Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0,x.default=function(i){const v=[1518500249,1859775393,2400959708,3395469782],g=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof i){const B=unescape(encodeURIComponent(i));i=[];for(let S=0;S<B.length;++S)i.push(B.charCodeAt(S))}else Array.isArray(i)||(i=Array.prototype.slice.call(i));i.push(128);const F=Math.ceil((i.length/4+2)/16),P=new Array(F);for(let B=0;B<F;++B){const S=new Uint32Array(16);for(let I=0;I<16;++I)S[I]=i[64*B+4*I]<<24|i[64*B+4*I+1]<<16|i[64*B+4*I+2]<<8|i[64*B+4*I+3];P[B]=S}P[F-1][14]=8*(i.length-1)/Math.pow(2,32),P[F-1][14]=Math.floor(P[F-1][14]),P[F-1][15]=8*(i.length-1)&4294967295;for(let B=0;B<F;++B){const S=new Uint32Array(80);for(let pe=0;pe<16;++pe)S[pe]=P[B][pe];for(let pe=16;pe<80;++pe)S[pe]=d(S[pe-3]^S[pe-8]^S[pe-14]^S[pe-16],1);let I=g[0],T=g[1],L=g[2],M=g[3],N=g[4];for(let pe=0;pe<80;++pe){const ve=Math.floor(pe/20),Fe=d(I,5)+s(ve,T,L,M)+N+v[ve]+S[pe]>>>0;N=M,M=L,L=d(T,30)>>>0,T=I,I=Fe}g[0]=g[0]+I>>>0,g[1]=g[1]+T>>>0,g[2]=g[2]+L>>>0,g[3]=g[3]+M>>>0,g[4]=g[4]+N>>>0}return[g[0]>>24&255,g[0]>>16&255,g[0]>>8&255,255&g[0],g[1]>>24&255,g[1]>>16&255,g[1]>>8&255,255&g[1],g[2]>>24&255,g[2]>>16&255,g[2]>>8&255,255&g[2],g[3]>>24&255,g[3]>>16&255,g[3]>>8&255,255&g[3],g[4]>>24&255,g[4]>>16&255,g[4]>>8&255,255&g[4]]}},function(m,x){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0,x.default="00000000-0000-0000-0000-000000000000"},function(m,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var d,w=(d=s(69))&&d.__esModule?d:{default:d};x.default=function(v){if(!(0,w.default)(v))throw TypeError("Invalid UUID");return parseInt(v.substr(14,1),16)}},function(m){m.exports=function(x){return void 0===x}},function(m,x,s){var d=s(82),w=s(86),i=s(60),v=s(11),g=s(91),C=s(92),F=s(83),P=s(94),B=Object.prototype.hasOwnProperty;m.exports=function(S){if(null==S)return!0;if(g(S)&&(v(S)||"string"==typeof S||"function"==typeof S.splice||C(S)||P(S)||i(S)))return!S.length;var I=w(S);if("[object Map]"==I||"[object Set]"==I)return!S.size;if(F(S))return!d(S).length;for(var T in S)if(B.call(S,T))return!1;return!0}},function(m,x,s){var d=s(83),w=s(84),i=Object.prototype.hasOwnProperty;m.exports=function(v){if(!d(v))return w(v);var g=[];for(var C in Object(v))i.call(v,C)&&"constructor"!=C&&g.push(C);return g}},function(m){var x=Object.prototype;m.exports=function(s){var d=s&&s.constructor;return s===("function"==typeof d&&d.prototype||x)}},function(m,x,s){var d=s(85)(Object.keys,Object);m.exports=d},function(m){m.exports=function(x,s){return function(d){return x(s(d))}}},function(m,x,s){var d=s(87),w=s(50),i=s(88),v=s(89),g=s(90),C=s(3),F=s(36),P="[object Map]",B="[object Promise]",S="[object Set]",I="[object WeakMap]",T="[object DataView]",L=F(d),M=F(w),N=F(i),pe=F(v),ve=F(g),Fe=C;(d&&Fe(new d(new ArrayBuffer(1)))!=T||w&&Fe(new w)!=P||i&&Fe(i.resolve())!=B||v&&Fe(new v)!=S||g&&Fe(new g)!=I)&&(Fe=function(Be){var Se=C(Be),Ee="[object Object]"==Se?Be.constructor:void 0,Ue=Ee?F(Ee):"";if(Ue)switch(Ue){case L:return T;case M:return P;case N:return B;case pe:return S;case ve:return I}return Se}),m.exports=Fe},function(m,x,s){var d=s(32)(s(5),"DataView");m.exports=d},function(m,x,s){var d=s(32)(s(5),"Promise");m.exports=d},function(m,x,s){var d=s(32)(s(5),"Set");m.exports=d},function(m,x,s){var d=s(32)(s(5),"WeakMap");m.exports=d},function(m,x,s){var d=s(2),w=s(63);m.exports=function(i){return null!=i&&w(i.length)&&!d(i)}},function(m,x,s){m=s.nmd(m);var d=s(5),w=s(93),i=x&&!x.nodeType&&x,v=i&&m&&!m.nodeType&&m,g=v&&v.exports===i?d.Buffer:void 0;m.exports=(g?g.isBuffer:void 0)||w},function(m){m.exports=function(){return!1}},function(m,x,s){var d=s(95),w=s(96),i=s(97),v=i&&i.isTypedArray,g=v?w(v):d;m.exports=g},function(m,x,s){var d=s(3),w=s(63),i=s(12),v={};v["[object Float32Array]"]=v["[object Float64Array]"]=v["[object Int8Array]"]=v["[object Int16Array]"]=v["[object Int32Array]"]=v["[object Uint8Array]"]=v["[object Uint8ClampedArray]"]=v["[object Uint16Array]"]=v["[object Uint32Array]"]=!0,v["[object Arguments]"]=v["[object Array]"]=v["[object ArrayBuffer]"]=v["[object Boolean]"]=v["[object DataView]"]=v["[object Date]"]=v["[object Error]"]=v["[object Function]"]=v["[object Map]"]=v["[object Number]"]=v["[object Object]"]=v["[object RegExp]"]=v["[object Set]"]=v["[object String]"]=v["[object WeakMap]"]=!1,m.exports=function(g){return i(g)&&w(g.length)&&!!v[d(g)]}},function(m){m.exports=function(x){return function(s){return x(s)}}},function(m,x,s){m=s.nmd(m);var d=s(6),w=x&&!x.nodeType&&x,i=w&&m&&!m.nodeType&&m,v=i&&i.exports===w&&d.process,g=function(){try{return i&&i.require&&i.require("util").types||v&&v.binding&&v.binding("util")}catch{}}();m.exports=g},function(m,x,s){var d=s(11);m.exports=function(){if(!arguments.length)return[];var w=arguments[0];return d(w)?w:[w]}}],nr={};function he(m){var x=nr[m];if(void 0!==x)return x.exports;var s=nr[m]={id:m,loaded:!1,exports:{}};return Zi[m](s,s.exports,he),s.loaded=!0,s.exports}he.n=function(m){var x=m&&m.__esModule?function(){return m.default}:function(){return m};return he.d(x,{a:x}),x},he.d=function(m,x){for(var s in x)he.o(x,s)&&!he.o(m,s)&&Object.defineProperty(m,s,{enumerable:!0,get:x[s]})},he.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch{if("object"==typeof window)return window}}(),he.o=function(m,x){return Object.prototype.hasOwnProperty.call(m,x)},he.r=function(m){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})},he.nmd=function(m){return m.paths=[],m.children||(m.children=[]),m};var vn={};return function(){"use strict";he.r(vn),he.d(vn,{default:function(){return bn}});var m={};he.r(m),he.d(m,{adpEndpoint:function(){return zi},autocompleteEndpoint:function(){return ZA},batchAdpQueryEndpoint:function(){return ni},batchChargingAvailabilityQueryEndpoint:function(){return QA},batchNearbySearchQueryEndpoint:function(){return HA},batchReachableRangeQueryEndpoint:function(){return Ii},batchReverseGeocodeQueryEndpoint:function(){return hi},batchRoutingEndpoint:function(){return Va},batchRoutingQueryEndpoint:function(){return Ro},batchSearchEndpoint:function(){return Ci},batchSearchQueryEndpoint:function(){return Ui},batchStructuredGeocodeQueryEndpoint:function(){return Mn},batchSyncRoutingEndpoint:function(){return ia},batchSyncSearchEndpoint:function(){return nn},calculateReachableRangeEndpoint:function(){return kA},captionV2Endpoint:function(){return Ln},chargingAvailabilityEndpoint:function(){return WA},copyrightsV2Endpoint:function(){return ri},flowSegmentDataEndpoint:function(){return po},geocodeEndpoint:function(){return _i},incidentDetailsV5Endpoint:function(){return uo},incidentRegionsEndpoint:function(){return ho},incidentViewportEndpoint:function(){return Po},longDistanceEVRoutingEndpoint:function(){return lo},matrixRoutingEndpoint:function(){return PA},matrixSyncRoutingEndpoint:function(){return xa},nearbySearchEndpoint:function(){return ko},origin:function(){return Ya},placeByIdEndpoint:function(){return JA},poiCategoriesEndpoint:function(){return Xa},rasterTrafficFlowTilesLayerEndpoint:function(){return fi},reverseGeocodeEndpoint:function(){return IA},routingEndpoint:function(){return FA},searchEndpoint:function(){return Ji},staticMapImageEndpoint:function(){return SA},structuredGeocodeEndpoint:function(){return qA},tileLayerEndpoint:function(){return zo},trafficLayerEndpoint:function(){return Ba},vectorTrafficFlowTilesLayerEndpoint:function(){return Cn}});var x={};he.r(x),he.d(x,{additionalData:function(){return Lo},alongRouteSearch:function(){return Qi},autocomplete:function(){return Wr},categorySearch:function(){return Vi},crossStreetLookup:function(){return ea},evChargingStationsAvailability:function(){return ma},fuzzySearch:function(){return ao},geocode:function(){return RA},geometrySearch:function(){return pA},nearbySearch:function(){return Mt},placeById:function(){return yi},poiCategories:function(){return ii},poiSearch:function(){return os},reverseGeocode:function(){return Oa},structuredGeocode:function(){return mA}});var s={};he.r(s),he.d(s,{calculateReachableRange:function(){return p},calculateRoute:function(){return le},longDistanceEVRouting:function(){return oe},matrixRouting:function(){return Ze}});var d={};he.r(d),he.d(d,{incidentDetailsV5:function(){return Lt},incidentViewport:function(){return ft},trafficFlowSegmentData:function(){return $t}});var w={};he.r(w),he.d(w,{copyrightsCaptionV2:function(){return qn},copyrightsV2:function(){return lr},staticImage:function(){return ur}});var i=he(1),v=he.n(i);const g=v()["analytics.header.sdkName"]+"/"+v()["sdk.version"],C=v()["analytics.header.name"],F=()=>he.g.__tomtomAnalyticsInfo_=he.g.__tomtomAnalyticsInfo_?he.g.__tomtomAnalyticsInfo_:{},B=()=>{const h={};return h[C]=(()=>{const h=void 0!==F().productInfo?" "+F().productInfo:"";return g+h})(),h},S="EXTENDED_SEARCH",I="MAP",T="ROUTING",L="SEARCH",M="TRAFFIC_FLOW",N="TRAFFIC_INCIDENTS";function pe(h,E){var D=Object.keys(h);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(h);E&&(H=H.filter(function(me){return Object.getOwnPropertyDescriptor(h,me).enumerable})),D.push.apply(D,H)}return D}function Fe(h,E,D){return E in h?Object.defineProperty(h,E,{value:D,enumerable:!0,configurable:!0,writable:!0}):h[E]=D,h}function Be(h){return"number"==typeof h&&isFinite(h)}function Se(h){return null!=h&&!((E=h)!=E);var E}function Ee(h,E){for(const D in h)Object.prototype.hasOwnProperty.call(h,D)&&(Array.isArray(h[D])?E[D]=h[D].slice(0):"object"==typeof h[D]?(E[D]={},Ee(h[D],E[D])):E[D]=h[D])}function Ue(h,E,D){var H;h[E]=void 0===(H=h[E])?{}:H;for(const me in D[E])Object.prototype.hasOwnProperty.call(D[E],me)&&(h[E][me]=D[E][me])}function We(h,E){for(const D in E)Object.prototype.hasOwnProperty.call(E,D)&&(h[D]=E[D]);return h}function Ve(h,E,D){if(-1===E.indexOf(h))throw new TypeError(D);return h}function Ke(h){if("string"!=typeof h)return{};let E=-1;const D=new RegExp("[a-zA-Z]");return function H(me){let ke={},Re="";for(;++E<h.length;){const gt=h.charAt(E);switch(gt){case"}":return""!==Re&&(ke[Re]=!0),ke;case"{":""===Re?me?ke=H():H():(ke[Re]=H(),Re="");break;case",":""!==Re&&(ke[Re]=!0),Re="";break;default:D.test(gt)&&(Re+=gt)}}return""!==Re&&(ke[Re]=!0),ke}(!0)}function De(h){const E={};return Ee(h,E),E}const tt=/(-?\d+(?:\.\d+)?)(?:\s+|\s*,\s*)(-?\d+(?:\.\d+)?)/,dt=/circle\((-?\d+(?:\.\d+)?)\s*,\s*(-?\d+(?:\.\d+)?)\s*,\s*(\d+)\)/;function Je(h){const D=function ve(h){for(var E=1;E<arguments.length;E++){var D=null!=arguments[E]?arguments[E]:{};E%2?pe(Object(D),!0).forEach(function(H){Fe(h,H,D[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(D)):pe(Object(D)).forEach(function(H){Object.defineProperty(h,H,Object.getOwnPropertyDescriptor(D,H))})}return h}({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});for(const H in h)Object.prototype.hasOwnProperty.call(h,H)&&Ue(D,H,h);return D}var xt=he(2),Xe=he.n(xt),jt=he(10),At=he.n(jt),tr=he(13),Oe=he.n(tr),ct=he(14),vt=he.n(ct);const je={"af-ZA":{synonyms:{af:null,afr:null,"af-za":null,af_za:null,afrikaans:null},label:"Afrikaans"},ar:{synonyms:{ar:null,ara:null,"ar-ar":null,ar_ar:null,arabic:null},label:"Arabic"},"bg-BG":{synonyms:{bg:null,bul:null,"bg-bg":null,bg_bg:null,bulgarian:null},label:"Bulgarian"},"ca-ES":{synonyms:{ca:null,cat:null,"ca-fr":null,ca_fr:null,"ca-es":null,ca_es:null,catalan:null},label:"Catalan"},"zh-CN":{synonyms:{"zh-cn":null,zh_cn:null},label:"Chinese (PRC)"},"zh-TW":{synonyms:{zh:null,chi:null,"zh-tw":null,zh_tw:null,chinese:null},label:"Chinese (Taiwan)"},"cs-CZ":{synonyms:{cs:null,cz:null,cze:null,"cs-cz":null,cs_cz:null,czech:null},label:"Czech"},"da-DK":{synonyms:{da:null,dan:null,"da-dk":null,da_dk:null,danish:null},label:"Danish"},"nl-BE":{synonyms:{"nl-be":null,nl_be:null,"dutch belgium":null},label:"Dutch (Belgium)"},"nl-NL":{synonyms:{nl:null,dut:null,"nl-nl":null,nl_nl:null,dutch:null},label:"Dutch"},"en-AU":{synonyms:{aue:null,aus:null,"en-au":null,en_au:null,"english au":null},label:"English (Australia)"},"en-GB":{synonyms:{en:null,eng:null,"en-gb":null,en_gb:null,english:null,default:null},label:"English (Great Britain)"},"en-NZ":{synonyms:{"en-nz":null,en_nz:null,"english new zealand":null},label:"English (New Zealand)"},"en-US":{synonyms:{us:null,ame:null,"en-us":null,en_us:null,"english us":null},label:"English (US)"},"et-EE":{synonyms:{"et-ee":null,et_ee:null,estonian:null},label:"Estonian"},"eu-ES":{synonyms:{"eu-es":null,eu_es:null,basque:null},label:"Basque (Spain)"},"fi-FI":{synonyms:{fi:null,fin:null,"fi-fi":null,fi_fi:null,finnish:null},label:"Finnish"},"fr-CA":{synonyms:{"fr-ca":null,fr_ca:null,"french canadian":null},label:"French (Canadian)"},"fr-FR":{synonyms:{fr:null,fre:null,"fr-fr":null,fr_fr:null,french:null},label:"French"},"de-DE":{synonyms:{de:null,ger:null,"de-de":null,de_de:null,german:null},label:"German"},"el-GR":{synonyms:{el:null,gre:null,"el-gr":null,el_gr:null,greek:null},label:"Greek"},"gl-ES":{synonyms:{"gl-es":null,gl_es:null,galician:null},label:"Galician (Spain)"},"he-IL":{synonyms:{"he-il":null,he_il:null,hebrew:null},label:"Hebrew (Israel)"},"hr-HR":{synonyms:{hr:null,"hr-hr":null,hr_hr:null,croatian:null},label:"Croatian"},"hu-HU":{synonyms:{hu:null,hun:null,"hu-hu":null,hu_hu:null,hungarian:null},label:"Hungarian"},"id-ID":{synonyms:{id:null,ind:null,"id-id":null,id_id:null,indonesian:null},label:"Indonesian"},"it-IT":{synonyms:{it:null,ita:null,"it-it":null,it_it:null,italian:null},label:"Italian"},"kk-KZ":{synonyms:{"kk-kz":null,kk_kz:null,kazakh:null},label:"Kazakh (Kazakhstan)"},"lv-LV":{synonyms:{lt:null,"lv-lv":null,lv_lv:null,latvian:null},label:"Latvian"},"lt-LT":{synonyms:{lt:null,lit:null,"lt-lt":null,lt_lt:null,lithuanian:null},label:"Lithuanian"},"ms-MY":{synonyms:{ms:null,mal:null,"ms-my":null,ms_my:null,malay:null},label:"Malay"},"no-NO":{synonyms:{no:null,nb:null,nor:null,"nb-no":null,nb_no:null,"no-no":null,no_no:null,norwegian:null},label:"Norwegian"},"pl-PL":{synonyms:{pl:null,pol:null,"pl-pl":null,pl_pl:null,polish:null},label:"Polish"},"ro-RO":{synonyms:{"ro-ro":null,ro_ro:null,romanian:null},label:"Romanian"},"ru-RU":{synonyms:{ru:null,rus:null,"ru-ru":null,ru_ru:null,russian:null},label:"Russian"},"sr-RS":{synonyms:{"sr-rs":null,sr_rs:null,serbian:null},label:"Serbian"},"sk-SK":{synonyms:{sk:null,slo:null,"sk-sk":null,sk_sk:null,slovak:null},label:"Slovak"},"sl-SI":{synonyms:{sl:null,slv:null,"sl-si":null,sl_si:null,slovenian:null},label:"Slovenian"},"es-ES":{synonyms:{es:null,spa:null,"es-es":null,es_es:null,spanish:null},label:"Spanish"},"es-419":{synonyms:{"es-419":null,es_419:null,"latin america spanish":null},label:"Latin American Spanish"},"sv-SE":{synonyms:{sv:null,swe:null,"sv-se":null,sv_se:null,swedish:null},label:"Swedish"},"th-TH":{synonyms:{th:null,tha:null,"th-th":null,th_th:null,thai:null},label:"Thai"},"tr-TR":{synonyms:{tr:null,tur:null,"tr-tr":null,tr_tr:null,turkish:null},label:"Turkish"},"uk-UA":{synonyms:{"uk-ua":null,uk_ua:null,ukrainian:null},label:"Ukrainian"},"vi-VN":{synonyms:{"vi-vn":null,vi_vn:null,vietnamese:null},label:"Vietnamese (Viet Nam)"},NGT:{synonyms:{ngt:null},label:"Neutral Ground Truth"},"NGT-Latn":{synonyms:{"ngt-latn":null},label:"Neutral Ground Truth - Latin exonyms"},"en-CA":{synonyms:{"en-ca":null,en_ca:null,"english canadian":null},label:"English (Canada)"},"ko-KR":{synonyms:{ko:null,kor:null,"ko-kr":null,ko_kr:null,korean:null},label:"Korean"},"nb-NO":{synonyms:{nb:null,nor:null,"nb-no":null,nb_no:null,norwegian:null},label:"Norwegian"},"pt-BR":{synonyms:{br:null,pob:null,"pt-br":null,pt_br:null,"portuguese br":null},label:"Portuguese (BR)"},"pt-PT":{synonyms:{pt:null,por:null,"pt-pt":null,pt_pt:null,portuguese:null},label:"Portuguese"},"ru-Latn-RU":{synonyms:{"ru-latn-ru":null,ru_latn_ru:null},label:"Russian (Latin)"},"ru-Cyrl-RU":{synonyms:{"ru-cyrl-ru":null,ru_cyrl_ru:null},label:"Russian (Cyrlic)"},"es-MX":{synonyms:{mx:null,spm:null,"es-mx":null,es_mx:null,"spanish mx":null},label:"Spanish (Mexico)"},defaultValue:{value:"en-GB",label:"English (Great Britain)"}},fr={ar:je.ar,"af-ZA":je["af-ZA"],"bg-BG":je["bg-BG"],"zh-TW":je["zh-TW"],"cs-CZ":je["cs-CZ"],"da-DK":je["da-DK"],"nl-NL":je["nl-NL"],"en-GB":je["en-GB"],"en-US":je["en-US"],"fi-FI":je["fi-FI"],"fr-FR":je["fr-FR"],"de-DE":je["de-DE"],"el-GR":je["el-GR"],"hu-HU":je["hu-HU"],"id-ID":je["id-ID"],"it-IT":je["it-IT"],"ko-KR":je["ko-KR"],"lt-LT":je["lt-LT"],"ms-MY":je["ms-MY"],"nb-NO":je["nb-NO"],"pl-PL":je["pl-PL"],"pt-BR":je["pt-BR"],"pt-PT":je["pt-PT"],"ru-RU":je["ru-RU"],"sk-SK":je["sk-SK"],"sl-SI":je["sl-SI"],"es-ES":je["es-ES"],"es-MX":je["es-MX"],"sv-SE":je["sv-SE"],"th-TH":je["th-TH"],"tr-TR":je["tr-TR"],defaultValue:je.defaultValue},dr={NGT:je.NGT,"NGT-Latn":je["NGT-Latn"],"af-ZA":je["af-ZA"],ar:je.ar,"eu-ES":je["eu-ES"],"bg-BG":je["bg-BG"],"ca-ES":je["ca-ES"],"zh-CN":je["zh-CN"],"zh-TW":je["zh-TW"],"cs-CZ":je["cs-CZ"],"da-DK":je["da-DK"],"nl-BE":je["nl-BE"],"nl-NL":je["nl-NL"],"en-AU":je["en-AU"],"en-NZ":je["en-NZ"],"en-GB":je["en-GB"],"en-US":je["en-US"],"et-EE":je["et-EE"],"fi-FI":je["fi-FI"],"fr-CA":je["fr-CA"],"fr-FR":je["fr-FR"],"gl-ES":je["gl-ES"],"de-DE":je["de-DE"],"el-GR":je["el-GR"],"hr-HR":je["hr-HR"],"he-IL":je["he-IL"],"hu-HU":je["hu-HU"],"id-ID":je["id-ID"],"it-IT":je["it-IT"],"kk-KZ":je["kk-KZ"],"lv-LV":je["lv-LV"],"lt-LT":je["lt-LT"],"ms-MY":je["ms-MY"],"no-NO":je["no-NO"],"nb-NO":je["nb-NO"],"pl-PL":je["pl-PL"],"pt-BR":je["pt-BR"],"pt-PT":je["pt-PT"],"ro-RO":je["ro-RO"],"ru-RU":je["ru-RU"],"ru-Latn-RU":je["ru-Latn-RU"],"ru-Cyrl-RU":je["ru-Cyrl-RU"],"sr-RS":je["sr-RS"],"sk-SK":je["sk-SK"],"sl-SI":je["sl-SI"],"es-ES":je["es-ES"],"es-419":je["es-419"],"sv-SE":je["sv-SE"],"th-TH":je["th-TH"],"tr-TR":je["tr-TR"],"uk-UA":je["uk-UA"],"vi-VN":je["vi-VN"],defaultValue:je.defaultValue},Fr={ar:je.ar,"ca-ES":je["ca-ES"],"cs-CZ":je["cs-CZ"],"da-DK":je["da-DK"],"de-DE":je["de-DE"],"el-GR":je["el-GR"],"en-GB":je["en-GB"],"en-US":je["en-US"],"es-ES":je["es-ES"],"et-EE":je["et-EE"],"fi-FI":je["fi-FI"],"fr-FR":je["fr-FR"],"he-IL":je["he-IL"],"hu-HU":je["hu-HU"],"id-ID":je["id-ID"],"it-IT":je["it-IT"],"lt-LT":je["lt-LT"],"lv-LV":je["lv-LV"],"nb-NO":je["nb-NO"],"nl-NL":je["nl-NL"],"pl-PL":je["pl-PL"],"pt-PT":je["pt-PT"],"ro-RO":je["ro-RO"],"ru-RU":je["ru-RU"],"sk-SK":je["sk-SK"],"sv-SE":je["sv-SE"],"th-TH":je["th-TH"],"tr-TR":je["tr-TR"],"zh-TW":je["zh-TW"],defaultValue:je.defaultValue};function Nt(h){if(!At()(h)&&!Xe()(h))throw new TypeError("Unsupported key type",h);return h}function kt(h){const E=parseFloat(h);if(!isFinite(E))throw new TypeError("a number is expected, but "+h+" ["+typeof h+"] given");return E}function ze(h,E){return D=>Ve(D,h,"Supported "+E+" is expected (one of: "+h+"), but "+D+" ["+typeof D+"] was given.")}const _t=["StandardHouseholdCountrySpecific","IEC62196Type2CableAttached","IEC60309AC1PhaseBlue","IEC60309AC3PhaseRed","IEC62196Type2Outlet","IEC62196Type1CCS","IEC62196Type2CCS","IEC60309DCWhite","IEC62196Type1","IEC62196Type3","GBT20234Part2","GBT20234Part3","Chademo","Tesla"],fe=["Small_Paddle_Inductive","Large_Paddle_Inductive","IEC_60309_1_Phase","IEC_60309_3_Phase","IEC_62196_Type_1_Outlet","IEC_62196_Type_2_Outlet","IEC_62196_Type_3_Outlet","IEC_62196_Type_1_Connector_Cable_Attached","IEC_62196_Type_2_Connector_Cable_Attached","IEC_62196_Type_3_Connector_Cable_Attached","Combo_to_IEC_62196_Type_1_Base","Combo_to_IEC_62196_Type_2_Base","Type_E_French_Standard_CEE_7_5","Type_F_Schuko_CEE_7_4","Type_G_British_Standard_BS_1363","Type_J_Swiss_Standard_SEV_1011","China_GB_Part_2","China_GB_Part_3","IEC_309_DC_Plug","AVCON_Connector","Tesla_Connector","NEMA_5_20","CHAdeMO","SAE_J1772","TEPCO","Better_Place_Socket","Marechal_Socket","Standard_Household_Country_Specific"],ye=["Battery_Exchange","Charge_100_to_120V_1_Phase_at_8A","Charge_100_to_120V_1_Phase_at_10A","Charge_100_to_120V_1_Phase_at_12A","Charge_100_to_120V_1_Phase_at_13A","Charge_100_to_120V_1_Phase_at_16A","Charge_100_to_120V_1_Phase_at_32A","Charge_200_to_240V_1_Phase_at_8A","Charge_200_to_240V_1_Phase_at_10A","Charge_200_to_240V_1_Phase_at_12A","Charge_200_to_240V_1_Phase_at_16A","Charge_200_to_240V_1_Phase_at_20A","Charge_200_to_240V_1_Phase_at_32A","Charge_200_to_240V_1_Phase_above_32A","Charge_200_to_240V_3_Phase_at_16A","Charge_200_to_240V_3_Phase_at_32A","Charge_380_to_480V_3_Phase_at_16A","Charge_380_to_480V_3_Phase_at_32A","Charge_380_to_480V_3_Phase_at_63A","Charge_50_to_500V_Direct_Current_at_62A_25kW","Charge_50_to_500V_Direct_Current_at_125A_50kW","Charge_200_to_450V_Direct_Current_at_200A_90kW","Charge_200_to_480V_Direct_Current_at_255A_120kW","Charge_Direct_Current_at_20kW","Charge_Direct_Current_at_50kW","Charge_Direct_Current_above_50kW"],rt=["NGT","NGT-Latn","ar","bg-BG","zh-TW","cs-CZ","da-DK","nl-NL","en-AU","en-CA","en-GB","en-NZ","en-US","fi-FI","fr-FR","de-DE","el-GR","hu-HU","id-ID","it-IT","ko-KR","lt-LT","ms-MY","nb-NO","pl-PL","pt-BR","pt-PT","ru-RU","ru-Latn-RU","ru-Cyrl-RU","sk-SK","sl-SI","es-ES","es-MX","sv-SE","th-TH","tr-TR"],Dt=["Petrol","LPG","Diesel","Biodiesel","DieselForCommercialVehicles","E85","LNG","CNG","Hydrogen","AdBlue"],Wt="\n    {\n        incidents {\n            type,\n            geometry {\n                type,\n                coordinates\n            },\n            properties {\n                id,\n                iconCategory,\n                magnitudeOfDelay,\n                events {\n                    description,\n                    code,\n                    iconCategory\n                },\n                startTime,\n                endTime,\n                from,\n                to,\n                length,\n                delay,\n                roadNumbers,\n                aci {\n                    probabilityOfOccurrence,\n                    numberOfReports,\n                    lastReportTime\n                }\n            }\n        }\n    }";function Rt(h){return h.toString().match(/(\d\d\d\d)(-)?(\d\d)(-)?(\d\d)(T)?(\d\d)(:)?(\d\d)(:)?(\d\d)(\.\d+)?(Z|([+-])(\d\d)(:)?(\d\d))/)}function Ht(h,E,D){return isFinite(h)&&h>=E&&h<=D}function kr(h){return h.constructor.toString().indexOf("Array")<0}function Br(h,E){if(h)throw new TypeError(E)}function Mr(h){const E=parseFloat(h);if(!Ht(E,-180,180))throw new TypeError("an longitude <-180,180> is expected, but "+h+" ["+typeof h+"] given");return E}function jr(h){var E;return Br((E=h,!(Object.prototype.hasOwnProperty.call(E,"chargingConnections")&&Object.prototype.hasOwnProperty.call(E,"chargingCurve"))),"a chargingMode is expected, but "+h+" ["+typeof h+"] given"),function vr(h){if(h.length>10)throw new Error("Given chargingCurve array contains more than 10 elements.");return h.forEach(E=>{!function Qt(h){var E;return Br((E=h,!(Object.prototype.hasOwnProperty.call(E,"chargeInkWh")&&Object.prototype.hasOwnProperty.call(E,"timeToChargeInSeconds"))),"a chargingCurveSupportPoint is expected, but "+h+" ["+typeof h+"] given"),Br(!Ht(h.chargeInkWh,0,Number.MAX_VALUE),"a chargeInkWh is expected, but "+h.chargeInkWh+" ["+typeof h.chargeInkWh+"] given"),Br(!Ht(h.timeToChargeInSeconds,0,Number.MAX_VALUE),"a timeToChargeInSeconds is expected, but "+h.timeToChargeInSeconds+" ["+typeof h.timeToChargeInSeconds+"] given"),h}(E)}),h}(h.chargingCurve),function gr(h){if(h.length>20)throw new Error("Given chargingConnections array contains more than 20 elements.");return h.forEach(E=>{!function It(h){var E;return Br((E=h,!(Object.prototype.hasOwnProperty.call(E,"facilityType")&&Object.prototype.hasOwnProperty.call(E,"plugType"))),"a chargingConnection is expected, but "+h+" ["+typeof h+"] given"),function ar(h){return Ve(h,fe,"Plug type is expected to be one of supported values, but "+h+" ["+typeof h+"] given")}(h.plugType),function ir(h){return Ve(h,ye,"Facility type is expected to be one of supported values, but "+h+" ["+typeof h+"] given")}(h.facilityType),h}(E)}),h}(h.chargingConnections),h}function Lr(h){const E=parseFloat(h);if(!Ht(E,-90,90))throw new TypeError("an latitude <-90,90> is expected, but "+h+" ["+typeof h+"] given");return E}function an(h){let E,D;if(Array.isArray(h)){if(2!==h.length||2!==h.filter(isFinite).length)throw new TypeError("Invalid point array in route points");E=h[1],D=h[0]}else{if(!isFinite(h.lat)||!isFinite(h.lon)&&!isFinite(h.lng))throw new TypeError("Invalid point object in route points");E=h.lat,D=void 0!==h.lon?h.lon:h.lng}if(!("number"==typeof E||E instanceof Number)||!("number"==typeof D||D instanceof Number))throw new TypeError("Lat and lon components of point should be finite numbers");Mr(D),Lr(E)}function $r(h,E){for(const D in h)if(Object.prototype.hasOwnProperty.call(h,D)){if(Object.prototype.hasOwnProperty.call(E,D)&&Array.isArray(h[D].validators))for(const H of h[D].validators)Xe()(H)&&(E[D]=H(E[D]));if(!0===h[D].required&&!Object.prototype.hasOwnProperty.call(E,D))throw new Error("Missing required "+D)}}function qr(h,E,D,H){if(Oe()(h)||Oe()(E))throw new TypeError("Number in interval validator requires min and max value parameters");return function(me){const ke=parseFloat(me);if(!Ht(ke,h,E)||H&&!vt()(ke))throw new TypeError(D+", but "+me+" ["+typeof me+"] given");return ke}}function en(h,E,D){return qr(h,E,D,!0)}function fn(h,E,D){if(At()(h)&&(h=h.split(",")),Array.isArray(h)&&h.length>0){for(let H=0;H<h.length;H+=1)Ve(h[H],D,E);return h.join(",")}throw new TypeError(E)}function Pn(h,E){if(!Rt(h))throw new TypeError('Invalid "'.concat(E,'" parameter value.\n        Valid format: YYYY-MM-DDThh:mm:ss.SSSTZD'));return h}function Rr(h){if(At()(h)&&/^[a-zA-Z0-9-]{1,100}$/.test(h))return h;throw new TypeError("a string matching regular expression ^[a-zA-Z0-9-]{1,100}$ is expected, but "+h+" ["+typeof h+"] given")}function tn(h){return"false"!==h&&Boolean(h)}function zr(h){const E=parseFloat(h);if(!vt()(E)||E<0)throw new TypeError("a natural integer (greater than or equal 0) is expected, but "+h+" ["+typeof h+"] given");return E}function si(h){const E=parseFloat(h);if(!vt()(E)||E<=0)throw new TypeError("a positive integer (greater than 0) is expected, but "+h+" ["+typeof h+"] given");return E}function Vn(h){return Br((E=h,!(Object.prototype.hasOwnProperty.call(E,"minLon")&&Object.prototype.hasOwnProperty.call(E,"maxLon")&&Object.prototype.hasOwnProperty.call(E,"minLat")&&Object.prototype.hasOwnProperty.call(E,"maxLat"))),"a bounding box is expected, but "+h+" ["+typeof h+"] given"),Br(!Ht(h.minLat,-90,90),"a bounding box minimal latitude is expected "+h.minLat+" ["+typeof h.minLat+"] given"),Br(!Ht(h.maxLat,-90,90),"a bounding box maximal latitude is expected "+h.maxLat+" ["+typeof h.maxLat+"] given"),Br(!Ht(h.minLon,-270,180),"a bounding box minimal longitude is expected "+h.minLon+" ["+typeof h.minLon+"] given"),Br(!Ht(h.maxLon,-180,270),"a bounding box maximal longitude is expected "+h.maxLon+" ["+typeof h.maxLon+"] given"),Br(function(E){return parseFloat(E.maxLat)<=parseFloat(E.minLat)||parseFloat(E.maxLon)<=parseFloat(E.minLon)}(h),"a bounding box expected but max <= min"),h;var E}function pn(h,E){return qr(h,E,"a number in interval <"+h+", "+E+"> is expected")}function En(h,E){return en(h,E,"an integer in interval <"+h+", "+E+"> is expected")}function Ar(h){if(!At()(h))throw new TypeError("a string is expected, but "+h+" ["+typeof h+"] given");return h}function G(h){const E=Object.keys(dr);if(!At()(h)||E.indexOf(h)<0)throw new TypeError("One of pre-defined language codes was expected: "+E+", but "+h+" ["+typeof h+"] given");return h}function Y(h){Br(!At()(h)&&kr(h),"An array of string country names or string (divided with commas) of country names (two or three-characters long) is expected, but "+h+" ["+typeof h+"] given");const E=At()(h)?h:h.join();return Br(!E.match(/^([a-zA-z]{2,3},)*[a-zA-z]{2,3}$/),"An array of string country names or string (divided with commas) of country names (two or three-characters long) is expected, but "+h+" ["+typeof h+"] given"),E}function Z(h){return fn(h,"List of pre-defined EV connector names was expected,but "+h+" ["+typeof h+"] given",_t)}function re(h){return fn(h,"List of pre-defined Fuel types names was expected,but "+h+" ["+typeof h+"] given",Dt)}function ae(h){const E=["Local","International","Alternative"],D="List of pre-defined mapcode types names was expected,but "+h+" ["+typeof h+"] given";if(At()(h)&&(h=h.split(",")),Array.isArray(h)&&h.length>0){for(let H=0;H<h.length;H+=1)Ve(h[H],E,D);return h.join(",")}throw new TypeError(D)}function we(h,E){Br(!At()(E)&&kr(E),"An array of string country names or string (divided with commas) of country names (three-characters long) is expected, but "+E+" ["+typeof E+"] given");const D=At()(E)?E:E.join();return h&&""===D||Br(!D.match(/^([a-zA-z]{3},)*[a-zA-z]{3}$/),"An array of string country names or string (divided with commas) of country names (three-characters long) is expected, but "+E+" ["+typeof E+"] given"),E}function Ce(h){return function(E){if(!At()(E)||!tt.test(E))throw new TypeError("A point is expected, but "+E+" ["+typeof E+"] given")}(h),h}function ee(h){return en(1,4,"Fuzziness level value (a positive integer lower than 5) is expected")(h)}function ue(h){return en(1,100,"Limit value (a positive integer lower than 100) is expected")(h)}function Le(h){return en(0,1900,"Offset an integer value <0, 1900> is expected")(h)}function lt(h){const E=["Country","CountrySubdivision","CountrySecondarySubdivision","CountryTertiarySubdivision","Municipality","MunicipalitySubdivision","Neighbourhood","PostalCodeArea"];for(const D of h.split(","))if(-1===E.indexOf(D))throw new TypeError("Entity type (".concat(E,") is expected, but ").concat(h," [").concat(typeof h,"] given"));return h}function mt(h,E){return D=>{const H="Supported "+E+" type is expected (array with one of: "+h+"), but "+D+" ["+typeof D+"] given";if(kr(D))throw new TypeError("an array is expected, but "+D+"  ["+typeof D+"] given");for(let me=0;me<D.length;me+=1)Ve(D[me],h,H);return D}}function Ye(h){if(Br(kr(h),"An array of geometry objects is expected, but "+h+" ["+typeof h+"] given"),!(h.length>0))throw new TypeError("An array of geometry objects is expected, but "+h+" ["+typeof h+"] given");for(let E=0;E<h.length;E+=1){const D=h[E];Br(!(Object.prototype.hasOwnProperty.call(D,"type")&&(Object.prototype.hasOwnProperty.call(D,"vertices")||Object.prototype.hasOwnProperty.call(D,"position")&&Object.prototype.hasOwnProperty.call(D,"radius"))),"An array of geometry objects is expected, but "+h+" ["+typeof h+"] given")}return h}function pt(h){if(isNaN(h)||!vt()(h)||!(120===h||h>=5&&h<=60))throw new TypeError("Invalid `waitTimeSeconds` parameter value. Must be 120 or an integer between 5 and 60.");return h}function Ut(h){return Pn(h,"clientTime")}const ne=["adpEndpoint","autocompleteEndpoint","batchRoutingEndpoint","batchSearchEndpoint","batchSyncRoutingEndpoint","batchSyncSearchEndpoint","calculateReachableRangeEndpoint","captionV2Endpoint","chargingAvailabilityEndpoint","copyrightsV2Endpoint","flowSegmentDataEndpoint","geocodeEndpoint","incidentDetailsV5Endpoint","incidentRegionsEndpoint","incidentViewportEndpoint","longDistanceEVRoutingEndpoint","matrixRoutingEndpoint","matrixSyncRoutingEndpoint","nearbySearchEndpoint","placeByIdEndpoint","poiCategoriesEndpoint","reverseGeocodeEndpoint","routingEndpoint","searchEndpoint","staticMapImageEndpoint","structuredGeocodeEndpoint"],de=["batchAdpQueryEndpoint","batchChargingAvailabilityQueryEndpoint","batchNearbySearchQueryEndpoint","batchReachableRangeQueryEndpoint","batchReverseGeocodeQueryEndpoint","batchRoutingQueryEndpoint","batchSearchQueryEndpoint","batchStructuredGeocodeQueryEndpoint"];function Ie(h){if(!At()(h))throw new TypeError("Invalid custom URL. A string URL is expected, ".concat(h," [").concat(typeof h,"] given"));if(new RegExp(/(https:\/\/|http:\/\/).*/).test(h))throw new TypeError("Invalid custom URL. URL without protocol (http/https) is expected, ".concat(h," given"));if(!new RegExp(/^[0-9a-zA-Z-.]+(\.tomtom\.com)(\/.*)?$/).test(h))throw new TypeError("Invalid custom URL. URL in TomTom domain (*.tomtom.com) is expected, ".concat(h," given"));return h}function ot(h){if(!At()(h))throw new TypeError("Invalid custom query. A string URL is expected, ".concat(h," [").concat(typeof h,"] given"));if(!new RegExp(/^\//).test(h))throw new TypeError("Invalid custom query. A string starting with / is expected, ".concat(h," given"));return h}var He=he(19),ht=he.n(He);class Gt{constructor(){this.options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}convert(E){return this._isSinglePoint(E)?this._convertPoint(E):this._convertToArrayOfPoints(E)}_isSinglePoint(E){return Array.isArray(E)?2===E.length&&"object"!=typeof E[0]:!(At()(E)&&E.split(":").length>=2)}_convertToArrayOfPoints(E){return At()(E)?E.split(":").map(this._convertPoint.bind(this)):E.map(this._convertPoint.bind(this))}_convertPoint(E){return ht()(E,"lat")&&ht()(E,"lon")?this._covertToDefaultFormat(E.lon,E.lat):ht()(E,"latitude")&&ht()(E,"longitude")?this._covertToDefaultFormat(E.longitude,E.latitude):ht()(E,"x")&&ht()(E,"y")?this._covertToDefaultFormat(E.x,E.y):Array.isArray(E)&&2===E.length?this.options.isLatLon?this._covertToDefaultFormat(E[1],E[0]):this._covertToDefaultFormat(E[0],E[1]):At()(E)?this._convertStringPoint(E):E}_convertStringPoint(E){const D=E.split(",");if(!/^-?\d+(\.\d+)?,-?\d+(\.\d+)?$/.test(E)||2!==D.length)throw new Error("The point is not valid: "+E);return this.options.isLatLon?this._covertToDefaultFormat(D[1],D[0]):this._covertToDefaultFormat(D[0],D[1])}_covertToDefaultFormat(E,D){if(!E&&0!==E||!D&&0!==D)throw new Error("Longitude and latitude must be provided.");return Xe()(this.options.customPointConverter)?this.options.customPointConverter(E,D):{lng:parseFloat(E),lat:parseFloat(D)}}}var Zt=he(9),ut=he.n(Zt);const Xt=new Gt,Et=h=>{h&&(h.boundingBox&&(h.boundingBox.btmRightPoint=Xt.convert(h.boundingBox.btmRightPoint),h.boundingBox.topLeftPoint=Xt.convert(h.boundingBox.topLeftPoint)),h.viewport&&(h.viewport.btmRightPoint=Xt.convert(h.viewport.btmRightPoint),h.viewport.topLeftPoint=Xt.convert(h.viewport.topLeftPoint)),h.position&&(h.position=Xt.convert(h.position)),h.summary&&h.summary.geoBias&&(h.summary.geoBias=Xt.convert(h.summary.geoBias)))},Gr=h=>{const E={};E.id=h.id,ut()(h)&&Object.keys(h).forEach(H=>{var me,ke,Re;me=E,ke=H,Re=h[H],Oe()(Re)||(me[ke]=Re)});const D={type:"Feature",geometry:{type:"Point",coordinates:[]},properties:E};return D.geometry.coordinates=[h.position.lng,h.position.lat],D},Dr=h=>{const E={type:"FeatureCollection",features:[]};for(let D=0;D<h.results.length;D++){const H=Gr(h.results[D]);E.features.push(H)}return E};function An(h){h&&h.entryPoints&&Array.isArray(h.entryPoints)&&h.entryPoints.forEach(E=>{Et(E)})}function Sr(h){return h&&(Array.isArray(h.results)?h.results.forEach(E=>{Array.isArray(E)?E.forEach(D=>{Et(D),An(D)}):(Et(E),An(E))}):(Et(h),An(h)),Object.assign(h,{toGeoJson:()=>Dr(h)}))}function br(h){return Array.isArray(h.batchItems)?(h.batchItems=h.batchItems.map(E=>E.response.error?{error:E.response.error}:Sr(E.response)),h):null}var wr="POST",Kr="PATH",jo="QUERY",Sn="OTHER",rn="HEADER";function wa(h,E){var D=Object.keys(h);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(h);E&&(H=H.filter(function(me){return Object.getOwnPropertyDescriptor(h,me).enumerable})),D.push.apply(D,H)}return D}function Wi(h,E,D){return E in h?Object.defineProperty(h,E,{value:D,enumerable:!0,configurable:!0,writable:!0}):h[E]=D,h}function mr(h,E){let{data:D,trackingId:H}=h;const me="string"==typeof D?{data:D}:function(Re){for(var gt=1;gt<arguments.length;gt++){var rr=null!=arguments[gt]?arguments[gt]:{};gt%2?wa(Object(rr),!0).forEach(function(Cr){Wi(Re,Cr,rr[Cr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Re,Object.getOwnPropertyDescriptors(rr)):wa(Object(rr)).forEach(function(Cr){Object.defineProperty(Re,Cr,Object.getOwnPropertyDescriptor(rr,Cr))})}return Re}({},D),ke=E?E(D):me;return ke.getTrackingId=()=>H||null,ke}var Fn=he(65);const ri=v()["endpoints.copyrightsV2"],Ln=v()["endpoints.captionV2"],Ci=v()["endpoints.batchSearch"],nn=v()["endpoints.batchSyncSearch"],Ui=v()["endpoints.batchSearchQuery"],_i=v()["endpoints.geocode"],IA=v()["endpoints.reverseGeocode"],hi=v()["endpoints.batchReverseGeocodeQuery"],qA=v()["endpoints.structuredGeocode"],Ji=v()["endpoints.search"],Mn=v()["endpoints.batchStructuredGeocodeQuery"],zi=v()["endpoints.adp"],ni=v()["endpoints.batchAdpQuery"],ko=v()["endpoints.nearbySearch"],HA=v()["endpoints.batchNearbySearchQuery"],ZA=v()["endpoints.autocomplete"],Xa=v()["endpoints.poiCategories"],WA=v()["endpoints.chargingAvailability"],QA=v()["endpoints.batchChargingAvailabilityQuery"],JA=v()["endpoints.placeById"],FA=v()["endpoints.routing"],kA=v()["endpoints.calculateReachableRange"],Ro=v()["endpoints.batchRoutingQuery"],Va=v()["endpoints.batchRouting"],ia=v()["endpoints.batchSyncRouting"],PA=v()["endpoints.matrixRouting"],xa=v()["endpoints.matrixSyncRouting"],Ii=v()["endpoints.batchReachableRangeQuery"],lo=v()["endpoints.longDistanceEVRouting"],uo=v()["endpoints.incidentDetailsV5"],Po=v()["endpoints.incidentViewport"],po=v()["endpoints.flowSegmentData"],ho=v()["endpoints.incidentRegions"],Ba=v()["endpoints.trafficLayer"],fi=v()["endpoints.rasterTrafficFlowTilesLayer"],Cn=v()["endpoints.vectorTrafficFlowTilesLayer"],zo=v()["endpoints.tileLayer"],SA=v()["endpoints.staticImage"],Ya=v().origin;class In{constructor(E){void 0!==E?.customEndpoints&&(this._customEndpoints=function Ne(h){try{!function(E){if("object"!=typeof E||E.constructor!==Object)throw new TypeError("an object is expected, but "+E+"  ["+typeof E+"] given")}(h);for(const E in h)if(ne.includes(E))Ie(h[E]);else{if(!de.includes(E))throw new TypeError("Endpoint name is expected to be one of supported values, but "+h+"given");ot(h[E])}}catch(E){throw new TypeError("Invalid custom endpoints object. ".concat(E.message))}return h}(E.customEndpoints)),void 0!==E?.customDomain&&(this._customDomain=Ie(E.customDomain),this._customDomain=this._customDomain.replace(new RegExp(/\/$/),""))}resolve(E){var D;if(void 0!==(null===(D=this._customEndpoints)||void 0===D?void 0:D[E]))return this._customEndpoints[E];const H=m[E];return void 0!==this._customDomain?this._changeDomain(H,this._customDomain):H}_changeDomain(E,D){return E.replace(Ya,D)}}class oa extends Error{constructor(E){for(var D=arguments.length,H=new Array(D>1?D-1:0),me=1;me<D;me++)H[me-1]=arguments[me];super(...H),Error.captureStackTrace&&Error.captureStackTrace(this,oa);let ke="\n";E.forEach(Re=>{ke+=Re.message+"\n"}),this.errors=E,this.message="Validation errors occured: "+ke}}const qa=/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/;class Ha{constructor(E){let{validators:D,converters:H,required:me,defaultValue:ke,deprecationDate:Re}=E;Object.assign(this,{validators:D,converters:H,required:me,defaultValue:ke,deprecationDate:Re}),this._validateFields()}_isArrayOfFunctions(E){if(!Array.isArray(E))return!1;for(let D=0;D<E.length;D++)if(!Xe()(E[D]))return!1;return!0}_validateFields(){if(null===this.validators||this.validators&&!this._isArrayOfFunctions(this.validators))throw new Error("Validators are not an array of functions.");if(null===this.converters||this.converters&&!this._isArrayOfFunctions(this.converters))throw new Error("Converters are not an array of functions.");if(void 0!==this.required&&"boolean"!=typeof this.required)throw new Error("Required must be a Boolean.");if(this.deprecationDate&&(Number.isNaN(Date.parse(this.deprecationDate))||!qa.test(this.deprecationDate)))throw new Error("deprecationDate must contain a valid date")}getDefaultValue(){return Xe()(this.defaultValue)?this.defaultValue():this.defaultValue}getConverters(){return this.converters?this.converters:[]}getValidators(){return this.validators?this.validators:[]}getDeprecationDate(){return this.deprecationDate}isRequired(){return!0===this.required}}var Za=new class{constructor(){this.log={}}_isLogPrinted(h,E){const D=this.log[h];return!!D&&D[E]}_setLog(h,E){this.log[h]=this.log[h]||{},this.log[h][E]=!0}_displayWarning(h,E,D){const H=Date.now()>Date.parse(E),me="default"!==D?"(used in ".concat(D,") "):"";H?console.error("[DEPRECATION WARNING] The parameter '".concat(h,"' ").concat(me," deprecation period ")+"has ended. It is recommended to stop using it as it may stop working. Please refer to https://developer.tomtom.com/maps-sdk-web-js/documentation for more information"):console.warn("[DEPRECATION NOTICE] The parameter '".concat(h,"' ").concat(me,"is deprecated. ")+"By ".concat(E," we can not guarantee that it will continue to work. ")+"Please refer to https://developer.tomtom.com/maps-sdk-web-js/documentation for more information")}checkDeprecation(h,E){let D=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default";Oe()(h)||Oe()(E)||this._isLogPrinted(D,h)||(this._displayWarning(h,E,D),this._setLog(D,h))}};function Wa(h,E){var D=Object.keys(h);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(h);E&&(H=H.filter(function(me){return Object.getOwnPropertyDescriptor(h,me).enumerable})),D.push.apply(D,H)}return D}function Ja(h){for(var E=1;E<arguments.length;E++){var D=null!=arguments[E]?arguments[E]:{};E%2?Wa(Object(D),!0).forEach(function(H){$A(h,H,D[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(D)):Wa(Object(D)).forEach(function(H){Object.defineProperty(h,H,Object.getOwnPropertyDescriptor(D,H))})}return h}function $A(h,E,D){return E in h?Object.defineProperty(h,E,{value:D,enumerable:!0,configurable:!0,writable:!0}):h[E]=D,h}function Go(h,E,D,H,me,ke,Re){try{var gt=h[ke](Re),rr=gt.value}catch(Cr){return void D(Cr)}gt.done?E(rr):Promise.resolve(rr).then(H,me)}const $a=(h,E,D,H)=>{const me=[];for(const ke of E)try{ke(h,D,H)}catch(Re){me.push(Re)}return me},Dn=h=>{const E={};for(const[D,H]of Object.entries(h))E[D]=new Ha(H);return E},Aa=function(h){let E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},D=arguments.length>2?arguments[2]:void 0;const H=Dn(h);let me=[];for(const[ke,Re]of Object.entries(H)){const gt=E[ke],rr="__all"===ke;if(Oe()(gt)&&Re.isRequired())me.push(new Error("".concat(ke," is a required field.")));else if(!Oe()(gt)||rr){Za.checkDeprecation(ke,Re.getDeprecationDate(),D);const Cr=$a(gt,Re.getValidators(),E,ke);me=[...me,...Cr]}}return me},$i=function(h){let E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},D=arguments.length>2?arguments[2]:void 0;const H=Dn(h),me={};for(const[ke,Re]of Object.entries(H)){const gt=Re.getDefaultValue();let rr=E[ke];if(Oe()(rr)||""===rr){if(Oe()(gt))continue;rr=gt}const Cr=Re.getConverters();me[ke]=Cr.reduce((Hn,Ao)=>Ao(Hn,D),rr)}return me};function Gi(){return Gi=function aa(h){return function(){var E=this,D=arguments;return new Promise(function(H,me){var ke=h.apply(E,D);function Re(rr){Go(ke,H,me,Re,gt,"next",rr)}function gt(rr){Go(ke,H,me,Re,gt,"throw",rr)}Re(void 0)})}}(function*(h){let E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},D=arguments.length>2?arguments[2]:void 0,H=arguments.length>3?arguments[3]:void 0,me=arguments.length>4?arguments[4]:void 0,ke=arguments.length>5?arguments[5]:void 0,Re=$i(h,E,D),gt=Aa(h,Re,H);if(h.batchItems&&E.batchItems){const{batchProperties:rr,batchErrors:Cr}=function eo(h,E,D,H){const me={};let ke=[];if(h.batchItems&&E.batchItems&&(me.batchItems=E.batchItems.map(Re=>{const gt=$i(h.batchItems,Re,D);return ke=ke.concat(Aa(h.batchItems,gt,H)),gt}),E.batchMode&&(me.batchMode=ze(["sync","async","redirect"],"batchMode")(E.batchMode)),E.key&&(me.key=Nt(E.key)),me.trackingId=E.trackingId?Rr(E.trackingId):(0,Fn.v4)(),E.waitTimeSeconds)){if(kt(E.waitTimeSeconds),!(120===E.waitTimeSeconds||E.waitTimeSeconds>=5&&E.waitTimeSeconds<=60))throw new Error("Invalid `waitTimeSeconds` parameter value. Must be 120 or an integer between 5 and 60.");me.waitTimeSeconds=E.waitTimeSeconds}return{batchProperties:me,batchErrors:ke}}(h,E,D,H);Re=Ja(Ja({},Re),rr),gt=gt.concat(Cr)}if(gt.length)throw new oa(gt);return me(Re,ke)}),Gi.apply(this,arguments)}function ln(h,E,D,H,me){const ke={batchItems:h};return function(){let Re=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},gt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},rr=H,Cr=Re,Hn=h;return Re.batchItems&&Xe()(me)&&(Cr={trackingId:Re.trackingId,batchMode:Re.batchMode,waitTimeSeconds:Re.waitTimeSeconds,batchItems:Re.batchItems,key:Re.key},rr=me,Hn=ke),function fo(h){return Gi.apply(this,arguments)}(Hn,Cr,E,D,rr,gt.abortSignal)}}var So=he(80),go=he.n(So);function Ki(h,E){return h.replace(/\{ *([\w_]+) *\}/g,(D,H)=>{let me=E[H];return go()(me)?"{"+H+"}":(Xe()(me)&&(me=me(H)),"query"===H?encodeURIComponent(me):me)})}var eA=window.fetch;function tA(h,E,D,H,me,ke,Re){try{var gt=h[ke](Re),rr=gt.value}catch(Cr){return void D(Cr)}gt.done?E(rr):Promise.resolve(rr).then(H,me)}function Ea(h,E){var D=Object.keys(h);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(h);E&&(H=H.filter(function(me){return Object.getOwnPropertyDescriptor(h,me).enumerable})),D.push.apply(D,H)}return D}function to(h){for(var E=1;E<arguments.length;E++){var D=null!=arguments[E]?arguments[E]:{};E%2?Ea(Object(D),!0).forEach(function(H){DA(h,H,D[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(D)):Ea(Object(D)).forEach(function(H){Object.defineProperty(h,H,Object.getOwnPropertyDescriptor(D,H))})}return h}function DA(h,E,D){return E in h?Object.defineProperty(h,E,{value:D,enumerable:!0,configurable:!0,writable:!0}):h[E]=D,h}function rA(h,E,D){h.pathParameters=h.pathParameters||{},h.pathParameters.contentType=D,h.pathParameters.protocol=h.pathParameters.protocol||"https";const H=Ki(h.url,h.pathParameters),me=B();me.Accept="application/json",h.headers&&h.headers.trackingId&&(me["Tracking-ID"]=h.headers.trackingId);let ke=to({method:"GET",headers:me,mode:"cors"},h.abortSignal&&{signal:h.abortSignal});return E&&(ke=to(to({},ke),{},{transformResponse:E})),{options:h,url:H,requestOptions:ke}}function Ca(h,E){let D=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},H=arguments.length>3?arguments[3]:void 0;return eA(function vo(h,E){return h.queryParameters?E+"?"+Object.keys(h.queryParameters).map(function(D){return function(H,me){const ke=H.queryParameters[me];let Re="";return Re=Array.isArray(ke)?ke.map(function(gt){return Ia(me,gt)}).join("&"):Ia(me,H.queryParameters[me]),Re}(h,D)}).join("&"):E}(h,E),D).then((me=function Hr(h){return function(){var E=this,D=arguments;return new Promise(function(H,me){var ke=h.apply(E,D);function Re(rr){tA(ke,H,me,Re,gt,"next",rr)}function gt(rr){tA(ke,H,me,Re,gt,"throw",rr)}Re(void 0)})}}(function*(ke){const Re=yield H(ke);if(!ke.ok)return Promise.reject({response:ke,data:Re});if(h._getOriginalResponse)return ke;if("batch"===h.requestType&&202===ke.status)return ke.headers.location;const gt=ke.headers&&(ke.headers.get("tracking-id")||ke.headers.get("Tracking-ID"));return to({data:Re},gt&&{trackingId:gt})}),function(ke){return me.apply(this,arguments)})).catch(function(){let me=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(D.signal&&!0===D.signal.aborted)return Promise.reject(me);const{response:ke,data:Re}=me,gt=h._getOriginalResponse?ke||me:yo(Re,ke&&ke.status)||me;return Promise.reject(gt)});var me}function nA(h){return h.text()}function mo(h){return h.json()}const yo=(h,E)=>{if(!h)return;const{error:D,detailedError:H}=h;return D&&H?{message:D.description,data:H,status:E}:h};function Ia(h,E){return encodeURIComponent(h)+"="+encodeURIComponent(E)}function iA(h,E){var D=Object.keys(h);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(h);E&&(H=H.filter(function(me){return Object.getOwnPropertyDescriptor(h,me).enumerable})),D.push.apply(D,H)}return D}function Qa(h,E,D){return E in h?Object.defineProperty(h,E,{value:D,enumerable:!0,configurable:!0,writable:!0}):h[E]=D,h}const jn=function(h){h.pathParameters=h.pathParameters||{},h.pathParameters.contentType="json",h.pathParameters.protocol=h.pathParameters.protocol||"https";const E=Ki(h.url,h.pathParameters),D=B();D.Accept="application/json",h.headers&&h.headers.trackingId&&(D["Tracking-ID"]=h.headers.trackingId);const H=function(me){for(var ke=1;ke<arguments.length;ke++){var Re=null!=arguments[ke]?arguments[ke]:{};ke%2?iA(Object(Re),!0).forEach(function(gt){Qa(me,gt,Re[gt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(me,Object.getOwnPropertyDescriptors(Re)):iA(Object(Re)).forEach(function(gt){Object.defineProperty(me,gt,Object.getOwnPropertyDescriptor(Re,gt))})}return me}({method:"POST",headers:D,mode:"cors",redirect:"follow"},h.abortSignal&&{signal:h.abortSignal});return function(me,ke){const Re=me.bodyParameters;let gt;Re&&(ut()(Re)?gt=function bi(h,E){const D=function(H){try{return JSON.stringify(H)}catch{return null}}(h);if(!D)throw new Error("Unsupported request body type: "+h);return me="Content-Type",(H=E).headers||(H.headers={}),H.headers[me]||H.headers[me.toLowerCase()]||(H.headers[me]="application/json"),D;var H,me}(Re,ke):At()(Re)&&(gt=Re),ke.body=gt)}(h,H),Ca(h,E,H,mo)};var on=(h,E)=>{h.protocol=h&&h.protocol||"https";const D=h.pathParameters;return D&&"text"===D.contentType?function(h,E){const D=rA(h,E,"text");return Ca(D.options,D.url,D.requestOptions,nA)}(h,E):function(h,E){const D=rA(h,E,"json");return Ca(D.options,D.url,D.requestOptions,mo)}(h,E)},sa=h=>(h.protocol=h.protocol||"https",jn(h));function es(h){const E=h[1];return!E.application||E.application===jo}function Ko(h){return h[1].application===Kr}function TA(h){return h[1].application===wr}function ts(h){return h[1].application===Sn}function AA(h){return h[1].application===rn}function No(h){return{name:h[0],fieldName:h[2]}}function Ni(h,E){let D=Object.keys(h).map((H=h,me=>[H[me]&&H[me].name||me,H[me],me]));var H;return D=D.filter(E),D=D.map(No),D}function ca(h){return Ni(h,es)}function la(h){return Ni(h,Ko)}function ua(h){return Ni(h,TA)}function Xo(h){return Ni(h,ts)}function Uo(h){return Ni(h,AA)}function Wn(h,E,D){const H={};return E(h).forEach(me=>{if(me.fieldName in D){const ke=h[me.fieldName],Re=D[me.fieldName];ke.cast?ke.cast(Re,H):H[me.name]=Re}}),H}function wi(h,E){return{pathParams:Wn(h,la,E),queryParams:Wn(h,ca,E),postParams:Wn(h,ua,E),otherParams:Wn(h,Xo,E),headerParams:Wn(h,Uo,E)}}var UA=he(81),Vo=he.n(UA);const Fa="contentType";function _o(h){const E=Object.assign({},h);return E[Fa]={application:Kr},E}function Yo(h){return h[Fa]=h[Fa]||"json",h}const Qn=h=>(E,D,H)=>{const{pathParams:me,queryParams:ke,postParams:Re,headerParams:gt}=wi(_o(E),Yo(D)),rr={headers:gt,url:"{protocol}://"+h,pathParameters:me,queryParameters:ke,abortSignal:H};return Vo()(Re)?on(rr):(rr.bodyParameters=Re,sa(rr))};function pa(h,E){return encodeURIComponent(h)+"="+encodeURIComponent(E)}var ka=(h,E,D)=>function rs(h,E){return E?h+"?"+Object.keys(E).map(D=>function(H,me){const ke=me[H];let Re="";return Re=Array.isArray(ke)?ke.map(function(gt){return pa(H,gt)}).join("&"):pa(H,me[H]),Re}(D,E)).join("&"):h}(Ki(h,E),D);function ha(h,E){var D=Object.keys(h);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(h);E&&(H=H.filter(function(me){return Object.getOwnPropertyDescriptor(h,me).enumerable})),D.push.apply(D,H)}return D}function Oo(h,E,D){return E in h?Object.defineProperty(h,E,{value:D,enumerable:!0,configurable:!0,writable:!0}):h[E]=D,h}function ro(h){let E;switch(h.batchMode){case"async":E=h.endpoints.async;break;case"sync":E=h.endpoints.sync;break;default:E=h.endpoints.async,h.queryParams.redirectMode="manual"}return"sync"!==h.batchMode&&h.waitTimeSeconds?h.queryParams.waitTimeSeconds=h.waitTimeSeconds:h.queryParams&&h.queryParams.waitTimeSeconds&&delete h.queryParams.waitTimeSeconds,sa(function(D){for(var H=1;H<arguments.length;H++){var me=null!=arguments[H]?arguments[H]:{};H%2?ha(Object(me),!0).forEach(function(ke){Oo(D,ke,me[ke])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(me)):ha(Object(me)).forEach(function(ke){Object.defineProperty(D,ke,Object.getOwnPropertyDescriptor(me,ke))})}return D}({url:"{protocol}://"+E,queryParameters:h.queryParams,bodyParameters:h.bodyParams,headers:h.headers,requestType:"batch"},h.abortSignal&&{abortSignal:h.abortSignal})).then(D=>"manual"===h.queryParams.redirectMode?on({url:"{protocol}://"+Ya+D}):D)}const di=(h,E)=>(D,H,me)=>{const ke={},Re={};ke.key=H.key;const gt={};H.trackingId&&(gt.trackingId=H.trackingId);const rr=((h,E)=>{if(null==h)throw new TypeError(E);return h})(H.batchItems);return D=_o(D),Re.batchItems=rr.map(function(Cr){const{pathParams:Hn,queryParams:Ao,postParams:Li}=wi(D,Yo(Cr)),ta={query:ka(E.single,Hn,Ao)};return Vo()(Li)||(ta.post=Li),ta}),ro({batchMode:H.batchMode||(Re.batchItems.length<=h?"sync":"redirect"),waitTimeSeconds:H.waitTimeSeconds,queryParams:ke,bodyParams:Re,headers:gt,endpoints:{sync:E.batchSync,async:E.batch},abortSignal:me})},cA=["origins","destinations"];const fa={key:{validators:[Ar]},trackingId:{validators:[Rr],application:rn,defaultValue:Fn.v4},geometries:{validators:[function(h){if(kr(h))throw new TypeError("an array is expected, but "+h+"  ["+typeof h+"] given");return h}],required:!0},geometriesZoom:{validators:[function(h){return qr(0,22,"a geometries zoom value <0, 22> is expected")(h)}]}};function Lo(h,E){const D=new In(E),H=Qn(D.resolve("adpEndpoint")),me=di(100,{single:D.resolve("batchAdpQueryEndpoint"),batchSync:D.resolve("batchSyncSearchEndpoint"),batch:D.resolve("batchSearchEndpoint")});return ln(fa,L,"additionalData",function(ke,Re){return H(fa,ke,Re).then(mr)},function(ke,Re){return me(fa,ke,Re).then(gt=>mr(gt,br))})(h,E)}var OA=he(98),bo=he.n(OA);function Zr(h,E){if(h)throw new TypeError(E)}function qo(h){const E=parseFloat(h);if(!isFinite(E))throw new TypeError("an number is expected, but "+h+" ["+typeof h+"] given");return E-180*Math.ceil((E-90)/180)}function no(h){const E=parseFloat(h);if(!isFinite(E))throw new TypeError("an number is expected, but "+h+" ["+typeof h+"] given");return E-360*Math.ceil((E-180)/360)}function R(h){if(Array.isArray(h)&&2===h.length)return[...h].reverse();if(At()(h)){const ke=h.match(tt);return Zr(!ke||!ke[1]||!ke[2],"A point is expected, but "+h+" ["+typeof h+"] given"),[ke[2],ke[1]]}if(ke=h,Xe()(ke.lat)&&Xe()(ke.lng))return[h.lat(),h.lng()];var ke,E,D,H,me;if(H=h,Object.prototype.hasOwnProperty.call(H,"lat")&&(Object.prototype.hasOwnProperty.call(H,"lon")||Object.prototype.hasOwnProperty.call(H,"lng")))return[h.lat,(E=h.lon,D=h.lng,void 0===E?D:E)];if(me=h,Object.prototype.hasOwnProperty.call(me,"x")&&Object.prototype.hasOwnProperty.call(me,"y"))return[h.y,h.x];if(function(ke){return Object.prototype.hasOwnProperty.call(ke,"latitude")&&Object.prototype.hasOwnProperty.call(ke,"longitude")}(h))return[h.latitude,h.longitude];throw new TypeError("A point is expected, but "+h+" ["+typeof h+"] given")}function V(h,E){if(Oe()(h)||""===h)return"";if(E[h])return h;h=h.toLowerCase();for(const D in E)if(Object.prototype.hasOwnProperty.call(E,D)&&"defaultValue"!==D&&Object.prototype.hasOwnProperty.call(E[D].synonyms,h))return D;return console.warn("Value provided is invalid ("+h+"). Default value ("+E.defaultValue.value+") will be used instead."),E.defaultValue.value}function ie(h){const E=R(h);return qo(E[0])+","+no(E[1])}function Te(h){return At()(h)&&h.indexOf("circle")>-1?function(E){const D=E.match(dt);Zr(!(D&&D[1]&&D[2]&&D[3]),"Unable to cast "+E+" ["+typeof E+"] to circle");const H=parseFloat(D[2]),me=parseFloat(D[1]),ke=parseFloat(D[3]);return Zr(!isFinite(H)||!isFinite(me),"Unable to cast "+E+" ["+typeof E+"] to circle"),"circle("+H+","+me+","+ke+")"}(h):Array.isArray(h)&&3===h.length?"circle("+qo(h[1])+","+no(h[0])+","+h[2]+")":ie(h)}function nt(h){const E=[];for(const D in h)Object.prototype.hasOwnProperty.call(h,D)&&E.push(ie(h[D]));return E}function at(h){if(!At()(h))return h;const E=h.split(",");return{latitude:E[0],longitude:E[1]}}function bt(h){return function(E){let D=E.minLon,H=E.maxLon,me=E.minLat,ke=E.maxLat;if(H-D>360)H=180,D=-180;else{if(H>270){const Re=Math.ceil(D/360);H-=360*Re,D-=360*Re}if(D<-270){const Re=Math.ceil(-H/360);H+=360*Re,D+=360*Re}}return me=me<-90?-90:me,ke=ke>90?90:ke,{minLon:D,minLat:me,maxLon:H,maxLat:ke}}(function z(h){let E,D;if(H=h,Object.prototype.hasOwnProperty.call(H,"minLon")&&Object.prototype.hasOwnProperty.call(H,"minLat")&&Object.prototype.hasOwnProperty.call(H,"maxLon")&&Object.prototype.hasOwnProperty.call(H,"maxLat"))return h;var H;if(function(H){return Object.prototype.hasOwnProperty.call(H,"left")&&Object.prototype.hasOwnProperty.call(H,"bottom")&&Object.prototype.hasOwnProperty.call(H,"right")&&Object.prototype.hasOwnProperty.call(H,"top")}(h))return{minLon:h.left,minLat:h.bottom,maxLon:h.right,maxLat:h.top};if(function(H){return Xe()(H.getWest)&&Xe()(H.getEast)&&Xe()(H.getSouth)&&Xe()(H.getNorth)}(h))return{minLon:h.getWest(),minLat:h.getSouth(),maxLon:h.getEast(),maxLat:h.getNorth()};if(Xe()(h.getNorthEast)&&Xe()(h.getSouthWest))return D=R(h.getNorthEast()),E=R(h.getSouthWest()),{minLon:E[1],minLat:E[0],maxLon:D[1],maxLat:D[0]};if(Array.isArray(h)&&4===h.length)return{minLon:h[0],minLat:h[1],maxLon:h[2],maxLat:h[3]};if(Array.isArray(h)&&2===h.length)return E=R(h[0]),D=R(h[1]),{minLon:E[1],minLat:E[0],maxLon:D[1],maxLat:D[0]};if(At()(h)&&4===(h=h.trim().split(/\s*,\s*/)).length)return{minLon:parseFloat(h[0]),minLat:parseFloat(h[1]),maxLon:parseFloat(h[2]),maxLat:parseFloat(h[3])};throw new TypeError("Unable to cast "+h+" ["+typeof h+"] to bounding box")}(h))}function Kt(h){return ie(h)}function xr(h){if(h&&h instanceof Date)return h.toISOString();if(!h||!At()(h))throw new TypeError("Unable to cast "+h+" ["+typeof h+"] to datetime value.");return"now"!==h&&(h=new Date(h).toISOString()),h}function dn(h){let E;Zr(!h||!Array.isArray(h),"Unable to cast "+h+" ["+typeof h+"] to geometry list (array)");for(const D in h)Object.prototype.hasOwnProperty.call(h,D)&&(E=h[D],"POLYGON"===E.type?E.vertices=nt(E.vertices):"CIRCLE"===E.type&&(E.position=ie(E.position)));return h}function Tn(h){return V(h,dr)}function Xr(h){if(!h)return[];if(At()(h))return(h=h.trim().replace(/\s*[,;]\s*/g,",")).split(/[,;]+/);if(Array.isArray(h))return h;throw new TypeError("Unable to cast "+h+" ["+typeof h+"] to array of strings")}function Oi(h){if(At()(h))return h;if(!Array.isArray(h))throw new TypeError("An array is required");return h.join(":")}function io(h){if(Array.isArray(h))return h.join();throw new TypeError("An array is required")}function mn(h){return bo()(h)}const Ot={key:{validators:[Nt]},trackingId:{validators:[Rr],application:rn,defaultValue:Fn.v4},maxDetourTime:{validators:[En(1,3600)],required:!0},spreadingMode:{validators:[ze(["auto"],"spreading mode")]},route:{required:!0,converters:[function(h){return{points:h.map(R).map(E=>{let[D,H]=E;return{lat:D,lon:H}})}}],validators:[function(h){let E;if(void 0===h.points)throw new TypeError("Invalid structure of the route object");if(E=h.points,E&&!(Array.isArray(E)&&E.length>2))throw new TypeError("Provided route array "+E+" is not valid. It should be an array with at least 2 points.");return E.forEach(an),h}],application:wr},query:{required:!0,validators:[Ar],application:Kr},limit:{validators:[En(1,20)]},type:{validators:[Ar],defaultValue:"searchAlongRoute",application:Kr},brandSet:{validators:[Ar]},categorySet:{validators:[Ar]},connectorSet:{validators:[Z]},minPowerKW:{validators:[kt]},maxPowerKW:{validators:[kt]},openingHours:{validators:[ze(["nextSevenDays"],"openingHours parameter")]},timeZone:{validators:[ze(["iana"],"timeZone parameter")]},sortBy:{validators:[ze(["detourTime","detourOffset","detourDistance"],"sortBy")]},detourOffset:{validators:[tn]},view:{validators:[Ar]}};function Qi(h,E){const D=new In(E),H=Qn(D.resolve("searchEndpoint")),me=di(100,{single:D.resolve("batchSearchQueryEndpoint"),batchSync:D.resolve("batchSyncSearchEndpoint"),batch:D.resolve("batchSearchEndpoint")});return ln(Ot,L,"alongRouteSearch",(ke,Re)=>H(Ot,ke,Re).then(gt=>mr(gt,Sr)),(ke,Re)=>me(Ot,ke,Re).then(gt=>mr(gt,Sr)))(h,E)}const LA="combustion",Pa="electric",Xi="any";function Rn(h){if(isNaN(parseFloat(h))||!isFinite(h))throw new Error("A value parsable to float is expected, but "+h+" ["+typeof h+"] given")}function Ct(h,E){if(h.vehicleEngineType&&h.vehicleEngineType!==E&&E!==Xi)throw new Error("Expecting vehicleEngineType set to "+E)}function Sa(h,E,D){if(!h[E]||!h[D])throw new Error("Missing dependant parameter. Expecting both defined: "+E+", "+D)}function Ho(h){if("bicycle"===h.travelMode||"pedestrian"===h.travelMode)throw new Error("Consumption model parameters cannot be set if travelMode is set to bicycle or pedestrian")}function Da(h){if(!h.constantSpeedConsumptionInLitersPerHundredkm&&!h.constantSpeedConsumptionInkWhPerHundredkm)throw new Error("Consumption model cannot be used without setting constant speed consumption parameter")}function Fi(h){return(E,D)=>{if(null==E)return;if(Ho(D),Ct(D,h),!At()(E))throw new TypeError('Expecting a String like "15.2,12.2:8.0,9.0"');const H=E.split(":");if(H.length<1||H.length>25)throw new Error("Incorrect amount of speed-consumption pairs provided. Expecting 1-25, but got "+E.length);!function ns(h){const E={};h.forEach(function(D){const H=D.split(",");if(2!==H.length)throw new Error("Invalid number of parameters in the pair around "+D);if(0===H[0].trim().length)throw new Error("Speed value must not be empty.");if(0===H[1].trim().length)throw new Error("Consumption value must not be empty.");if(Rn(H[0]),Rn(H[1]),Object.prototype.hasOwnProperty.call(E,parseFloat(H[0])))throw new Error("Duplicate speed: "+H[0]);E[parseFloat(H[0])]=parseFloat(H[1])}),Object.keys(E).length>1&&function(D){const H=Object.keys(D).sort(function(ke,Re){return parseFloat(ke)>parseFloat(Re)}),me=H.length;if(D[H[me-2]]>D[H[me-1]])throw new Error("Consumption for two highest speeds should be increasing")}(E)}(H)}}function ci(h,E){return function(D,H){if(D&&(Ho(H),Da(H),Ct(H,h),Rn(D),D<0))throw new Error(E+": Expecting positive value")}}function da(h,E){return function(D,H){D&&(Ho(H),Da(H),Ct(H,Xi),Sa(H,h,E),Sa(H,h,"vehicleWeight"),H.vehicleEngineType===LA&&Sa(H,h,"fuelEnergyDensityInMJoulesPerLiter"),function(me,ke,Re){if(me[ke]*me[Re]>1)throw new Error("Product of "+ke+" and "+Re+" cannot exceed 1")}(H,h,E),Rn(D))}}function ga(h,E){return function(D,H){D&&(Ho(H),Da(H),Ct(H,Pa),Sa(H,h,E),Rn(D))}}function xi(h,E){let D,H;if("electric"===E.vehicleEngineType){if(D=E.currentChargeInkWh,H=E.energyBudgetInkWh,H>D)throw new Error("Energy budget may not be greater than current energy.")}else if(D=E.currentFuelInLiters,H=E.fuelBudgetInLiters,H>D)throw new Error("Fuel budget may not be greater than current fuel.");if(H<0)throw new Error("Budget may not be negative.")}function wo(h,E,D){const H="constantSpeedConsumptionInLitersPerHundredkm"in E,me="constantSpeedConsumptionInkWhPerHundredkm"in E,ke="electric"===E.vehicleEngineType;if("energyBudgetInkWh"===D&&h){if(!ke)throw new Error('Engine type should be "electric" when energyBudgetInkWh is set');if(!me)throw new Error("Missing constant speed consumption for electric engine.")}else if("fuelBudgetInLiters"===D&&h){if(ke)throw new Error('Engine type should be "combustion" or undefined when fuelBudgetInLiters is set');if(!H)throw new Error("Missing constant speed consumption for combustion engine.")}}function uA(h,E){return function(D,H){if(D&&Object.prototype.hasOwnProperty.call(H,E)&&Se(H[E]))throw new Error(h+" parameter cannot be used in conjunction with "+E)}}function xo(h,E){return function(D,H){if(D&&!Object.prototype.hasOwnProperty.call(H,E))throw new Error(E+" must be specified when using with "+h)}}function is(h,E){const D=Vo()(E.query),H=Vo()(E.brandSet),me=Vo()(E.categorySet);if(D&&H&&me)throw new Error("Empty query parameter is only allowed when used with brandSet or categorySet filters")}function Ta(h,E){const D=E.recuperationInkWhPerkmAltitudeLoss,H=E.consumptionInkWhPerkmAltitudeGain;if(Rn(D),Rn(H),H<D)throw new Error("consumptionInkWhPerkmAltitudeGain must be greater than recuperationInkWhPerkmAltitudeLoss");if(H>500)throw new Error("recuperationInkWhPerkmAltitudeLoss and less than 500.0");if(D<0)throw new Error("recuperationInkWhPerkmAltitudeLoss must be greater than 0.0")}const gi=()=>({validators:[Vn],converters:[bt],cast:(h,E)=>{E.topLeft="".concat(h.maxLat,",").concat(h.minLon),E.btmRight="".concat(h.minLat,",").concat(h.maxLon)}});class Er{constructor(E,D){this.options=E,this.additionalOptions=D,this.defaultFields=De({__all:{validators:[is]},key:{validators:[Ar]},trackingId:{validators:[Rr],application:rn,defaultValue:Fn.v4},query:{validators:[Ar],application:Kr,defaultValue:""},typeahead:{validators:[tn]},limit:{validators:[ue]},offset:{validators:[Le],name:"ofs"},language:{validators:[G],converters:[Tn]},countrySet:{validators:[Y]},radius:{validators:[zr]},center:{converters:[Kt],validators:[Ce],cast:(h,E)=>{const D=h.split(",");E.lat=D[0],E.lon=D[1]}},type:{validators:[Ar],defaultValue:"search",application:Kr},bestResult:{validators:[tn],cast:(h,E)=>{h&&(E.limit=1,E.ofs=0)}},protocol:{validators:[ze(["http","https"],"protocol")]},extendedPostalCodesFor:{validators:[Ar]},view:{validators:[ze(["IL","MA","IN","PK","Unified","RU","TR","AR","CN"],"view")]},brandSet:{validators:[Ar]},categorySet:{validators:[Ar]},connectorSet:{validators:[Z]},minPowerKW:{validators:[kt]},maxPowerKW:{validators:[kt]},openingHours:{validators:[ze(["nextSevenDays"],"openingHours parameter")]},timeZone:{validators:[ze(["iana"],"timeZone parameter")]},mapcodes:{validators:[ae]},fuelSet:{validators:[re]},relatedPois:{validators:[ze(["off","child","parent","all"],"relatedPois")]}}),this.fields={}}_getRestService(){const E=new In(this.additionalOptions);return{search:Qn(E.resolve("searchEndpoint")),batch:di(100,{single:E.resolve("batchSearchQueryEndpoint"),batchSync:E.resolve("batchSyncSearchEndpoint"),batch:E.resolve("batchSearchEndpoint")})}}handleBatchServiceCall(E,D){return this._getRestService().batch(this.fields,E,D).then(H=>mr(H,br))}handleServiceCall(E,D){return this._getRestService().search(this.fields,E,D).then(H=>{let{data:me,trackingId:ke}=H;return mr({data:E.bestResult?me.results[0]:me,trackingId:ke},Sr)})}construct(E){return this.fields=Je(this.fields,this.defaultFields),ln(this.fields,L,E||"search",this.handleServiceCall.bind(this),this.handleBatchServiceCall.bind(this))(this.options,this.additionalOptions)}}class Bo extends Er{constructor(E,D){super(E,D),this.fields.type={defaultValue:"categorySearch",visible:!1},this.fields.boundingBox=gi()}}function Vi(h,E){return new Bo(h,E).construct("categorySearch")}const Yn={key:{validators:[Nt]},chargingAvailability:{validators:[Ar],required:!0},trackingId:{validators:[Rr],application:rn,defaultValue:Fn.v4},connectorSet:{validators:[Z]},minPowerKW:{validators:[kt]},maxPowerKW:{validators:[kt]}};function ma(h,E){const D=new In(E),H=Qn(D.resolve("chargingAvailabilityEndpoint")),me=di(100,{single:D.resolve("batchChargingAvailabilityQueryEndpoint"),batchSync:D.resolve("batchSyncSearchEndpoint"),batch:D.resolve("batchSearchEndpoint")});return ln(Yn,S,"chargingAvailability",function(ke,Re){return H(Yn,ke,Re).then(mr)},function(ke,Re){return me(Yn,ke,Re).then(gt=>mr(gt,br))})(h,E)}class Zo extends Er{constructor(E,D){super(E,D),this.fields.minFuzzyLevel={validators:[ee],defaultValue:1},this.fields.maxFuzzyLevel={validators:[ee],defaultValue:2},this.fields.idxSet={validators:[Ar]},this.fields.entityTypeSet={converters:[mn,io],validators:[lt]},this.fields.sessionId={validators:[Ar]},this.fields.clientTime={validators:[Ut]},this.fields.boundingBox=gi()}}function ao(h,E){return new Zo(h,E).construct("fuzzySearch")}class mi extends Er{constructor(E,D){super(E,D),this.fields.type={defaultValue:"geometrySearch",visible:!1,application:Kr},this.fields.key={validators:[Nt]},this.fields.limit={validators:[ue]},this.fields.language={validators:[G]},this.fields.geometryList={validators:[Ye],converters:[dn],application:wr},this.fields.idxSet={validators:[Ar]},this.fields.protocol={validators:[ze(["http","https"],"protocol")]},this.fields.extendedPostalCodesFor={validators:[Ar]},this.fields.entityTypeSet={converters:[mn,io],validators:[lt]},this.fields.boundingBox=gi()}}function pA(h,E){return new mi(h,E).construct("geometrySearch")}class Yt extends Er{constructor(E,D){super(E,D),this.fields.__all={validators:[]},this.fields.type={defaultValue:"nearbySearch",visible:!1},this.fields.query={visible:!1},this.fields.center={required:!0},this.fields.radius={required:!1,validators:[pn(1,5e4)]},this.fields.typeahead={visible:!1}}_getRestService(){const E=new In(this.additionalOptions);return{search:Qn(E.resolve("nearbySearchEndpoint")),batch:di(100,{single:E.resolve("batchNearbySearchQueryEndpoint"),batchSync:E.resolve("batchSyncSearchEndpoint"),batch:E.resolve("batchSearchEndpoint")})}}}function Mt(h,E){return new Yt(h,E).construct("nearbySearch")}const hA={key:{validators:[Ar]},trackingId:{validators:[Rr],application:rn,defaultValue:Fn.v4},entityId:{validators:[Ar],required:!0},language:{validators:[G],converters:[Tn]},relatedPois:{validators:[ze(["off","child","parent","all"],"relatedPois")]},mapcodes:{validators:[ae]},timeZone:{validators:[ze(["iana"],"timeZone parameter")]},openingHours:{validators:[ze(["nextSevenDays"],"openingHours parameter")]},view:{validators:[ze(["AR","IL","MA","IN","PK","Unified","RU","TR","CN"],"view")]}};function yi(h,E){const D=new In(E),H=Qn(D.resolve("placeByIdEndpoint"));return ln(hA,L,"placeById",(me,ke)=>H(hA,me,ke).then(Re=>mr(Re,Sr)))(h,E)}const Yi={key:{validators:[Ar]},trackingId:{validators:[Rr],application:rn,defaultValue:Fn.v4},language:{validators:[G]}};function ii(h,E){return ln(Yi,L,"poiCategories",(D,H)=>{const me=new In(E);return Qn(me.resolve("poiCategoriesEndpoint"))(Yi,D,H).then(mr)})(h,E)}class Eo extends Er{constructor(E,D){super(E,D),this.fields.type={defaultValue:"poiSearch",visible:!1},this.fields.boundingBox=gi()}}function os(h,E){return new Eo(h,E).construct("poiSearch")}const fA={key:{validators:[Ar]},trackingId:{validators:[Rr],application:rn,defaultValue:Fn.v4},query:{validators:[Ar],required:!0,application:Kr},language:{validators:[G],converters:[Tn],required:!0},limit:{validators:[ue]},countrySet:{validators:[Y]},radius:{validators:[zr]},resultSet:{validators:[Ar]},center:{converters:[Kt],validators:[Ce],cast:(h,E)=>{const D=h.split(",");E.lat=D[0],E.lon=D[1]}},sessionId:{validators:[Ar]},clientTime:{validators:[Ut]}};function Wr(h,E){const D=new In(E),H=Qn(D.resolve("autocompleteEndpoint"));return ln(fA,L,"autocomplete",function(me,ke){return H(fA,me,ke).then(Re=>mr(Re))})(h,E)}const zn=new Gt({isLatLon:!0}),as=h=>{h.position&&(h.position=zn.convert(h.position)),h.address&&h.address.boundingBox&&(h.address.boundingBox.northEast=zn.convert(h.address.boundingBox.northEast),h.address.boundingBox.southWest=zn.convert(h.address.boundingBox.southWest))};function Wo(h){return h.addresses.forEach(E=>{Array.isArray(E)&&E.forEach(D=>{as(D)}),as(E)}),h}function As(h){return h.batchItems instanceof Array?(h.batchItems=h.batchItems.map(E=>E.response.error?{error:E.response.error}:Wo(E.response)),h):null}function ki(h,E){this.options=h,this.additionalOptions=E,this.fields={}}function vi(h){return new ki(h).construct()}ki.prototype.TYPE={reverseGeocode:"reverseGeocode",crossStreetLookup:"reverseGeocode/crossStreet"},ki.prototype.construct=function(h){return ln(Je(this.fields,this.defaultFields),L,h||"reverseGeocodeBase",this.handleServiceCall.bind(this),this.handleBatchServiceCall.bind(this))(this.options,this.additionalOptions)},ki.prototype.handleServiceCall=function(h,E){const D=new In(this.additionalOptions);return Qn(D.resolve("reverseGeocodeEndpoint"))(this.fields,h,E).then(H=>mr(H,Wo))},ki.prototype.handleBatchServiceCall=function(h,E){const D=new In(this.additionalOptions);return di(100,{single:D.resolve("batchReverseGeocodeQueryEndpoint"),batch:D.resolve("batchSearchEndpoint"),batchSync:D.resolve("batchSyncSearchEndpoint")})(this.fields,h,E).then(H=>mr(H,As))},vi.prototype.constructor=ki;const Jo="reverseGeocode",qi="reverseGeocode/crossStreet",dA={key:{validators:[Ar]},trackingId:{validators:[Rr],application:rn,defaultValue:Fn.v4},language:{validators:[G]},position:{converters:[Kt],validators:[Ce],required:!0,application:Kr},heading:{validators:[kt]},radius:{validators:[zr]},protocol:{validators:[ze(["http","https"],"protocol")]},view:{validators:[ze(["AR","IL","MA","IN","PK","Unified","RU","TR","CN"],"view")]},allowFreeformNewline:{validators:[tn]}},Ua={type:{defaultValue:Jo,visible:!1,application:Kr},entityType:{converters:[mn,io],validators:[lt]},returnSpeedLimit:{validators:[tn]},number:{validators:[Ar]},returnRoadUse:{validators:[tn]},roadUse:{converters:[function(h){if(At()(h))return'["'+h.replace(/["']|^\s+|\s+$/g,"").split(/[\s,]+/).join('","')+'"]';if(Array.isArray(h)){for(let E=0;E<h.length;E+=1)h[E]=String(h[E]).replace(/["']|^\s+|\s+$/g,"");return'["'+h.join('","')+'"]'}throw new TypeError("Unable to cast "+h+" ["+typeof h+"] to road use string")}],validators:[function(h){const E=["LimitedAccess","Arterial","Terminal","Ramp","Rotary","LocalStreet"];Br(!At()(h)||!h.match(/^\[("\w*",?)+\]$/),"Road use is expected, but "+h+"  ["+typeof h+"] given");const D=h.replace(/["[\]]/g,"").split(",");for(let H=0;H<D.length;H+=1)Br(E.indexOf(D[H])<0,"Road use ("+E+") is expected, but "+h+"  ["+typeof h+"] given");return h}]},streetNumber:{validators:[Ar]},returnMatchType:{validators:[tn]},mapcodes:{validators:[ae]},dateTime:{validators:[function(h){return Pn(h,"dateTime")}]}},gA={type:{defaultValue:qi,visible:!1,application:Kr},limit:{validators:[ue]}};function MA(h){if(h===Jo)return Object.assign({},dA,Ua);if(h===qi)return Object.assign({},dA,gA);throw new Error("Unsupported geocode type: "+h)}function Oa(h,E){const D=vi.prototype.constructor;function H(me,ke){D.call(this,me,ke),this.fields=MA(Jo)}return(H.prototype=new D).constructor=H,new H(h,E).construct("reverseGeocode")}function Mo(h){return h&&(Array.isArray(h.results)&&h.results.forEach(E=>{Array.isArray(E)?E.forEach(D=>{Et(D)}):Et(E)}),Et(h),Object.assign(h,{toGeoJson:()=>Dr(h)}))}function jA(h){return h.batchItems instanceof Array?(h.batchItems=h.batchItems.map(E=>E.response.error?{error:E.response.error}:Mo(E.response)),h):null}const Co={extendedPostalCodesFor:{validators:[Ar]},type:{defaultValue:"geocode",application:Kr},key:{validators:[Ar]},trackingId:{validators:[Rr],application:rn,defaultValue:Fn.v4},query:{validators:[Ar],required:!0,application:Kr},typeahead:{validators:[tn]},limit:{validators:[si]},view:{validators:[ze(["AR","IL","MA","IN","PK","Unified","RU","TR","CN"],"view")]},offset:{validators:[zr],name:"ofs"},language:{validators:[G]},boundingBox:{validators:[Vn],converters:[bt],cast:(h,E)=>{E.topLeft="".concat(h.maxLat,",").concat(h.minLon),E.btmRight="".concat(h.minLat,",").concat(h.maxLon)}},center:{converters:[Kt],validators:[Ce],cast:(h,E)=>{const D=h.split(",");E.lat=D[0],E.lon=D[1]}},countrySet:{validators:[Y]},radius:{validators:[zr]},bestResult:{validators:[tn],cast:(h,E)=>{h&&(E.limit=1,E.ofs=0)}},protocol:{validators:[ze(["http","https"],"protocol")]},timeZone:{validators:[ze(["iana"],"timeZone parameter")]},entityTypeSet:{converters:[mn,io],validators:[lt]}};function RA(h,E){const D=new In(E),H=Qn(D.resolve("geocodeEndpoint")),me=di(100,{single:D.resolve("batchSearchQueryEndpoint"),batchSync:D.resolve("batchSyncSearchEndpoint"),batch:D.resolve("batchSearchEndpoint")});return ln(Co,L,"geocode",function(ke,Re){return H(Co,ke,Re).then(gt=>{let{data:rr,trackingId:Cr}=gt;return mr({data:ke.bestResult?rr.results[0]:rr,trackingId:Cr},Mo)})},function(ke,Re){return me(Co,ke,Re).then(gt=>mr(gt,jA))})(h,E)}function ea(h,E){const D=vi.prototype.constructor;function H(me,ke){D.call(this,me,ke),this.fields=MA(qi)}return(H.prototype=new D).constructor=H,new H(h,E).construct("crossStreetLookup")}const Pi={key:{validators:[Ar]},trackingId:{validators:[Rr],application:rn,defaultValue:Fn.v4},countryCode:{validators:[function cn(h){if(!At()(h)||3!==h.length&&2!==h.length)throw new TypeError("a 2 or 3-characters long country name is expected, but "+h+" ["+typeof h+"] given");return h}],required:!0},limit:{validators:[ue]},view:{validators:[ze(["AR","IL","MA","IN","PK","Unified","RU","TR","CN"],"view")]},offset:{validator:[zr],name:"ofs"},language:{validators:[G]},streetNumber:{validators:[Ar]},streetName:{validators:[Ar]},crossStreet:{validators:[Ar]},municipality:{validators:[Ar]},municipalitySubdivision:{validators:[Ar]},countryTertiarySubdivision:{validators:[Ar]},countrySecondarySubdivision:{validators:[Ar]},countrySubdivision:{validators:[Ar]},postalCode:{validators:[Ar]},protocol:{validators:[ze(["http","https"],"protocol")]},bestResult:{validators:[tn]},timeZone:{validators:[ze(["iana"],"timeZone parameter")]},extendedPostalCodesFor:{validators:[Ar]},entityTypeSet:{converters:[mn,io],validators:[lt]}};function zA(h){(function(D){const H=Boolean(D.bestResult);return delete D.bestResult,H})(h)&&(h.limit=1,h.offset=0)}function mA(h,E){const D=new In(E),H=di(100,{single:D.resolve("batchStructuredGeocodeQueryEndpoint"),batch:D.resolve("batchSearchEndpoint"),batchSync:D.resolve("batchSyncSearchEndpoint")}),me=Qn(D.resolve("structuredGeocodeEndpoint"));return ln(Pi,L,"structuredGeocode",function(ke,Re){const gt=Boolean(ke.bestResult);return zA(ke),me(Pi,ke,Re).then(rr=>{let{data:Cr,trackingId:Hn}=rr;return mr({data:gt?Cr.results[0]:Cr,trackingId:Hn},Mo)})},function(ke,Re){return ke.batchItems.forEach(zA),H(Pi,ke,Re).then(gt=>mr(gt,jA))})(h,E)}const GA={key:{validators:[Nt]},trackingId:{validators:[Rr],application:rn,defaultValue:Fn.v4},routeType:{validators:[ze(["fastest","shortest","eco","thrilling"],"route type")]},traffic:{validators:[tn]},avoid:{validators:[mt(["tollRoads","motorways","ferries","unpavedRoads","carpools","alreadyUsedRoads"],"avoid")],converters:[Xr]},departAt:{validators:[function(h){if("now"===h||Rt(h)&&Date.now()<Date.parse(h))return h;throw new TypeError("Supported departAt is now or rfc3339 format and no earlier than now(), but "+h+" ["+typeof h+"] given")}],converters:[xr]},arriveAt:{validators:[function(h){if(Rt(h)&&Date.now()<Date.parse(h))return h;throw new TypeError("Supported arriveAt is rfc3339 format, but and no earlier than now() "+h+" ["+typeof h+"] given")}],converters:[xr]},travelMode:{validators:[ze(["car","truck","taxi","bus","van","motorcycle","bicycle","pedestrian"],"travel mode")]},hilliness:{validators:[ze(["low","normal","high"],"hilliness")]},windingness:{validators:[ze(["low","normal","high"],"windingness")]},report:{validators:[ze(["effectiveSettings"],"report")]},vehicleEngineType:{validators:[ze(["combustion","electric"],"vehicle engine type")]},vehicleMaxSpeed:{validators:[zr]},vehicleWeight:{validators:[zr,function(h,E){if(((D=E).accelerationEfficiency||D.decelerationEfficiency||D.uphillEfficiency||D.downhillEfficiency)&&void 0===h)throw new Error("vehicleWeight parameter must be set if any efficiency parameters is present");var D}]},vehicleAxleWeight:{validators:[zr]},vehicleLength:{validators:[pn(0,Number.MAX_VALUE)]},vehicleWidth:{validators:[pn(0,Number.MAX_VALUE)]},vehicleHeight:{validators:[pn(0,Number.MAX_VALUE)]},vehicleCommercial:{validators:[tn]},vehicleLoadType:{validators:[mt(["USHazmatClass1","USHazmatClass2","USHazmatClass3","USHazmatClass4","USHazmatClass5","USHazmatClass6","USHazmatClass7","USHazmatClass8","USHazmatClass9","otherHazmatExplosive","otherHazmatGeneral","otherHazmatHarmfulToWater"],"vehicle load type")],converters:[Xr]},constantSpeedConsumptionInLitersPerHundredkm:{validators:[Fi("combustion")],converters:[Oi]},currentFuelInLiters:{validators:[ci("combustion","currentFuelInLiters")]},auxiliaryPowerInLitersPerHour:{validators:[ci("combustion","auxiliaryPowerInLitersPerHour")]},fuelEnergyDensityInMJoulesPerLiter:{validators:[function(h,E){h&&(Ho(E),Rn(h),Da(E),Ct(E,"combustion"),function(D,H){if(!(Se(D.accelerationEfficiency)&&Se(D.decelerationEfficiency)&&Se(D.uphillEfficiency)&&Se(D.downhillEfficiency)))throw new Error("Efficiency parameters are required when using fuelEnergyDensityInMJoulesPerLiter")}(E))}]},accelerationEfficiency:{validators:[da("accelerationEfficiency","decelerationEfficiency")]},decelerationEfficiency:{validators:[da("decelerationEfficiency","accelerationEfficiency")]},uphillEfficiency:{validators:[da("uphillEfficiency","downhillEfficiency")]},downhillEfficiency:{validators:[da("downhillEfficiency","uphillEfficiency")]},constantSpeedConsumptionInkWhPerHundredkm:{validators:[Fi("electric")],converters:[Oi]},currentChargeInkWh:{validators:[ga("currentChargeInkWh","maxChargeInkWh")]},maxChargeInkWh:{validators:[ga("maxChargeInkWh","currentChargeInkWh")]},auxiliaryPowerInkW:{validators:[ci("electric","auxiliaryPowerInkW")]},protocol:{validators:[ze(["http","https"],"protocol")]},avoidAreas:{converters:[function(h){if(!Array.isArray(h))throw new TypeError("An array is required");return{rectangles:h.map(E=>({southWestCorner:at(ie(E.southWestCorner)),northEastCorner:at(ie(E.northEastCorner))}))}}],application:wr},avoidVignette:{validators:[we.bind(void 0,!1),uA("avoidVignette","allowVignette")],converters:[Xr],application:wr},allowVignette:{validators:[we.bind(void 0,!0),uA("allowVignette","avoidVignette")],converters:[Xr],application:wr},recuperationInkWhPerkmAltitudeLoss:{validators:[xo("recuperationInkWhPerkmAltitudeLoss","consumptionInkWhPerkmAltitudeGain"),Ta]},consumptionInkWhPerkmAltitudeGain:{validators:[xo("consumptionInkWhPerkmAltitudeGain","recuperationInkWhPerkmAltitudeLoss"),Ta]},vehicleAdrTunnelRestrictionCode:{validators:[ze(["B","C","D","E"],"vehicleAdrTunnelRestrictionCode")]}};let La={__all:{validators:[function(h,E){const D=["fuelBudgetInLiters"in E,"energyBudgetInkWh"in E,"timeBudgetInSec"in E,"distanceBudgetInMeters"in E].filter(H=>H).length;if(0===D||D>1)throw new Error("Exactly one of fuelBudgetInLiters, energyBudgetInkWh, timeBudgetInSec and distanceBudgetInMeters must be set.")},function(h,E){const D="alreadyUsedRoads";if("avoid"in E&&E.avoid.indexOf(D)>-1)throw new Error(D+" is not allowed value for avoid parameter in Calculate Reachable Route request.");if("travelMode"in E&&["bicycle","pedestrian"].indexOf(E.travelMode)>-1)throw new Error(E.travelMode+" is not allowed value for travelMode parameter in Calculate Reachable Route request.");if("arriveAt"in E)throw new Error("arriveAt parameter is not allowed in Calculate Reachable Route request.")}]},origin:{validators:[Ce],converters:[Kt],application:Kr},fuelBudgetInLiters:{validators:[wo,xi]},energyBudgetInkWh:{validators:[wo,xi]},distanceBudgetInMeters:{validators:[pn(0,Number.MAX_VALUE)]},timeBudgetInSec:{validators:[pn(0,Number.MAX_VALUE)]}};La=We(La,GA);const n=new Gt;var a=h=>(h.reachableRange&&h.reachableRange.boundary&&Array.isArray(h.reachableRange.boundary)&&(h.reachableRange.boundary=n.convert(h.reachableRange.boundary),h.reachableRange.center=n.convert(h.reachableRange.center)),Object.assign(h,{toGeoJson:()=>({type:"Feature",geometry:{type:"Polygon",coordinates:[h.reachableRange.boundary.map(D=>[D.lng,D.lat])]}})})),o=h=>Array.isArray(h.batchItems)?(h.batchItems=h.batchItems.map(E=>E.response.error?{error:E.response.error}:a(E.response)),h):null;const c=(h=>{const E=De(La);return h instanceof Array&&h.forEach(function(D){delete E[D]}),E})();function p(h,E){const D=new In(E),H=Qn(D.resolve("calculateReachableRangeEndpoint")),me=di(100,{batchSync:D.resolve("batchSyncRoutingEndpoint"),batch:D.resolve("batchRoutingEndpoint"),single:D.resolve("batchReachableRangeQueryEndpoint")});return ln(c,T,"calculateReachableRange",(ke,Re)=>H(c,ke,Re).then(gt=>mr(gt,a)),(ke,Re)=>me(c,ke,Re).then(gt=>mr(gt,o)))(h,E)}function y(h){const E=[];for(let D=0;D<h.length;D+=1)E.push([h[D].lng,h[D].lat]);return E}function _(h){const E=h.legs.length>1,D={type:"Feature",properties:{summary:(H=h).summary,sections:H.sections,segmentSummary:[]}};var H;for(let H=0;H<h.legs.length;H+=1)D.properties.segmentSummary.push(h.legs[H].summary),h.legs[H].points&&(D.geometry=D.geometry||{coordinates:[]},E?(D.geometry.type="MultiLineString",D.geometry.coordinates.push(y(h.legs[H].points))):(D.geometry.type="LineString",D.geometry.coordinates=y(h.legs[H].points)));return h.guidance&&(D.properties.guidance=h.guidance),D}const Q=new Gt,O=(h,E,D)=>{D&&(h[E]=D)};function X(h){const E=h.routes;return E&&E.length&&E.forEach(D=>{D.legs.forEach(H=>{H.points=Q.convert(H.points)})}),Object.assign(h,{toGeoJson:()=>(D=>{const H={type:"FeatureCollection",features:[]};if(!D||!D.routes)return H;for(let me=0;me<D.routes.length;me+=1)H.features.push(_(D.routes[me]));return H})(h),toRouteSectionsCollection:()=>(D=>{const H=[];return D&&D.routes&&D.routes.forEach(me=>{const ke=[];for(let gt=0;gt<me.legs.length;gt+=1)ke.push(...me.legs[gt].points);const Re={type:"FeatureCollection",features:[]};me.sections.forEach(gt=>{let rr=ke.slice(gt.startPointIndex,gt.endPointIndex+1);rr=rr.map(Hn=>[Hn.lng,Hn.lat]);const Cr={type:"Feature",geometry:{type:"LineString"},properties:{}};Cr.geometry.coordinates=rr,O(Cr.properties,"sectionType",gt.sectionType),O(Cr.properties,"travelMode",gt.travelMode),O(Cr.properties,"countryCode",gt.countryCode),O(Cr.properties,"simpleCategory",gt.simpleCategory),O(Cr.properties,"effectiveSpeedInKmh",gt.effectiveSpeedInKmh),O(Cr.properties,"delayInSeconds",gt.delayInSeconds),O(Cr.properties,"magnitudeOfDelay",gt.delayInSeconds),O(Cr.properties,"tec",gt.tec),Re.features.push(Cr)}),H.push(Re)}),H})(h)})}function J(h){return Array.isArray(h.batchItems)?(h.batchItems=h.batchItems.map(E=>E.response.error?{error:E.response.error}:X(E.response)),h):null}let $={alternativeType:{validators:[ze(["anyRoute","betterRoute"],"alternativeType")]},locations:{validators:[function(h){const E=tt,D=dt;h.constructor.toString().indexOf("Array")>-1&&(h=h.join(":"));const H=new RegExp("^"+E.source+":(?:(?:"+E.source+"|"+D.source+"):)*"+E.source+"$");if(!h.match(H))throw new TypeError("Routing location is expected. But "+h+" ["+typeof h+"] given");return h}],converters:[function(h){const E=[];if(At()(h))return h.split(":").map(D=>D.split(",").reverse().join(",")).join(":");if(Array.isArray(h)){Zr(h.length<2,"Unable to cast "+h+" ["+typeof h+"] to routing locations string"),E.push(ie(h[0]));for(let D=1;D<h.length-1;D+=1)E.push(Te(h[D]));return E.push(ie(h[h.length-1])),E.join(":")}throw new TypeError("Unable to cast "+h+" ["+typeof h+"] to routing locations string")}],required:!0,application:Kr},maxAlternatives:{validators:[pn(0,5)]},instructionsType:{validators:[ze(["coded","text","tagged"],"instructions type")]},language:{validators:[function(h){const E=Object.keys(fr);return Ve(h,E,"Supported routing guidance language is expected to be one of: "+E+"), but "+h+" ["+typeof h+"] given")}],converters:[function(h){return V(h,fr)}]},computeBestOrder:{validators:[tn]},routeRepresentation:{validators:[ze(["polyline","none"],"route representation")]},computeTravelTimeFor:{validators:[ze(["none","all"],"compute travel time for")]},vehicleHeading:{validators:[En(0,359)]},minDeviationDistance:{validators:[zr,uA("minDeviationDistance","arriveAt"),xo("minDeviationDistance","supportingPoints")]},minDeviationTime:{validators:[zr,uA("minDeviationTime","arriveAt"),xo("minDeviationTime","supportingPoints")]},supportingPoints:{validators:[function(h){if(!Array.isArray(h))throw new TypeError("Expecting array in supporting points validator");if(!h.length||h.length<2)throw new TypeError("There should be at least two supporting points");return h}],converters:[function(h){const E=[];if(At()(h)&&(h=h.split(":")),Array.isArray(h))for(let D=0;D<h.length;D++)E.push(ie(h[D]));else E.push(ie(h));return E.map(at)}],application:wr},sectionType:{validators:[mt(["carTrain","country","ferry","motorway","pedestrian","tollRoad","tollVignette","travelMode","tunnel","traffic","carpool","urban","unpaved"],"sectionType")],converters:[Xr]}};function te(h){$=We($,GA);const E=De($);return h instanceof Array&&h.forEach(function(D){delete E[D]}),E}function le(h,E){const D=te(),H=new In(E),me=Qn(H.resolve("routingEndpoint")),ke=di(100,{batchSync:H.resolve("batchSyncRoutingEndpoint"),batch:H.resolve("batchRoutingEndpoint"),single:H.resolve("batchRoutingQueryEndpoint")});return ln(D,T,"calculateRoute",function(Re,gt){return me(D,Re,gt).then(rr=>mr(rr,X))},function(Re,gt){return ke(D,Re,gt).then(rr=>mr(rr,J))})(h,E)}const se=["arriveAt","travelMode","computeTravelTimeFor","alternativeType","maxAlternatives","instructionsType","language","computeBestOrder","routeRepresentation","supportingPoints","minDeviationDistance","minDeviationTime","constantSpeedConsumptionInLitersPerHundredkm","currentFuelInLiters","fuelEnergyDensityInMJoulesPerLiter","hilliness","windingness","routeType","vehicleEngineType","currentChargeInkWh","maxChargeInkWh","constantSpeedConsumptionInkWhPerHundredkm"],be={auxiliaryPowerInkW:{validators:[ci("electric","auxiliaryPowerInkW")]},constantSpeedConsumptionInkWhPerHundredkm:{validators:[Fi("electric")],converters:[Oi],required:!0},currentChargeInkWh:{validators:[ga("currentChargeInkWh","maxChargeInkWh")],required:!0},maxChargeInkWh:{validators:[ga("maxChargeInkWh","currentChargeInkWh")],required:!0},vehicleEngineType:{validators:[ze(["electric"],"vehicleEngineType")],required:!0},chargingModes:{validators:[function(h){if(h.length>10)throw new Error("Given chargingModes array contains more than 10 elements.");return h.forEach(E=>{jr(E)}),h}],required:!0,application:wr},minChargeAtDestinationInkWh:{validators:[pn(0,Number.MAX_VALUE)],required:!0},minChargeAtChargingStopsInkWh:{validators:[pn(0,Number.MAX_VALUE)],required:!0},recuperationInkWhPerkmAltitudeLoss:{validators:[xo("recuperationInkWhPerkmAltitudeLoss","consumptionInkWhPerkmAltitudeGain"),Ta]},consumptionInkWhPerkmAltitudeGain:{validators:[xo("consumptionInkWhPerkmAltitudeGain","recuperationInkWhPerkmAltitudeLoss"),Ta]},vehicleAdrTunnelRestrictionCode:{validators:[ze(["B","C","D","E"],"vehicleAdrTunnelRestrictionCode")]},travelMode:{validators:[ze(["car"],"travel mode")]}};function oe(h,E){const D=We(te(se),be),H=new In(E),me=Qn(H.resolve("longDistanceEVRoutingEndpoint"));return ln(D,T,"longDistanceEVRouting",(ke,Re)=>me(D,ke,Re).then(gt=>mr(gt,X)))(h,E)}function _e(h){return h.error?{error:h.error}:h.matrix?h:null}const Qe=["locations","maxAlternatives","instructionsType","language","computeBestOrder","routeRepresentation","vehicleHeading","report","callback","minDeviationTime","minDeviationDistance","alternativeType","sectionType","supportingPoints","allowVignette","avoidAreas","batchMode","consumptionInkWhPerkmAltitudeGain","recuperationInkWhPerkmAltitudeLoss"],Me={validators:[(h={point:{validators:[(et={latitude:{validators:[function(h){return Lr(h)}],required:!0},longitude:{validators:[function(h){return Mr(h)}],required:!0}},h=>($r(et,h),h))]}},E=>(E.forEach(D=>$r(h,D)),E))],converters:[function(h){return E=>(E.forEach(D=>{for(const H in D)Object.prototype.hasOwnProperty.call(D,H)&&Object.prototype.hasOwnProperty.call(h,H)&&Array.isArray(h[H].converters)&&h[H].converters.forEach(me=>{Xe()(me)&&(D[H]=me(D[H]))})}),E)}({point:{converters:[function(h){return E=>{for(const D in E)Object.prototype.hasOwnProperty.call(E,D)&&Object.prototype.hasOwnProperty.call(h,D)&&Xe()(h[D].converter)&&(E[D]=h[D].converter(E[D]));return E}}({latitude:{converters:[function(h){return qo(h)}],required:!0},longitude:{converters:[function(h){return no(h)}],required:!0}})]}})],required:!0,application:wr};var h,et;function Ze(h,E){const D=function(ke){const Re=te(Qe);Re.origins=Me,Re.destinations=Me,Re.batchMode={application:Sn},Re.waitTimeSeconds={application:jo,validators:[pt]};const gt=De(Re);return undefined instanceof Array&&undefined.forEach(function(rr){delete gt[rr]}),gt}(),H=new In(E),me=(100,Re={sync:H.resolve("matrixSyncRoutingEndpoint"),async:H.resolve("matrixRoutingEndpoint")},(gt,rr,Cr)=>{const Hn=wi(gt,rr),Ao=function lA(h){const E={origins:h.origins,destinations:h.destinations},D=function(H){const me=Object.keys(H).filter(ke=>-1===cA.indexOf(ke));return me.length?me.reduce((ke,Re)=>(ke[Re]=H[Re],ke),{}):null}(h);return D&&(E.options={post:D}),E}(Hn.postParams);return ro({batchMode:rr.batchMode||(Ao.origins.length*Ao.destinations.length<=100?"sync":"redirect"),headers:Hn.headerParams,waitTimeSeconds:rr.waitTimeSeconds,queryParams:Hn.queryParams,bodyParams:Ao,endpoints:{sync:Re.sync,async:Re.async},abortSignal:Cr})});var Re;return ln(D,T,"matrixRouting",(ke,Re)=>me(D,ke,Re).then(gt=>mr(gt,_e)))(h,E)}const it={key:{validators:[Nt]},trackingId:{validators:[Rr],application:rn,defaultValue:Fn.v4},protocol:{validators:[ze(["http","https"],"protocol")]},sessionId:{validators:[Ar]}};function ft(h,E){const D=new In(E),H=Qn(D.resolve("incidentViewportEndpoint"));return ln(it,N,"incidentViewport",function(me,ke){return H(it,me,ke).then(mr)})(h,E)}function Bt(h,E){var D=Object.keys(h);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(h);E&&(H=H.filter(function(me){return Object.getOwnPropertyDescriptor(h,me).enumerable})),D.push.apply(D,H)}return D}function wt(h){for(var E=1;E<arguments.length;E++){var D=null!=arguments[E]?arguments[E]:{};E%2?Bt(Object(D),!0).forEach(function(H){Pt(h,H,D[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(D)):Bt(Object(D)).forEach(function(H){Object.defineProperty(h,H,Object.getOwnPropertyDescriptor(D,H))})}return h}function Pt(h,E,D){return E in h?Object.defineProperty(h,E,{value:D,enumerable:!0,configurable:!0,writable:!0}):h[E]=D,h}function qt(h){const E=h.flowSegmentData.coordinates.coordinate.map(D=>({lat:D.latitude,lng:D.longitude}));return Object.assign(h,{flowSegmentData:wt(wt({},h.flowSegmentData),{},{coordinates:{coordinate:E}})})}const Jt={key:{validators:[Ar]},trackingId:{validators:[Rr],application:rn,defaultValue:Fn.v4},zoom:{validators:[function(h){return en(0,22,"zoom level <0, 22> is expected")(h)}],required:!0,application:Kr},style:{validators:[ze(["absolute","relative","relative-delay","relative0","relative0-dark","reduced-sensitivity"],"traffic flow style")],required:!0,application:Kr},point:{converters:[Kt],validators:[Ce],required:!0},unit:{validators:[ze(["KMPH","MPH"])]},thickness:{validators:[pn(1,20)]},openLr:{validators:[tn]}};function $t(h,E){const D=new In(E),H=Qn(D.resolve("flowSegmentDataEndpoint"));return ln(Jt,M,"trafficFlowSegmentData",(me,ke)=>H(Jt,me,ke).then(Re=>mr(Re,qt)))(h,E)}const Ur={key:{validators:[Nt]},trackingId:{validators:[Rr],application:rn,defaultValue:Fn.v4},boundingBox:{required:!0,validators:[Vn],converters:[bt],cast:(h,E)=>{E.bbox="".concat(h.minLon,",").concat(h.minLat,",").concat(h.maxLon,",").concat(h.maxLat)}},fields:{validators:[Ar,function(h){const E=Ke(Wt),D=Ke(h),H=(me,ke)=>{Object.keys(me).forEach(function(Re){if(!ke.hasOwnProperty(Re)||typeof me[Re]!=typeof ke[Re])throw new TypeError("Property ".concat(Re," not matches available fields: ")+Wt);"object"==typeof me[Re]&&H(me[Re],ke[Re])})};return H(D,E),h}],converters:[function(h){if("string"==typeof h)return h.replace(/\s/g,"");throw new TypeError("A string is required")}]},t:{validators:[Ar]},language:{validators:[G],converters:[function(h){return V(h,Fr)}]}};function Lt(h,E){const D=new In(E),H=Qn(D.resolve("incidentDetailsV5Endpoint"));return ln(Ur,N,"incidentDetailsV5",function(me,ke){return H(Ur,me,ke).then(mr)})(h,E)}const pr={basic:["jpg","jpeg","png"],hybrid:["png"],labels:["png"]},_r={layer:{validators:[ze(["basic","hybrid","labels"],"layers")],defaultValue:"basic"},style:{validators:[ze(["main","night"],"styles")],defaultValue:"main"},format:{validators:[ze(["png","jpg","jpeg"],"formats")],defaultValue:"png"},key:{validators:[Nt]},zoom:{validators:[En(0,23)],converters:[function(h){return Math.round(Number(h))}]},center:{converters:[Kt],validators:[Ce]},width:{validators:[En(1,8192)]},height:{validators:[En(1,8192)]},bbox:{validators:[Vn],converters:[bt]},view:{validators:[ze(["Unified","IL","IN","MA","PK","AR","Arabic","TR","RU","CN"],"view")]},language:{validators:[function(h){return Ve(h,rt,"Supported maps language is expected to be one of: "+rt+"), but "+h+" ["+typeof h+"] given")}]}};function ur(h,E){const D=new In(E);return ln(_r,I,"staticImage",function(H){return function(me){if(!pr[me.layer]||-1===pr[me.layer].indexOf(me.format))throw new Error("Unsupported layer. Please change to PNG or use basic layer.");if(me.bbox&&me.center)throw new Error("The bbox and center properties cannot be used together");if(!me.bbox&&!me.center)throw new Error("Either bbox or center property must be provided");if(me.bbox&&(Be(me.width)||Be(me.height)))throw new Error("The bbox, width and height properties cannot be used together")}(H),function hr(h,E){return h+"?"+Object.keys(_r).reduce(function(D,H){let me=E[H];return void 0!==me&&(me=function(ke,Re){if("bbox"===ke)Re=(gt=Re).minLon+","+gt.minLat+","+gt.maxLon+","+gt.maxLat;else{if("zoom"===ke)return String(parseInt(Re,10));if("center"===ke){const rr=Re.split(","),Cr=[parseFloat(rr[1]),parseFloat(rr[0])];return Cr[0]+","+Cr[1]}}var gt;return Re}(H,me),D.push(H+"="+encodeURI(me))),D},[]).join("&")}(D.resolve("staticMapImageEndpoint"),H)})(h,E)}const yr={key:{validators:[Ar]},trackingId:{validators:[Rr],application:rn,defaultValue:Fn.v4}};function lr(h,E){const D=new In(E),H=Qn(D.resolve("copyrightsV2Endpoint"));return ln(yr,I,"copyrights",function(me,ke){return me.contentType="text",H(yr,me,ke).then(mr)})(h,E)}const or={key:{validators:[Nt]},trackingId:{validators:[Rr],application:rn,defaultValue:Fn.v4}};function qn(h,E){const D=new In(E),H=Qn(D.resolve("captionV2Endpoint"));return ln(or,I,"copyrightsCaptionV2",function(me,ke){return H(or,me,ke).then(mr)})(h,E)}function _n(h,E){var D=Object.keys(h);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(h);E&&(H=H.filter(function(me){return Object.getOwnPropertyDescriptor(h,me).enumerable})),D.push.apply(D,H)}return D}function Gn(h){for(var E=1;E<arguments.length;E++){var D=null!=arguments[E]?arguments[E]:{};E%2?_n(Object(D),!0).forEach(function(H){Jn(h,H,D[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(D)):_n(Object(D)).forEach(function(H){Object.defineProperty(h,H,Object.getOwnPropertyDescriptor(D,H))})}return h}function Jn(h,E,D){return E in h?Object.defineProperty(h,E,{value:D,enumerable:!0,configurable:!0,writable:!0}):h[E]=D,h}var bn={sdkInfo:{version:v()["sdk.version"]},setProductInfo:(h,E)=>{if(!h)throw new Error("ProductId needs to be set");const D=E||0===E?"/"+E:"";F().productInfo=h+D},services:Gn(Gn(Gn(Gn(Gn({},x),s),d),w),{},{_endpoints:m})}}(),vn.default}()},7371:(CA,Zi,nr)=>{"use strict";nr.d(Zi,{$L:()=>Fr,LD:()=>kt,gD:()=>Nt});var he=nr(5895),vn=nr(4666),m=nr(2560),x=nr(207),s=nr(5074),d=nr(8397),w=nr(4218),i=nr(2867),v=nr(8971),g=nr(1755),C=nr(8456),F=nr(2508),P=nr(253),B=nr(1954),S=nr(6646),I=nr(4874),T=nr(2673),L=nr(9295),M=nr(116),N=nr(635),pe=nr(8977),ve=nr(8951),Fe=nr(4851);
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const Be=["trigger"],Se=["panel"];function Ee(ze,_t){if(1&ze&&(m.TgZ(0,"span",10),m._uU(1),m.qZA()),2&ze){const fe=m.oxw();m.xp6(1),m.Oqu(fe.placeholder)}}function Ue(ze,_t){if(1&ze&&(m.TgZ(0,"span",14),m._uU(1),m.qZA()),2&ze){const fe=m.oxw(2);m.xp6(1),m.Oqu(fe.triggerValue)}}function We(ze,_t){1&ze&&m.Hsn(0,0,["*ngSwitchCase","true"])}function Ve(ze,_t){if(1&ze&&(m.TgZ(0,"span",11),m.YNc(1,Ue,2,1,"span",12),m.YNc(2,We,1,0,"ng-content",13),m.qZA()),2&ze){const fe=m.oxw();m.Q6J("ngSwitch",!!fe.customTrigger),m.xp6(2),m.Q6J("ngSwitchCase",!0)}}function Ke(ze,_t){if(1&ze){const fe=m.EpF();m.O4$(),m.kcU(),m.TgZ(0,"div",15,16),m.NdJ("@transformPanel.done",function(rt){m.CHM(fe);const Dt=m.oxw();return m.KtG(Dt._panelDoneAnimatingStream.next(rt.toState))})("keydown",function(rt){m.CHM(fe);const Dt=m.oxw();return m.KtG(Dt._handleKeydown(rt))}),m.Hsn(2,1),m.qZA()}if(2&ze){const fe=m.oxw();m.Gre("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",fe._getPanelTheme(),""),m.Q6J("ngClass",fe.panelClass)("@transformPanel","showing"),m.uIk("id",fe.id+"-panel")("aria-multiselectable",fe.multiple)("aria-label",fe.ariaLabel||null)("aria-labelledby",fe._getPanelAriaLabelledby())}}const De=[[["mat-select-trigger"]],"*"],tt=["mat-select-trigger","*"],dt={transformPanelWrap:(0,Fe.X$)("transformPanelWrap",[(0,Fe.eR)("* => void",(0,Fe.IO)("@transformPanel",[(0,Fe.pV)()],{optional:!0}))]),transformPanel:(0,Fe.X$)("transformPanel",[(0,Fe.SB)("void",(0,Fe.oB)({opacity:0,transform:"scale(1, 0.8)"})),(0,Fe.eR)("void => showing",(0,Fe.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,Fe.oB)({opacity:1,transform:"scale(1, 1)"}))),(0,Fe.eR)("* => void",(0,Fe.jt)("100ms linear",(0,Fe.oB)({opacity:0})))])};
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
let jt=0;const At=new m.OlP("mat-select-scroll-strategy"),Oe=new m.OlP("MAT_SELECT_CONFIG"),ct={provide:At,deps:[he.aV],useFactory:function tr(ze){return()=>ze.scrollStrategies.reposition()}},vt=new m.OlP("MatSelectTrigger");class je{constructor(_t,fe){this.source=_t,this.value=fe}}const fr=(0,x.Kr)((0,x.sb)((0,x.Id)((0,x.FD)(class{constructor(ze,_t,fe,ye,rt){this._elementRef=ze,this._defaultErrorStateMatcher=_t,this._parentForm=fe,this._parentFormGroup=ye,this.ngControl=rt,this.stateChanges=new P.x}}))));let dr=(()=>{class ze extends fr{get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(fe){this._placeholder=fe,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(F.kI.required)??!1}set required(fe){this._required=(0,v.Ig)(fe),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(fe){this._multiple=(0,v.Ig)(fe)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(fe){this._disableOptionCentering=(0,v.Ig)(fe)}get compareWith(){return this._compareWith}set compareWith(fe){this._compareWith=fe,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(fe){this._assignValue(fe)&&this._onChange(fe)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(fe){this._typeaheadDebounceInterval=(0,v.su)(fe)}get id(){return this._id}set id(fe){this._id=fe||this._uid,this.stateChanges.next()}constructor(fe,ye,rt,Dt,Wt,Rt,Ht,kr,Br,Mr,jr,vr,Qt,It){super(Wt,Dt,Ht,kr,Mr),this._viewportRuler=fe,this._changeDetectorRef=ye,this._ngZone=rt,this._dir=Rt,this._parentFormField=Br,this._liveAnnouncer=Qt,this._defaultOptions=It,this._panelOpen=!1,this._compareWith=(ar,ir)=>ar===ir,this._uid="mat-select-"+jt++,this._triggerAriaLabelledBy=null,this._destroy=new P.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+jt++,this._panelDoneAnimatingStream=new P.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=(0,B.P)(()=>{const ar=this.options;return ar?ar.changes.pipe((0,I.O)(ar),(0,T.w)(()=>(0,S.T)(...ar.map(ir=>ir.onSelectionChange)))):this._ngZone.onStable.pipe((0,L.q)(1),(0,T.w)(()=>this.optionSelectionChanges))}),this.openedChange=new m.vpe,this._openedStream=this.openedChange.pipe((0,M.h)(ar=>ar),(0,N.U)(()=>{})),this._closedStream=this.openedChange.pipe((0,M.h)(ar=>!ar),(0,N.U)(()=>{})),this.selectionChange=new m.vpe,this.valueChange=new m.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=It?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=It.typeaheadDebounceInterval),this._scrollStrategyFactory=vr,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(jr)||0,this.id=this.id}ngOnInit(){this._selectionModel=new g.Ov(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,pe.x)(),(0,ve.R)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe((0,ve.R)(this._destroy)).subscribe(fe=>{fe.added.forEach(ye=>ye.select()),fe.removed.forEach(ye=>ye.deselect())}),this.options.changes.pipe((0,I.O)(null),(0,ve.R)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const fe=this._getTriggerAriaLabelledby(),ye=this.ngControl;if(fe!==this._triggerAriaLabelledBy){const rt=this._elementRef.nativeElement;this._triggerAriaLabelledBy=fe,fe?rt.setAttribute("aria-labelledby",fe):rt.removeAttribute("aria-labelledby")}ye&&(this._previousControl!==ye.control&&(void 0!==this._previousControl&&null!==ye.disabled&&ye.disabled!==this.disabled&&(this.disabled=ye.disabled),this._previousControl=ye.control),this.updateErrorState())}ngOnChanges(fe){(fe.disabled||fe.userAriaDescribedBy)&&this.stateChanges.next(),fe.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(fe){this._assignValue(fe)}registerOnChange(fe){this._onChange=fe}registerOnTouched(fe){this._onTouched=fe}setDisabledState(fe){this.disabled=fe,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const fe=this._selectionModel.selected.map(ye=>ye.viewValue);return this._isRtl()&&fe.reverse(),fe.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(fe){this.disabled||(this.panelOpen?this._handleOpenKeydown(fe):this._handleClosedKeydown(fe))}_handleClosedKeydown(fe){const ye=fe.keyCode,rt=ye===C.JH||ye===C.LH||ye===C.oh||ye===C.SV,Dt=ye===C.K5||ye===C.L_,Wt=this._keyManager;if(!Wt.isTyping()&&Dt&&!(0,C.Vb)(fe)||(this.multiple||fe.altKey)&&rt)fe.preventDefault(),this.open();else if(!this.multiple){const Rt=this.selected;Wt.onKeydown(fe);const Ht=this.selected;Ht&&Rt!==Ht&&this._liveAnnouncer.announce(Ht.viewValue,1e4)}}_handleOpenKeydown(fe){const ye=this._keyManager,rt=fe.keyCode,Dt=rt===C.JH||rt===C.LH,Wt=ye.isTyping();if(Dt&&fe.altKey)fe.preventDefault(),this.close();else if(Wt||rt!==C.K5&&rt!==C.L_||!ye.activeItem||(0,C.Vb)(fe))if(!Wt&&this._multiple&&rt===C.A&&fe.ctrlKey){fe.preventDefault();const Rt=this.options.some(Ht=>!Ht.disabled&&!Ht.selected);this.options.forEach(Ht=>{Ht.disabled||(Rt?Ht.select():Ht.deselect())})}else{const Rt=ye.activeItemIndex;ye.onKeydown(fe),this._multiple&&Dt&&fe.shiftKey&&ye.activeItem&&ye.activeItemIndex!==Rt&&ye.activeItem._selectViaInteraction()}else fe.preventDefault(),ye.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,L.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(fe){if(this.options.forEach(ye=>ye.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&fe)Array.isArray(fe),fe.forEach(ye=>this._selectOptionByValue(ye)),this._sortValues();else{const ye=this._selectOptionByValue(fe);ye?this._keyManager.updateActiveItem(ye):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(fe){const ye=this.options.find(rt=>{if(this._selectionModel.isSelected(rt))return!1;try{return null!=rt.value&&this._compareWith(rt.value,fe)}catch{return!1}});return ye&&this._selectionModel.select(ye),ye}_assignValue(fe){return!!(fe!==this._value||this._multiple&&Array.isArray(fe))&&(this.options&&this._setSelectionByValue(fe),this._value=fe,!0)}_initKeyManager(){this._keyManager=new w.s1(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const fe=(0,S.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,ve.R)(fe)).subscribe(ye=>{this._onSelect(ye.source,ye.isUserInput),ye.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,S.T)(...this.options.map(ye=>ye._stateChanges)).pipe((0,ve.R)(fe)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(fe,ye){const rt=this._selectionModel.isSelected(fe);null!=fe.value||this._multiple?(rt!==fe.selected&&(fe.selected?this._selectionModel.select(fe):this._selectionModel.deselect(fe)),ye&&this._keyManager.setActiveItem(fe),this.multiple&&(this._sortValues(),ye&&this.focus())):(fe.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(fe.value)),rt!==this._selectionModel.isSelected(fe)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const fe=this.options.toArray();this._selectionModel.sort((ye,rt)=>this.sortComparator?this.sortComparator(ye,rt,fe):fe.indexOf(ye)-fe.indexOf(rt)),this.stateChanges.next()}}_propagateChanges(fe){let ye=null;ye=this.multiple?this.selected.map(rt=>rt.value):this.selected?this.selected.value:fe,this._value=ye,this.valueChange.emit(ye),this._onChange(ye),this.selectionChange.emit(this._getChangeEvent(ye)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(fe){this._elementRef.nativeElement.focus(fe)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const fe=this._parentFormField?.getLabelId();return this.ariaLabelledby?(fe?fe+" ":"")+this.ariaLabelledby:fe}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const fe=this._parentFormField?.getLabelId();let ye=(fe?fe+" ":"")+this._valueId;return this.ariaLabelledby&&(ye+=" "+this.ariaLabelledby),ye}_panelDoneAnimating(fe){this.openedChange.emit(fe)}setDescribedByIds(fe){fe.length?this._elementRef.nativeElement.setAttribute("aria-describedby",fe.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return ze.\u0275fac=function(fe){return new(fe||ze)(m.Y36(d.rL),m.Y36(m.sBO),m.Y36(m.R0b),m.Y36(x.rD),m.Y36(m.SBq),m.Y36(i.Is,8),m.Y36(F.F,8),m.Y36(F.sg,8),m.Y36(s.G_,8),m.Y36(F.a5,10),m.$8M("tabindex"),m.Y36(At),m.Y36(w.Kd),m.Y36(Oe,8))},ze.\u0275dir=m.lG2({type:ze,viewQuery:function(fe,ye){if(1&fe&&(m.Gf(Be,5),m.Gf(Se,5),m.Gf(he.pI,5)),2&fe){let rt;m.iGM(rt=m.CRH())&&(ye.trigger=rt.first),m.iGM(rt=m.CRH())&&(ye.panel=rt.first),m.iGM(rt=m.CRH())&&(ye._overlayDir=rt.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[m.qOj,m.TTD]}),ze})(),Fr=(()=>{class ze{}return ze.\u0275fac=function(fe){return new(fe||ze)},ze.\u0275dir=m.lG2({type:ze,selectors:[["mat-select-trigger"]],features:[m._Bn([{provide:vt,useExisting:ze}])]}),ze})(),Nt=(()=>{class ze extends dr{constructor(){super(...arguments),this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe((0,ve.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(),this._changeDetectorRef.detectChanges())})}ngAfterViewInit(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin())}open(){this._overlayWidth=this._getOverlayWidth(),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(fe){const ye=this.options.toArray()[fe];if(ye){const rt=this.panel.nativeElement,Dt=(0,x.CB)(fe,this.options,this.optionGroups),Wt=ye._getHostElement();rt.scrollTop=0===fe&&1===Dt?0:(0,x.jH)(Wt.offsetTop,Wt.offsetHeight,rt.scrollTop,rt.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(fe){return new je(this,fe)}_getOverlayWidth(){return(this._preferredOverlayOrigin instanceof he.xu?this._preferredOverlayOrigin.elementRef:this._preferredOverlayOrigin||this._elementRef).nativeElement.getBoundingClientRect().width}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(fe){this._hideSingleSelectionIndicator=(0,v.Ig)(fe),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const fe of this.options)fe._changeDetectorRef.markForCheck()}}return ze.\u0275fac=function(){let _t;return function(ye){return(_t||(_t=m.n5z(ze)))(ye||ze)}}(),ze.\u0275cmp=m.Xpm({type:ze,selectors:[["mat-select"]],contentQueries:function(fe,ye,rt){if(1&fe&&(m.Suo(rt,vt,5),m.Suo(rt,x.ey,5),m.Suo(rt,x.K7,5)),2&fe){let Dt;m.iGM(Dt=m.CRH())&&(ye.customTrigger=Dt.first),m.iGM(Dt=m.CRH())&&(ye.options=Dt),m.iGM(Dt=m.CRH())&&(ye.optionGroups=Dt)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(fe,ye){1&fe&&m.NdJ("keydown",function(Dt){return ye._handleKeydown(Dt)})("focus",function(){return ye._onFocus()})("blur",function(){return ye._onBlur()}),2&fe&&(m.uIk("id",ye.id)("tabindex",ye.tabIndex)("aria-controls",ye.panelOpen?ye.id+"-panel":null)("aria-expanded",ye.panelOpen)("aria-label",ye.ariaLabel||null)("aria-required",ye.required.toString())("aria-disabled",ye.disabled.toString())("aria-invalid",ye.errorState)("aria-activedescendant",ye._getAriaActiveDescendant()),m.ekj("mat-mdc-select-disabled",ye.disabled)("mat-mdc-select-invalid",ye.errorState)("mat-mdc-select-required",ye.required)("mat-mdc-select-empty",ye.empty)("mat-mdc-select-multiple",ye.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matSelect"],features:[m._Bn([{provide:s.Eo,useExisting:ze},{provide:x.HF,useExisting:ze}]),m.qOj],ngContentSelectors:tt,decls:11,vars:11,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(fe,ye){if(1&fe&&(m.F$t(De),m.TgZ(0,"div",0,1),m.NdJ("click",function(){return ye.toggle()}),m.TgZ(3,"div",2),m.YNc(4,Ee,2,1,"span",3),m.YNc(5,Ve,3,2,"span",4),m.qZA(),m.TgZ(6,"div",5)(7,"div",6),m.O4$(),m.TgZ(8,"svg",7),m._UZ(9,"path",8),m.qZA()()()(),m.YNc(10,Ke,3,9,"ng-template",9),m.NdJ("backdropClick",function(){return ye.close()})("attach",function(){return ye._onAttached()})("detach",function(){return ye.close()})),2&fe){const rt=m.MAs(1);m.uIk("aria-owns",ye.panelOpen?ye.id+"-panel":null),m.xp6(3),m.Q6J("ngSwitch",ye.empty),m.uIk("id",ye._valueId),m.xp6(1),m.Q6J("ngSwitchCase",!0),m.xp6(1),m.Q6J("ngSwitchCase",!1),m.xp6(5),m.Q6J("cdkConnectedOverlayPanelClass",ye._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",ye._scrollStrategy)("cdkConnectedOverlayOrigin",ye._preferredOverlayOrigin||rt)("cdkConnectedOverlayOpen",ye.panelOpen)("cdkConnectedOverlayPositions",ye._positions)("cdkConnectedOverlayWidth",ye._overlayWidth)}},dependencies:[vn.mk,vn.RF,vn.n9,vn.ED,he.pI,he.xu],styles:['.mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;max-width:calc(100vw - 32px);max-width:var(--mdc-menu-max-width, calc(100vw - 32px));max-height:calc(100vh - 32px);max-height:var(--mdc-menu-max-height, calc(100vh - 32px));margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;z-index:8;border-radius:4px;border-radius:var(--mdc-shape-medium, 4px);transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}.mat-mdc-select{display:inline-block;width:100%;outline:none}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}.mdc-menu-surface.mat-mdc-select-panel{width:100%;max-height:275px;position:static;outline:0;margin:0;padding:8px 0;list-style-type:none}.mdc-menu-surface.mat-mdc-select-panel:focus{outline:none}.cdk-high-contrast-active .mdc-menu-surface.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) .mdc-menu-surface.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above .mdc-menu-surface.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[dt.transformPanel]},changeDetection:0}),ze})(),kt=(()=>{class ze{}return ze.\u0275fac=function(fe){return new(fe||ze)},ze.\u0275mod=m.oAB({type:ze}),ze.\u0275inj=m.cJS({providers:[ct],imports:[vn.ez,he.U8,x.Ng,x.BQ,d.ZD,s.lN,x.Ng,x.BQ]}),ze})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */,6896:(CA,Zi,nr)=>{"use strict";nr.d(Zi,{AV:()=>jt,gM:()=>dt});var he=nr(8951),vn=nr(9295),m=nr(8971),x=nr(8456),s=nr(2560),d=nr(4666),w=nr(9107),i=nr(4218),v=nr(2867),g=nr(5895),C=nr(8397),F=nr(7520),P=nr(253),S=(nr(4851),nr(207));
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const I=["tooltip"],M=new s.OlP("mat-tooltip-scroll-strategy"),pe={provide:M,deps:[g.aV],useFactory:function N(At){return()=>At.scrollStrategies.reposition({scrollThrottle:20})}},Fe=new s.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function ve(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),Se="tooltip-panel",Ee=(0,w.i$)({passive:!0});let tt=(()=>{class At{get position(){return this._position}set position(Oe){Oe!==this._position&&(this._position=Oe,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(Oe){this._positionAtOrigin=(0,m.Ig)(Oe),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(Oe){this._disabled=(0,m.Ig)(Oe),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(Oe){this._showDelay=(0,m.su)(Oe)}get hideDelay(){return this._hideDelay}set hideDelay(Oe){this._hideDelay=(0,m.su)(Oe),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(Oe){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=Oe?String(Oe).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(Oe){this._tooltipClass=Oe,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(Oe,ct,vt,je,fr,dr,Fr,Nt,kt,ze,_t,fe){this._overlay=Oe,this._elementRef=ct,this._scrollDispatcher=vt,this._viewContainerRef=je,this._ngZone=fr,this._platform=dr,this._ariaDescriber=Fr,this._focusMonitor=Nt,this._dir=ze,this._defaultOptions=_t,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new P.x,this._scrollStrategy=kt,this._document=fe,_t&&(_t.position&&(this.position=_t.position),_t.positionAtOrigin&&(this.positionAtOrigin=_t.positionAtOrigin),_t.touchGestures&&(this.touchGestures=_t.touchGestures)),ze.change.pipe((0,he.R)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,he.R)(this._destroyed)).subscribe(Oe=>{Oe?"keyboard"===Oe&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const Oe=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([ct,vt])=>{Oe.removeEventListener(ct,vt,Ee)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(Oe,this.message,"tooltip"),this._focusMonitor.stopMonitoring(Oe)}show(Oe=this.showDelay,ct){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const vt=this._createOverlay(ct);this._detach(),this._portal=this._portal||new F.C5(this._tooltipComponent,this._viewContainerRef);const je=this._tooltipInstance=vt.attach(this._portal).instance;je._triggerElement=this._elementRef.nativeElement,je._mouseLeaveHideDelay=this._hideDelay,je.afterHidden().pipe((0,he.R)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),je.show(Oe)}hide(Oe=this.hideDelay){const ct=this._tooltipInstance;ct&&(ct.isVisible()?ct.hide(Oe):(ct._cancelPendingAnimations(),this._detach()))}toggle(Oe){this._isTooltipVisible()?this.hide():this.show(void 0,Oe)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(Oe){if(this._overlayRef){const je=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!Oe)&&je._origin instanceof s.SBq)return this._overlayRef;this._detach()}const ct=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),vt=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&Oe||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(ct);return vt.positionChanges.pipe((0,he.R)(this._destroyed)).subscribe(je=>{this._updateCurrentPositionClass(je.connectionPair),this._tooltipInstance&&je.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:vt,panelClass:`${this._cssClassPrefix}-${Se}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,he.R)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,he.R)(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe((0,he.R)(this._destroyed)).subscribe(je=>{this._isTooltipVisible()&&je.keyCode===x.hY&&!(0,x.Vb)(je)&&(je.preventDefault(),je.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(Oe){const ct=Oe.getConfig().positionStrategy,vt=this._getOrigin(),je=this._getOverlayPosition();ct.withPositions([this._addOffset({...vt.main,...je.main}),this._addOffset({...vt.fallback,...je.fallback})])}_addOffset(Oe){return Oe}_getOrigin(){const Oe=!this._dir||"ltr"==this._dir.value,ct=this.position;let vt;"above"==ct||"below"==ct?vt={originX:"center",originY:"above"==ct?"top":"bottom"}:"before"==ct||"left"==ct&&Oe||"right"==ct&&!Oe?vt={originX:"start",originY:"center"}:("after"==ct||"right"==ct&&Oe||"left"==ct&&!Oe)&&(vt={originX:"end",originY:"center"});const{x:je,y:fr}=this._invertPosition(vt.originX,vt.originY);return{main:vt,fallback:{originX:je,originY:fr}}}_getOverlayPosition(){const Oe=!this._dir||"ltr"==this._dir.value,ct=this.position;let vt;"above"==ct?vt={overlayX:"center",overlayY:"bottom"}:"below"==ct?vt={overlayX:"center",overlayY:"top"}:"before"==ct||"left"==ct&&Oe||"right"==ct&&!Oe?vt={overlayX:"end",overlayY:"center"}:("after"==ct||"right"==ct&&Oe||"left"==ct&&!Oe)&&(vt={overlayX:"start",overlayY:"center"});const{x:je,y:fr}=this._invertPosition(vt.overlayX,vt.overlayY);return{main:vt,fallback:{overlayX:je,overlayY:fr}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,vn.q)(1),(0,he.R)(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(Oe){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=Oe,this._tooltipInstance._markForCheck())}_invertPosition(Oe,ct){return"above"===this.position||"below"===this.position?"top"===ct?ct="bottom":"bottom"===ct&&(ct="top"):"end"===Oe?Oe="start":"start"===Oe&&(Oe="end"),{x:Oe,y:ct}}_updateCurrentPositionClass(Oe){const{overlayY:ct,originX:vt,originY:je}=Oe;let fr;if(fr="center"===ct?this._dir&&"rtl"===this._dir.value?"end"===vt?"left":"right":"start"===vt?"left":"right":"bottom"===ct&&"top"===je?"above":"below",fr!==this._currentPosition){const dr=this._overlayRef;if(dr){const Fr=`${this._cssClassPrefix}-${Se}-`;dr.removePanelClass(Fr+this._currentPosition),dr.addPanelClass(Fr+fr)}this._currentPosition=fr}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",Oe=>{let ct;this._setupPointerExitEventsIfNeeded(),void 0!==Oe.x&&void 0!==Oe.y&&(ct=Oe),this.show(void 0,ct)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",Oe=>{const ct=Oe.targetTouches?.[0],vt=ct?{x:ct.clientX,y:ct.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,vt),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const Oe=[];if(this._platformSupportsMouseEvents())Oe.push(["mouseleave",ct=>{const vt=ct.relatedTarget;(!vt||!this._overlayRef?.overlayElement.contains(vt))&&this.hide()}],["wheel",ct=>this._wheelListener(ct)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const ct=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};Oe.push(["touchend",ct],["touchcancel",ct])}this._addListeners(Oe),this._passiveListeners.push(...Oe)}_addListeners(Oe){Oe.forEach(([ct,vt])=>{this._elementRef.nativeElement.addEventListener(ct,vt,Ee)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(Oe){if(this._isTooltipVisible()){const ct=this._document.elementFromPoint(Oe.clientX,Oe.clientY),vt=this._elementRef.nativeElement;ct!==vt&&!vt.contains(ct)&&this.hide()}}_disableNativeGesturesIfNecessary(){const Oe=this.touchGestures;if("off"!==Oe){const ct=this._elementRef.nativeElement,vt=ct.style;("on"===Oe||"INPUT"!==ct.nodeName&&"TEXTAREA"!==ct.nodeName)&&(vt.userSelect=vt.msUserSelect=vt.webkitUserSelect=vt.MozUserSelect="none"),("on"===Oe||!ct.draggable)&&(vt.webkitUserDrag="none"),vt.touchAction="none",vt.webkitTapHighlightColor="transparent"}}}return At.\u0275fac=function(Oe){s.$Z()},At.\u0275dir=s.lG2({type:At,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),At})(),dt=(()=>{class At extends tt{constructor(Oe,ct,vt,je,fr,dr,Fr,Nt,kt,ze,_t,fe){super(Oe,ct,vt,je,fr,dr,Fr,Nt,kt,ze,_t,fe),this._tooltipComponent=xt,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(Oe){const vt=!this._dir||"ltr"==this._dir.value;return"top"===Oe.originY?Oe.offsetY=-8:"bottom"===Oe.originY?Oe.offsetY=8:"start"===Oe.originX?Oe.offsetX=vt?-8:8:"end"===Oe.originX&&(Oe.offsetX=vt?8:-8),Oe}}return At.\u0275fac=function(Oe){return new(Oe||At)(s.Y36(g.aV),s.Y36(s.SBq),s.Y36(C.mF),s.Y36(s.s_b),s.Y36(s.R0b),s.Y36(w.t4),s.Y36(i.$s),s.Y36(i.tE),s.Y36(M),s.Y36(v.Is,8),s.Y36(Fe,8),s.Y36(d.K0))},At.\u0275dir=s.lG2({type:At,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],exportAs:["matTooltip"],features:[s.qOj]}),At})(),Je=(()=>{class At{constructor(Oe,ct){this._changeDetectorRef=Oe,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new P.x,this._animationsDisabled="NoopAnimations"===ct}show(Oe){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},Oe)}hide(Oe){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},Oe)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:Oe}){(!Oe||!this._triggerElement.contains(Oe))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:Oe}){(Oe===this._showAnimation||Oe===this._hideAnimation)&&this._finalizeAnimation(Oe===this._showAnimation)}_cancelPendingAnimations(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(Oe){Oe?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(Oe){const ct=this._tooltip.nativeElement,vt=this._showAnimation,je=this._hideAnimation;if(ct.classList.remove(Oe?je:vt),ct.classList.add(Oe?vt:je),this._isVisible=Oe,Oe&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const fr=getComputedStyle(ct);("0s"===fr.getPropertyValue("animation-duration")||"none"===fr.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}Oe&&this._onShow(),this._animationsDisabled&&(ct.classList.add("_mat-animation-noopable"),this._finalizeAnimation(Oe))}}return At.\u0275fac=function(Oe){return new(Oe||At)(s.Y36(s.sBO),s.Y36(s.QbO,8))},At.\u0275dir=s.lG2({type:At}),At})(),xt=(()=>{class At extends Je{constructor(Oe,ct,vt){super(Oe,vt),this._elementRef=ct,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const Oe=this._elementRef.nativeElement.getBoundingClientRect();return Oe.height>24&&Oe.width>=200}}return At.\u0275fac=function(Oe){return new(Oe||At)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.QbO,8))},At.\u0275cmp=s.Xpm({type:At,selectors:[["mat-tooltip-component"]],viewQuery:function(Oe,ct){if(1&Oe&&s.Gf(I,7),2&Oe){let vt;s.iGM(vt=s.CRH())&&(ct._tooltip=vt.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(Oe,ct){1&Oe&&s.NdJ("mouseleave",function(je){return ct._handleMouseLeave(je)}),2&Oe&&s.Udp("zoom",ct.isVisible()?1:null)},features:[s.qOj],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(Oe,ct){1&Oe&&(s.TgZ(0,"div",0,1),s.NdJ("animationend",function(je){return ct._handleAnimationEnd(je)}),s.TgZ(2,"div",2),s._uU(3),s.qZA()()),2&Oe&&(s.ekj("mdc-tooltip--multiline",ct._isMultiline),s.Q6J("ngClass",ct.tooltipClass),s.xp6(3),s.Oqu(ct.message))},dependencies:[d.mk],styles:['.mdc-tooltip__surface{word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color, #fff)}.mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape, var(--mdc-shape-small, 4px))}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape, var(--mdc-shape-small, 4px))}.mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color, #000)}.mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font, inherit);font-size:var(--mdc-plain-tooltip-supporting-text-size, inherit);font-weight:var(--mdc-plain-tooltip-supporting-text-weight, inherit);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, inherit)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:-8px;right:-8px;bottom:-8px;left:-8px;z-index:-1;position:absolute}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0}),At})(),jt=(()=>{class At{}return At.\u0275fac=function(Oe){return new(Oe||At)},At.\u0275mod=s.oAB({type:At}),At.\u0275inj=s.cJS({providers:[pe],imports:[i.rt,d.ez,g.U8,S.BQ,S.BQ,C.ZD]}),At})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */,1670:(CA,Zi,nr)=>{"use strict";function he(m,x,s,d,w,i,v){try{var g=m[i](v),C=g.value}catch(F){return void s(F)}g.done?x(C):Promise.resolve(C).then(d,w)}function vn(m){return function(){var x=this,s=arguments;return new Promise(function(d,w){var i=m.apply(x,s);function v(C){he(i,d,w,v,g,"next",C)}function g(C){he(i,d,w,v,g,"throw",C)}v(void 0)})}}nr.d(Zi,{Z:()=>vn})}}]);
//# sourceMappingURL=default-src_app_services_tomtom-service_tomtom_service_ts-src_app_utils_validators_ts-node_mo-3337a8.4c5e24abb0df8974.js.map