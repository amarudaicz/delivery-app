{"version":3,"file":"common.b1ef63db72e44638.js","mappings":"+JAEO,MAAMA,KAAYC,MAAQ,aAAc,IAC7CC,MAAW,SAAU,IACnBC,MAAM,CAAEC,UAAW,sBAAoB,EACvCC,MAAQ,cAAYF,MAAM,CAAEC,UAAW,sBACxC,EACDF,MAAW,SAAU,IACnBC,MAAM,CAAEC,UAAW,mBAAiB,EACpCC,MAAQ,cAAYF,MAAM,CAAEC,UAAW,0BAI9BE,KAAWL,MAAQ,aAAc,IAC5CC,MAAW,SAAU,IACnBC,MAAM,CAAEC,UAAW,uBAAqB,EACxCC,MAAQ,kBAAgBF,MAAM,CAAEC,UAAW,sBAC5C,EACDF,MAAW,SAAU,IACnBC,MAAM,CAAEC,UAAW,mBAAiB,EACpCC,MAAQ,kBAAgBF,MAAM,CAAEC,UAAW,4BAKlCG,EAAcN,MAAQ,cAAe,IAChDO,MAAM,UAAQL,MAAM,CACdM,QAAS,WACT,EACFP,MAAW,SAAU,IACnBC,MAAM,CACJC,UAAW,uBACZ,EACDC,MAAQ,oBACT,EACDH,MAAW,SAAU,IACnBG,MAAQ,kBAAgBF,MAAM,CAC5BC,UAAW,mFCZf,MAAOM,EAJbC,cAMIC,YAAoB,CAChBC,QAAQ,EACRC,WAAY,WACZC,SAAU,SACVC,YAAa,OACbC,MAAO,oBACPC,MAAO,IAGXN,WAAqB,CACjBO,2BAA2B,EAC3BC,mBAAmB,EACnBC,uBAAuB,EACvBC,sBAAsB,EACtBC,wBAAwB,EACxBC,iBAAiB,GAGbZ,kBAAe,IAAIa,IAEnBb,iBAAc,IAAIa,IAE1Bb,mBAAgBA,KAAKc,aAAaC,eAElCf,kBAAeA,KAAKgB,YAAYD,eAEhCE,eACQjB,KAAKkB,cACLlB,KAAKJ,MAAMY,mBAAqBR,KAAKJ,MAAMY,kBACvCR,KAAKJ,MAAMY,mBACXR,KAAKgB,YAAYG,KAAK,OAI1BnB,KAAKoB,YACLpB,KAAKJ,MAAMW,2BAA6BP,KAAKJ,MAAMW,2BAGnDP,KAAKJ,MAAMe,wBAA0BX,KAAKJ,MAAMe,uBAC5CX,KAAKJ,MAAMe,wBACXX,KAAKgB,YAAYG,KAAK,MAGlC,CAEAE,qBACIrB,KAAKJ,MAAMa,uBAAyBT,KAAKJ,MAAMa,sBAC3CT,KAAKJ,MAAMa,uBACXT,KAAKgB,YAAYG,KAAK,KAE9B,CAEAG,oBACItB,KAAKJ,MAAMc,sBAAuB,CACtC,CAEAQ,YACI,MAAgC,YAAzBlB,KAAKuB,OAAOpB,QACvB,CAEAiB,YACI,OAAOI,OAAOC,WAAa,GAC/B,CAEAC,WACI,OAAQ1B,KAAKoB,WACjB,CAEAO,iBACI3B,KAAKc,aAAaK,KAAKnB,KAAKuB,OAChC,EAxESzB,EAAa,oCAAbA,EAAa,EAAbA,EAAa,wBAAbA,EAAa8B,QAAb9B,EAAa,qBAHV,4ECbV,MAAO+B,EAMX9B,YACU+B,oBAHV9B,wBAAqB,IAAI+B,IAA2B,IAMlD/B,KAAK8B,UAAUE,gBAAgBC,UAAUC,IACvCC,QAAQC,IAAIF,GACRA,EAAKG,QACPrC,KAAKsC,YAAYJ,EAAM,GAAGK,GAAE,EAMlC,CAIAD,YAAYC,GACVvC,KAAKwC,YAAcD,EACnBvC,KAAK8B,UAAUW,cAAcR,UAAUS,IACrC,MAAMR,EAAOQ,EAASC,OAAOC,GAAIA,EAAEJ,cAAgBD,GACnDvC,KAAK6C,mBAAmB1B,KAAKe,EAAI,EAGrC,EA9BWL,EAAsB,oCAAtBA,GAAsBiB,aAAtBjB,EAAsB,wBAAtBA,EAAsBD,QAAtBC,EAAsB,qBAFrB,kECaR,MAAOkB,EACXhD,YAAoBiD,uBAOpBhD,cAAmB,GANfA,KAAKgD,aAAaC,OAAOhB,UAAUiB,IACjClD,KAAKkD,MAAQA,GAGnB,CAMAC,WAAWC,EAAaC,EAAeC,GACrC,MAAMC,EAAaH,EAAKI,IAAKC,GAAMA,EAAEC,eAGbH,EAAWZ,OAAO,CAACgB,EAAUC,IAC5CL,EAAWM,QAAQF,KAAcC,GAI1BE,QAASC,IACKX,EAAKT,OAAQc,GAAMA,EAAEC,gBAAkBK,GAIvDD,QAAQ,CAACL,EAASO,KACpChE,KAAK0C,UAAY,GAAa,IAAVsB,EAAcP,EAAEC,cAAcO,cAAc,gBAE7D,MAAMR,EAAES,YAAYT,EAAEU,QAAQC,KAAKC,aAAa,QAAS,CAAC9E,MAAM,WAAY+E,SAAS,QAAQC,OAAOd,EAAEe,WACvGxE,KAAKyE,gBAAgBhB,EAAEiB,aAAaC,aACd,KAAtBlB,EAAEmB,gBAAyB,qBAAqBnB,EAAEmB,kBAAoB,MAAK,GAG7E,MAAMC,EAAe,2DAGT7E,KAAK8E,4BACLzB,EAASc,4BAEFd,EAAS0B,wBAChBzB,QAA2C,aAA5BD,EAAS2B,eAA8B,UAAU,OAC9C,aAA5B3B,EAAS2B,gBAAiC3B,EAAS4B,eAAiB,eAAejF,KAAKkF,aAAa7B,EAAS4B,kBAAoB,oBAEvH5B,EAAS2B,mBACQ,aAA5B3B,EAAS2B,eACX,mBAAgB3B,EAAS8B,YAAa,6BAIpCnF,KAAK0C,6DAIPP,QAAQC,IAAIyC,GACZ,MAAMO,EAAcC,mBAAmBR,GAAMS,QAAQ,OAAQ,UAE7D,YAAKC,eACEH,CACP,CAGAI,eAAepC,EAAYC,EAAeC,GACxCnB,QAAQC,IAAIiB,GACZ,MAAMoC,EAAuB,GAEvBC,EAAerC,EAASsC,UAE9B,IAAIC,EAAU,uDAEdA,GAAW,aAAa5F,KAAK8E,iBAC7Bc,GAAW,aAAavC,EAASc,WAEjCyB,GAAW,kCACXvC,EAAS0B,YAAYa,GAAW,oBAAoBvC,EAAS0B,eAC7Da,GAAW,YAAY5F,KAAKkF,aAAa5B,OACzCD,EAAS4B,iBAAiBW,GAAW,eAAe5F,KAAKkF,aAAa7B,EAAS4B,sBAC/EW,GAAkC,kBAAvBvC,EAAS0B,UAA+B,gCAAgC/E,KAAKkD,OAAO2C,YAAYC,SAASC,wBAAwB/F,KAAKkD,OAAO2C,YAAYC,SAASE,kBAAkBhG,KAAKkD,OAAO2C,YAAYC,SAASG,aAAajG,KAAKkD,OAAO2C,YAAYC,SAASI,cAAgB,GAC9RN,GAAW,oCAGXvC,EAAS2B,iBAAiBY,GAAW,cAAcvC,EAAS2B,oBAE5B,sBAA5B3B,EAAS2B,iBACTY,GAAW,mBAAgB5F,KAAKmG,oBAAoB9C,EAAUqC,EAAaU,aAC3E/C,EAASgD,YAAaT,GAAW,iBAAiBvC,EAASgD,eAC3DT,GAAW,kDAAkDF,EAAaY,SAASC,OAAOb,EAAaY,SAASE,WAGpHZ,GAAW,sBAEXxC,EAAKU,QAAQ,CAAC2C,EAASC,KAChBjB,EAAekB,SAASF,EAAQ/C,iBACnCkC,GAAW,IAAIa,EAAQ/C,cAAcO,mBACrC2B,GAAW,sBACXH,EAAemB,KAAKH,EAAQ/C,gBAG9BkC,GAAW,IAAIa,EAAQvC,aAAauC,EAAQtC,KAAKF,gBAAgBjE,KAAK6G,eAAeJ,GAAW,KAAKzG,KAAK6G,eAAeJ,IAAUK,YAAY7C,iBAAmB,QAAQjE,KAAKkF,aAAauB,EAAQjC,WAKpMoB,GAJKa,EAAQ/B,YAAYrC,OAId,GAAGrC,KAAKyE,gBAAgBgC,EAAQ/B,mBAH9B,IAGyC,GAGxDkB,GAAW,aAAa5F,KAAKkF,aAAa5B,KAAwC,aAA5BD,EAAS2B,eAAgC,KAAO,QACtGY,GAAYvC,EAAS0D,cAA4C,sBAA5B1D,EAAS2B,eAAmG,KAA1D,2DAEvFY,GAAW,iDAEX,MAAMR,EAAcC,mBAAmBO,GAASN,QAAQ,OAAQ,UAEhEnD,eAAQC,IAAIwD,GACLR,CACT,CAGAX,gBAAgBC,GACd,IAAIG,EAAW,GAEfH,SAAYZ,QAAQL,IAClB,GAAkB,IAAdA,EAAEuD,UACJ,OAGF,IAAKvD,EAAEwD,SAEL,YADApC,GAAQ,IAAIpB,EAAEyD,kBAAkBzD,EAAEqD,gBAKpC,IAAIK,EAAY,GAEhB1D,EAAE2D,iBAAiBtD,QAAQL,IACzB0D,GAAa,SAAS1D,EAAEqD,cAAc9G,KAAKkF,aAAazB,EAAE4D,QAAK,GAGjExC,GAAQ,IAAIpB,EAAEyD,iBAAiBC,MAK1BtC,EAAKyC,mBACd,CAEAT,eAAeJ,GACb,OAAOA,EAAQ/B,YAAY6C,KAAKC,GAAqB,IAAhBA,EAAER,YAAoB,IAC7D,CAEAlC,aACI,IAAI2C,EAAS,GACb,MAAMC,EACJ,uCAEF,QAAShB,EAAI,EAAGA,EAAIiB,EAAUjB,IAC5Be,GAAUC,EAAWE,OACnBC,KAAKC,MAAMD,KAAKE,SAASL,EAAWrF,SAG1C,OAAOoF,CACT,CAGAO,WAAW5C,EAAoB6C,GAE7BzG,OAAO0G,KAAK,wCAAwCD,UAAc7C,IAEpE,CAEAG,eACEvF,KAAK0C,SAAW,EAClB,CAGAyD,oBAAoB9C,EAAasC,GAE/B,MAAO,GAAGA,EAAUwC,cAAcxC,EAAUyC,aAAezC,EAAUyC,aAAe/E,EAAS+E,iBAAiBzC,EAAU0C,UAAY1C,EAAU0C,UAAY1C,EAAU2C,gCAAiC3C,EAAU4C,mBAAqB5C,EAAU4C,mBAAqB5C,EAAU6C,SAC/Q,CAGAtD,aAAauD,GACX,OAAOrE,KAAKC,aAAa,QAAS,CAAC9E,MAAM,WAAY+E,SAAS,MAAOoE,sBAAuB,IAAInE,OAAOkE,EACzG,CAIAE,iBACEnH,OAAO0G,KAAK,yGACd,EA7LanF,EAAS,oCAATA,GAAS6F,aAAT7F,EAAS,wBAATA,EAASnB,QAATmB,EAAS,qBAFR","names":["enterRight","trigger","transition","style","transform","animate","enterLeft","enterDownUp","state","display","LayoutService","constructor","this","ripple","inputStyle","menuMode","colorScheme","theme","scale","staticMenuDesktopInactive","overlayMenuActive","profileSidebarVisible","configSidebarVisible","staticMenuMobileActive","menuHoverActive","Subject","configUpdate","asObservable","overlayOpen","onMenuToggle","isOverlay","next","isDesktop","showProfileSidebar","showConfigSidebar","config","window","innerWidth","isMobile","onConfigUpdate","factory","PreviewCategoryService","localData","BehaviorSubject","getCategories","subscribe","data","console","log","length","setCategory","id","category_id","getProducts","products","filter","p","productsByCategory","_angular_core__WEBPACK_IMPORTED_MODULE_2__","WpService","localService","local$","local","encodeText","cart","userData","subtotal","categories","map","e","category_name","elemento","indice","indexOf","forEach","cat","index","toUpperCase","quantity","name","Intl","NumberFormat","currency","format","total","readUserOptions","userOptions","trim","especifications","text","genIdOrder","payMethod","shippingMethod","amountReceived","formatNumber","direction","encodedText","encodeURIComponent","replace","clearMessage","generarMensaje","categoriesRead","locationUser","ubication","mensaje","pay_methods","transfer","nameAccount","cbu","alias","entity","formatUbicationName","address","reference","position","lat","lng","product","i","includes","push","getOptionType1","nameOption","costShipping","typePrice","multiple","nameVariation","multiples","multipleOptions","price","toLocaleUpperCase","find","o","codigo","caracteres","longitud","charAt","Math","floor","random","redirectWp","phone","open","streetName","streetNumber","localName","countrySecondarySubdivision","countrySubdivision","country","n","minimumFractionDigits","contactSoporte","_angular_core__WEBPACK_IMPORTED_MODULE_1__"],"sourceRoot":"webpack:///","sources":["./src/app/animations/main-animations.ts","./src/app/layout/service/app.layout.service.ts","./src/app/services/preview-category/preview-category.service.ts","./src/app/services/wpService/wp.service.ts"],"sourcesContent":["import { trigger, transition, style, query, animateChild, group, animate, state } from \"@angular/animations\";\r\n\r\nexport const enterRight= trigger('enterRight', [\r\n  transition(':enter', [\r\n    style({ transform: 'translateX(100%)' }),\r\n    animate('.2s ease', style({ transform: 'translateX(0)' }))\r\n  ]),\r\n  transition(':leave', [\r\n    style({ transform: 'translateX(0)' }),\r\n    animate('.2s ease', style({ transform: 'translateX(100%)'}))\r\n  ])\r\n]);\r\n\r\nexport const enterLeft= trigger('enterRight', [\r\n  transition(':enter', [\r\n    style({ transform: 'translateX(-150%)' }),\r\n    animate('.3s ease-out', style({ transform: 'translateX(0)' }))\r\n  ]),\r\n  transition(':leave', [\r\n    style({ transform: 'translateX(0)' }),\r\n    animate('.3s ease-out', style({ transform: 'translateX(-150%)'}))\r\n  ])\r\n]);\r\n\r\n\r\nexport const enterDownUp = trigger('slideUpDown', [\r\n  state('void', style({\r\n        display: 'none'\r\n      })),\r\n      transition(':enter', [\r\n        style({\r\n          transform: 'translateY(-100%)'\r\n        }),\r\n        animate('0.5s ease-out')\r\n      ]),\r\n      transition(':leave', [\r\n        animate('0.5s ease-in', style({\r\n          transform: 'translateY(-100%)'\r\n        }))\r\n      ])\r\n])\r\n","import { Injectable } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\n\r\nexport interface AppConfig {\r\n    inputStyle: string;\r\n    colorScheme: string;\r\n    theme: string;\r\n    ripple: boolean;\r\n    menuMode: string;\r\n    scale: number;\r\n}\r\n\r\ninterface LayoutState {\r\n    staticMenuDesktopInactive: boolean;\r\n    overlayMenuActive: boolean;\r\n    profileSidebarVisible: boolean;\r\n    configSidebarVisible: boolean;\r\n    staticMenuMobileActive: boolean;\r\n    menuHoverActive: boolean;\r\n}\r\n\r\n@Injectable({\r\n    providedIn: 'root',\r\n})\r\n\r\nexport class LayoutService {\r\n\r\n    config: AppConfig = {\r\n        ripple: true,\r\n        inputStyle: 'outlined',\r\n        menuMode: 'static',\r\n        colorScheme: 'dark',\r\n        theme: 'lara-light-indigo',\r\n        scale: 12,\r\n    };\r\n\r\n    state: LayoutState = {\r\n        staticMenuDesktopInactive: false,\r\n        overlayMenuActive: false,\r\n        profileSidebarVisible: false,\r\n        configSidebarVisible: false,\r\n        staticMenuMobileActive: false,\r\n        menuHoverActive: true\r\n    };\r\n\r\n    private configUpdate = new Subject<AppConfig>();\r\n\r\n    private overlayOpen = new Subject<any>();\r\n\r\n    configUpdate$ = this.configUpdate.asObservable();\r\n\r\n    overlayOpen$ = this.overlayOpen.asObservable();\r\n\r\n    onMenuToggle() {\r\n        if (this.isOverlay()) {\r\n            this.state.overlayMenuActive = !this.state.overlayMenuActive;\r\n            if (this.state.overlayMenuActive) {\r\n                this.overlayOpen.next(null);\r\n            }\r\n        }\r\n\r\n        if (this.isDesktop()) {\r\n            this.state.staticMenuDesktopInactive = !this.state.staticMenuDesktopInactive;\r\n        }\r\n        else {\r\n            this.state.staticMenuMobileActive = !this.state.staticMenuMobileActive;\r\n            if (this.state.staticMenuMobileActive) {\r\n                this.overlayOpen.next(null);\r\n            }\r\n        }\r\n    }\r\n\r\n    showProfileSidebar() {\r\n        this.state.profileSidebarVisible = !this.state.profileSidebarVisible;\r\n        if (this.state.profileSidebarVisible) {\r\n            this.overlayOpen.next(null);\r\n        }\r\n    }\r\n\r\n    showConfigSidebar() {\r\n        this.state.configSidebarVisible = true;\r\n    }\r\n\r\n    isOverlay() {\r\n        return this.config.menuMode === 'overlay';\r\n    }\r\n\r\n    isDesktop() {\r\n        return window.innerWidth > 991;\r\n    }\r\n\r\n    isMobile() {\r\n        return !this.isDesktop();\r\n    }\r\n\r\n    onConfigUpdate() {\r\n        this.configUpdate.next(this.config);\r\n    }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { Category } from 'src/app/interfaces/category-interfaz';\r\nimport { Product } from 'src/app/interfaces/product-interface';\r\nimport { LocalDataService } from '../localData/local-data.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class PreviewCategoryService {\r\n\r\n\r\n  category_id?:number\r\n  productsByCategory = new BehaviorSubject<Product[]>([])\r\n\r\n  constructor(\r\n    private localData:LocalDataService\r\n    )\r\n  {\r\n    this.localData.getCategories().subscribe(data=>{\r\n      console.log(data);\r\n      if (data.length) {\r\n        this.setCategory(data![0].id)\r\n      }\r\n\r\n    })\r\n\r\n\r\n  }\r\n\r\n\r\n\r\n  setCategory(id:number){\r\n    this.category_id = id\r\n    this.localData.getProducts().subscribe(products=>{\r\n      const data = products.filter(p=> p.category_id === id)\r\n      this.productsByCategory.next(data)\r\n    })\r\n      \r\n  }\r\n\r\n\r\n  \r\n\r\n\r\n\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { FuzzySearchResponse, FuzzySearchResult } from '@tomtom-international/web-sdk-services';\r\nimport { OptionProduct } from 'src/app/interfaces/optionProduct-interface';\r\nimport { ProductCart } from 'src/app/interfaces/product-interface';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport { LocalDataService } from '../localData/local-data.service';\r\nimport { Local } from 'src/app/interfaces/local-interface';\r\ninterface Item {\r\n  name: string;\r\n  productPrice: number;\r\n  especifications: string;\r\n  options: string;\r\n  category_name: string;\r\n  quantity: number;\r\n  total:number;\r\n  userOptions:Array<any>\r\n}\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class WpService {\r\n  constructor(private localService:LocalDataService) {\r\n      this.localService.local$.subscribe(local=>{\r\n        this.local = local\r\n      })\r\n\r\n  }\r\n  local?:Local\r\n  products: string = '';\r\n\r\n\r\n  \r\n  encodeText(cart: any[], userData: any, subtotal: number) {\r\n    const categories = cart.map((e) => e.category_name);\r\n\r\n    \r\n    const cleanCategories = categories.filter((elemento, indice) => {\r\n      return categories.indexOf(elemento) === indice;\r\n    });\r\n\r\n\r\n    cleanCategories.forEach((cat) => {\r\n    const categoryItems: Item[] = cart.filter((e) => e.category_name === cat);\r\n\r\n\r\n\r\n    categoryItems.forEach((e: Item, index: number) => {\r\nthis.products += `${index === 0 ? e.category_name.toUpperCase()+`\r\n---------\r\n`: ''}X${e.quantity} ${e.name} ${Intl.NumberFormat('es-AR', {style:'currency', currency:'ARS'}).format(e.total)}\r\n${this.readUserOptions(e.userOptions).trim()}\\n\r\n${e.especifications !== '' ? `Especificaciones: ${e.especifications}` : ''}`}); \r\n});\r\n\r\nconst text: string = `\r\n*Hola, te envio el resumen de mi compra*\r\n\r\n*Pedido*: ${this.genIdOrder()} \r\n*Nombre*: ${userData.name}\r\n\r\n*Forma de pago*: ${userData.payMethod}\r\n*Total*: $${subtotal}.00 ${userData.shippingMethod === 'Delivery'?'+ ENVIO':''}\r\n${userData.shippingMethod === 'Delivery' && userData.amountReceived ? `*Pago con*: ${this.formatNumber(userData.amountReceived)}` : ''}\r\n\r\n*Entrega*: ${userData.shippingMethod}\r\n${userData.shippingMethod === 'Delivery' ? \r\n`*Dirección*: ${userData.direction}`: ' '}\r\n\r\n*Mi compra es*:\r\n\r\n${this.products}\r\n\r\n*Espero tu respuesta para confirmar mi pedido*`;\r\n\r\nconsole.log(text);\r\nconst encodedText = encodeURIComponent(text).replace(/%0A/g, '%0A%20');\r\n\r\nthis.clearMessage()\r\nreturn encodedText\r\n}\r\n\r\n// {name:string, payMethod:string}\r\ngenerarMensaje(cart:any[], userData:any , subtotal: number) {\r\n  console.log(userData);\r\n  const categoriesRead:any[] = []\r\n\r\n  const locationUser = userData.ubication\r\n  \r\n  let mensaje = `*¡Hola!, te envío el resumen de mi compra*\\n\\n`;\r\n\r\n  mensaje += `*Pedido*: ${this.genIdOrder()}\\n`\r\n  mensaje += `*Nombre*: ${userData.name}\\n\\n`;\r\n\r\n  mensaje += `*---------------------------*\\n`;\r\n  userData.payMethod ? mensaje += `*Forma de pago*: ${userData.payMethod}\\n` : null;\r\n  mensaje += `*Total*: ${this.formatNumber(subtotal)}\\n`;\r\n  userData.amountReceived ? mensaje += `*Pago con*: ${this.formatNumber(userData.amountReceived)} \\n` : '';\r\n  mensaje += userData.payMethod === 'Transferencia' ?`*Datos de transferencia*:\\n _${this.local?.pay_methods.transfer.nameAccount}_\\n _CBU: ${this.local?.pay_methods.transfer.cbu}_\\n _Alias: ${this.local?.pay_methods.transfer.alias}_\\n _${this.local?.pay_methods.transfer.entity}_\\n\\n` : ''\r\n  mensaje += `*---------------------------*\\n\\n`;\r\n\r\n\r\n  userData.shippingMethod ? mensaje += `*Entrega*: ${userData.shippingMethod}\\n` : null;\r\n\r\n  if (userData.shippingMethod === 'Envio a domicilio'){\r\n      mensaje += `*Dirección*: ${this.formatUbicationName(userData, locationUser.address)}\\n` \r\n      userData.reference ?  mensaje += `*Referencia*: ${userData.reference}\\n` : null \r\n      mensaje += `*Ubicacion:* https://www.google.com/maps/place/${locationUser.position.lat},${locationUser.position.lng}\\n\\n`\r\n  }\r\n  \r\n  mensaje += `_Mi compra es_:\\n\\n`; \r\n\r\n  cart.forEach((product, i) => {\r\n    if (!categoriesRead.includes(product.category_name)) {\r\n      mensaje += `*${product.category_name.toUpperCase()}*\\n`;\r\n      mensaje += `*---------------*\\n`;\r\n      categoriesRead.push(product.category_name)\r\n    }\r\n\r\n    mensaje += `x${product.quantity} *${product.name.toUpperCase()}${this.getOptionType1(product) ? ` (${this.getOptionType1(product)?.nameOption?.toUpperCase()})` : ''}:* ${this.formatNumber(product.total)}\\n`;\r\n    if (!product.userOptions.length) {\r\n      mensaje += `\\n`;\r\n      return\r\n    }\r\n    mensaje += `${this.readUserOptions(product.userOptions)}\\n\\n`\r\n  });\r\n\r\n  mensaje += `\\n*TOTAL: ${this.formatNumber(subtotal)}${userData.shippingMethod === 'Delivery' ? ' *' : ''}*\\n`\r\n  mensaje += !userData.costShipping && userData.shippingMethod === 'Envio a domicilio' ? `_Costo de envío a definir de acuerdo a distancia_\\n\\n` : '\\n'\r\n\r\n  mensaje += `_Espero tu respuesta para confirmar mi pedido_`;\r\n\r\n  const encodedText = encodeURIComponent(mensaje).replace(/%0A/g, '%0A%20');\r\n  \r\n  console.log(mensaje);\r\n  return encodedText\r\n}\r\n\r\n\r\nreadUserOptions(userOptions:OptionProduct[]){\r\n  let text:any = ''\r\n  \r\n  userOptions.forEach(e =>{\r\n    if (e.typePrice===1) {\r\n      return\r\n    }\r\n\r\n    if (!e.multiple){\r\n      text += ` ${e.nameVariation}: ${e.nameOption}\\n`\r\n      return\r\n    }\r\n\r\n\r\n    let multiples = ''\r\n    \r\n    e.multipleOptions?.forEach(e => {\r\n      multiples += ` \\n - ${e.nameOption} ${this.formatNumber(e.price)}`\r\n    })\r\n\r\n    text += ` ${e.nameVariation}:${multiples}`\r\n    return\r\n\r\n  })\r\n\r\n  return text.toLocaleUpperCase()\r\n}\r\n\r\ngetOptionType1(product:ProductCart){\r\n  return product.userOptions.find(o => o.typePrice === 1) || null\r\n}\r\n  \r\ngenIdOrder(): string {\r\n    let codigo = '';\r\n    const caracteres =\r\n      'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\r\n    const longitud = 5;\r\n    for (let i = 0; i < longitud; i++) {\r\n      codigo += caracteres.charAt(\r\n        Math.floor(Math.random()*caracteres.length)\r\n      );\r\n    }\r\n  return codigo;\r\n}\r\n\r\n\r\nredirectWp(encodedText:string, phone:number){\r\n\r\n  window.open(`https://api.whatsapp.com/send?phone=+${phone}&text=${encodedText}`)\r\n\r\n}\r\n\r\nclearMessage(){\r\n  this.products = ''\r\n}\r\n\r\n\r\nformatUbicationName(userData:any,ubication:any){\r\n\r\n  return `${ubication.streetName} ${ubication.streetNumber ? ubication.streetNumber : userData.streetNumber}, ${ubication.localName ? ubication.localName : ubication.countrySecondarySubdivision }, ${ubication.countrySubdivision ? ubication.countrySubdivision : ubication.country}`\r\n}\r\n\r\n\r\nformatNumber(n:number){\r\n  return Intl.NumberFormat('es-AR', {style:'currency', currency:'ARS', minimumFractionDigits: 0}).format(n)\r\n}\r\n\r\n\r\n\r\ncontactSoporte(){\r\n  window.open(`https://api.whatsapp.com/send?phone=+${3543655547}&text=Hola, necesito comunicarme con el soporte de Deli`)\r\n}\r\n\r\n}"],"x_google_ignoreList":[]}